/*! For license information please see main.337e11ae.js.LICENSE.txt */
(()=>{var e={184:(e,t,n)=>{"use strict";n.d(t,{CMH:()=>d,Dp8:()=>s,FSj:()=>f,NBi:()=>b,QEs:()=>l,SMR:()=>v,ScZ:()=>o,V6H:()=>y,Vr3:()=>h,YNd:()=>g,YYR:()=>u,ZPX:()=>m,hL4:()=>i,ivP:()=>A,maD:()=>p,t3x:()=>a,vd0:()=>c,wQq:()=>w});var r=n(3441);function s(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 440 512"},child:[{tag:"path",attr:{d:"M344 305.5c-17.5 31.6-57.4 54.5-96 54.5-56.6 0-104-47.4-104-104s47.4-104 104-104c38.6 0 78.5 22.9 96 54.5 13.7-50.9 41.7-93.3 87-117.8C385.7 39.1 320.5 8 248 8 111 8 0 119 0 256s111 248 248 248c72.5 0 137.7-31.1 183-80.7-45.3-24.5-73.3-66.9-87-117.8z"},child:[]}]})(e)}function i(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function o(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"},child:[]}]})(e)}function a(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32v448h448V32H0zm243.8 349.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"},child:[]}]})(e)}function l(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function A(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"},child:[]}]})(e)}function c(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function u(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function d(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function h(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function f(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function p(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function g(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function m(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function y(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function v(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function w(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function b(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>s,Vy:()=>A});const r=[];var s;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={}));const i={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},o=s.INFO,a={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),o=2;o<s;o++)i[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class A{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in s))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...t),this._logHandler(this,s.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...t),this._logHandler(this,s.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.INFO,...t),this._logHandler(this,s.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.WARN,...t),this._logHandler(this,s.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.ERROR,...t),this._logHandler(this,s.ERROR,...t)}}},458:(e,t,n)=>{"use strict";n.d(t,{HF:()=>Xe,xI:()=>In,hg:()=>ot,df:()=>qt,CI:()=>at});var r=n(7150),s=n(1529),i=n(443);function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var a=n(8812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A=l,c=new s.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new i.Vy("@firebase/auth");function d(e){if(u.logLevel<=i.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];u.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function h(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw y(e,...n)}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e,...n)}function p(e,t,n){const r=Object.assign(Object.assign({},A()),{[t]:n});return new s.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return p(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&h(e,"argument-error"),p(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return c.create(e,...n)}function v(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw y(t,...r)}}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function b(e,t){e||w(t)}function x(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===B()||"https:"===B()}function B(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.jZ)()||(0,s.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,s.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function N(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class E{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},S=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F=new k(3e4,6e4);function I(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function T(e,t,n,r){return j(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.Am)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const A=Object.assign({method:t,headers:l},i);return(0,s.c1)()||(A.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,s.zJ)(e.emulatorConfig.host)&&(A.credentials="include"),E.fetch()(await U(e,e.config.apiHost,n,a),A)})}async function j(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},_),t);try{const t=new P(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw O(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw O(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw O(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw O(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw p(e,a,o);h(e,a)}}catch(i){if(i instanceof s.g)throw i;h(e,"network-request-failed",{message:String(i)})}}async function L(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await T(e,t,n,r,s);return"mfaPendingCredential"in i&&h(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function U(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r),i=e,o=i.config.emulator?N(e.config,s):"".concat(e.config.apiScheme,"://").concat(s);if(S.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(o).toString()}return o}function Q(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(f(this.auth,"network-request-failed")),F.get())})}}function O(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=f(e,t,r);return s.customData._tokenResponse=n,s}function D(e){return void 0!==e&&void 0!==e.enterprise}class R{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Q(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M(e,t){return T(e,"GET","/v2/recaptchaConfig",I(e,t))}async function H(e,t){return T(e,"POST","/v1/accounts:lookup",t)}function V(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(e){return 1e3*Number(e)}function q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.u)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(i){return d("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function z(e){const t=q(e);return v(t,"internal-error"),v("undefined"!==typeof t.exp,"internal-error"),v("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function W(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof s.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class J{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function X(e){var t;const n=e.auth,r=await e.getIdToken(),s=await W(e,H(n,{idToken:r}));v(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Y(i.providerUserInfo):[],a=(l=e.providerData,A=o,[...l.filter(e=>!A.some(t=>t.providerId===e.providerId)),...A]);var l,A;const c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&u,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new J(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,h)}function Y(e){return e.map(e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v("undefined"!==typeof e.idToken,"internal-error"),v("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):z(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(0!==e.length,"internal-error");const t=z(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await j(e,{},async()=>{const n=(0,s.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await U(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:n};return e.emulatorConfig&&(0,s.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),E.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Z;return n&&(v("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(v("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(v("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return w("not implemented")}}function $(e,t){v("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ee{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new J(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,s.Ku)(e),r=await n.getIdToken(t),i=q(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:V(K(i.auth_time)),issuedAtTime:V(K(i.iat)),expirationTime:V(K(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,s.Ku)(e);await X(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ee(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await X(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await W(this,async function(e,t){return T(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,o,a,l,A;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,h=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,p=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,m=null!==(A=t.lastLoginAt)&&void 0!==A?A:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:x,stsTokenManager:C}=t;v(y&&C,e,"internal-error");const B=Z.fromJSON(this.name,C);v("string"===typeof y,e,"internal-error"),$(c,e.name),$(u,e.name),v("boolean"===typeof w,e,"internal-error"),v("boolean"===typeof b,e,"internal-error"),$(d,e.name),$(h,e.name),$(f,e.name),$(p,e.name),$(g,e.name),$(m,e.name);const k=new ee({uid:y,auth:e,email:u,emailVerified:w,displayName:c,isAnonymous:b,photoURL:h,phoneNumber:d,tenantId:f,stsTokenManager:B,createdAt:g,lastLoginAt:m});return x&&Array.isArray(x)&&(k.providerData=x.map(e=>Object.assign({},e))),p&&(k._redirectEventId=p),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Z;r.updateFromServerResponse(t);const s=new ee({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await X(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];v(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?Y(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),o=new Z;o.updateFromIdToken(n);const a=new ee({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new J(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(a,l),a}}const te=new Map;function ne(e){b(e instanceof Function,"Expected a class definition");let t=te.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,te.set(e,t),t)}class re{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}re.type="NONE";const se=re;function ie(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class oe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=ie(this.userKey,r.apiKey,s),this.fullPersistenceKey=ie("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await H(this.auth,{idToken:e}).catch(()=>{});return t?ee._fromGetAccountInfoResponse(this.auth,t,e):null}return ee._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new oe(ne(se),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||ne(se);const i=ie(n,e.config.apiKey,e.name);let o=null;for(const A of t)try{const t=await A._get(i);if(t){let n;if("string"===typeof t){const r=await H(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ee._fromGetAccountInfoResponse(e,r,t)}else n=ee._fromJSON(e,t);A!==s&&(o=n),s=A;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&a.length?(s=a[0],o&&await s._set(i,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(l){}})),new oe(s,e,n)):new oe(s,e,n)}}function ae(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(fe(t))return"Webos";if(Ae(t))return"Safari";if((t.includes("chrome/")||ce(t))&&!t.includes("edge/"))return"Chrome";if(de(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/firefox\//i.test(e)}function Ae(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/crios\//i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/iemobile/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/blackberry/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/webos/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return pe(e)||de(e)||fe(e)||he(e)||/windows phone/i.test(e)||ue(e)}function me(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ae((0,s.ZQ)());break;case"Worker":t="".concat(ae((0,s.ZQ)()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(i)}class ye{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(s){r(s)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ve{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsUppercaseLetter)||void 0===s||s),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class we{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xe(this),this.idTokenSubscription=new xe(this),this.beforeStateQueue=new ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ne(t)),this._initializationPromise=this.queue(async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await oe.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await H(this,{idToken:e}),n=await ee._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===s||void 0===s?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==r||!(null===o||void 0===o?void 0:o.user)||(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await X(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,s.Ku)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ne(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return T(e,"GET","/v2/passwordPolicy",I(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ve(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new s.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return T(e,"POST","/v2/accounts:revokeToken",I(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ne(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await oe.create(this,[ne(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(o,this,"internal-error"),o.then(()=>{i||s(this.currentUser)}),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(u.logLevel<=i.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];u.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function be(e){return(0,s.Ku)(e)}class xe{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.tD)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ce={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Be(e){return Ce.loadJS(e)}function ke(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ne{constructor(){this.enterprise=new Ee}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ee{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _e="NO_RECAPTCHA";class Se{constructor(e){this.type="recaptcha-enterprise",this.auth=be(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;D(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(_e)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ne).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{M(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new R(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&D(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ce.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Be(t).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Fe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Se(e);let o;if(s)o=_e;else try{o=await i.verify(n)}catch(l){o=await i.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ie(e,t,n,r,s){var i,o;if("EMAIL_PASSWORD_PROVIDER"===s){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Fe(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await Fe(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}if("PHONE_PROVIDER"===s){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const s=await Fe(e,t,n);return r(e,s).catch(async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(s.code==="auth/".concat("missing-recaptcha-token")||s.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const s=await Fe(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)})}{const s=await Fe(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function Te(e){const t=be(e),n=await M(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new R(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Se(t).verify()}}function je(e,t,n){const r=be(e);v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Le(t),{host:a,port:l}=function(e){const t=Le(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Ue(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ue(t)}}}(t),A=null===l?"":":".concat(l),c={url:"".concat(o,"//").concat(a).concat(A,"/")},u=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return v(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void v((0,s.bD)(c,r.config.emulator)&&(0,s.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,(0,s.zJ)(a)?((0,s.gE)("".concat(o,"//").concat(a).concat(A)),(0,s.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Le(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ue(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Qe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}async function Pe(e,t){return T(e,"POST","/v1/accounts:signUp",t)}async function Oe(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",I(e,t))}class De extends Qe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new De(e,t,"password")}static _fromEmailAndCode(e,t){return new De(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ie(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{email:this._email,oobCode:this._password});default:h(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ie(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:h(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Re(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",I(e,t))}class Me extends Qe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Me(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):h("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=o(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new Me(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return Re(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Re(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Re(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.Am)(t)}return e}}async function He(e,t){return T(e,"POST","/v1/accounts:sendVerificationCode",I(e,t))}const Ve={USER_NOT_FOUND:"user-not-found"};class Ke extends Qe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ke({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ke({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await L(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t));if(n.temporaryProof)throw O(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ve)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new Ke({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class qe{constructor(e){var t,n,r,i,o,a;const l=(0,s.I9)((0,s.hp)(e)),A=null!==(t=l.apiKey)&&void 0!==t?t:null,c=null!==(n=l.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(A&&c&&u,"argument-error"),this.apiKey=A,this.operation=u,this.code=c,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=l.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.I9)((0,s.hp)(e)).link,n=t?(0,s.I9)((0,s.hp)(t)).deep_link_id:null,r=(0,s.I9)((0,s.hp)(e)).deep_link_id;return(r?(0,s.I9)((0,s.hp)(r)).link:null)||r||n||t||e}(e);try{return new qe(t)}catch(n){return null}}}class ze{constructor(){this.providerId=ze.PROVIDER_ID}static credential(e,t){return De._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=qe.parseLink(t);return v(n,"argument-error"),De._fromEmailAndCode(e,n.code,n.tenantId)}}ze.PROVIDER_ID="password",ze.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ze.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class We{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ge extends We{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Je extends Ge{constructor(){super("facebook.com")}static credential(e){return Me._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Je.credential(t.oauthAccessToken)}catch(n){return null}}}Je.FACEBOOK_SIGN_IN_METHOD="facebook.com",Je.PROVIDER_ID="facebook.com";class Xe extends Ge{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Me._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xe.credential(n,r)}catch(s){return null}}}Xe.GOOGLE_SIGN_IN_METHOD="google.com",Xe.PROVIDER_ID="google.com";class Ye extends Ge{constructor(){super("github.com")}static credential(e){return Me._fromParams({providerId:Ye.PROVIDER_ID,signInMethod:Ye.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ye.credentialFromTaggedObject(e)}static credentialFromError(e){return Ye.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ye.credential(t.oauthAccessToken)}catch(n){return null}}}Ye.GITHUB_SIGN_IN_METHOD="github.com",Ye.PROVIDER_ID="github.com";class Ze extends Ge{constructor(){super("twitter.com")}static credential(e,t){return Me._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ze.credential(n,r)}catch(s){return null}}}Ze.TWITTER_SIGN_IN_METHOD="twitter.com",Ze.PROVIDER_ID="twitter.com";class $e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await ee._fromIdTokenResponse(e,n,r),i=et(n);return new $e({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=et(n);return new $e({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function et(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class tt extends s.g{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,tt.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tt(e,t,n,r)}}function nt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw tt._fromErrorAndOperation(e,n,t,r);throw n})}async function rt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $e._forOperation(e,"link",r)}async function st(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:s}=e;if((0,r.xZ)(s.app))return Promise.reject(g(s));const i="reauthenticate";try{const r=await W(e,nt(s,i,t,e),n);v(r.idToken,s,"internal-error");const o=q(r.idToken);v(o,s,"internal-error");const{sub:a}=o;return v(e.uid===a,s,"user-mismatch"),$e._forOperation(e,i,r)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&h(s,"user-mismatch"),o}}async function it(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const s="signIn",i=await nt(e,s,t),o=await $e._fromIdTokenResponse(e,s,i);return n||await e._updateCurrentUser(o.user),o}function ot(e,t,n,r){return(0,s.Ku)(e).onAuthStateChanged(t,n,r)}function at(e){return(0,s.Ku)(e).signOut()}function lt(e,t){return T(e,"POST","/v2/accounts/mfaEnrollment:start",I(e,t))}new WeakMap;const At="__sak";class ct{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(At,"1"),this.storage.removeItem(At),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ut extends ct{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ut.type="LOCAL";const dt=ut;function ht(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(s))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function ft(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class pt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ft(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ht(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ft(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=ft(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=ht(n);const s=setInterval(()=>{const e=ht(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(s))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}pt.type="COOKIE";class gt extends ct{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gt.type="SESSION";const mt=gt;class yt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new yt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(i).map(async e=>e(t.origin,s)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yt.receivers=[];class wt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((o,a)=>{const l=vt("",20);r.port1.start();const A=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(A),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(t.data.response);break;default:clearTimeout(A),clearTimeout(s),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function bt(){return window}function xt(){return"undefined"!==typeof bt().WorkerGlobalScope&&"function"===typeof bt().importScripts}const Ct="firebaseLocalStorageDb",Bt="firebaseLocalStorage",kt="fbase_key";class Nt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Et(e,t){return e.transaction([Bt],t?"readwrite":"readonly").objectStore(Bt)}function _t(){const e=indexedDB.open(Ct,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Bt,{keyPath:kt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Bt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ct);return new Nt(e).toPromise()}(),t(await _t()))})})}async function St(e,t,n){const r=Et(e,!0).put({[kt]:t,value:n});return new Nt(r).toPromise()}function Ft(e,t){const n=Et(e,!0).delete(t);return new Nt(n).toPromise()}class It{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await _t()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yt._getInstance(xt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new wt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _t();return await St(e,At,"1"),await Ft(e,At),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>St(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Et(e,!1).get(t),r=await new Nt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ft(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Et(e,!1).getAll();return new Nt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}It.type="LOCAL";const Tt=It;function jt(e,t){return T(e,"POST","/v2/accounts/mfaSignIn:start",I(e,t))}ke("rcb"),new k(3e4,6e4);const Lt="recaptcha";async function Ut(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Te(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){v("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Ie(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===_e){v((null===n||void 0===n?void 0:n.type)===Lt,e,"argument-error");return lt(e,await Qt(e,t,n))}return lt(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;v(i,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Ie(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===_e){v((null===n||void 0===n?void 0:n.type)===Lt,e,"argument-error");return jt(e,await Qt(e,t,n))}return jt(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ie(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===_e){v((null===n||void 0===n?void 0:n.type)===Lt,e,"argument-error");return He(e,await Qt(e,t,n))}return He(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Qt(e,t,n){v(n.type===Lt,e,"argument-error");const r=await n.verify();v("string"===typeof r,e,"argument-error");const s=Object.assign({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class Pt{constructor(e){this.providerId=Pt.PROVIDER_ID,this.auth=be(e)}verifyPhoneNumber(e,t){return Ut(this.auth,e,(0,s.Ku)(t))}static credential(e,t){return Ke._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Pt.credentialFromTaggedObject(t)}static credentialFromError(e){return Pt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ke._fromTokenResponse(n,r):null}}function Ot(e,t){return t?ne(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Pt.PROVIDER_ID="phone",Pt.PHONE_SIGN_IN_METHOD="phone";class Dt extends Qe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Re(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Re(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Re(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Rt(e){return it(e.auth,new Dt(e),e.bypassAuthState)}function Mt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),st(n,new Dt(e),e.bypassAuthState)}async function Ht(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),rt(n,new Dt(e),e.bypassAuthState)}class Vt{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:o}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rt;case"linkViaPopup":case"linkViaRedirect":return Ht;case"reauthViaPopup":case"reauthViaRedirect":return Mt;default:h(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kt=new k(2e3,1e4);async function qt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(f(e,"operation-not-supported-in-this-environment"));const s=be(e);m(e,t,We);const i=Ot(s,n);return new zt(s,"signInViaPopup",t,i).executeNotNull()}class zt extends Vt{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,zt.currentPopupAction&&zt.currentPopupAction.cancel(),zt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const e=vt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Kt.get())};e()}}zt.currentPopupAction=null;const Wt=new Map;class Gt extends Vt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Wt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Yt(t),r=Xt(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Wt.set(this.auth._key(),e)}return this.bypassAuthState||Wt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Jt(e,t){Wt.set(e._key(),t)}function Xt(e){return ne(e._redirectPersistence)}function Yt(e){return ie("pendingRedirect",e.config.apiKey,e.name)}async function Zt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const s=be(e),i=Ot(s,t),o=new Gt(s,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,t)),a}class $t{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(f(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(en(e))}saveEventToCache(e){this.cachedEventUids.add(en(e)),this.lastProcessedEventTime=Date.now()}}function en(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const nn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rn=/^https?/;async function sn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return T(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(on(r))return}catch(n){}h(e,"unauthorized-domain")}function on(e){const t=x(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!rn.test(n))return!1;if(nn.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const an=new k(3e4,6e4);function ln(){const e=bt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function An(e){return new Promise((t,n)=>{var r,s,i;function o(){ln(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ln(),n(f(e,"network-request-failed"))},timeout:an.get()})}if(null===(s=null===(r=bt().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=bt().gapi)||void 0===i?void 0:i.load)){const t=ke("iframefcb");return bt()[t]=()=>{gapi.load?o():n(f(e,"network-request-failed"))},Be("".concat(Ce.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw cn=null,e})}let cn=null;const un=new k(5e3,15e3),dn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?N(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:t.apiKey,appName:e.name,v:r.MF},o=hn.get(e.config.apiHost);o&&(i.eid=o);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),"".concat(n,"?").concat((0,s.Am)(i).slice(1))}async function pn(e){const t=await function(e){return cn=cn||An(e),cn}(e),n=bt().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:fn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=f(e,"network-request-failed"),i=bt().setTimeout(()=>{r(s)},un.get());function o(){bt().clearTimeout(i),n(t)}t.ping(o).then(o,()=>{r(s)})}))}const gn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function yn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const A=Object.assign(Object.assign({},gn),{width:r.toString(),height:i.toString(),top:o,left:a}),c=(0,s.ZQ)().toLowerCase();n&&(l=ce(c)?"_blank":n),le(c)&&(t=t||"http://localhost",A.scrollbars="yes");const u=Object.entries(A).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return pe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new mn(null);const d=window.open(t||"",l,u);v(d,e,"popup-blocked");try{d.focus()}catch(h){}return new mn(d)}const vn="__/auth/handler",wn="emulator/auth/handler",bn=encodeURIComponent("fac");async function xn(e,t,n,i,o,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:r.MF,eventId:o};if(t instanceof We){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,s.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof Ge){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const A=l;for(const r of Object.keys(A))void 0===A[r]&&delete A[r];const c=await e._getAppCheckToken(),u=c?"#".concat(bn,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(vn);return N(t,wn)}(e),"?").concat((0,s.Am)(A).slice(1)).concat(u)}const Cn="webStorageSupport";const Bn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mt,this._completeRedirectFn=Zt,this._overrideRedirectResult=Jt}async _openPopup(e,t,n,r){var s;b(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return yn(e,await xn(e,t,n,x(),r),vt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){bt().location.href=e}(await xn(e,t,n,x(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await pn(e),n=new $t(e);return t.register("authEvent",t=>{v(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cn,{type:Cn},n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Cn];void 0!==s&&t(!!s),h(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ge()||Ae()||pe()}};var kn="@firebase/auth",Nn="1.10.8";class En{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _n=(0,s.XA)("authIdTokenMaxAge")||300;let Sn=null;const Fn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_n)return;const s=null===n||void 0===n?void 0:n.token;Sn!==s&&(Sn=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:"Bearer ".concat(s)}:{}}))};function In(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,s.bD)(r,null!==t&&void 0!==t?t:{}))return e;h(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Bn,persistence:[Tt,dt,mt]}),i=(0,s.XA)("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=Fn(e.toString());!function(e,t,n){(0,s.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,s.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const o=(0,s.Tj)("auth");return o&&je(n,"http://".concat(o)),n}var Tn;Ce={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=f("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Tn="Browser",(0,r.om)(new a.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;v(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Tn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(Tn)},A=new we(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ne);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(A,n),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new a.uA("auth-internal",e=>(e=>new En(e))(be(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(kn,Nn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Tn)),(0,r.KO)(kn,Nn,"esm2017")},579:(e,t,n)=>{"use strict";e.exports=n(1153)},791:(e,t,n)=>{"use strict";n.d(t,{j2:()=>a,OO:()=>l});var r=n(7150);(0,r.KO)("firebase","11.10.0","app");var s=n(458),i=n(3611);const o=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyCb61YDcPFdtefpFTsnuQS3kA66IHNG128",authDomain:"algocore-80652.firebaseapp.com",databaseURL:"https://algocore-80652-default-rtdb.firebaseio.com",projectId:"algocore-80652",storageBucket:"algocore-80652.firebasestorage.app",messagingSenderId:"563824995926",appId:"1:563824995926:web:56e94c313d4bad8ea9d5f7",measurementId:"G-MF59KXSF49"}),a=(0,s.xI)(o),l=(new s.HF,(0,i.C3)(o))},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2284);function s(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=(0,r.A)(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},1129:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var r=n(3216),s=n(5200),i=n(579);const o=()=>{const e=(0,r.Zp)();return(0,i.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 text-center px-4",children:(0,i.jsxs)("div",{className:"w-full max-w-md",children:[(0,i.jsx)("div",{className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-blue-100 dark:bg-blue-900/30",children:(0,i.jsx)(s.dUr,{className:"h-12 w-12 text-blue-600 dark:text-blue-400"})}),(0,i.jsx)("h1",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Please Sign In"}),(0,i.jsx)("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"You need to be authenticated to access this page."}),(0,i.jsx)("div",{className:"mt-8",children:(0,i.jsx)("button",{onClick:()=>e("/login"),className:"bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300 shadow-md",children:"Go to Login"})})]})})}},1153:(e,t,n)=>{"use strict";var r=n(5043),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,i={},A=null,c=null;for(r in void 0!==n&&(A=""+n),void 0!==t.key&&(A=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:A,ref:c,props:i,_owner:a.current}}t.Fragment=i,t.jsx=A,t.jsxs=A},1387:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var s;n.d(t,{AO:()=>u,B6:()=>_,Gh:()=>L,HS:()=>U,Oi:()=>a,Rr:()=>d,pX:()=>R,pb:()=>F,rc:()=>s,tH:()=>D,ue:()=>p,yD:()=>j,zR:()=>o}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const i="popstate";function o(e){return void 0===e&&(e={}),h(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return c("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,e)}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t,n,s){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n,o){void 0===o&&(o={});let{window:l=document.defaultView,v5Compat:d=!1}=o,h=l.history,f=s.Pop,p=null,g=m();function m(){return(h.state||{idx:null}).idx}function y(){f=s.Pop;let e=m(),t=null==e?null:e-g;g=e,p&&p({action:f,location:w.location,delta:t})}function v(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,h.replaceState(r({},h.state,{idx:g}),""));let w={get action(){return f},get location(){return e(l,h)},listen(e){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(i,y),p=e,()=>{l.removeEventListener(i,y),p=null}},createHref:e=>t(l,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=s.Push;let r=c(w.location,e,t);n&&n(r,e),g=m()+1;let i=A(r,g),o=w.createHref(r);try{h.pushState(i,"",o)}catch(a){if(a instanceof DOMException&&"DataCloneError"===a.name)throw a;l.location.assign(o)}d&&p&&p({action:f,location:w.location,delta:1})},replace:function(e,t){f=s.Replace;let r=c(w.location,e,t);n&&n(r,e),g=m();let i=A(r,g),o=w.createHref(r);h.replaceState(i,"",o),d&&p&&p({action:f,location:w.location,delta:0})},go:e=>h.go(e)};return w}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function p(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let s=F(("string"===typeof t?d(t):t).pathname||"/",n);if(null==s)return null;let i=m(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a){let e=S(s);o=E(i[a],e,r)}return o}function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let l=U([r,o.relativePath]),A=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),m(e.children,t,A,l)),(null!=e.path||e.index)&&t.push({path:l,score:N(l,e.index),routesMeta:A})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))s(e,t,r);else s(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let o=y(r.join("/")),a=[];return a.push(...o.map(e=>""===e?i:[i,e].join("/"))),s&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const v=/^:[\w-]+$/,w=3,b=2,x=1,C=10,B=-2,k=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=B),t&&(r+=b),n.filter(e=>!k(e)).reduce((e,t)=>e+(v.test(t)?w:""===t?x:C),r)}function E(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,A="/"===i?t:t.slice(i.length)||"/",c=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},A),u=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},A)),!c)return null;Object.assign(s,c.params),o.push({params:s,pathname:U([i,c.pathname]),pathnameBase:Q(U([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=U([i,c.pathnameBase]))}return o}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=a[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:o,pattern:e}}function S(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function T(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function j(e,t){let n=T(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,s){let i;void 0===s&&(s=!1),"string"===typeof e?i=d(e):(i=r({},e),a(!i.pathname||!i.pathname.includes("?"),I("?","pathname","search",i)),a(!i.pathname||!i.pathname.includes("#"),I("#","pathname","hash",i)),a(!i.search||!i.search.includes("#"),I("#","search","hash",i)));let o,l=""===e||""===i.pathname,A=l?"/":i.pathname;if(null==A)o=n;else{let e=t.length-1;if(!s&&A.startsWith("..")){let t=A.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?d(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:P(r),hash:O(s)}}(i,o),u=A&&"/"!==A&&A.endsWith("/"),h=(l||"."===A)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}const U=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",O=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class D extends Error{}function R(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const M=["post","put","patch","delete"],H=(new Set(M),["get",...M]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},1529:(e,t,n)=>{"use strict";n.d(t,{cY:()=>b,FA:()=>M,g:()=>R,gz:()=>re,vA:()=>s,Hk:()=>i,K3:()=>a,u:()=>u,KA:()=>A,Uj:()=>c,gR:()=>G,Fy:()=>B,tD:()=>se,A4:()=>d,bD:()=>Z,dI:()=>ae,hp:()=>ne,T9:()=>v,Tj:()=>m,yU:()=>y,XA:()=>w,mS:()=>p,Ku:()=>ce,ZQ:()=>_,qc:()=>W,sr:()=>T,zJ:()=>x,c1:()=>I,Im:()=>X,lT:()=>L,zW:()=>O,jZ:()=>S,$g:()=>U,lV:()=>j,nr:()=>Q,Ov:()=>P,Cv:()=>z,$L:()=>V,kH:()=>Y,gE:()=>C,Am:()=>ee,I9:()=>te,yw:()=>J,OE:()=>Ae,kj:()=>le,As:()=>K,P1:()=>E,eX:()=>D});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,o=i?e[s+1]:0,a=s+2<e.length,l=a?e[s+2]:0,A=t>>2,c=(3&t)<<4|o>>4;let u=(15&o)<<2|l>>6,d=63&l;a||(d=64,i||(u=64)),r.push(n[A],n[c],n[u],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const o=s<e.length?n[e.charAt(s)]:64;++s;const a=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==o||null==a)throw new l;const A=t<<2|i>>4;if(r.push(A),64!==o){const e=i<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A=function(e){const t=o(e);return a.encodeByteArray(t,!0)},c=function(e){return A(e).replace(/\./g,"")},u=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&f(n)&&(e[n]=h(e[n],t[n]));return e}function f(e){return"__proto__"!==e}function p(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const g=()=>{try{return p().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},m=e=>{var t,n;return null===(n=null===(t=g())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},y=e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},v=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config},w=e=>{var t;return null===(t=g())||void 0===t?void 0:t["_".concat(e)]};class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function x(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function C(e){return(await fetch(e,{credentials:"include"})).ok}function B(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(i)),""].join(".")}const k={};let N=!1;function E(e,t){if("undefined"===typeof window||"undefined"===typeof document||!x(window.location.host)||k[e]===t||k[e]||N)return;function n(e){return"__firebase__banner__".concat(e)}k[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(k))k[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{N=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),A=n("preprendIcon"),c=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,A),t.append(c,o,l,n),document.body.appendChild(t)}s?(o.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function F(){var e;const t=null===(e=g())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function I(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function T(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function L(){const e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function U(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function Q(){return!F()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P(){return!F()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function O(){try{return"object"===typeof indexedDB}catch(e){return!1}}function D(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M.prototype.create)}}class M{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(H,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new R(n,i,t)}}const H=/\{\$([^}]+)}/g;function V(e){return JSON.parse(e)}function K(e){return JSON.stringify(e)}const q=function(e){let t={},n={},r={},s="";try{const i=e.split(".");t=V(u(i[0])||""),n=V(u(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch(i){}return{header:t,claims:n,data:r,signature:s}},z=function(e){const t=q(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},W=function(e){const t=q(e).claims;return"object"===typeof t&&!0===t.admin};function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function J(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function X(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Y(e,t,n){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=t.call(n,e[s],s,e));return r}function Z(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if($(n)&&$(i)){if(!Z(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $(e){return null!==e&&"object"===typeof e}function ee(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function te(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ne(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class re{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let c=0;c<16;c++)n[c]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let c=0;c<16;c++)n[c]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let c=16;c<80;c++){const e=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(e<<1|e>>>31)}let r,s,i=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],A=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(r=l^o&(a^l),s=1518500249):(r=o^a^l,s=1859775393):c<60?(r=o&a|l&(o|a),s=2400959708):(r=o^a^l,s=3395469782);const e=(i<<5|i>>>27)+r+A+s+n[c]&4294967295;A=l,l=a,a=4294967295&(o<<30|o>>>2),o=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+A&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const s=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(s[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}else for(;r<t;)if(s[i]=e[r],++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function se(e,t){const n=new ie(e,t);return n.subscribe.bind(n)}class ie{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=oe),void 0===r.error&&(r.error=oe),void 0===r.complete&&(r.complete=oe);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oe(){}function ae(e,t){return"".concat(e," failed: ").concat(t," argument ")}const le=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ae=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ce(e){return e&&e._delegate?e._delegate:e}},1537:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZRSURBVHgB7Z2NdeI4FIUv28CQDqCDbAVjOshWMKSCIRWEVMCkApIKkg4gFYSpAHcQtoK3esie9TCOrZ8nYWN957zjycQQW9dXkp9kGUgkEolEInERjNADiOhabcr4UmzHlahyKCIvtj9V7Pjn0Wi0Q8fppCBKgExtvqrgbVn4UmyhRXpVAm2RqIdFUPFDxQfFY69iXVwACVUQYxX3kUX4jL2KuYoJhgZ1S4g61jQEYaj7QpyyoksVRp3YgvojRJW9ijkiEbyXRfoKW0P3mPrMVsWt6pnlCMhfCIgSY6E27+i/GEym4r04p35Buq1Y0eWyQiDEqyzSVdQL9A3dJZOrmElXYaKCFGJsVEwwDHIIiyLWhpDONw1JDGaiYlOcuwgiDqmIIZlz6hOcxJxJJC+9BRlgNfUZOQSqLy9Bkhh/kMNTFF9B9khinMLVFotygAPOjXrRF58gcQq3p/dwxEkQ0ner/btjjceCHO/orausot3gdMhQe1SmcJX1t2174uIQThQmMdrhMlrDEitBSKehMyRMyWyrLuMqK3VxneGqa2ra67JxyHckMVzgqsvYJUYOKdyxR8IVY5eYOmSJhA/GLml1SHKHGEYuMXFIhoQERi4xcUjKV8lxUA65atqh0SGkp1hOEJk8z7HdbhGCw+GAx8dH3N7eYjqd4urqCqqQjsH/ns1muLu7w9vbGwIwJp9pq+rDT3QG5vM5ZVlGkiiBj9/Jp2Uak8mEnp7Ei+AHXCE9SSwq+/3+V4FsNhvy5ePjgxaLhZUQdcJIHEt5SHCB9Gz06LA7yoLwdQmLy4XpI0Y1lsslCZHBFtKPBkSl6g54ukRajDKEqrAlbFEf2lBkqu6Ah0tCiXF9fX2sAgXYwBaKTJ074OiSjovB2LUj6gPXFJk6d8DBJVzPd1yMEvO5XGrnG4pIkztg4ZIQVVUgMZg5TFE7i3UnjI6swR2wcMl6ve6LGIz5/Yja+ZUiYeIOGLpE0h2BxWDWMIUi9rBM3AEDl7y/v/dJjOMhwxS1c04RsHEHWlziUl2Nx2O6v7+nl5eX4+fZYZHEOJ4+TKFIzwLauAMtLnFJj7CrTokkxvFPwRSKgIs70OASW3FvbqJ2JGupK/ugzxg28fDwAFc4dX4Kp9VtUFUTushZBOGxBpUTgis8XvL8/Pzb/6n2ADbsdp1fh+Z/KDC24xJ1wQ1wFak2JCYwhQI26jxQ5CtGGdXMq2svi4XkY+Lv4guF26JIWDXqwbq9Eu5AjUt8OgmnEUmUPUxROwfxsqQ7UOMSyTv1CKJsYQoFGkuXdAdqXCKd6Q0syitMoQCjhSHcgROX8E0dtws9EWUJC0HEjyKEO1DjktVqJf79gUS5gYUgogNULu6wvdKrbUkI8QOIYndnSoJdX9sC4pO3bQ9Oe1whhnElRYEtJJSCd3EHF6hLe1B1SShRXl9Fhoq2cBBEZNTQxR0lPi5hWBROp/sIUAZfHNw+CWE/e5EEJsq5uqPE1yUlPObhIwZfVNXjEiCDC+TZjvi4o8TXJSVcoPz9NtUYH7/gFNJfh9JU5o2PI5C21ndcGDyznjPOnPHltD1njxkl1jE4Nf/t2zfrDLIhT6PR6PazX7YJkkE/eZuQY9a0xLnJAzuclUwLBcjALwSYNu1gMkD1iIQUrcOkJg5hd3BDlFziz7Rt7ZNWhxRPjSaX+PNkshCN6cIBySX+TE0EMZrkkFzizaPpMk02i88kl7iRw2IdRuNpQIVL3CdTDZcHm0XMXFaU4xvFDAkT3pQYmc0H0hJ/4YizxF/xB1LV1c7DyGH9Xud1ey818SgE96qslvYr8RGEqyxuT7o5a/l8tOarmnCebF30uv6B7tYlNLmKGTxIi/HLkePci/GXUHpdhdjrKkSeDykOhK2aY3jkEBKDSa888iNHV195xBQHNhSnlK+lyCGI+CNtfIBFt++Ss8N8buJiBIf6+7rVz+BzcbrhM0W0DamDLufVq7wq5rx3rvgM0o847Kl/BHfF2VAnxtMKoy8d6AgLwfObL//eirQwQR6bE2A4QpxCWpiuVGXDFaIO0rPt2TV7igeLwFVoho4QvJflQlFA/Awe58i+Qg7OOf2Efln9tmmO7bnopCCnkE5eTqAF4hgXP3/BnwlNLvR/i+2ust1J5ZsSiUQikUgkWvkPnTsHvFu46WcAAAAASUVORK5CYII="},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2339:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{l$:()=>ye,Ay:()=>ve,oR:()=>z});var s=n(9379),i=n(5043);let o={data:""},a=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||o,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,A=/\/\*[^]*?\*\/|  +/g,c=/\n+/g,u=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+o+";":r+="f"==i[1]?u(o,i):i+"{"+u(o,"k"==i[1]?"":t)+"}":"object"==typeof o?r+=u(o,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=o&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=u.p?u.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},d={},h=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+h(e[n]);return t}return e},f=(e,t,n,r,s)=>{let i=h(e),o=d[i]||(d[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!d[o]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=l.exec(e.replace(A,""));)t[4]?r.shift():t[3]?(n=t[3].replace(c," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(c," ").trim();return r[0]})(e);d[o]=u(s?{["@keyframes "+o]:t}:t,n?"":"."+o)}let a=n&&d.g?d.g:null;return n&&(d.g=d[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(d[o],t,r,a),o};function p(e){let t=this||{},n=e.call?e(t.p):e;return f(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,s)=>{let i=t[s];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":u(e,""):!1===e?"":e}return e+r+(null==i?"":i)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,a(t.target),t.g,t.o,t.k)}p.bind({g:1});let g,m,y,v=p.bind({k:1});function w(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:m&&m()},a),n.o=/ *go\d+/.test(l),a.className=p.apply(n,r)+(l?" "+l:""),t&&(a.ref=o);let A=e;return e[0]&&(A=a.as||e,delete a.as),y&&A[0]&&y(a),g(A,a)}return t?t(s):s}}var b,x,C,B,k,N,E,_,S,F,I,T,j,L,U,Q,P=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,O=(()=>{let e=0;return()=>(++e).toString()})(),D=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),R=(e,t)=>{switch(t.type){case 0:return(0,s.A)((0,s.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return(0,s.A)((0,s.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,s.A)((0,s.A)({},e),t.toast):e)});case 2:let{toast:n}=t;return R(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return(0,s.A)((0,s.A)({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?(0,s.A)((0,s.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,s.A)((0,s.A)({},e),{},{toasts:[]}):(0,s.A)((0,s.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,s.A)((0,s.A)({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return(0,s.A)((0,s.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,s.A)((0,s.A)({},e),{},{pauseDuration:e.pauseDuration+i}))})}},M=[],H={toasts:[],pausedAt:void 0},V=e=>{H=R(H,e),M.forEach(e=>{e(H)})},K={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},q=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return(0,s.A)((0,s.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||O()})}(t,e,n);return V({type:2,toast:r}),r.id},z=(e,t)=>q("blank")(e,t);z.error=q("error"),z.success=q("success"),z.loading=q("loading"),z.custom=q("custom"),z.dismiss=e=>{V({type:3,toastId:e})},z.remove=e=>V({type:4,toastId:e}),z.promise=(e,t,n)=>{let r=z.loading(t.loading,(0,s.A)((0,s.A)({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?P(t.success,e):void 0;return i?z.success(i,(0,s.A)((0,s.A)({id:r},n),null==n?void 0:n.success)):z.dismiss(r),e}).catch(e=>{let i=t.error?P(t.error,e):void 0;i?z.error(i,(0,s.A)((0,s.A)({id:r},n),null==n?void 0:n.error)):z.dismiss(r)}),e};var W=(e,t)=>{V({type:1,toast:{id:e,height:t}})},G=()=>{V({type:5,time:Date.now()})},J=new Map,X=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,i.useState)(H),r=(0,i.useRef)(H);(0,i.useEffect)(()=>(r.current!==H&&n(H),M.push(n),()=>{let e=M.indexOf(n);e>-1&&M.splice(e,1)}),[]);let o=t.toasts.map(t=>{var n,r,i;return(0,s.A)((0,s.A)((0,s.A)((0,s.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||K[t.type],style:(0,s.A)((0,s.A)((0,s.A)({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return(0,s.A)((0,s.A)({},t),{},{toasts:o})}(e);(0,i.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>z.dismiss(t.id),n);t.visible&&z.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=(0,i.useCallback)(()=>{n&&V({type:6,time:Date.now()})},[n]),o=(0,i.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:s=8,defaultPosition:i}=n||{},o=t.filter(t=>(t.position||i)===(e.position||i)&&t.height),a=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<a&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+s,0)},[t]);return(0,i.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(J.has(e))return;let n=setTimeout(()=>{J.delete(e),V({type:4,toastId:e})},t);J.set(e,n)}(e.id,e.removeDelay);else{let t=J.get(e.id);t&&(clearTimeout(t),J.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:W,startPause:G,endPause:r,calculateOffset:o}}},Y=v(b||(b=r(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Z=v(x||(x=r(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$=v(C||(C=r(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),ee=w("div")(B||(B=r(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Y,Z,e=>e.secondary||"#fff",$),te=v(k||(k=r(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ne=w("div")(N||(N=r(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",te),re=v(E||(E=r(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),se=v(_||(_=r(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),ie=w("div")(S||(S=r(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",re,se,e=>e.secondary||"#fff"),oe=w("div")(F||(F=r(["\n  position: absolute;\n"]))),ae=w("div")(I||(I=r(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),le=v(T||(T=r(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ae=w("div")(j||(j=r(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),le),ce=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:o}=t;return void 0!==n?"string"==typeof n?i.createElement(Ae,null,n):n:"blank"===r?null:i.createElement(ae,null,i.createElement(ne,(0,s.A)({},o)),"loading"!==r&&i.createElement(oe,null,"error"===r?i.createElement(ee,(0,s.A)({},o)):i.createElement(ie,(0,s.A)({},o))))},ue=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),de=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),he=w("div")(L||(L=r(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),fe=w("div")(U||(U=r(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),pe=i.memo(e=>{let{toast:t,position:n,style:r,children:o}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,s]=D()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ue(n),de(n)];return{animation:t?"".concat(v(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(v(s)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},l=i.createElement(ce,{toast:t}),A=i.createElement(fe,(0,s.A)({},t.ariaProps),P(t.message,t));return i.createElement(he,{className:t.className,style:(0,s.A)((0,s.A)((0,s.A)({},a),r),t.style)},"function"==typeof o?o({icon:l,message:A}):i.createElement(i.Fragment,null,l,A))});!function(e,t,n,r){u.p=t,g=e,m=n,y=r}(i.createElement);var ge=e=>{let{id:t,className:n,style:r,onHeightUpdate:s,children:o}=e,a=i.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;s(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return i.createElement("div",{ref:a,className:n,style:r},o)},me=p(Q||(Q=r(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),ye=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:o,children:a,containerStyle:l,containerClassName:A}=e,{toasts:c,handlers:u}=X(r);return i.createElement("div",{id:"_rht_toaster",style:(0,s.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:A,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(e=>{let r=e.position||n,l=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,s.A)((0,s.A)({left:0,right:0,display:"flex",position:"absolute",transition:D()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(r,u.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return i.createElement(ge,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?me:"",style:l},"custom"===e.type?P(e.message,e):a?a(e):i.createElement(pe,{toast:e,position:r}))}))},ve=z},2730:(e,t,n)=>{"use strict";var r=n(5043),s=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){A(e,t),A(e+"Capture",t)}function A(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,n,r,s,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(f,e)||!u.call(h,e)&&(d.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var Q,P=Object.assign;function O(e){if(void 0===Q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Q=t&&t[1]||""}return"\n"+Q+e}var D=!1;function R(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&"string"===typeof A.stack){for(var s=A.stack.split("\n"),i=r.stack.split("\n"),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==i[a]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function M(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case k:return"Profiler";case B:return"StrictMode";case S:return"Suspense";case F:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ie(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ae,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ae=Ae||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Be=null;function ke(e){if(e=vs(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=bs(t),xe(e.stateNode,e.type,t))}}function Ne(e){Ce?Be?Be.push(e):Be=[e]:Ce=e}function Ee(){if(Ce){var e=Ce,t=Be;if(Be=Ce=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function _e(e,t){return e(t)}function Se(){}var Fe=!1;function Ie(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return _e(e,t,n)}finally{Fe=!1,(null!==Ce||null!==Be)&&(Se(),Ee())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=bs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var je=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){je=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){je=!1}function Ue(e,t,n,r,s,i,o,a,l){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(c){this.onError(c)}}var Qe=!1,Pe=null,Oe=!1,De=null,Re={onError:function(e){Qe=!0,Pe=e}};function Me(e,t,n,r,s,i,o,a,l){Qe=!1,Pe=null,Ue.apply(Re,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(He(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ke(s),e;if(o===r)return Ke(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var We=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Je=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Ye=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,$e=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var At=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~s;0!==a?r=ut(a):0!==(i&=o)&&(r=ut(i))}else 0!==(o=n&~s)?r=ut(o):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ot(t)),r|=e[n],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=At;return 0===(4194240&(At<<=1))&&(At=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,Ct,Bt,kt,Nt=!1,Et=[],_t=null,St=null,Ft=null,It=new Map,Tt=new Map,jt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Qt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=vs(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Pt(e){var t=ys(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,function(){Ct(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vs(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Dt(e,t,n){Ot(e)&&n.delete(t)}function Rt(){Nt=!1,null!==_t&&Ot(_t)&&(_t=null),null!==St&&Ot(St)&&(St=null),null!==Ft&&Ot(Ft)&&(Ft=null),It.forEach(Dt),Tt.forEach(Dt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Rt)))}function Ht(e){function t(t){return Mt(t,e)}if(0<Et.length){Mt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Mt(_t,e),null!==St&&Mt(St,e),null!==Ft&&Mt(Ft,e),It.forEach(t),Tt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Pt(n),null===n.blockedOn&&jt.shift()}var Vt=w.ReactCurrentBatchConfig,Kt=!0;function qt(e,t,n,r){var s=vt,i=Vt.transition;Vt.transition=null;try{vt=1,Wt(e,t,n,r)}finally{vt=s,Vt.transition=i}}function zt(e,t,n,r){var s=vt,i=Vt.transition;Vt.transition=null;try{vt=4,Wt(e,t,n,r)}finally{vt=s,Vt.transition=i}}function Wt(e,t,n,r){if(Kt){var s=Jt(e,t,n,r);if(null===s)Kr(e,t,r,Gt,n),Ut(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return _t=Qt(_t,e,t,n,r,s),!0;case"dragenter":return St=Qt(St,e,t,n,r,s),!0;case"mouseover":return Ft=Qt(Ft,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return It.set(i,Qt(It.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Tt.set(i,Qt(Tt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==s;){var i=vs(s);if(null!==i&&bt(i),null===(i=Jt(e,t,n,r))&&Kr(e,t,r,Gt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=ys(e=be(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[i-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(An),un=P({},An,{view:0,detail:0}),dn=sn(un),hn=P({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(hn),pn=sn(P({},hn,{dataTransfer:0})),gn=sn(P({},un,{relatedTarget:0})),mn=sn(P({},An,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=P({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(yn),wn=sn(P({},An,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function kn(){return Bn}var Nn=P({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Nn),_n=sn(P({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=sn(P({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Fn=sn(P({},An,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=P({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=sn(In),jn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var Qn=c&&"TextEvent"in window&&!Un,Pn=c&&(!Ln||Un&&8<Un&&11>=Un),On=String.fromCharCode(32),Dn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=zr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Wn=null;function Gn(e){Or(e,0)}function Jn(e){if(W(ws(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),Wn=zn=null)}function nr(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];qn(t,Wn,e,be(e)),Ie(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function ir(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function Ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=Ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ar(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=cr(n,i);var o=cr(n,r);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=zr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Cr={},Br={};function kr(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Br)return Cr[e]=n[t];return e}c&&(Br=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Nr=kr("animationend"),Er=kr("animationiteration"),_r=kr("animationstart"),Sr=kr("transitionend"),Fr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Fr.set(e,t),l(t,[e])}for(var jr=0;jr<Ir.length;jr++){var Lr=Ir[jr];Tr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Tr(Nr,"onAnimationEnd"),Tr(Er,"onAnimationIteration"),Tr(_r,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Sr,"onTransitionEnd"),A("onMouseEnter",["mouseout","mouseover"]),A("onMouseLeave",["mouseout","mouseover"]),A("onPointerEnter",["pointerout","pointerover"]),A("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,o,a,l,A){if(Me.apply(this,arguments),Qe){if(!Qe)throw Error(i(198));var c=Pe;Qe=!1,Pe=null,Oe||(Oe=!0,De=c)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,A=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Pr(s,a,A),i=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,A=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Pr(s,a,A),i=l}}}if(Oe)throw e=De,Oe=!1,De=null,e}function Dr(e,t){var n=t[ps];void 0===n&&(n=t[ps]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Rr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Mr]){e[Mr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Qr.has(t)||Rr(t,!1,e),Rr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Rr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var s=qt;break;case 4:s=zt;break;default:s=Wt}n=s.bind(null,t,n,e),s=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=ys(a)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}a=a.parentNode}}r=r.return}Ie(function(){var r=i,s=be(n),o=[];e:{var a=Fr.get(e);if(void 0!==a){var l=cn,A=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":A="focus",l=gn;break;case"focusout":A="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Sn;break;case Nr:case Er:case _r:l=mn;break;case Sr:l=Fn;break;case"scroll":l=dn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var c=0!==(4&t),u=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var h,f=r;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==d&&(null!=(p=Te(f,d))&&c.push(qr(f,p,h)))),u)break;f=f.return}0<c.length&&(a=new l(a,A,null,n,s),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(A=n.relatedTarget||n.fromElement)||!ys(A)&&!A[fs])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(A=(A=n.relatedTarget||n.toElement)?ys(A):null)&&(A!==(u=He(A))||5!==A.tag&&6!==A.tag)&&(A=null)):(l=null,A=r),l!==A)){if(c=fn,p="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=_n,p="onPointerLeave",d="onPointerEnter",f="pointer"),u=null==l?a:ws(l),h=null==A?a:ws(A),(a=new c(p,f+"leave",l,n,s)).target=u,a.relatedTarget=h,p=null,ys(s)===r&&((c=new c(d,f+"enter",A,n,s)).target=h,c.relatedTarget=u,p=c),u=p,l&&A)e:{for(d=A,f=0,h=c=l;h;h=Wr(h))f++;for(h=0,p=d;p;p=Wr(p))h++;for(;0<f-h;)c=Wr(c),f--;for(;0<h-f;)d=Wr(d),h--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Wr(c),d=Wr(d)}c=null}else c=null;null!==l&&Gr(o,a,l,c,!1),null!==A&&null!==u&&Gr(o,u,A,c,!0)}if("select"===(l=(a=r?ws(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Kn(a))if(Yn)g=or;else{g=sr;var m=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?qn(o,g,n,s):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?ws(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(o,n,s);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(o,n,s)}var y;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Rn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Pn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(y=en()):(Zt="value"in(Yt=s)?Yt.value:Yt.textContent,Hn=!0)),0<(m=zr(r,v)).length&&(v=new wn(v,e,null,n,s),o.push({event:v,listeners:m}),y?v.data=y:null!==(y=Mn(n))&&(v.data=y))),(y=Qn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Dn=!0,On);case"textInput":return(e=t.data)===On&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Rn(e,t)?(e=en(),$t=Zt=Yt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:r}),s.data=y))}Or(o,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Te(e,n))&&r.unshift(qr(e,i,s)),null!=(i=Te(e,t))&&r.push(qr(e,i,s))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var i=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,A=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==A&&(a=A,s?null!=(l=Te(n,i))&&o.unshift(qr(n,l,a)):s||null!=(l=Te(n,i))&&o.push(qr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function $r(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(as)}:rs;function as(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Ht(t)}function As(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ds="__reactFiber$"+us,hs="__reactProps$"+us,fs="__reactContainer$"+us,ps="__reactEvents$"+us,gs="__reactListeners$"+us,ms="__reactHandles$"+us;function ys(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cs(e);null!==e;){if(n=e[ds])return n;e=cs(e)}return t}n=(e=n).parentNode}return null}function vs(e){return!(e=e[ds]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function bs(e){return e[hs]||null}var xs=[],Cs=-1;function Bs(e){return{current:e}}function ks(e){0>Cs||(e.current=xs[Cs],xs[Cs]=null,Cs--)}function Ns(e,t){Cs++,xs[Cs]=e.current,e.current=t}var Es={},_s=Bs(Es),Ss=Bs(!1),Fs=Es;function Is(e,t){var n=e.type.contextTypes;if(!n)return Es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ts(e){return null!==(e=e.childContextTypes)&&void 0!==e}function js(){ks(Ss),ks(_s)}function Ls(e,t,n){if(_s.current!==Es)throw Error(i(168));Ns(_s,t),Ns(Ss,n)}function Us(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,V(e)||"Unknown",s));return P({},n,r)}function Qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Fs=_s.current,Ns(_s,e),Ns(Ss,Ss.current),!0}function Ps(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Us(e,t,Fs),r.__reactInternalMemoizedMergedChildContext=e,ks(Ss),ks(_s),Ns(_s,e)):ks(Ss),Ns(Ss,n)}var Os=null,Ds=!1,Rs=!1;function Ms(e){null===Os?Os=[e]:Os.push(e)}function Hs(){if(!Rs&&null!==Os){Rs=!0;var e=0,t=vt;try{var n=Os;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Os=null,Ds=!1}catch(s){throw null!==Os&&(Os=Os.slice(e+1)),We($e,Hs),s}finally{vt=t,Rs=!1}}return null}var Vs=[],Ks=0,qs=null,zs=0,Ws=[],Gs=0,Js=null,Xs=1,Ys="";function Zs(e,t){Vs[Ks++]=zs,Vs[Ks++]=qs,qs=e,zs=t}function $s(e,t,n){Ws[Gs++]=Xs,Ws[Gs++]=Ys,Ws[Gs++]=Js,Js=e;var r=Xs;e=Ys;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xs=1<<32-ot(t)+s|n<<s|r,Ys=i+e}else Xs=1<<i|n<<s|r,Ys=e}function ei(e){null!==e.return&&(Zs(e,1),$s(e,1,0))}function ti(e){for(;e===qs;)qs=Vs[--Ks],Vs[Ks]=null,zs=Vs[--Ks],Vs[Ks]=null;for(;e===Js;)Js=Ws[--Gs],Ws[Gs]=null,Ys=Ws[--Gs],Ws[Gs]=null,Xs=Ws[--Gs],Ws[Gs]=null}var ni=null,ri=null,si=!1,ii=null;function oi(e,t){var n=IA(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=As(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Js?{id:Xs,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=IA(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Ai(e){if(si){var t=ri;if(t){var n=t;if(!ai(e,t)){if(li(e))throw Error(i(418));t=As(n.nextSibling);var r=ni;t&&ai(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!si)return ci(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw di(),Error(i(418));for(;t;)oi(e,t),t=As(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=As(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?As(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ri;e;)e=As(e.nextSibling)}function hi(){ri=ni=null,si=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var pi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function mi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function vi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=jA(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=PA(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function A(e,t,n,r){var i=n.type;return i===C?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&yi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=LA(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=OA(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=UA(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=PA(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=LA(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case x:return(t=OA(t,e.mode,n)).return=e,t;case T:return d(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=UA(t,e.mode,n,null)).return=e,t;mi(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===s?A(e,t,n,r):null;case x:return n.key===s?c(e,t,n,r):null;case T:return h(e,t,(s=n._init)(n._payload),r)}if(te(n)||U(n))return null!==s?null:u(e,t,n,r,null);mi(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return A(t,e=e.get(null===r.key?n:r.key)||null,r,s);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case T:return f(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||U(r))return u(t,e=e.get(n)||null,r,s,null);mi(t,r)}return null}function p(s,i,a,l){for(var A=null,c=null,u=i,p=i=0,g=null;null!==u&&p<a.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var m=h(s,u,a[p],l);if(null===m){null===u&&(u=g);break}e&&u&&null===m.alternate&&t(s,u),i=o(m,i,p),null===c?A=m:c.sibling=m,c=m,u=g}if(p===a.length)return n(s,u),si&&Zs(s,p),A;if(null===u){for(;p<a.length;p++)null!==(u=d(s,a[p],l))&&(i=o(u,i,p),null===c?A=u:c.sibling=u,c=u);return si&&Zs(s,p),A}for(u=r(s,u);p<a.length;p++)null!==(g=f(u,s,p,a[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),i=o(g,i,p),null===c?A=g:c.sibling=g,c=g);return e&&u.forEach(function(e){return t(s,e)}),si&&Zs(s,p),A}function g(s,a,l,A){var c=U(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var u=c=null,p=a,g=a=0,m=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var v=h(s,p,y.value,A);if(null===v){null===p&&(p=m);break}e&&p&&null===v.alternate&&t(s,p),a=o(v,a,g),null===u?c=v:u.sibling=v,u=v,p=m}if(y.done)return n(s,p),si&&Zs(s,g),c;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=d(s,y.value,A))&&(a=o(y,a,g),null===u?c=y:u.sibling=y,u=y);return si&&Zs(s,g),c}for(p=r(s,p);!y.done;g++,y=l.next())null!==(y=f(p,s,g,y.value,A))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),a=o(y,a,g),null===u?c=y:u.sibling=y,u=y);return e&&p.forEach(function(e){return t(s,e)}),si&&Zs(s,g),c}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var A=o.key,c=i;null!==c;){if(c.key===A){if((A=o.type)===C){if(7===c.tag){n(r,c.sibling),(i=s(c,o.props.children)).return=r,r=i;break e}}else if(c.elementType===A||"object"===typeof A&&null!==A&&A.$$typeof===T&&yi(A)===c.type){n(r,c.sibling),(i=s(c,o.props)).ref=gi(r,c,o),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===C?((i=UA(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=LA(o.type,o.key,o.props,null,r.mode,l)).ref=gi(r,i,o),l.return=r,r=l)}return a(r);case x:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=s(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=OA(o,r.mode,l)).return=r,r=i}return a(r);case T:return e(r,i,(c=o._init)(o._payload),l)}if(te(o))return p(r,i,o,l);if(U(o))return g(r,i,o,l);mi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,o)).return=r,r=i):(n(r,i),(i=PA(o,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var wi=vi(!0),bi=vi(!1),xi=Bs(null),Ci=null,Bi=null,ki=null;function Ni(){ki=Bi=Ci=null}function Ei(e){var t=xi.current;ks(xi),e._currentValue=t}function _i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t){Ci=e,ki=Bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(va=!0),e.firstContext=null)}function Fi(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Bi){if(null===Ci)throw Error(i(308));Bi=e,Ci.dependencies={lanes:0,firstContext:e}}else Bi=Bi.next=e;return t}var Ii=null;function Ti(e){null===Ii?Ii=[e]:Ii.push(e)}function ji(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ti(t)):(n.next=s.next,s.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ui=!1;function Qi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Li(e,n)}return null===(s=r.interleaved)?(t.next=t,Ti(r)):(t.next=s.next,s.next=t),r.interleaved=t,Li(e,n)}function Ri(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Mi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var s=e.updateQueue;Ui=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,A=l.next;l.next=null,null===o?i=A:o.next=A,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=A:a.next=A,c.lastBaseUpdate=l))}if(null!==i){var u=s.baseState;for(o=0,c=A=l=null,a=i;;){var d=a.lane,h=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,p=a;switch(d=t,h=n,p.tag){case 1:if("function"===typeof(f=p.payload)){u=f.call(h,u,d);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=p.payload)?f.call(h,u,d):f)||void 0===d)break e;u=P({},u,d);break e;case 2:Ui=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(A=c=h,l=u):c=c.next=h,o|=d;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(d=a).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===c&&(l=u),s.baseState=l,s.firstBaseUpdate=A,s.lastBaseUpdate=c,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Ql|=o,e.lanes=o,e.memoizedState=u}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Ki={},qi=Bs(Ki),zi=Bs(Ki),Wi=Bs(Ki);function Gi(e){if(e===Ki)throw Error(i(174));return e}function Ji(e,t){switch(Ns(Wi,t),Ns(zi,e),Ns(qi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ks(qi),Ns(qi,t)}function Xi(){ks(qi),ks(zi),ks(Wi)}function Yi(e){Gi(Wi.current);var t=Gi(qi.current),n=le(t,e.type);t!==n&&(Ns(zi,e),Ns(qi,n))}function Zi(e){zi.current===e&&(ks(qi),ks(zi))}var $i=Bs(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,so=w.ReactCurrentBatchConfig,io=0,oo=null,ao=null,lo=null,Ao=!1,co=!1,uo=0,ho=0;function fo(){throw Error(i(321))}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,s,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?$o:ea,e=n(r,s),co){o=0;do{if(co=!1,uo=0,25<=o)throw Error(i(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,s)}while(co)}if(ro.current=Zo,t=null!==ao&&null!==ao.next,io=0,lo=ao=oo=null,Ao=!1,t)throw Error(i(300));return e}function mo(){var e=0!==uo;return uo=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=vo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ao,s=r.baseQueue,o=n.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,r=r.baseState;var l=a=null,A=null,c=o;do{var u=c.lane;if((io&u)===u)null!==A&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===A?(l=A=d,a=r):A=A.next=d,oo.lanes|=u,Ql|=u}c=c.next}while(null!==c&&c!==o);null===A?a=r:A.next=l,ar(r,t.memoizedState)||(va=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=A,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Ql|=o,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=vo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);ar(o,t.memoizedState)||(va=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function Bo(e,t){var n=oo,r=vo(),s=t(),o=!ar(r.memoizedState,s);if(o&&(r.memoizedState=s,va=!0),r=r.queue,Qo(Eo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Io(9,No.bind(null,n,r,s,t),void 0,null),null===Sl)throw Error(i(349));0!==(30&io)||ko(n,t,s)}return s}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&So(e)}function Eo(e,t,n){return n(function(){_o(t)&&So(e)})}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function So(e){var t=Li(e,1);null!==t&&nA(t,e,1,-1)}function Fo(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function To(){return vo().memoizedState}function jo(e,t,n,r){var s=yo();oo.flags|=e,s.memoizedState=Io(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var s=vo();r=void 0===r?null:r;var i=void 0;if(null!==ao){var o=ao.memoizedState;if(i=o.destroy,null!==r&&po(r,o.deps))return void(s.memoizedState=Io(t,n,i,r))}oo.flags|=e,s.memoizedState=Io(1|t,n,i,r)}function Uo(e,t){return jo(8390656,8,e,t)}function Qo(e,t){return Lo(2048,8,e,t)}function Po(e,t){return Lo(4,2,e,t)}function Oo(e,t){return Lo(4,4,e,t)}function Do(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ro(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Do.bind(null,t,e),n)}function Mo(){}function Ho(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=n):(ar(n,t)||(n=pt(),oo.lanes|=n,Ql|=n,e.baseState=!0),t)}function qo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{vt=n,so.transition=r}}function zo(){return vo().memoizedState}function Wo(e,t,n){var r=tA(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))Xo(t,n);else if(null!==(n=ji(e,t,n,r))){nA(n,e,r,eA()),Yo(n,t,r)}}function Go(e,t,n){var r=tA(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Xo(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(s.next=s,Ti(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(A){}null!==(n=ji(e,t,s,r))&&(nA(n,e,r,s=eA()),Yo(n,t,r))}}function Jo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){co=Ao=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zo={readContext:Fi,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},$o={readContext:Fi,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Fi,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Do.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Fo,useDebugValue:Mo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=qo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,s=yo();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Sl)throw Error(i(349));0!==(30&io)||ko(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Uo(Eo.bind(null,r,o,e),[e]),r.flags|=2048,Io(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Sl.identifierPrefix;if(si){var n=Ys;t=":"+t+"R"+(n=(Xs&~(1<<32-ot(Xs)-1)).toString(32)+n),0<(n=uo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Fi,useCallback:Ho,useContext:Fi,useEffect:Qo,useImperativeHandle:Ro,useInsertionEffect:Po,useLayoutEffect:Oo,useMemo:Vo,useReducer:bo,useRef:To,useState:function(){return bo(wo)},useDebugValue:Mo,useDeferredValue:function(e){return Ko(vo(),ao.memoizedState,e)},useTransition:function(){return[bo(wo)[0],vo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Bo,useId:zo,unstable_isNewReconciler:!1},ta={readContext:Fi,useCallback:Ho,useContext:Fi,useEffect:Qo,useImperativeHandle:Ro,useInsertionEffect:Po,useLayoutEffect:Oo,useMemo:Vo,useReducer:xo,useRef:To,useState:function(){return xo(wo)},useDebugValue:Mo,useDeferredValue:function(e){var t=vo();return null===ao?t.memoizedState=e:Ko(t,ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],vo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Bo,useId:zo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eA(),s=tA(e),i=Oi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,s))&&(nA(t,e,s,r),Ri(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eA(),s=tA(e),i=Oi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Di(e,i,s))&&(nA(t,e,s,r),Ri(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eA(),r=tA(e),s=Oi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Di(e,s,r))&&(nA(t,e,r,n),Ri(t,e,r))}};function ia(e,t,n,r,s,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function oa(e,t,n){var r=!1,s=Es,i=t.contextType;return"object"===typeof i&&null!==i?i=Fi(i):(s=Ts(t)?Fs:_s.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Is(e,s):Es),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Qi(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Fi(i):(i=Ts(t)?Fs:_s.current,s.context=Is(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Hi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function Aa(e,t){try{var n="",r=t;do{n+=M(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var da="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Oi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,ql=r),ua(0,t)},n}function fa(e,t,n){(n=Oi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ua(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof r&&(null===zl?zl=new Set([this]):zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kA.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oi(-1,1)).tag=2,Di(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var ya=w.ReactCurrentOwner,va=!1;function wa(e,t,n,r){t.child=null===e?bi(t,null,n,r):wi(t,e.child,n,r)}function ba(e,t,n,r,s){n=n.render;var i=t.ref;return Si(t,s),r=go(e,t,n,r,i,s),n=mo(),null===e||va?(si&&n&&ei(t),t.flags|=1,wa(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ka(e,t,s))}function xa(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||TA(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=LA(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ca(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ka(e,t,s)}return t.flags|=1,(e=jA(i,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(va=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Ka(e,t,s);0!==(131072&e.flags)&&(va=!0)}}return Na(e,t,n,r,s)}function Ba(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ns(jl,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ns(jl,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ns(jl,Tl),Tl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ns(jl,Tl),Tl|=r;return wa(e,t,s,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Na(e,t,n,r,s){var i=Ts(n)?Fs:_s.current;return i=Is(t,i),Si(t,s),n=go(e,t,n,r,i,s),r=mo(),null===e||va?(si&&r&&ei(t),t.flags|=1,wa(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ka(e,t,s))}function Ea(e,t,n,r,s){if(Ts(n)){var i=!0;Qs(t)}else i=!1;if(Si(t,s),null===t.stateNode)Va(e,t),oa(t,n,r),la(t,n,r,s),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,A=n.contextType;"object"===typeof A&&null!==A?A=Fi(A):A=Is(t,A=Ts(n)?Fs:_s.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==A)&&aa(t,o,r,A),Ui=!1;var d=t.memoizedState;o.state=d,Hi(t,r,o,s),l=t.memoizedState,a!==r||d!==l||Ss.current||Ui?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Ui||ia(t,n,a,r,d,l,A))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=A,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pi(e,t),a=t.memoizedProps,A=t.type===t.elementType?a:na(t.type,a),o.props=A,u=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fi(l):l=Is(t,l=Ts(n)?Fs:_s.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==l)&&aa(t,o,r,l),Ui=!1,d=t.memoizedState,o.state=d,Hi(t,r,o,s);var f=t.memoizedState;a!==u||d!==f||Ss.current||Ui?("function"===typeof h&&(ra(t,n,h,r),f=t.memoizedState),(A=Ui||ia(t,n,A,r,d,f,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=A):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return _a(e,t,n,r,i,s)}function _a(e,t,n,r,s,i){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return s&&Ps(t,n,!1),Ka(e,t,i);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,s&&Ps(t,n,!0),t.child}function Sa(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),Ji(e,t.containerInfo)}function Fa(e,t,n,r,s){return hi(),fi(s),t.flags|=256,wa(e,t,n,r),t.child}var Ia,Ta,ja,La,Ua={dehydrated:null,treeContext:null,retryLane:0};function Qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pa(e,t,n){var r,s=t.pendingProps,o=$i.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ns($i,1&o),null===e)return Ai(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=QA(l,s,0,null),e=UA(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Qa(n),t.memoizedState=Ua,e):Oa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,s,o,a){if(n)return 256&t.flags?(t.flags&=-257,Da(e,t,a,r=ca(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=QA({mode:"visible",children:r.children},s,0,null),(o=UA(o,s,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,a),t.child.memoizedState=Qa(a),t.memoizedState=Ua,o);if(0===(1&t.mode))return Da(e,t,a,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Da(e,t,a,r=ca(o=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),va||l){if(null!==(r=Sl)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|a))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Li(e,s),nA(r,e,s,-1))}return pA(),Da(e,t,a,r=ca(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=EA.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ri=As(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ws[Gs++]=Xs,Ws[Gs++]=Ys,Ws[Gs++]=Js,Xs=e.id,Ys=e.overflow,Js=t),t=Oa(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,o,n);if(a){a=s.fallback,l=t.mode,r=(o=e.child).sibling;var A={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=A,t.deletions=null):(s=jA(o,A)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=jA(r,a):(a=UA(a,l,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?Qa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ua,s}return e=(a=e.child).sibling,s=jA(a,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Oa(e,t){return(t=QA({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Da(e,t,n,r){return null!==r&&fi(r),wi(t,e.child,null,n),(e=Oa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ra(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_i(e.return,t,n)}function Ma(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ha(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=$i.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ra(e,n,t);else if(19===e.tag)Ra(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ns($i,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ma(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ma(t,!0,n,null,i);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ql|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=jA(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jA(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function za(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return za(t),null;case 1:case 17:return Ts(t.type)&&js(),za(t),null;case 3:return r=t.stateNode,Xi(),ks(Ss),ks(_s),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oA(ii),ii=null))),Ta(e,t),za(t),null;case 5:Zi(t);var s=Gi(Wi.current);if(n=t.type,null!==e&&null!=t.stateNode)ja(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return za(t),null}if(e=Gi(qi.current),ui(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ds]=t,r[hs]=o,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(s=0;s<Ur.length;s++)Dr(Ur[s],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":X(r,o),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Dr("invalid",r);break;case"textarea":se(r,o),Dr("invalid",r)}for(var l in ye(n,o),s=null,o)if(o.hasOwnProperty(l)){var A=o[l];"children"===l?"string"===typeof A?r.textContent!==A&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,A,e),s=["children",A]):"number"===typeof A&&r.textContent!==""+A&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,A,e),s=["children",""+A]):a.hasOwnProperty(l)&&null!=A&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":z(r),$(r,o,!0);break;case"textarea":z(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ds]=t,e[hs]=r,Ia(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),s=r;break;case"iframe":case"object":case"embed":Dr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ur.length;s++)Dr(Ur[s],e);s=r;break;case"source":Dr("error",e),s=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),s=r;break;case"details":Dr("toggle",e),s=r;break;case"input":X(e,r),s=J(e,r),Dr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=P({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Dr("invalid",e)}for(o in ye(n,s),A=s)if(A.hasOwnProperty(o)){var c=A[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Dr("scroll",e):null!=c&&v(e,o,c,l))}switch(n){case"input":z(e),$(e,r,!1);break;case"textarea":z(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return za(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi(Wi.current),Gi(qi.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return za(t),null;case 13:if(ks($i),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))di(),hi(),t.flags|=98560,o=!1;else if(o=ui(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ds]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;za(t),o=!1}else null!==ii&&(oA(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$i.current)?0===Ll&&(Ll=3):pA())),null!==t.updateQueue&&(t.flags|=4),za(t),null);case 4:return Xi(),Ta(e,t),null===e&&Hr(t.stateNode.containerInfo),za(t),null;case 10:return Ei(t.type._context),za(t),null;case 19:if(ks($i),null===(o=t.memoizedState))return za(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qa(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ns($i,1&$i.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Hl&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!si)return za(t),null}else 2*Ye()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=$i.current,Ns($i,r?1&n|2:1&n),t):(za(t),null);case 22:case 23:return uA(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(za(t),6&t.subtreeFlags&&(t.flags|=8192)):za(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ga(e,t){switch(ti(t),t.tag){case 1:return Ts(t.type)&&js(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),ks(Ss),ks(_s),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(ks($i),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ks($i),null;case 4:return Xi(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return uA(),null;default:return null}}Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ta=function(){},ja=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Gi(qi.current);var i,o=null;switch(n){case"input":s=J(e,s),r=J(e,r),o=[];break;case"select":s=P({},s,{value:void 0}),r=P({},r,{value:void 0}),o=[];break;case"textarea":s=re(e,s),r=re(e,r),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ye(n,r),n=null,s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var l=s[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var A=r[c];if(l=null!=s?s[c]:void 0,r.hasOwnProperty(c)&&A!==l&&(null!=A||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||A&&A.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in A)A.hasOwnProperty(i)&&l[i]!==A[i]&&(n||(n={}),n[i]=A[i])}else n||(o||(o=[]),o.push(c,n)),n=A;else"dangerouslySetInnerHTML"===c?(A=A?A.__html:void 0,l=l?l.__html:void 0,null!=A&&l!==A&&(o=o||[]).push(c,A)):"children"===c?"string"!==typeof A&&"number"!==typeof A||(o=o||[]).push(c,""+A):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=A&&"onScroll"===c&&Dr("scroll",e),o||l===A||(o=[])):(o=o||[]).push(c,A))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Xa=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Za=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){BA(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){BA(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[hs],delete t[ps],delete t[gs],delete t[ms])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:Xa||$a(n,t);case 6:var r=cl,s=ul;cl=null,dl(e,t,n),ul=s,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Ht(e)):ls(cl,n.stateNode));break;case 4:r=cl,s=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=s;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),s=s.next}while(s!==r)}dl(e,t,n);break;case 1:if(!Xa&&($a(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){BA(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(e,t,n),Xa=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach(function(t){var r=_A.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(i(160));hl(o,a,s),cl=null,ul=!1;var A=s.alternate;null!==A&&(A.return=null),s.return=null}catch(c){BA(s,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){BA(e,e.return,g)}try{nl(5,e,e.return)}catch(g){BA(e,e.return,g)}}break;case 1:pl(t,e),ml(e),512&r&&null!==n&&$a(n,n.return);break;case 5:if(pl(t,e),ml(e),512&r&&null!==n&&$a(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(g){BA(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,A=e.updateQueue;if(e.updateQueue=null,null!==A)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(s,o),ve(l,a);var c=ve(l,o);for(a=0;a<A.length;a+=2){var u=A[a],d=A[a+1];"style"===u?ge(s,d):"dangerouslySetInnerHTML"===u?ue(s,d):"children"===u?de(s,d):v(s,u,d,c)}switch(l){case"input":Z(s,o);break;case"textarea":ie(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(s,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(s,!!o.multiple,o.defaultValue,!0):ne(s,!!o.multiple,o.multiple?[]:"",!1))}s[hs]=o}catch(g){BA(e,e.return,g)}}break;case 6:if(pl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){BA(e,e.return,g)}}break;case 3:if(pl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){BA(e,e.return,g)}break;case 4:default:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Ml=Ye())),4&r&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(c=Xa)||u,pl(t,e),Xa=c):pl(t,e),ml(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Za=e,u=e.child;null!==u;){for(d=Za=u;null!==Za;){switch(f=(h=Za).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:$a(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){BA(r,n,g)}}break;case 5:$a(h,h.return);break;case 22:if(null!==h.memoizedState){bl(d);continue}}null!==f?(f.return=h,Za=f):bl(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{s=d.stateNode,c?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(A=d.memoizedProps.style)&&null!==A&&A.hasOwnProperty("display")?A.display:null,l.style.display=pe("display",a))}catch(g){BA(e,e.return,g)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){BA(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pl(t,e),ml(e),4&r&&fl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),Al(e,al(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(i(161))}}catch(a){BA(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Za=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var s=Za,i=s.child;if(22===s.tag&&r){var o=null!==s.memoizedState||Ja;if(!o){var a=s.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ja;var A=Xa;if(Ja=o,(Xa=l)&&!A)for(Za=s;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?xl(s):null!==l?(l.return=o,Za=l):xl(s);for(;null!==i;)Za=i,vl(i,t,n),i=i.sibling;Za=s,Ja=a,Xa=A}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Za=i):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vi(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&n.focus();break;case"img":A.src&&(n.src=A.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(i(163))}Xa||512&t.flags&&sl(t)}catch(h){BA(t,t.return,h)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function bl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function xl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){BA(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){BA(t,s,l)}}var i=t.return;try{sl(t)}catch(l){BA(t,i,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){BA(t,o,l)}}}catch(l){BA(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Cl,Bl=Math.ceil,kl=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,_l=0,Sl=null,Fl=null,Il=0,Tl=0,jl=Bs(0),Ll=0,Ul=null,Ql=0,Pl=0,Ol=0,Dl=null,Rl=null,Ml=0,Hl=1/0,Vl=null,Kl=!1,ql=null,zl=null,Wl=!1,Gl=null,Jl=0,Xl=0,Yl=null,Zl=-1,$l=0;function eA(){return 0!==(6&_l)?Ye():-1!==Zl?Zl:Zl=Ye()}function tA(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Il?Il&-Il:null!==pi.transition?(0===$l&&($l=pt()),$l):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nA(e,t,n,r){if(50<Xl)throw Xl=0,Yl=null,Error(i(185));mt(e,n,r),0!==(2&_l)&&e===Sl||(e===Sl&&(0===(2&_l)&&(Pl|=n),4===Ll&&aA(e,Il)),rA(e,r),1===n&&0===_l&&0===(1&t.mode)&&(Hl=Ye()+500,Ds&&Hs()))}function rA(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),a=1<<o,l=s[o];-1===l?0!==(a&n)&&0===(a&r)||(s[o]=ht(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=dt(e,e===Sl?Il:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ds=!0,Ms(e)}(lA.bind(null,e)):Ms(lA.bind(null,e)),os(function(){0===(6&_l)&&Hs()}),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=SA(n,sA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sA(e,t){if(Zl=-1,$l=0,0!==(6&_l))throw Error(i(327));var n=e.callbackNode;if(xA()&&e.callbackNode!==n)return null;var r=dt(e,e===Sl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gA(e,r);else{t=r;var s=_l;_l|=2;var o=fA();for(Sl===e&&Il===t||(Vl=null,Hl=Ye()+500,dA(e,t));;)try{yA();break}catch(l){hA(e,l)}Ni(),kl.current=o,_l=s,null!==Fl?t=0:(Sl=null,Il=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=iA(e,s))),1===t)throw n=Ul,dA(e,0),aA(e,r),rA(e,Ye()),n;if(6===t)aA(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gA(e,r))&&(0!==(o=ft(e))&&(r=o,t=iA(e,o))),1===t))throw n=Ul,dA(e,0),aA(e,r),rA(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:bA(e,Rl,Vl);break;case 3:if(aA(e,r),(130023424&r)===r&&10<(t=Ml+500-Ye())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){eA(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(bA.bind(null,e,Rl,Vl),t);break}bA(e,Rl,Vl);break;case 4:if(aA(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>s&&(s=a),r&=~o}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bl(r/1960))-r)){e.timeoutHandle=rs(bA.bind(null,e,Rl,Vl),r);break}bA(e,Rl,Vl);break;default:throw Error(i(329))}}}return rA(e,Ye()),e.callbackNode===n?sA.bind(null,e):null}function iA(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(dA(e,t).flags|=256),2!==(e=gA(e,t))&&(t=Rl,Rl=n,null!==t&&oA(t)),e}function oA(e){null===Rl?Rl=e:Rl.push.apply(Rl,e)}function aA(e,t){for(t&=~Ol,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lA(e){if(0!==(6&_l))throw Error(i(327));xA();var t=dt(e,0);if(0===(1&t))return rA(e,Ye()),null;var n=gA(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=iA(e,r))}if(1===n)throw n=Ul,dA(e,0),aA(e,t),rA(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bA(e,Rl,Vl),rA(e,Ye()),null}function AA(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Hl=Ye()+500,Ds&&Hs())}}function cA(e){null!==Gl&&0===Gl.tag&&0===(6&_l)&&xA();var t=_l;_l|=1;var n=El.transition,r=vt;try{if(El.transition=null,vt=1,e)return e()}finally{vt=r,El.transition=n,0===(6&(_l=t))&&Hs()}}function uA(){Tl=jl.current,ks(jl)}function dA(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&js();break;case 3:Xi(),ks(Ss),ks(_s),no();break;case 5:Zi(r);break;case 4:Xi();break;case 13:case 19:ks($i);break;case 10:Ei(r.type._context);break;case 22:case 23:uA()}n=n.return}if(Sl=e,Fl=e=jA(e.current,null),Il=Tl=t,Ll=0,Ul=null,Ol=Pl=Ql=0,Rl=Dl=null,null!==Ii){for(t=0;t<Ii.length;t++)if(null!==(r=(n=Ii[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=s,r.next=o}n.pending=r}Ii=null}return e}function hA(e,t){for(;;){var n=Fl;try{if(Ni(),ro.current=Zo,Ao){for(var r=oo.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}Ao=!1}if(io=0,lo=ao=oo=null,co=!1,uo=0,Nl.current=null,null===n||null===n.return){Ll=1,Ul=t,Fl=null;break}e:{var o=e,a=n.return,l=n,A=t;if(t=Il,l.flags|=32768,null!==A&&"object"===typeof A&&"function"===typeof A.then){var c=A,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,ma(f,a,l,0,t),1&f.mode&&pa(o,c,t),A=c;var p=(t=f).updateQueue;if(null===p){var g=new Set;g.add(A),t.updateQueue=g}else p.add(A);break e}if(0===(1&t)){pa(o,c,t),pA();break e}A=Error(i(426))}else if(si&&1&l.mode){var m=ga(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,l,0,t),fi(Aa(A,l));break e}}o=A=Aa(A,l),4!==Ll&&(Ll=2),null===Dl?Dl=[o]:Dl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Mi(o,ha(0,A,t));break e;case 1:l=A;var y=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===zl||!zl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Mi(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}wA(n)}catch(w){t=w,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function fA(){var e=kl.current;return kl.current=Zo,null===e?Zo:e}function pA(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Sl||0===(268435455&Ql)&&0===(268435455&Pl)||aA(Sl,Il)}function gA(e,t){var n=_l;_l|=2;var r=fA();for(Sl===e&&Il===t||(Vl=null,dA(e,t));;)try{mA();break}catch(s){hA(e,s)}if(Ni(),_l=n,kl.current=r,null!==Fl)throw Error(i(261));return Sl=null,Il=0,Ll}function mA(){for(;null!==Fl;)vA(Fl)}function yA(){for(;null!==Fl&&!Je();)vA(Fl)}function vA(e){var t=Cl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?wA(e):Fl=t,Nl.current=null}function wA(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wa(n,t,Tl)))return void(Fl=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Ll=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Ll&&(Ll=5)}function bA(e,t,n){var r=vt,s=El.transition;try{El.transition=null,vt=1,function(e,t,n,r){do{xA()}while(null!==Gl);if(0!==(6&_l))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,o),e===Sl&&(Fl=Sl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,SA(tt,function(){return xA(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var a=vt;vt=1;var l=_l;_l|=4,Nl.current=null,function(e,t){if(es=Kt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var a=0,l=-1,A=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==s&&3!==d.nodeType||(l=a+s),d!==o||0!==r&&3!==d.nodeType||(A=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++c===s&&(l=a),h===o&&++u===r&&(A=a),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===l||-1===A?null:{start:l,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Kt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(b){BA(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}p=tl,tl=!1}(e,n),gl(n,e),fr(ts),Kt=!!es,ts=es=null,e.current=n,yl(n,e,s),Xe(),_l=l,vt=a,El.transition=o}else e.current=n;if(Wl&&(Wl=!1,Gl=e,Jl=s),o=e.pendingLanes,0===o&&(zl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rA(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=ql,ql=null,e;0!==(1&Jl)&&0!==e.tag&&xA(),o=e.pendingLanes,0!==(1&o)?e===Yl?Xl++:(Xl=0,Yl=e):Xl=0,Hs()}(e,t,n,r)}finally{El.transition=s,vt=r}return null}function xA(){if(null!==Gl){var e=wt(Jl),t=El.transition,n=vt;try{if(El.transition=null,vt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Jl=0,0!==(6&_l))throw Error(i(331));var s=_l;for(_l|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var A=0;A<l.length;A++){var c=l[A];for(Za=c;null!==Za;){var u=Za;switch(u.tag){case 0:case 11:case 15:nl(8,u,o)}var d=u.child;if(null!==d)d.return=u,Za=d;else for(;null!==Za;){var h=(u=Za).sibling,f=u.return;if(il(u),u===c){Za=null;break}if(null!==h){h.return=f,Za=h;break}Za=f}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var v=e.current;for(Za=v;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=v;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){BA(l,l.return,x)}if(l===a){Za=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Za=b;break e}Za=l.return}}if(_l=s,Hs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(x){}r=!0}return r}finally{vt=n,El.transition=t}}return!1}function CA(e,t,n){e=Di(e,t=ha(0,t=Aa(n,t),1),1),t=eA(),null!==e&&(mt(e,1,t),rA(e,t))}function BA(e,t,n){if(3===e.tag)CA(e,e,n);else for(;null!==t;){if(3===t.tag){CA(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zl||!zl.has(r))){t=Di(t,e=fa(t,e=Aa(n,e),1),1),e=eA(),null!==t&&(mt(t,1,e),rA(t,e));break}}t=t.return}}function kA(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eA(),e.pingedLanes|=e.suspendedLanes&n,Sl===e&&(Il&n)===n&&(4===Ll||3===Ll&&(130023424&Il)===Il&&500>Ye()-Ml?dA(e,0):Ol|=n),rA(e,t)}function NA(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eA();null!==(e=Li(e,t))&&(mt(e,t,n),rA(e,n))}function EA(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),NA(e,n)}function _A(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),NA(e,n)}function SA(e,t){return We(e,t)}function FA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function IA(e,t,n,r){return new FA(e,t,n,r)}function TA(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jA(e,t){var n=e.alternate;return null===n?((n=IA(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function LA(e,t,n,r,s,o){var a=2;if(r=e,"function"===typeof e)TA(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return UA(n.children,s,o,t);case B:a=8,s|=8;break;case k:return(e=IA(12,n,t,2|s)).elementType=k,e.lanes=o,e;case S:return(e=IA(13,n,t,s)).elementType=S,e.lanes=o,e;case F:return(e=IA(19,n,t,s)).elementType=F,e.lanes=o,e;case j:return QA(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:a=10;break e;case E:a=9;break e;case _:a=11;break e;case I:a=14;break e;case T:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=IA(a,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function UA(e,t,n,r){return(e=IA(7,e,r,t)).lanes=n,e}function QA(e,t,n,r){return(e=IA(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function PA(e,t,n){return(e=IA(6,e,null,t)).lanes=n,e}function OA(e,t,n){return(t=IA(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DA(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function RA(e,t,n,r,s,i,o,a,l){return e=new DA(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=IA(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qi(i),e}function MA(e){if(!e)return Es;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ts(n))return Us(e,n,t)}return t}function HA(e,t,n,r,s,i,o,a,l){return(e=RA(n,r,!0,e,0,i,0,a,l)).context=MA(null),n=e.current,(i=Oi(r=eA(),s=tA(n))).callback=void 0!==t&&null!==t?t:null,Di(n,i,s),e.current.lanes=s,mt(e,s,r),rA(e,r),e}function VA(e,t,n,r){var s=t.current,i=eA(),o=tA(s);return n=MA(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Di(s,t,o))&&(nA(e,s,o,i),Ri(e,s,o)),o}function KA(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qA(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function zA(e,t){qA(e,t),(e=e.alternate)&&qA(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ss.current)va=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return va=!1,function(e,t,n){switch(t.tag){case 3:Sa(t),hi();break;case 5:Yi(t);break;case 1:Ts(t.type)&&Qs(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ns(xi,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ns($i,1&$i.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pa(e,t,n):(Ns($i,1&$i.current),null!==(e=Ka(e,t,n))?e.sibling:null);Ns($i,1&$i.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ns($i,$i.current),r)break;return null;case 22:case 23:return t.lanes=0,Ba(e,t,n)}return Ka(e,t,n)}(e,t,n);va=0!==(131072&e.flags)}else va=!1,si&&0!==(1048576&t.flags)&&$s(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var s=Is(t,_s.current);Si(t,n),s=go(null,t,r,e,s,n);var o=mo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ts(r)?(o=!0,Qs(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Qi(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,la(t,r,e,n),t=_a(null,t,r,!0,o,n)):(t.tag=0,si&&o&&ei(t),wa(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return TA(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===I)return 14}return 2}(r),e=na(r,e),s){case 0:t=Na(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=ba(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Na(e,t,r,s=t.elementType===r?s:na(r,s),n);case 1:return r=t.type,s=t.pendingProps,Ea(e,t,r,s=t.elementType===r?s:na(r,s),n);case 3:e:{if(Sa(t),null===e)throw Error(i(387));r=t.pendingProps,s=(o=t.memoizedState).element,Pi(e,t),Hi(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fa(e,t,r,n,s=Aa(Error(i(423)),t));break e}if(r!==s){t=Fa(e,t,r,n,s=Aa(Error(i(424)),t));break e}for(ri=As(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=bi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===s){t=Ka(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Yi(t),null===e&&Ai(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,ns(r,s)?a=null:null!==o&&ns(r,o)&&(t.flags|=32),ka(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&Ai(t),null;case 13:return Pa(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,ba(e,t,r,s=t.elementType===r?s:na(r,s),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Ns(xi,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===s.children&&!Ss.current){t=Ka(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var A=l.firstContext;null!==A;){if(A.context===r){if(1===o.tag){(A=Oi(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?A.next=A:(A.next=u.next,u.next=A),c.pending=A}}o.lanes|=n,null!==(A=o.alternate)&&(A.lanes|=n),_i(o.return,n,t),l.lanes|=n;break}A=A.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),_i(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Si(t,n),r=r(s=Fi(s)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return s=na(r=t.type,t.pendingProps),xa(e,t,r,s=na(r.type,s),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:na(r,s),Va(e,t),t.tag=1,Ts(r)?(e=!0,Qs(t)):e=!1,Si(t,n),oa(t,r,s),la(t,r,s,n),_a(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return Ba(e,t,n)}throw Error(i(156,t.tag))};var WA="function"===typeof reportError?reportError:function(e){console.error(e)};function GA(e){this._internalRoot=e}function JA(e){this._internalRoot=e}function XA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function YA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ZA(){}function $A(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof s){var a=s;s=function(){var e=KA(o);a.call(e)}}VA(t,o,e,s)}else o=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=KA(o);i.call(e)}}var o=HA(t,r,e,0,null,!1,0,"",ZA);return e._reactRootContainer=o,e[fs]=o.current,Hr(8===e.nodeType?e.parentNode:e),cA(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var a=r;r=function(){var e=KA(l);a.call(e)}}var l=RA(e,0,!1,null,0,!1,0,"",ZA);return e._reactRootContainer=l,e[fs]=l.current,Hr(8===e.nodeType?e.parentNode:e),cA(function(){VA(t,l,n,r)}),l}(n,t,e,s,r);return KA(o)}JA.prototype.render=GA.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));VA(e,t,null,null)},JA.prototype.unmount=GA.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cA(function(){VA(null,e,null,null)}),t[fs]=null}},JA.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Pt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rA(t,Ye()),0===(6&_l)&&(Hl=Ye()+500,Hs()))}break;case 13:cA(function(){var t=Li(e,1);if(null!==t){var n=eA();nA(t,e,1,n)}}),zA(e,1)}},xt=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)nA(t,e,134217728,eA());zA(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tA(e),n=Li(e,t);if(null!==n)nA(n,e,t,eA());zA(e,t)}},Bt=function(){return vt},kt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bs(r);if(!s)throw Error(i(90));W(r),Z(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=AA,Se=cA;var ec={usingClientEntryPoint:!1,Events:[vs,ws,bs,Ne,Ee,AA]},tc={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{st=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!XA(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!XA(e))throw Error(i(299));var n=!1,r="",s=WA;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=RA(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,Hr(8===e.nodeType?e.parentNode:e),new GA(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cA(e)},t.hydrate=function(e,t,n){if(!YA(t))throw Error(i(200));return $A(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!XA(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,o="",a=WA;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=HA(t,null,e,1,null!=n?n:null,s,0,o,a),e[fs]=t.current,Hr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new JA(t)},t.render=function(e,t,n){if(!YA(t))throw Error(i(200));return $A(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!YA(e))throw Error(i(40));return!!e._reactRootContainer&&(cA(function(){$A(null,null,e,!1,function(){e._reactRootContainer=null,e[fs]=null})}),!0)},t.unstable_batchedUpdates=AA,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!YA(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return $A(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},3216:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>h,BV:()=>Q,Ix:()=>U,V8:()=>j,Zp:()=>m,g:()=>y,jb:()=>A,qh:()=>L,x$:()=>v,zy:()=>p});var s=n(5043),i=n(1387);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const a=s.createContext(null);const l=s.createContext(null);const A=s.createContext(null);const c=s.createContext(null);const u=s.createContext({outlet:null,matches:[],isDataRoute:!1});const d=s.createContext(null);function h(e,t){let{relative:n}=void 0===t?{}:t;f()||(0,i.Oi)(!1);let{basename:r,navigator:o}=s.useContext(A),{hash:a,pathname:l,search:c}=v(e,{relative:n}),u=l;return"/"!==r&&(u="/"===l?r:(0,i.HS)([r,l])),o.createHref({pathname:u,search:c,hash:a})}function f(){return null!=s.useContext(c)}function p(){return f()||(0,i.Oi)(!1),s.useContext(c).location}function g(e){s.useContext(A).static||s.useLayoutEffect(e)}function m(){let{isDataRoute:e}=s.useContext(u);return e?function(){let{router:e}=_(N.UseNavigateStable),t=F(E.UseNavigateStable),n=s.useRef(!1);return g(()=>{n.current=!0}),s.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,o({fromRouteId:t},s)))},[e,t])}():function(){f()||(0,i.Oi)(!1);let e=s.useContext(a),{basename:t,future:n,navigator:r}=s.useContext(A),{matches:o}=s.useContext(u),{pathname:l}=p(),c=JSON.stringify((0,i.yD)(o,n.v7_relativeSplatPath)),d=s.useRef(!1);return g(()=>{d.current=!0}),s.useCallback(function(n,s){if(void 0===s&&(s={}),!d.current)return;if("number"===typeof n)return void r.go(n);let o=(0,i.Gh)(n,JSON.parse(c),l,"path"===s.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:(0,i.HS)([t,o.pathname])),(s.replace?r.replace:r.push)(o,s.state,s)},[t,r,c,l,e])}()}function y(){let{matches:e}=s.useContext(u),t=e[e.length-1];return t?t.params:{}}function v(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(A),{matches:o}=s.useContext(u),{pathname:a}=p(),l=JSON.stringify((0,i.yD)(o,r.v7_relativeSplatPath));return s.useMemo(()=>(0,i.Gh)(e,JSON.parse(l),a,"path"===n),[e,l,a,n])}function w(e,t,n,r){f()||(0,i.Oi)(!1);let{navigator:a}=s.useContext(A),{matches:l}=s.useContext(u),d=l[l.length-1],h=d?d.params:{},g=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let m,y=p();if(t){var v;let e="string"===typeof t?(0,i.Rr)(t):t;"/"===g||(null==(v=e.pathname)?void 0:v.startsWith(g))||(0,i.Oi)(!1),m=e}else m=y;let w=m.pathname||"/",b=w;if("/"!==g){let e=g.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=(0,i.ue)(e,{pathname:b});let C=k(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:(0,i.HS)([g,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,i.HS)([g,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r);return t&&C?s.createElement(c.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:i.rc.Pop}},C):C}function b(){let e=function(){var e;let t=s.useContext(d),n=S(E.UseRouteError),r=F(E.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,i.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:o},n):null,null)}const x=s.createElement(b,null);class C extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(u.Provider,{value:this.props.routeContext},s.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(a);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(u.Provider,{value:t},r)}function k(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,A=null==(o=n)?void 0:o.errors;if(null!=A){let e=l.findIndex(e=>e.route.id&&void 0!==(null==A?void 0:A[e.route.id]));e>=0||(0,i.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<l.length;s++){let e=l[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,r,i)=>{let o,a=!1,d=null,h=null;var f;n&&(o=A&&r.route.id?A[r.route.id]:void 0,d=r.route.errorElement||x,c&&(u<0&&0===i?(f="route-fallback",!1||I[f]||(I[f]=!0),a=!0,h=null):u===i&&(a=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(l.slice(0,i+1)),g=()=>{let t;return t=o?d:a?h:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(B,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(C,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var N=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(N||{}),E=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E||{});function _(e){let t=s.useContext(a);return t||(0,i.Oi)(!1),t}function S(e){let t=s.useContext(l);return t||(0,i.Oi)(!1),t}function F(e){let t=function(){let e=s.useContext(u);return e||(0,i.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,i.Oi)(!1),n.route.id}const I={};const T=(e,t,n)=>{};function j(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&T("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&void 0!==t.v7_relativeSplatPath||T("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&T("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&T("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&T("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&T("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(r||(r=n.t(s,2))).startTransition;function L(e){(0,i.Oi)(!1)}function U(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.rc.Pop,navigator:l,static:u=!1,future:d}=e;f()&&(0,i.Oi)(!1);let h=t.replace(/^\/*/,"/"),p=s.useMemo(()=>({basename:h,navigator:l,static:u,future:o({v7_relativeSplatPath:!1},d)}),[h,d,l,u]);"string"===typeof r&&(r=(0,i.Rr)(r));let{pathname:g="/",search:m="",hash:y="",state:v=null,key:w="default"}=r,b=s.useMemo(()=>{let e=(0,i.pb)(g,h);return null==e?null:{location:{pathname:e,search:m,hash:y,state:v,key:w},navigationType:a}},[h,g,m,y,v,w,a]);return null==b?null:s.createElement(A.Provider,{value:p},s.createElement(c.Provider,{children:n,value:b}))}function Q(e){let{children:t,location:n}=e;return w(P(t),n)}new Promise(()=>{});s.Component;function P(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let o=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,P(e.props.children,o));e.type!==L&&(0,i.Oi)(!1),e.props.index&&e.props.children&&(0,i.Oi)(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=P(e.props.children,o)),n.push(a)}),n}},3441:(e,t,n)=>{"use strict";n.d(t,{k5:()=>h});var r=n(5043),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(s),o=["attr","size","title"];function a(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return e&&e.map((e,t)=>r.createElement(e.tag,c({key:t},e.attr),d(e.child)))}function h(e){return t=>r.createElement(f,l({attr:c({},e.attr)},t),d(e.child))}function f(e){var t=t=>{var n,{attr:s,size:i,title:A}=e,u=a(e,o),d=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,u,{className:n,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),A&&r.createElement("title",null,A),e.children)};return void 0!==i?r.createElement(i.Consumer,null,e=>t(e)):t(s)}},3611:(e,t,n)=>{"use strict";n.d(t,{jf:()=>Ls,Jt:()=>Rs,C3:()=>Xs,AU:()=>qs,yX:()=>Us,Zy:()=>Ks,VC:()=>Qs,KR:()=>js,TF:()=>Ps,hZ:()=>Os,yo:()=>Ds});var r=n(7150),s=n(8812),i=n(1529),o=n(443);const a="@firebase/database",l="1.0.20";let A="";function c(e){A=e}class u{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,i.As)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,i.$L)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class d{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,i.gR)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const h=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(t){}return new d},f=h("localStorage"),p=h("sessionStorage"),g=new o.Vy("@firebase/database"),m=function(){let e=1;return function(){return e++}}(),y=function(e){const t=(0,i.kj)(e),n=new i.gz;n.update(t);const r=n.digest();return i.K3.encodeByteArray(r)},v=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=v.apply(null,n):e+="object"===typeof n?(0,i.As)(n):n,e+=" "}return e};let w=null,b=!0;const x=function(e,t){(0,i.vA)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=o.$b.VERBOSE,w=g.log.bind(g),t&&p.set("logging_enabled",!0)):"function"===typeof e?w=e:(w=null,p.remove("logging_enabled"))},C=function(){if(!0===b&&(b=!1,null===w&&!0===p.get("logging_enabled")&&x(!0)),w){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=v.apply(null,t);w(r)}},B=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];C(e,...n)}},k=function(){const e="FIREBASE INTERNAL ERROR: "+v(...arguments);g.error(e)},N=function(){const e="FIREBASE FATAL ERROR: ".concat(v(...arguments));throw g.error(e),new Error(e)},E=function(){const e="FIREBASE WARNING: "+v(...arguments);g.warn(e)},_=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},S="[MIN_NAME]",F="[MAX_NAME]",I=function(e,t){if(e===t)return 0;if(e===S||t===F)return-1;if(t===S||e===F)return 1;{const n=D(e),r=D(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},T=function(e,t){return e===t?0:e<t?-1:1},j=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,i.As)(t))},L=function(e){if("object"!==typeof e||null===e)return(0,i.As)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,i.As)(t[r]),n+=":",n+=L(e[t[r]]);return n+="}",n},U=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let s=0;s<n;s+=t)s+t>n?r.push(e.substring(s,n)):r.push(e.substring(s,s+t));return r};function Q(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const P=function(e){(0,i.vA)(!_(e),"Invalid JSON number");const t=1023;let n,r,s,o,a;0===e?(r=0,s=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,s=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,s=Math.round(e/Math.pow(2,-1074))));const l=[];for(a=52;a;a-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(a=11;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);l.push(n?1:0),l.reverse();const A=l.join("");let c="";for(a=0;a<64;a+=8){let e=parseInt(A.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const O=new RegExp("^-?(0*)\\d{1,10}$"),D=function(e){if(O.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},R=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw E("Exception was thrown by user callback.",e),t},Math.floor(0))}},M=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class H{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,(0,r.xZ)(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){E('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class V{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',E(e)}}class K{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}K.OWNER="owner";const q="5",z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W="ac",G="websocket",J="long_polling";class X{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Y(e,t,n){let r;if((0,i.vA)("string"===typeof t,"typeof type must == string"),(0,i.vA)("object"===typeof n,"typeof params must == object"),t===G)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==J)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const s=[];return Q(n,(e,t)=>{s.push(e+"="+t)}),r+s.join("&")}class Z{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,i.gR)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,i.A4)(this.counters_)}}const $={},ee={};function te(e){const t=e.toString();return $[t]||($[t]=new Z),$[t]}class ne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&R(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const re="start";class se{constructor(e,t,n,r,s,i,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.transportSessionId=i,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=B(e),this.stats_=te(t),this.urlFn=e=>(this.appCheckToken&&(e[W]=this.appCheckToken),Y(t,J,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,i.$g)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ie(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[s,i,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,s===re)n.id=i,n.password=o;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[s,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(s,i)},()=>{this.onClosed_()},this.urlFn);const e={};e[re]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=q,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[W]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&z.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){se.forceAllow_=!0}static forceDisallow(){se.forceDisallow_=!0}static isAvailable(){return!(0,i.$g)()&&(!!se.forceAllow_||!se.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,i.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,i.KA)(t),r=U(n,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,i.$g)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,i.As)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ie{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,i.$g)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ie.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(s){C("frame writing exception"),s.stack&&C(s.stack),C(s)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,i.$g)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{C("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let oe=null;"undefined"!==typeof MozWebSocket?oe=MozWebSocket:"undefined"!==typeof WebSocket&&(oe=WebSocket);class ae{constructor(e,t,n,r,s,i,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=B(this.connId),this.stats_=te(t),this.connURL=ae.connectionURL_(t,i,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,s){const o={};return o.v=q,!(0,i.$g)()&&"undefined"!==typeof location&&location.hostname&&z.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[W]=r),s&&(o.p=s),Y(e,G,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{let e;if((0,i.$g)()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(q,"/").concat(A,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new oe(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ae.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==oe&&!ae.forceDisallow_}static previouslyFailed(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")}markConnectionHealthy(){f.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,i.$L)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,i.vA)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,i.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=U(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ae.responsesRequiredToBeHealthy=2,ae.healthyTimeout=3e4;class le{static get ALL_TRANSPORTS(){return[se,ae]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=ae&&ae.isAvailable();let n=t&&!ae.previouslyFailed();if(e.webSocketOnly&&(t||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ae];else{const e=this.transports_=[];for(const t of le.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);le.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}le.globalTransportInitialized_=!1;class Ae{constructor(e,t,n,r,s,i,o,a,l,A){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=i,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=B("c:"+this.id+":"),this.transportManager_=new le(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=M(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=j("t",e),n=j("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=j("t",e),n=j("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=j("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?k("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),q!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),M(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):M(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ce{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class ue{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,i.vA)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<s.length;e++)s[e].callback.apply(s[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!n||n===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,i.vA)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class de extends ue{static getInstance(){return new de}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,i.jZ)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return(0,i.vA)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class he{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function fe(){return new he("")}function pe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ge(e){return e.pieces_.length-e.pieceNum_}function me(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new he(e.pieces_,t)}function ye(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new he(t,0)}function be(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof he)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new he(n,0)}function xe(e){return e.pieceNum_>=e.pieces_.length}function Ce(e,t){const n=pe(e),r=pe(t);if(null===n)return t;if(n===r)return Ce(me(e),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Be(e,t){const n=ve(e,0),r=ve(t,0);for(let s=0;s<n.length&&s<r.length;s++){const e=I(n[s],r[s]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function ke(e,t){if(ge(e)!==ge(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ne(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ge(e)>ge(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Ee{constructor(e,t){this.errorPrefix_=t,this.parts_=ve(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,i.OE)(this.parts_[n]);_e(this)}}function _e(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Se(e))}function Se(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Fe extends ue{static getInstance(){return new Fe}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return(0,i.vA)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ie=1e3;class Te extends ce{constructor(e,t,n,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Te.nextPersistentConnectionId_++,this.log_=B("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ie,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,i.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Fe.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&de.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,s={r:r,a:e,b:t};this.log_((0,i.As)(s)),(0,i.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new i.cY,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),(0,i.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,i.vA)(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const s={p:n};e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,s=>{const i=s.d,o=s.s;Te.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",s),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,i))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&(0,i.gR)(e,"w")){const n=(0,i.yw)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();E("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,i.qc)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,i.Cv)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,i.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const s={p:e};r&&(s.q=n,s.t=r),this.sendRequest("n",s)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const s={p:t,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,s){this.initConnection_();const i={p:t,d:n};void 0!==s&&(i.h=s),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,i.As)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+(0,i.As)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,i.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ie,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ie,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ie),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Te.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,n())},A=function(e){(0,i.vA)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:A};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[i,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=i&&i.accessToken,this.appCheckToken_=l&&l.token,a=new Ae(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{E(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},s))}catch(k){this.log_("Failed to get token: "+k),o||(this.repoInfo_.nodeAdmin&&E(k),l())}}}interrupt(e){C("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){C("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,i.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Ie,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>L(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new he(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){C("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){C("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,i.$g)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+A.replace(/\./g,"-")]=1,(0,i.jZ)()?e["framework.cordova"]=1:(0,i.lV)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=de.getInstance().currentlyOnline();return(0,i.Im)(this.interruptReasons_)&&e}}Te.nextPersistentConnectionId_=0,Te.nextConnectionId_=0;class je{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new je(e,t)}}class Le{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new je(S,e),r=new je(S,t);return 0!==this.compare(n,r)}minPost(){return je.MIN}}let Ue;class Qe extends Le{static get __EMPTY_NODE(){return Ue}static set __EMPTY_NODE(e){Ue=e}compare(e,t){return I(e.name,t.name)}isDefinedOn(e){throw(0,i.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return je.MIN}maxPost(){return new je(F,Ue)}makePost(e,t){return(0,i.vA)("string"===typeof e,"KeyIndex indexValue must always be a string."),new je(e,Ue)}toString(){return".key"}}const Pe=new Qe;class Oe{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class De{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:De.RED,this.left=null!=r?r:Re.EMPTY_NODE,this.right=null!=s?s:Re.EMPTY_NODE}copy(e,t,n,r,s){return new De(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Re.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Re.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}De.RED=!0,De.BLACK=!1;class Re{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Re(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,De.BLACK,null,null))}remove(e){return new Re(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,De.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oe(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Oe(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Oe(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Oe(this.root_,null,this.comparator_,!0,e)}}function Me(e,t){return I(e.name,t.name)}function He(e,t){return I(e,t)}let Ve;Re.EMPTY_NODE=new class{copy(e,t,n,r,s){return this}insert(e,t,n){return new De(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ke=function(e){return"number"===typeof e?"number:"+P(e):"string:"+e},qe=function(e){if(e.isLeafNode()){const t=e.val();(0,i.vA)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,i.gR)(t,".sv"),"Priority must be a string or number.")}else(0,i.vA)(e===Ve||e.isEmpty(),"priority of unexpected type.");(0,i.vA)(e===Ve||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ze,We,Ge;class Je{static set __childrenNodeConstructor(e){ze=e}static get __childrenNodeConstructor(){return ze}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,i.vA)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),qe(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Je(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:".priority"===pe(e)?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=pe(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,i.vA)(".priority"!==n||1===ge(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ke(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?P(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Je.__childrenNodeConstructor?-1:((0,i.vA)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Je.VALUE_TYPE_ORDER.indexOf(t),s=Je.VALUE_TYPE_ORDER.indexOf(n);return(0,i.vA)(r>=0,"Unknown leaf type: "+t),(0,i.vA)(s>=0,"Unknown leaf type: "+n),r===s?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Xe=new class extends Le{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),s=n.compareTo(r);return 0===s?I(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return je.MIN}maxPost(){return new je(F,new Je("[PRIORITY-POST]",Ge))}makePost(e,t){const n=We(e);return new je(t,new Je("[PRIORITY-POST]",n))}toString(){return".priority"}},Ye=Math.log(2);class Ze{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ye,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $e=function(e,t,n,r){e.sort(t);const s=function(t,r){const i=r-t;let o,a;if(0===i)return null;if(1===i)return o=e[t],a=n?n(o):o,new De(a,o.node,De.BLACK,null,null);{const l=parseInt(i/2,10)+t,A=s(t,l),c=s(l+1,r);return o=e[l],a=n?n(o):o,new De(a,o.node,De.BLACK,A,c)}},i=function(t){let r=null,i=null,o=e.length;const a=function(t,r){const i=o-t,a=o;o-=t;const A=s(i+1,a),c=e[i],u=n?n(c):c;l(new De(u,c.node,r,null,A))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,De.BLACK):(a(r,De.BLACK),a(r,De.RED))}return i}(new Ze(e.length));return new Re(r||t,i)};let et;const tt={};class nt{static get Default(){return(0,i.vA)(tt&&Xe,"ChildrenNode.ts has not been loaded"),et=et||new nt({".priority":tt},{".priority":Xe}),et}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=(0,i.yw)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Re?t:null}hasIndex(e){return(0,i.gR)(this.indexSet_,e.toString())}addIndex(e,t){(0,i.vA)(e!==Pe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const s=t.getIterator(je.Wrap);let o,a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=s.getNext();o=r?$e(n,e.getCompare()):tt;const l=e.toString(),A=Object.assign({},this.indexSet_);A[l]=e;const c=Object.assign({},this.indexes_);return c[l]=o,new nt(c,A)}addToIndexes(e,t){const n=(0,i.kH)(this.indexes_,(n,r)=>{const s=(0,i.yw)(this.indexSet_,r);if((0,i.vA)(s,"Missing index implementation for "+r),n===tt){if(s.isDefinedOn(e.node)){const n=[],r=t.getIterator(je.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),$e(n,s.getCompare())}return tt}{const r=t.get(e.name);let s=n;return r&&(s=s.remove(new je(e.name,r))),s.insert(e,e.node)}});return new nt(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,i.kH)(this.indexes_,n=>{if(n===tt)return n;{const r=t.get(e.name);return r?n.remove(new je(e.name,r)):n}});return new nt(n,this.indexSet_)}}let rt;class st{static get EMPTY_NODE(){return rt||(rt=new st(new Re(He),null,nt.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&qe(this.priorityNode_),this.children_.isEmpty()&&(0,i.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||rt}updatePriority(e){return this.children_.isEmpty()?this:new st(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?rt:t}}getChild(e){const t=pe(e);return null===t?this:this.getImmediateChild(t).getChild(me(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,i.vA)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new je(e,t);let r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?rt:this.priorityNode_;return new st(r,i,s)}}updateChild(e,t){const n=pe(e);if(null===n)return t;{(0,i.vA)(".priority"!==pe(e)||1===ge(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(me(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,s=!0;if(this.forEachChild(Xe,(i,o)=>{t[i]=o.val(e),n++,s&&st.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):s=!1}),!e&&s&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ke(this.getPriority().val())+":"),this.forEachChild(Xe,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new je(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new je(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new je(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,je.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,je.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===it?-1:0}withIndex(e){if(e===Pe||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new st(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Pe||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Xe),n=t.getIterator(Xe);let r=e.getNext(),s=n.getNext();for(;r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=e.getNext(),s=n.getNext()}return null===r&&null===s}return!1}return!1}}resolveIndex_(e){return e===Pe?null:this.indexMap_.get(e.toString())}}st.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const it=new class extends st{constructor(){super(new Re(He),st.EMPTY_NODE,nt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return st.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(je,{MIN:{value:new je(S,st.EMPTY_NODE)},MAX:{value:new je(F,it)}}),Qe.__EMPTY_NODE=st.EMPTY_NODE,Je.__childrenNodeConstructor=st,Ve=it,function(e){Ge=e}(it);const ot=!0;function at(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,i.vA)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Je(e,at(t))}if(e instanceof Array||!ot){let n=st.EMPTY_NODE;return Q(e,(t,r)=>{if((0,i.gR)(e,t)&&"."!==t.substring(0,1)){const e=at(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(at(t))}{const n=[];let r=!1;if(Q(e,(e,t)=>{if("."!==e.substring(0,1)){const s=at(t);s.isEmpty()||(r=r||!s.getPriority().isEmpty(),n.push(new je(e,s)))}}),0===n.length)return st.EMPTY_NODE;const s=$e(n,Me,e=>e.name,He);if(r){const e=$e(n,Xe.getCompare());return new st(s,at(t),new nt({".priority":e},{".priority":Xe}))}return new st(s,at(t),nt.Default)}}!function(e){We=e}(at);class lt extends Le{constructor(e){super(),this.indexPath_=e,(0,i.vA)(!xe(e)&&".priority"!==pe(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),s=n.compareTo(r);return 0===s?I(e.name,t.name):s}makePost(e,t){const n=at(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new je(t,r)}maxPost(){const e=st.EMPTY_NODE.updateChild(this.indexPath_,it);return new je(F,e)}toString(){return ve(this.indexPath_,0).join("/")}}const At=new class extends Le{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?I(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return je.MIN}maxPost(){return je.MAX}makePost(e,t){const n=at(e);return new je(t,n)}toString(){return".value"}};function ct(e){return{type:"value",snapshotNode:e}}function ut(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function dt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ht(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ft{constructor(e){this.index_=e}updateChild(e,t,n,r,s,o){(0,i.vA)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(dt(t,a)):(0,i.vA)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ut(t,n)):o.trackChildChange(ht(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Xe,(e,r)=>{t.hasChild(e)||n.trackChildChange(dt(e,r))}),t.isLeafNode()||t.forEachChild(Xe,(t,r)=>{if(e.hasChild(t)){const s=e.getImmediateChild(t);s.equals(r)||n.trackChildChange(ht(t,r,s))}else n.trackChildChange(ut(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class pt{constructor(e){this.indexedFilter_=new ft(e.getIndex()),this.index_=e.getIndex(),this.startPost_=pt.getStartPost_(e),this.endPost_=pt.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,s,i){return this.matches(new je(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,s,i)}updateFullNode(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);const s=this;return t.forEachChild(Xe,(e,t)=>{s.matches(new je(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class gt{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new pt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,s,i){return this.rangedFilter_.matches(new je(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,s,i):this.fullLimitUpdateChild_(e,t,n,s,i)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=st.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(st.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,s){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;(0,i.vA)(a.numChildren()===this.limit_,"");const l=new je(t,n),A=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let i=r.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=i&&(i.name===t||a.hasChild(i.name));)i=r.getChildAfterChild(this.index_,i,this.reverse_);const u=null==i?1:o(i,l);if(c&&!n.isEmpty()&&u>=0)return null!=s&&s.trackChildChange(ht(t,n,e)),a.updateImmediateChild(t,n);{null!=s&&s.trackChildChange(dt(t,e));const n=a.updateImmediateChild(t,st.EMPTY_NODE);return null!=i&&this.rangedFilter_.matches(i)?(null!=s&&s.trackChildChange(ut(i.name,i.node)),n.updateImmediateChild(i.name,i.node)):n}}return n.isEmpty()?e:c&&o(A,l)>=0?(null!=s&&(s.trackChildChange(dt(A.name,A.node)),s.trackChildChange(ut(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(A.name,st.EMPTY_NODE)):e}}class mt{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,i.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,i.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:S}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,i.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,i.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:F}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,i.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const e=new mt;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yt(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Xe?n="$priority":e.index_===At?n="$value":e.index_===Pe?n="$key":((0,i.vA)(e.index_ instanceof lt,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,i.As)(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=(0,i.As)(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+(0,i.As)(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=(0,i.As)(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+(0,i.As)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function vt(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Xe&&(t.i=e.index_.toString()),t}class wt extends ce{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,i.vA)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=B("p:rest:"),this.listens_={}}listen(e,t,n,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=wt.getListenId_(e,n),a={};this.listens_[o]=a;const l=yt(e._queryParams);this.restRequest_(s+".json",l,(e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(s,l,!1,n),(0,i.yw)(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=wt.getListenId_(e,t);delete this.listens_[n]}get(e){const t=yt(e._queryParams),n=e._path.toString(),r=new i.cY;return this.restRequest_(n+".json",t,(e,t)=>{let s=t;404===e&&(s=null,e=null),null===e?(this.onDataUpdate_(n,s,!1,null),r.resolve(s)):r.reject(new Error(s))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[s,o]=r;s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,i.Am)(t);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(n&&4===l.readyState){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let t=null;if(l.status>=200&&l.status<300){try{t=(0,i.$L)(l.responseText)}catch(e){E("Failed to parse JSON response for "+a+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&E("Got unsuccessful REST response for "+a+" Status: "+l.status),n(l.status);n=null}},l.open("GET",a,!0),l.send()})}}class bt{constructor(){this.rootNode_=st.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xt(){return{value:null,children:new Map}}function Ct(e,t,n){if(xe(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=pe(t);e.children.has(r)||e.children.set(r,xt());Ct(e.children.get(r),t=me(t),n)}}function Bt(e,t){if(xe(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Xe,(t,n)=>{Ct(e,new he(t),n)}),Bt(e,t)}}if(e.children.size>0){const n=pe(t);if(t=me(t),e.children.has(n)){Bt(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function kt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{kt(r,new he(t.toString()+"/"+e),n)})}class Nt{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Q(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Et{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Nt(e);const n=1e4+2e4*Math.random();M(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Q(e,(e,r)=>{r>0&&(0,i.gR)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),M(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _t;function St(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_t||(_t={}));class Ft{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=_t.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(xe(this.path)){if(null!=this.affectedTree.value)return(0,i.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new he(e));return new Ft(fe(),t,this.revert)}}return(0,i.vA)(pe(this.path)===e,"operationForChild called for unrelated child."),new Ft(me(this.path),this.affectedTree,this.revert)}}class It{constructor(e,t){this.source=e,this.path=t,this.type=_t.LISTEN_COMPLETE}operationForChild(e){return xe(this.path)?new It(this.source,fe()):new It(this.source,me(this.path))}}class Tt{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=_t.OVERWRITE}operationForChild(e){return xe(this.path)?new Tt(this.source,fe(),this.snap.getImmediateChild(e)):new Tt(this.source,me(this.path),this.snap)}}class jt{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=_t.MERGE}operationForChild(e){if(xe(this.path)){const t=this.children.subtree(new he(e));return t.isEmpty()?null:t.value?new Tt(this.source,fe(),t.value):new jt(this.source,fe(),t)}return(0,i.vA)(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jt(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Lt{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const t=pe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ut{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Qt(e,t,n,r,s,o){const a=r.filter(e=>e.type===n);a.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,i.Hk)("Should only compare child_ events.");const r=new je(t.childName,t.snapshotNode),s=new je(n.childName,n.snapshotNode);return e.index_.compare(r,s)}(e,t,n)),a.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);s.forEach(s=>{s.respondsTo(n.type)&&t.push(s.createEvent(r,e.query_))})})}function Pt(e,t){return{eventCache:e,serverCache:t}}function Ot(e,t,n,r){return Pt(new Lt(t,n,r),e.serverCache)}function Dt(e,t,n,r){return Pt(e.eventCache,new Lt(t,n,r))}function Rt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Mt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ht;class Vt{static fromObject(e){let t=new Vt(null);return Q(e,(e,n)=>{t=t.set(new he(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ht||(Ht=new Re(T)),Ht);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:fe(),value:this.value};if(xe(e))return null;{const n=pe(e),r=this.children.get(n);if(null!==r){const s=r.findRootMostMatchingPathAndValue(me(e),t);if(null!=s){return{path:be(new he(n),s.path),value:s.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const t=pe(e),n=this.children.get(t);return null!==n?n.subtree(me(e)):new Vt(null)}}set(e,t){if(xe(e))return new Vt(t,this.children);{const n=pe(e),r=(this.children.get(n)||new Vt(null)).set(me(e),t),s=this.children.insert(n,r);return new Vt(this.value,s)}}remove(e){if(xe(e))return this.children.isEmpty()?new Vt(null):new Vt(null,this.children);{const t=pe(e),n=this.children.get(t);if(n){const r=n.remove(me(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Vt(null):new Vt(this.value,s)}return this}}get(e){if(xe(e))return this.value;{const t=pe(e),n=this.children.get(t);return n?n.get(me(e)):null}}setTree(e,t){if(xe(e))return t;{const n=pe(e),r=(this.children.get(n)||new Vt(null)).setTree(me(e),t);let s;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Vt(this.value,s)}}fold(e){return this.fold_(fe(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,s)=>{n[r]=s.fold_(be(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,fe(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(xe(e))return null;{const r=pe(e),s=this.children.get(r);return s?s.findOnPath_(me(e),be(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,fe(),t)}foreachOnPath_(e,t,n){if(xe(e))return this;{this.value&&n(t,this.value);const r=pe(e),s=this.children.get(r);return s?s.foreachOnPath_(me(e),be(t,r),n):new Vt(null)}}foreach(e){this.foreach_(fe(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(be(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new Vt(null))}}function qt(e,t,n){if(xe(t))return new Kt(new Vt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const s=r.path;let i=r.value;const o=Ce(s,t);return i=i.updateChild(o,n),new Kt(e.writeTree_.set(s,i))}{const r=new Vt(n),s=e.writeTree_.setTree(t,r);return new Kt(s)}}}function zt(e,t,n){let r=e;return Q(n,(e,n)=>{r=qt(r,be(t,e),n)}),r}function Wt(e,t){if(xe(t))return Kt.empty();{const n=e.writeTree_.setTree(t,new Vt(null));return new Kt(n)}}function Gt(e,t){return null!=Jt(e,t)}function Jt(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ce(n.path,t)):null}function Xt(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Xe,(e,n)=>{t.push(new je(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new je(e,n.value))}),t}function Yt(e,t){if(xe(t))return e;{const n=Jt(e,t);return new Kt(null!=n?new Vt(n):e.writeTree_.subtree(t))}}function Zt(e){return e.writeTree_.isEmpty()}function $t(e,t){return en(fe(),e.writeTree_,t)}function en(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,s)=>{".priority"===t?((0,i.vA)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=en(be(e,t),s,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(be(e,".priority"),r)),n}}function tn(e,t){return pn(t,e)}function nn(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,i.vA)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let s=r.visible,o=!1,a=e.allWrites.length-1;for(;s&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&rn(t,r.path)?s=!1:Ne(r.path,t.path)&&(o=!0)),a--}if(s){if(o)return function(e){e.visibleWrites=on(e.allWrites,sn,fe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Wt(e.visibleWrites,r.path);else{Q(r.children,t=>{e.visibleWrites=Wt(e.visibleWrites,be(r.path,t))})}return!0}return!1}function rn(e,t){if(e.snap)return Ne(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ne(be(e.path,n),t))return!0;return!1}function sn(e){return e.visible}function on(e,t,n){let r=Kt.empty();for(let s=0;s<e.length;++s){const o=e[s];if(t(o)){const e=o.path;let t;if(o.snap)Ne(n,e)?(t=Ce(n,e),r=qt(r,t,o.snap)):Ne(e,n)&&(t=Ce(e,n),r=qt(r,fe(),o.snap.getChild(t)));else{if(!o.children)throw(0,i.Hk)("WriteRecord should have .snap or .children");if(Ne(n,e))t=Ce(n,e),r=zt(r,t,o.children);else if(Ne(e,n))if(t=Ce(e,n),xe(t))r=zt(r,fe(),o.children);else{const e=(0,i.yw)(o.children,pe(t));if(e){const n=e.getChild(me(t));r=qt(r,fe(),n)}}}}}return r}function an(e,t,n,r,s){if(r||s){const i=Yt(e.visibleWrites,t);if(!s&&Zt(i))return n;if(s||null!=n||Gt(i,fe())){const i=function(e){return(e.visible||s)&&(!r||!~r.indexOf(e.writeId))&&(Ne(e.path,t)||Ne(t,e.path))};return $t(on(e.allWrites,i,t),n||st.EMPTY_NODE)}return null}{const r=Jt(e.visibleWrites,t);if(null!=r)return r;{const r=Yt(e.visibleWrites,t);if(Zt(r))return n;if(null!=n||Gt(r,fe())){return $t(r,n||st.EMPTY_NODE)}return null}}}function ln(e,t,n,r){return an(e.writeTree,e.treePath,t,n,r)}function An(e,t){return function(e,t,n){let r=st.EMPTY_NODE;const s=Jt(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Xe,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const s=Yt(e.visibleWrites,t);return n.forEachChild(Xe,(e,t)=>{const n=$t(Yt(s,new he(e)),t);r=r.updateImmediateChild(e,n)}),Xt(s).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Xt(Yt(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function cn(e,t,n,r){return function(e,t,n,r,s){(0,i.vA)(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=be(t,n);if(Gt(e.visibleWrites,o))return null;{const t=Yt(e.visibleWrites,o);return Zt(t)?s.getChild(n):$t(t,s.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function un(e,t){return function(e,t){return Jt(e.visibleWrites,t)}(e.writeTree,be(e.treePath,t))}function dn(e,t,n,r,s,i){return function(e,t,n,r,s,i,o){let a;const l=Yt(e.visibleWrites,t),A=Jt(l,fe());if(null!=A)a=A;else{if(null==n)return[];a=$t(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<s;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,s,i)}function hn(e,t,n){return function(e,t,n,r){const s=be(t,n),i=Jt(e.visibleWrites,s);if(null!=i)return i;if(r.isCompleteForChild(n))return $t(Yt(e.visibleWrites,s),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function fn(e,t){return pn(be(e.treePath,t),e.writeTree)}function pn(e,t){return{treePath:e,writeTree:t}}class gn{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,i.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,i.vA)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(n,ht(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(n,dt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(n,ut(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,i.Hk)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ht(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const mn=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class yn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Lt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hn(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mt(this.viewCache_),s=dn(this.writes_,r,t,1,n,e);return 0===s.length?null:s[0]}}function vn(e,t,n,r,s){const o=new gn;let a,l;if(n.type===_t.OVERWRITE){const A=n;A.source.fromUser?a=xn(e,t,A.path,A.snap,r,s,o):((0,i.vA)(A.source.fromServer,"Unknown source."),l=A.source.tagged||t.serverCache.isFiltered()&&!xe(A.path),a=bn(e,t,A.path,A.snap,r,s,l,o))}else if(n.type===_t.MERGE){const A=n;A.source.fromUser?a=function(e,t,n,r,s,i,o){let a=t;return r.foreach((r,l)=>{const A=be(n,r);Cn(t,pe(A))&&(a=xn(e,a,A,l,s,i,o))}),r.foreach((r,l)=>{const A=be(n,r);Cn(t,pe(A))||(a=xn(e,a,A,l,s,i,o))}),a}(e,t,A.path,A.children,r,s,o):((0,i.vA)(A.source.fromServer,"Unknown source."),l=A.source.tagged||t.serverCache.isFiltered(),a=kn(e,t,A.path,A.children,r,s,l,o))}else if(n.type===_t.ACK_USER_WRITE){const l=n;a=l.revert?function(e,t,n,r,s,o){let a;if(null!=un(r,n))return t;{const l=new yn(r,t,s),A=t.eventCache.getNode();let c;if(xe(n)||".priority"===pe(n)){let n;if(t.serverCache.isFullyInitialized())n=ln(r,Mt(t));else{const e=t.serverCache.getNode();(0,i.vA)(e instanceof st,"serverChildren would be complete if leaf node"),n=An(r,e)}c=e.filter.updateFullNode(A,n,o)}else{const s=pe(n);let i=hn(r,s,t.serverCache);null==i&&t.serverCache.isCompleteForChild(s)&&(i=A.getImmediateChild(s)),c=null!=i?e.filter.updateChild(A,s,i,me(n),l,o):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(A,s,st.EMPTY_NODE,me(n),l,o):A,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=ln(r,Mt(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=un(r,fe()),Ot(t,c,a,e.filter.filtersNodes())}}(e,t,l.path,r,s,o):function(e,t,n,r,s,i,o){if(null!=un(s,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return bn(e,t,n,l.getNode().getChild(n),s,i,a,o);if(xe(n)){let r=new Vt(null);return l.getNode().forEachChild(Pe,(e,t)=>{r=r.set(new he(e),t)}),kn(e,t,n,r,s,i,a,o)}return t}{let A=new Vt(null);return r.foreach((e,t)=>{const r=be(n,e);l.isCompleteForPath(r)&&(A=A.set(e,l.getNode().getChild(r)))}),kn(e,t,n,A,s,i,a,o)}}(e,t,l.path,l.affectedTree,r,s,o)}else{if(n.type!==_t.LISTEN_COMPLETE)throw(0,i.Hk)("Unknown operation type: "+n.type);a=function(e,t,n,r,s){const i=t.serverCache,o=Dt(t,i.getNode(),i.isFullyInitialized()||xe(n),i.isFiltered());return wn(e,o,n,r,mn,s)}(e,t,n.path,r,o)}const A=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Rt(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(ct(Rt(t)))}}(t,a,A),{viewCache:a,changes:A}}function wn(e,t,n,r,s,o){const a=t.eventCache;if(null!=un(r,n))return t;{let l,A;if(xe(n))if((0,i.vA)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Mt(t),s=An(r,n instanceof st?n:st.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),s,o)}else{const n=ln(r,Mt(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=pe(n);if(".priority"===c){(0,i.vA)(1===ge(n),"Can't have a priority with additional path components");const s=a.getNode();A=t.serverCache.getNode();const o=cn(r,n,s,A);l=null!=o?e.filter.updatePriority(s,o):a.getNode()}else{const i=me(n);let u;if(a.isCompleteForChild(c)){A=t.serverCache.getNode();const e=cn(r,n,a.getNode(),A);u=null!=e?a.getNode().getImmediateChild(c).updateChild(i,e):a.getNode().getImmediateChild(c)}else u=hn(r,c,t.serverCache);l=null!=u?e.filter.updateChild(a.getNode(),c,u,i,s,o):a.getNode()}}return Ot(t,l,a.isFullyInitialized()||xe(n),e.filter.filtersNodes())}}function bn(e,t,n,r,s,i,o,a){const l=t.serverCache;let A;const c=o?e.filter:e.filter.getIndexedFilter();if(xe(n))A=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);A=c.updateFullNode(l.getNode(),e,null)}else{const e=pe(n);if(!l.isCompleteForPath(n)&&ge(n)>1)return t;const s=me(n),i=l.getNode().getImmediateChild(e).updateChild(s,r);A=".priority"===e?c.updatePriority(l.getNode(),i):c.updateChild(l.getNode(),e,i,s,mn,null)}const u=Dt(t,A,l.isFullyInitialized()||xe(n),c.filtersNodes());return wn(e,u,n,s,new yn(s,u,i),a)}function xn(e,t,n,r,s,i,o){const a=t.eventCache;let l,A;const c=new yn(s,t,i);if(xe(n))A=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Ot(t,A,!0,e.filter.filtersNodes());else{const s=pe(n);if(".priority"===s)A=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ot(t,A,a.isFullyInitialized(),a.isFiltered());else{const i=me(n),A=a.getNode().getImmediateChild(s);let u;if(xe(i))u=r;else{const e=c.getCompleteChild(s);u=null!=e?".priority"===ye(i)&&e.getChild(we(i)).isEmpty()?e:e.updateChild(i,r):st.EMPTY_NODE}if(A.equals(u))l=t;else{l=Ot(t,e.filter.updateChild(a.getNode(),s,u,i,c,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Cn(e,t){return e.eventCache.isCompleteForChild(t)}function Bn(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function kn(e,t,n,r,s,i,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,A=t;l=xe(n)?r:new Vt(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(c.hasChild(n)){const l=Bn(0,t.serverCache.getNode().getImmediateChild(n),r);A=bn(e,A,new he(n),l,s,i,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=Bn(0,t.serverCache.getNode().getImmediateChild(n),r);A=bn(e,A,new he(n),l,s,i,o,a)}}),A}class Nn{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new ft(n.getIndex()),s=(i=n).loadsAllData()?new ft(i.getIndex()):i.hasLimit()?new gt(i):new pt(i);var i;this.processor_=function(e){return{filter:e}}(s);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(st.EMPTY_NODE,o.getNode(),null),A=s.updateFullNode(st.EMPTY_NODE,a.getNode(),null),c=new Lt(l,o.isFullyInitialized(),r.filtersNodes()),u=new Lt(A,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Pt(u,c),this.eventGenerator_=new Ut(this.query_)}get query(){return this.query_}}function En(e,t){const n=Mt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!xe(t)&&!n.getImmediateChild(pe(t)).isEmpty())?n.getChild(t):null}function _n(e){return 0===e.eventRegistrations_.length}function Sn(e,t,n){const r=[];if(n){(0,i.vA)(null==t,"A cancel should cancel all event registrations.");const s=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,s);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const s=e.eventRegistrations_[r];if(s.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(s)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Fn(e,t,n,r){t.type===_t.MERGE&&null!==t.source.queryId&&((0,i.vA)(Mt(e.viewCache_),"We should always have a full cache before handling merges"),(0,i.vA)(Rt(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,o=vn(e.processor_,s,t,n,r);var a,l;return a=e.processor_,l=o.viewCache,(0,i.vA)(l.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,i.vA)(l.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),(0,i.vA)(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,In(e,o.changes,o.viewCache.eventCache.getNode(),null)}function In(e,t,n,r){const s=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const s=[],i=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Qt(e,s,"child_removed",t,r,n),Qt(e,s,"child_added",t,r,n),Qt(e,s,"child_moved",i,r,n),Qt(e,s,"child_changed",t,r,n),Qt(e,s,"value",t,r,n),s}(e.eventGenerator_,t,n,s)}let Tn,jn;class Ln{constructor(){this.views=new Map}}function Un(e,t,n,r){const s=t.source.queryId;if(null!==s){const o=e.views.get(s);return(0,i.vA)(null!=o,"SyncTree gave us an op for an invalid query."),Fn(o,t,n,r)}{let s=[];for(const i of e.views.values())s=s.concat(Fn(i,t,n,r));return s}}function Qn(e,t,n,r,s){const i=t._queryIdentifier,o=e.views.get(i);if(!o){let e=ln(n,s?r:null),i=!1;e?i=!0:r instanceof st?(e=An(n,r),i=!1):(e=st.EMPTY_NODE,i=!1);const o=Pt(new Lt(e,i,!1),new Lt(r,s,!1));return new Nn(t,o)}return o}function Pn(e,t,n,r,s,i){const o=Qn(e,t,r,s,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Xe,(e,t)=>{r.push(ut(e,t))});return n.isFullyInitialized()&&r.push(ct(n.getNode())),In(e,r,n.getNode(),t)}(o,n)}function On(e,t,n,r){const s=t._queryIdentifier,o=[];let a=[];const l=Vn(e);if("default"===s)for(const[i,A]of e.views.entries())a=a.concat(Sn(A,n,r)),_n(A)&&(e.views.delete(i),A.query._queryParams.loadsAllData()||o.push(A.query));else{const t=e.views.get(s);t&&(a=a.concat(Sn(t,n,r)),_n(t)&&(e.views.delete(s),t.query._queryParams.loadsAllData()||o.push(t.query)))}return l&&!Vn(e)&&o.push(new((0,i.vA)(Tn,"Reference.ts has not been loaded"),Tn)(t._repo,t._path)),{removed:o,events:a}}function Dn(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Rn(e,t){let n=null;for(const r of e.views.values())n=n||En(r,t);return n}function Mn(e,t){if(t._queryParams.loadsAllData())return Kn(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Hn(e,t){return null!=Mn(e,t)}function Vn(e){return null!=Kn(e)}function Kn(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let qn=1;class zn{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Vt(null),this.pendingWriteTree_={visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wn(e,t,n,r,s){return function(e,t,n,r,s){(0,i.vA)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(e.visibleWrites=qt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,s),s?nr(e,new Tt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Gn(e,t,n,r){!function(e,t,n,r){(0,i.vA)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=zt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const s=Vt.fromObject(n);return nr(e,new jt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,s))}function Jn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(nn(e.pendingWriteTree_,t)){let t=new Vt(null);return null!=r.snap?t=t.set(fe(),!0):Q(r.children,e=>{t=t.set(new he(e),!0)}),nr(e,new Ft(r.path,t,n))}return[]}function Xn(e,t,n){return nr(e,new Tt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Yn(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=t._path,o=e.syncPointTree_.get(i);let a=[];if(o&&("default"===t._queryIdentifier||Hn(o,t))){const l=On(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const A=l.removed;if(a=l.events,!s){const n=-1!==A.findIndex(e=>e._queryParams.loadsAllData()),s=e.syncPointTree_.findOnPath(i,(e,t)=>Vn(t));if(n&&!s){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Vn(t)){return[Kn(t)]}{let e=[];return t&&(e=Dn(t)),Q(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],s=r.query,i=ir(e,r);e.listenProvider_.startListening(ur(s),or(e,s),i.hashFn,i.onComplete)}}}if(!s&&A.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(ur(t),n)}else A.forEach(t=>{const n=e.queryToTagMap.get(ar(t));e.listenProvider_.stopListening(ur(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=ar(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,A)}return a}function Zn(e,t,n,r){const s=lr(e,r);if(null!=s){const r=Ar(s),i=r.path,o=r.queryId,a=Ce(i,t);return cr(e,i,new Tt(St(o),a,n))}return[]}function $n(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(s,(e,t)=>{const n=Ce(e,s);o=o||Rn(t,n),a=a||Vn(t)});let l,A=e.syncPointTree_.get(s);if(A?(a=a||Vn(A),o=o||Rn(A,fe())):(A=new Ln,e.syncPointTree_=e.syncPointTree_.set(s,A)),null!=o)l=!0;else{l=!1,o=st.EMPTY_NODE;e.syncPointTree_.subtree(s).foreachChild((e,t)=>{const n=Rn(t,fe());n&&(o=o.updateImmediateChild(e,n))})}const c=Hn(A,t);if(!c&&!t._queryParams.loadsAllData()){const n=ar(t);(0,i.vA)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=qn++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Pn(A,t,n,tn(e.pendingWriteTree_,s),o,l);if(!c&&!a&&!r){const n=Mn(A,t);u=u.concat(function(e,t,n){const r=t._path,s=or(e,t),o=ir(e,n),a=e.listenProvider_.startListening(ur(t),s,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(r);if(s)(0,i.vA)(!Vn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold((e,t,n)=>{if(!xe(e)&&t&&Vn(t))return[Kn(t).query];{let e=[];return t&&(e=e.concat(Dn(t).map(e=>e.query))),Q(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(ur(r),or(e,r))}}return a}(e,t,n))}return u}function er(e,t,n){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Rn(n,Ce(e,t));if(r)return r});return an(r,t,s,n,!0)}function tr(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const s=Ce(e,n);r=r||Rn(t,s)});let s=e.syncPointTree_.get(n);s?r=r||Rn(s,fe()):(s=new Ln,e.syncPointTree_=e.syncPointTree_.set(n,s));const i=null!=r,o=i?new Lt(r,!0,!1):null;return function(e){return Rt(e.viewCache_)}(Qn(s,t,tn(e.pendingWriteTree_,t._path),i?o.getNode():st.EMPTY_NODE,i))}function nr(e,t){return rr(t,e.syncPointTree_,null,tn(e.pendingWriteTree_,fe()))}function rr(e,t,n,r){if(xe(e.path))return sr(e,t,n,r);{const s=t.get(fe());null==n&&null!=s&&(n=Rn(s,fe()));let i=[];const o=pe(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=fn(r,o);i=i.concat(rr(a,l,e,t))}return s&&(i=i.concat(Un(s,e,r,n))),i}}function sr(e,t,n,r){const s=t.get(fe());null==n&&null!=s&&(n=Rn(s,fe()));let i=[];return t.children.inorderTraversal((t,s)=>{const o=n?n.getImmediateChild(t):null,a=fn(r,t),l=e.operationForChild(t);l&&(i=i.concat(sr(l,s,o,a)))}),s&&(i=i.concat(Un(s,e,r,n))),i}function ir(e,t){const n=t.query,r=or(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=lr(e,n);if(r){const n=Ar(r),s=n.path,i=n.queryId,o=Ce(s,t);return cr(e,s,new It(St(i),o))}return[]}(e,n._path,r):function(e,t){return nr(e,new It({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Yn(e,n,null,r)}}}}function or(e,t){const n=ar(t);return e.queryToTagMap.get(n)}function ar(e){return e._path.toString()+"$"+e._queryIdentifier}function lr(e,t){return e.tagToQueryMap.get(t)}function Ar(e){const t=e.indexOf("$");return(0,i.vA)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new he(e.substr(0,t))}}function cr(e,t,n){const r=e.syncPointTree_.get(t);(0,i.vA)(r,"Missing sync point for query tag that we're tracking");return Un(r,n,tn(e.pendingWriteTree_,t),null)}function ur(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,i.vA)(jn,"Reference.ts has not been loaded"),jn)(e._repo,e._path):e}class dr{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new dr(t)}node(){return this.node_}}class hr{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=be(this.path_,e);return new hr(this.syncTree_,t)}node(){return er(this.syncTree_,this.path_)}}const fr=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},pr=function(e,t,n){return e&&"object"===typeof e?((0,i.vA)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?gr(e[".sv"],t,n):"object"===typeof e[".sv"]?mr(e[".sv"],t):void(0,i.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},gr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,i.vA)(!1,"Unexpected server value: "+e)},mr=function(e,t,n){e.hasOwnProperty("increment")||(0,i.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&(0,i.vA)(!1,"Unexpected increment value: "+r);const s=t.node();if((0,i.vA)(null!==s&&"undefined"!==typeof s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return"number"!==typeof o?r:o+r},yr=function(e,t,n,r){return wr(t,new hr(n,e),r)},vr=function(e,t,n){return wr(e,new dr(t),n)};function wr(e,t,n){const r=e.getPriority().val(),s=pr(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=pr(r.getValue(),t,n);return i!==r.getValue()||s!==r.getPriority().val()?new Je(i,at(s)):e}{const r=e;return i=r,s!==r.getPriority().val()&&(i=i.updatePriority(new Je(s))),r.forEachChild(Xe,(e,r)=>{const s=wr(r,t.getImmediateChild(e),n);s!==r&&(i=i.updateImmediateChild(e,s))}),i}}class br{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function xr(e,t){let n=t instanceof he?t:new he(t),r=e,s=pe(n);for(;null!==s;){const e=(0,i.yw)(r.node.children,s)||{children:{},childCount:0};r=new br(s,r,e),n=me(n),s=pe(n)}return r}function Cr(e){return e.node.value}function Br(e,t){e.node.value=t,Sr(e)}function kr(e){return e.node.childCount>0}function Nr(e,t){Q(e.node.children,(n,r)=>{t(new br(n,e,r))})}function Er(e,t,n,r){n&&!r&&t(e),Nr(e,e=>{Er(e,t,!0,r)}),n&&r&&t(e)}function _r(e){return new he(null===e.parent?e.name:_r(e.parent)+"/"+e.name)}function Sr(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Cr(e)&&!kr(e)}(n),s=(0,i.gR)(e.node.children,t);r&&s?(delete e.node.children[t],e.node.childCount--,Sr(e)):r||s||(e.node.children[t]=n.node,e.node.childCount++,Sr(e))}(e.parent,e.name,e)}const Fr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ir=/[\[\].#$\u0000-\u001F\u007F]/,Tr=10485760,jr=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},Lr=function(e){return"string"===typeof e&&0!==e.length&&!Ir.test(e)},Ur=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!_(e)||e&&"object"===typeof e&&(0,i.gR)(e,".sv")},Qr=function(e,t,n,r){r&&void 0===t||Pr((0,i.dI)(e,"value"),t,n)},Pr=function(e,t,n){const r=n instanceof he?new Ee(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Se(r));if("function"===typeof t)throw new Error(e+"contains a function "+Se(r)+" with contents = "+t.toString());if(_(t))throw new Error(e+"contains "+t.toString()+" "+Se(r));if("string"===typeof t&&t.length>Tr/3&&(0,i.OE)(t)>Tr)throw new Error(e+"contains a string greater than "+Tr+" utf8 bytes "+Se(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,s=!1;if(Q(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!jr(t)))throw new Error(e+" contains an invalid key ("+t+") "+Se(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,i.OE)(t),_e(e)}(r,t),Pr(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,i.OE)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&s)throw new Error(e+' contains ".value" child '+Se(r)+" in addition to actual children.")}},Or=function(e,t,n,r){if(r&&void 0===t)return;const s=(0,i.dI)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(s+" must be an object containing the children to replace.");const o=[];Q(t,(e,t)=>{const r=new he(e);if(Pr(s,t,be(n,r)),".priority"===ye(r)&&!Ur(t))throw new Error(s+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=ve(r);for(let t=0;t<s.length;t++)if(".priority"===s[t]&&t===s.length-1);else if(!jr(s[t]))throw new Error(e+"contains an invalid key ("+s[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Be);let s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&Ne(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,o)},Dr=function(e,t,n){if(!n||void 0!==t){if(_(t))throw new Error((0,i.dI)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ur(t))throw new Error((0,i.dI)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rr=function(e,t,n,r){if((!r||void 0!==n)&&!Lr(n))throw new Error((0,i.dI)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Mr=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Rr(e,t,n,r)},Hr=function(e,t){if(".info"===pe(t))throw new Error(e+" failed = Can't modify data under /.info/")},Vr=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!jr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lr(e)}(n))throw new Error((0,i.dI)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Kr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qr(e,t){let n=null;for(let r=0;r<t.length;r++){const s=t[r],i=s.getPath();null===n||ke(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(s)}n&&e.eventLists_.push(n)}function zr(e,t,n){qr(e,n),Gr(e,e=>ke(e,t))}function Wr(e,t,n){qr(e,n),Gr(e,e=>Ne(e,t)||Ne(t,e))}function Gr(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];if(s){t(s.path)?(Jr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Jr(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();w&&C("event: "+n.toString()),R(r)}}}const Xr="repo_interrupt",Yr=25;class Zr{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xt(),this.transactionQueueTree_=new br,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $r(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new wt(e.repoInfo_,(t,n,r,s)=>{ns(e,t,n,r,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>rs(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,i.As)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Te(e.repoInfo_,t,(t,n,r,s)=>{ns(e,t,n,r,s)},t=>{rs(e,t)},t=>{!function(e,t){Q(t,(t,n)=>{ss(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,()=>new Et(e.stats_,e.server_)),e.infoData_=new bt,e.infoSyncTree_=new zn({startListening:(t,n,r,s)=>{let i=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(i=Xn(e.infoSyncTree_,t._path,o),setTimeout(()=>{s("ok")},0)),i},stopListening:()=>{}}),ss(e,"connected",!1),e.serverSyncTree_=new zn({startListening:(t,n,r,s)=>(e.server_.listen(t,r,n,(n,r)=>{const i=s(n,r);Wr(e.eventQueue_,t._path,i)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function es(e){const t=e.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ts(e){return fr({timestamp:es(e)})}function ns(e,t,n,r,s){e.dataUpdateCount++;const o=new he(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(s)if(r){const t=(0,i.kH)(n,e=>at(e));a=function(e,t,n,r){const s=lr(e,r);if(s){const r=Ar(s),i=r.path,o=r.queryId,a=Ce(i,t),l=Vt.fromObject(n);return cr(e,i,new jt(St(o),a,l))}return[]}(e.serverSyncTree_,o,t,s)}else{const t=at(n);a=Zn(e.serverSyncTree_,o,t,s)}else if(r){const t=(0,i.kH)(n,e=>at(e));a=function(e,t,n){const r=Vt.fromObject(n);return nr(e,new jt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=at(n);a=Xn(e.serverSyncTree_,o,t)}let l=o;a.length>0&&(l=ps(e,o)),Wr(e.eventQueue_,l,a)}function rs(e,t){ss(e,"connected",t),!1===t&&function(e){us(e,"onDisconnectEvents");const t=ts(e),n=xt();kt(e.onDisconnect_,fe(),(r,s)=>{const i=yr(r,s,e.serverSyncTree_,t);Ct(n,r,i)});let r=[];kt(n,fe(),(t,n)=>{r=r.concat(Xn(e.serverSyncTree_,t,n));const s=ws(e,t);ps(e,s)}),e.onDisconnect_=xt(),Wr(e.eventQueue_,fe(),r)}(e)}function ss(e,t,n){const r=new he("/.info/"+t),s=at(n);e.infoData_.updateSnapshot(r,s);const i=Xn(e.infoSyncTree_,r,s);Wr(e.eventQueue_,r,i)}function is(e){return e.nextWriteId_++}function os(e,t,n,r,s){us(e,"set",{path:t.toString(),value:n,priority:r});const i=ts(e),o=at(n,r),a=er(e.serverSyncTree_,t),l=vr(o,a,i),A=is(e),c=Wn(e.serverSyncTree_,t,l,A,!0);qr(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const i="ok"===n;i||E("set at "+t+" failed: "+n);const o=Jn(e.serverSyncTree_,A,!i);Wr(e.eventQueue_,t,o),ds(e,s,n,r)});const u=ws(e,t);ps(e,u),Wr(e.eventQueue_,u,[])}function as(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,s)=>{"ok"===r&&Bt(e.onDisconnect_,t),ds(e,n,r,s)})}function ls(e,t,n,r){const s=at(n);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,i)=>{"ok"===n&&Ct(e.onDisconnect_,t,s),ds(e,r,n,i)})}function As(e,t,n){let r;r=".info"===pe(t._path)?Yn(e.infoSyncTree_,t,n):Yn(e.serverSyncTree_,t,n),zr(e.eventQueue_,t._path,r)}function cs(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Xr)}function us(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];C(t,...r)}function ds(e,t,n,r){t&&R(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let s=e;r&&(s+=": "+r);const i=new Error(s);i.code=e,t(i)}})}function hs(e,t,n){return er(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function fs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||vs(e,t),Cr(t)){const n=ms(e,t);(0,i.vA)(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),s=hs(e,t,r);let o=s;const a=s.hash();for(let c=0;c<n.length;c++){const e=n[c];(0,i.vA)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Ce(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const l=o.val(!0),A=t;e.server_.put(A.toString(),l,r=>{us(e,"transaction put response",{path:A.toString(),status:r});let s=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,s=s.concat(Jn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();vs(e,xr(e.transactionQueueTree_,t)),fs(e,e.transactionQueueTree_),Wr(e.eventQueue_,t,s);for(let e=0;e<r.length;e++)R(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{E("transaction at "+A.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}ps(e,t)}},a)}(e,_r(t),n)}else kr(t)&&Nr(t,t=>{fs(e,t)})}function ps(e,t){const n=gs(e,t),r=_r(n);return function(e,t,n){if(0===t.length)return;const r=[];let s=[];const o=t.filter(e=>0===e.status),a=o.map(e=>e.currentWriteId);for(let l=0;l<t.length;l++){const o=t[l],A=Ce(n,o.path);let c,u=!1;if((0,i.vA)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,s=s.concat(Jn(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=Yr)u=!0,c="maxretry",s=s.concat(Jn(e.serverSyncTree_,o.currentWriteId,!0));else{const n=hs(e,o.path,a);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Pr("transaction failed: Data returned ",r,o.path);let t=at(r);"object"===typeof r&&null!=r&&(0,i.gR)(r,".priority")||(t=t.updatePriority(n.getPriority()));const l=o.currentWriteId,A=ts(e),c=vr(t,n,A);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=is(e),a.splice(a.indexOf(l),1),s=s.concat(Wn(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),s=s.concat(Jn(e.serverSyncTree_,l,!0))}else u=!0,c="nodata",s=s.concat(Jn(e.serverSyncTree_,o.currentWriteId,!0))}Wr(e.eventQueue_,n,s),s=[],u&&(t[l].status=2,function(e){setTimeout(e,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&("nodata"===c?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(c),!1,null))))}vs(e,e.transactionQueueTree_);for(let i=0;i<r.length;i++)R(r[i]);fs(e,e.transactionQueueTree_)}(e,ms(e,n),r),r}function gs(e,t){let n,r=e.transactionQueueTree_;for(n=pe(t);null!==n&&void 0===Cr(r);)r=xr(r,n),n=pe(t=me(t));return r}function ms(e,t){const n=[];return ys(e,t,n),n.sort((e,t)=>e.order-t.order),n}function ys(e,t,n){const r=Cr(t);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Nr(t,t=>{ys(e,t,n)})}function vs(e,t){const n=Cr(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Br(t,n.length>0?n:void 0)}Nr(t,t=>{vs(e,t)})}function ws(e,t){const n=_r(gs(e,t)),r=xr(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{bs(e,t)}),bs(e,r),Er(r,t=>{bs(e,t)}),n}function bs(e,t){const n=Cr(t);if(n){const r=[];let s=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,i.vA)(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):((0,i.vA)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),s=s.concat(Jn(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Br(t,void 0):n.length=o+1,Wr(e.eventQueue_,_r(t),s);for(let e=0;e<r.length;e++)R(r[e])}}const xs=function(e,t){const n=Cs(e),r=n.namespace;"firebase.com"===n.domain&&N(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||N("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,s,t,"",r!==n.subdomain),path:new he(n.pathString)}},Cs=function(e){let t="",n="",r="",s="",i="",o=!0,a="https",l=443;if("string"===typeof e){let A=e.indexOf("//");A>=0&&(a=e.substring(0,A-1),e=e.substring(A+2));let c=e.indexOf("/");-1===c&&(c=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(c,u)),c<u&&(s=function(e){let t="";const n=e.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let e=n[s];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(c,u)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):E("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,u)));A=t.indexOf(":"),A>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(A+1),10)):A=t.length;const h=t.slice(0,A);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in d&&(i=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}},Bs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ks=function(){let e=0;const t=[];return function(n){const r=n===e;let s;e=n;const o=new Array(8);for(s=7;s>=0;s--)o[s]=Bs.charAt(n%64),n=Math.floor(n/64);(0,i.vA)(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(s=11;s>=0&&63===t[s];s--)t[s]=0;t[s]++}else for(s=0;s<12;s++)t[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)a+=Bs.charAt(t[s]);return(0,i.vA)(20===a.length,"nextPushId: Length should be 20."),a}}();class Ns{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,i.As)(this.snapshot.exportVal())}}class Es{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class _s{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,i.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ss{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new i.cY;return as(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Hr("OnDisconnect.remove",this._path);const e=new i.cY;return ls(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Hr("OnDisconnect.set",this._path),Qr("OnDisconnect.set",e,this._path,!1);const t=new i.cY;return ls(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Hr("OnDisconnect.setWithPriority",this._path),Qr("OnDisconnect.setWithPriority",e,this._path,!1),Dr("OnDisconnect.setWithPriority",t,!1);const n=new i.cY;return function(e,t,n,r,s){const i=at(n,r);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,r)=>{"ok"===n&&Ct(e.onDisconnect_,t,i),ds(0,s,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){Hr("OnDisconnect.update",this._path),Or("OnDisconnect.update",e,this._path,!1);const t=new i.cY;return function(e,t,n,r){if((0,i.Im)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void ds(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(s,i)=>{"ok"===s&&Q(n,(n,r)=>{const s=at(r);Ct(e.onDisconnect_,be(t,n),s)}),ds(0,r,s,i)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Fs{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return xe(this._path)?null:ye(this._path)}get ref(){return new Is(this._repo,this._path)}get _queryIdentifier(){const e=vt(this._queryParams),t=L(e);return"{}"===t?"default":t}get _queryObject(){return vt(this._queryParams)}isEqual(e){if(!((e=(0,i.Ku)(e))instanceof Fs))return!1;const t=this._repo===e._repo,n=ke(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Is extends Fs{constructor(e,t){super(e,t,new mt,!1)}get parent(){const e=we(this._path);return null===e?null:new Is(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ts{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new he(e),n=Ls(this.ref,e);return new Ts(this._node.getChild(t),n,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Ts(n,Ls(this.ref,t),Xe)))}hasChild(e){const t=new he(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function js(e,t){return(e=(0,i.Ku)(e))._checkNotDeleted("ref"),void 0!==t?Ls(e._root,t):e._root}function Ls(e,t){return null===pe((e=(0,i.Ku)(e))._path)?Mr("child","path",t,!1):Rr("child","path",t,!1),new Is(e._repo,be(e._path,t))}function Us(e){return e=(0,i.Ku)(e),new Ss(e._repo,e._path)}function Qs(e,t){e=(0,i.Ku)(e),Hr("push",e._path),Qr("push",t,e._path,!0);const n=es(e._repo),r=ks(n),s=Ls(e,r),o=Ls(e,r);let a;return a=null!=t?Os(o,t).then(()=>o):Promise.resolve(o),s.then=a.then.bind(a),s.catch=a.then.bind(a,void 0),s}function Ps(e){return Hr("remove",e._path),Os(e,null)}function Os(e,t){e=(0,i.Ku)(e),Hr("set",e._path),Qr("set",t,e._path,!1);const n=new i.cY;return os(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Ds(e,t){Or("update",t,e._path,!1);const n=new i.cY;return function(e,t,n,r){us(e,"update",{path:t.toString(),value:n});let s=!0;const i=ts(e),o={};if(Q(n,(n,r)=>{s=!1,o[n]=yr(be(t,n),at(r),e.serverSyncTree_,i)}),s)C("update() called with empty data.  Don't do anything."),ds(0,r,"ok",void 0);else{const s=is(e),i=Gn(e.serverSyncTree_,t,o,s);qr(e.eventQueue_,i),e.server_.merge(t.toString(),n,(n,i)=>{const o="ok"===n;o||E("update at "+t+" failed: "+n);const a=Jn(e.serverSyncTree_,s,!o),l=a.length>0?ps(e,t):t;Wr(e.eventQueue_,l,a),ds(0,r,n,i)}),Q(n,n=>{const r=ws(e,be(t,n));ps(e,r)}),Wr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Rs(e){e=(0,i.Ku)(e);const t=new _s(()=>{}),n=new Ms(t);return function(e,t,n){const r=tr(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const s=at(r).withIndex(t._queryParams.getIndex());let i;if($n(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Xn(e.serverSyncTree_,t._path,s);else{const n=or(e.serverSyncTree_,t);i=Zn(e.serverSyncTree_,t._path,s,n)}return Wr(e.eventQueue_,t._path,i),Yn(e.serverSyncTree_,t,n,null,!0),s},n=>(us(e,"get for query "+(0,i.As)(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new Ts(t,new Is(e._repo,e._path),e._queryParams.getIndex()))}class Ms{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Ns("value",this,new Ts(e.snapshotNode,new Is(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Es(this,e,t):null}matches(e){return e instanceof Ms&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Hs{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Es(this,e,t):null}createEvent(e,t){(0,i.vA)(null!=e.childName,"Child events should have a childName.");const n=Ls(new Is(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ns(e.type,this,new Ts(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Hs&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Vs(e,t,n,r,s){let i;if("object"===typeof r&&(i=void 0,s=r),"function"===typeof r&&(i=r),s&&s.onlyOnce){const t=n,r=(n,r)=>{As(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new _s(n,i||void 0),a="value"===t?new Ms(o):new Hs(t,o);return function(e,t,n){let r;r=".info"===pe(t._path)?$n(e.infoSyncTree_,t,n):$n(e.serverSyncTree_,t,n),zr(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>As(e._repo,e,a)}function Ks(e,t,n,r){return Vs(e,"value",t,n,r)}function qs(e,t,n){let r=null;const s=n?new _s(n):null;"value"===t?r=new Ms(s):t&&(r=new Hs(t,s)),As(e._repo,e,r)}!function(e){(0,i.vA)(!Tn,"__referenceConstructor has already been defined"),Tn=e}(Is),function(e){(0,i.vA)(!jn,"__referenceConstructor has already been defined"),jn=e}(Is);const zs={};let Ws=!1;function Gs(e,t,n,r,s){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||N("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",e.options.projectId),i="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=xs(i,s),A=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,i="http://".concat(a,"?ns=").concat(A.namespace),l=xs(i,s),A=l.repoInfo):o=!l.repoInfo.secure;const c=s&&o?new K(K.OWNER):new V(e.name,e.options,t);Vr("Invalid Firebase Database URL",l),xe(l.path)||N("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,n,r){let s=zs[t.name];s||(s={},zs[t.name]=s);let i=s[e.toURLString()];i&&N("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new Zr(e,Ws,n,r),s[e.toURLString()]=i,i}(A,e,c,new H(e,n));return new Js(u,e)}class Js{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($r(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Is(this._repo,fe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=zs[t];n&&n[e.key]===e||N("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),cs(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&N("Cannot call "+e+" on a deleted database.")}}function Xs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;const n=(0,r.j6)(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(0,i.yU)("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=(0,i.Ku)(e),e._checkNotDeleted("useEmulator");const s="".concat(t,":").concat(n),o=e._repoInternal;if(e._instanceStarted){if(s===e._repoInternal.repoInfo_.host&&(0,i.bD)(r,o.repoInfo_.emulatorOptions))return;N("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&N('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new K(K.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:(0,i.Fy)(r.mockUserToken,e.app.options.projectId);a=new K(t)}(0,i.zJ)(t)&&((0,i.gE)(t),(0,i.P1)("Database",!0));!function(e,t,n,r){const s=t.lastIndexOf(":"),o=t.substring(0,s),a=(0,i.zJ)(o);e.repoInfo_=new X(t,a,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,s,r,a)}(n,...e)}return n}Te.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Te.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ys;c(r.MF),(0,r.om)(new s.uA("database",(e,t)=>{let{instanceIdentifier:n}=t;return Gs(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(a,l,Ys),(0,r.KO)(a,l,"esm2017")},3986:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}n.d(t,{A:()=>r})},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=v.prototype=new y;w.constructor=v,p(w,m.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var s,i={},o=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,s)&&!B.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var A=Array(l),c=0;c<l;c++)A[c]=arguments[c+2];i.children=A}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:a,props:i,_owner:C.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function S(e,t,s,i,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+_(l,0):i,b(o)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),S(o,t,s,"",function(e){return e})):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",b(e))for(var A=0;A<e.length;A++){var c=i+_(a=e[A],A);l+=S(a,t,s,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),A=0;!(a=e.next()).done;)l+=S(a=a.value,t,s,c=i+_(a,A++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function F(e,t,n){if(null==e)return e;var r=[],s=0;return S(e,r,"","",function(e){return t.call(n,e,s++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},j={transition:null},L={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:j,ReactCurrentOwner:C};function U(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:F,forEach:function(e,t,n){F(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return F(e,function(){t++}),t},toArray:function(e){return F(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=s,t.Profiler=o,t.PureComponent=v,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=U,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(A in t)x.call(t,A)&&!B.hasOwnProperty(A)&&(s[A]=void 0===t[A]&&void 0!==l?l[A]:t[A])}var A=arguments.length-2;if(1===A)s.children=r;else if(1<A){l=Array(A);for(var c=0;c<A;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:A,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=U,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(816);function s(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5187:(e,t,n)=>{"use strict";n.d(t,{A:()=>h,O:()=>d});var r=n(5043),s=n(2339),i=n(458),o=n(791),a=n(3611),l=n(579);const A=(0,r.createContext)(null),c=3e4,u=2e3,d=e=>{let{children:t}=e;const[n,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(!0),[p,g]=(0,r.useState)(!0),m=r.useRef(null),y=r.useRef(null),v=r.useRef(null),w=r.useRef(null),b=r.useRef(!1),x=r.useRef(!1),C=r.useRef(null),B=r.useRef(navigator.onLine),k=(0,r.useCallback)(()=>{if(console.log("Cleaning up session listeners"),v.current&&(clearInterval(v.current),v.current=null),C.current&&(clearTimeout(C.current),C.current=null),y.current){try{y.current()}catch(e){console.warn("Error unsubscribing from session listener:",e)}y.current=null}m.current=null,w.current=null,b.current=!1,x.current=!1},[]),N=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manual";try{var r;console.log("Logging out - Auto: ".concat(e,", Reason: ").concat(t)),e||(b.current=!0),k();const l=(null===(r=o.j2.currentUser)||void 0===r?void 0:r.uid)||(null===n||void 0===n?void 0:n.uid);if(l&&w.current)try{await(0,a.TF)((0,a.KR)(o.OO,"sessions/".concat(l))),console.log("Session record removed from database")}catch(s){console.warn("Failed to remove session record:",s)}await(0,i.CI)(o.j2),d(null),e&&"manual"!==t&&E(t)}catch(s){console.error("Logout error:",s)}},[null===n||void 0===n?void 0:n.uid,k]),E=e=>{const t=document.querySelector(".session-logout-modal");t&&t.remove();const n=document.createElement("div");n.className="session-logout-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4";const r="new-login"===e?"You have been logged out because your account was signed in from another device or browser.":"session-removed"===e?"Your session was terminated by another login.":"Your session has ended.";n.innerHTML='\n      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 relative">\n        <div class="flex items-center gap-3 mb-4">\n          <span class="text-yellow-500 text-2xl">\u26a0\ufe0f</span>\n          <h3 class="text-lg font-medium text-gray-900 dark:text-white">Session Ended</h3>\n        </div>\n        <p class="text-gray-600 dark:text-gray-300 mb-6">\n          '.concat(r,'\n        </p>\n        <div class="flex justify-end gap-2">\n          <button \n            id="modal-ok-btn"\n            class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500"\n          >\n            OK\n          </button>\n        </div>\n      </div>\n    '),document.body.appendChild(n);const s=()=>{document.body.contains(n)&&document.body.removeChild(n)},i=n.querySelector("#modal-ok-btn");null===i||void 0===i||i.addEventListener("click",s),setTimeout(s,15e3),n.addEventListener("click",e=>{e.target===n&&s()})},_=(0,r.useCallback)(async e=>{if(x.current)console.log("Session initialization already in progress");else try{x.current=!0,console.log("Initializing single session for user:",e);const t=(()=>{var e;return null!==(e=window.crypto)&&void 0!==e&&e.randomUUID?window.crypto.randomUUID():"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)})();m.current=t,w.current="sessions/".concat(e);const n=(0,a.KR)(o.OO,w.current),r={sessionId:t,createdAt:Date.now(),updatedAt:Date.now(),lastActive:Date.now(),userAgent:"undefined"!==typeof navigator?navigator.userAgent:"unknown",platform:"undefined"!==typeof navigator?navigator.platform:"unknown",language:"undefined"!==typeof navigator?navigator.language:"unknown"},s=(await(0,a.Jt)(n)).val();s&&console.log("Existing session found:",s.sessionId),await(0,a.hZ)(n,r),console.log("New session created:",t),console.log("Session will persist through network disconnections"),y.current=(0,a.Zy)(n,e=>{const t=e.val();if(!t)return console.log("Session removed from database"),void(!b.current&&B.current?(console.log("Session genuinely removed while online - logging out"),N(!0,"session-removed")):B.current||console.log("Session removed but offline - keeping user logged in"));if(t.sessionId&&t.sessionId!==m.current){console.log("Session ID changed - new login detected"),console.log("Current session:",m.current),console.log("New session:",t.sessionId);const e=Date.now()-(t.createdAt||t.updatedAt)<=u;b.current||(e||t.sessionId!==m.current?(console.log("Terminating current session due to new login"),N(!0,"new-login")):(console.log("Updating session ID to match database"),m.current=t.sessionId))}console.log("Session heartbeat received, session remains active")},e=>{console.error("Session listener error:",e),"PERMISSION_DENIED"===e.code&&(console.log("Permission denied - user may have been signed out"),N(!0,"permission-denied"))});const i=async()=>{if(!b.current&&w.current)try{await(0,a.yo)((0,a.KR)(o.OO,w.current),{lastActive:Date.now(),updatedAt:Date.now()})}catch(e){console.warn("Failed to send heartbeat:",e),"PERMISSION_DENIED"===e.code&&(console.log("Permission denied on heartbeat - logging out"),N(!0,"permission-denied"))}};await i(),v.current=setInterval(i,c),console.log("Session initialized with heartbeat. No timeout - session persists until new login detected.")}catch(t){console.error("Failed to initialize session:",t)}finally{x.current=!1}},[N]);(0,r.useEffect)(()=>{const e=()=>{console.log("Network: ONLINE"),B.current=!0},t=()=>{console.log("Network: OFFLINE"),B.current=!1};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),(0,r.useEffect)(()=>{console.log("Setting up auth state listener");const e=(0,i.hg)(o.j2,e=>{if(console.log("Auth state changed:",(null===e||void 0===e?void 0:e.uid)||"null"),e){const t={uid:e.uid,email:e.email,name:e.displayName,photoURL:e.photoURL};d(t)}else console.log("No user found, cleaning up"),d(null),k();f(!1)});return()=>{console.log("Cleaning up auth state listener"),e(),k()}},[k]),(0,r.useEffect)(()=>{if(null===n||void 0===n||!n.uid||!p||h)return;console.log("Starting session enforcement for user:",n.uid);const e=setTimeout(()=>{_(n.uid)},100);return()=>{clearTimeout(e),k()}},[null===n||void 0===n?void 0:n.uid,p,h,_,k]);(0,r.useEffect)(()=>()=>{k()},[k]);const S={user:n,loading:h,googleSignIn:async()=>{try{console.log("Starting Google sign-in");const e=new i.HF;e.addScope("profile"),e.addScope("email");const t=await(0,i.df)(o.j2,e);return await(0,a.hZ)((0,a.KR)(o.OO,"users/".concat(t.user.uid)),{email:t.user.email,name:t.user.displayName,profilePhoto:t.user.photoURL,lastLogin:Date.now(),provider:"google"}),console.log("Google sign-in successful"),s.oR.success("Signed in successfully!"),t.user}catch(e){throw console.error("Google sign-in error:",e),"auth/popup-closed-by-user"===e.code?s.oR.error("Sign-in was cancelled"):"auth/popup-blocked"===e.code?s.oR.error("Pop-up was blocked. Please allow pop-ups and try again."):s.oR.error("Failed to sign in. Please try again."),e}},logout:function(){return N(arguments.length>0&&void 0!==arguments[0]&&arguments[0],"manual")},login:async e=>{let{email:t,password:n}=e;throw new Error("Email/password login not implemented yet")},sessionEnforced:p,setSessionEnforced:g};return(0,l.jsx)(A.Provider,{value:S,children:!h&&t})},h=()=>{const e=(0,r.useContext)(A);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}},5200:(e,t,n)=>{"use strict";n.d(t,{A3x:()=>o,B88:()=>S,CKj:()=>N,DQs:()=>B,F5$:()=>v,GGD:()=>C,IXo:()=>_,JXP:()=>I,K7R:()=>g,Ohp:()=>c,PjK:()=>u,QPV:()=>m,SG1:()=>f,VSk:()=>E,Vap:()=>p,WXf:()=>h,Wm:()=>y,YrT:()=>a,a4x:()=>d,cKW:()=>U,cfS:()=>T,dUr:()=>w,eHT:()=>i,fOo:()=>A,irw:()=>l,jTZ:()=>k,mkN:()=>x,o77:()=>L,pHD:()=>b,q4P:()=>j,q_G:()=>Q,vq3:()=>F,yGN:()=>P,z1n:()=>s});var r=n(3441);function s(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function i(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function o(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function a(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function l(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function A(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function c(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function u(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(e)}function d(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function h(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function f(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function p(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function g(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function m(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function y(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function v(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function w(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function b(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function x(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"polyline",attr:{points:"9 21 3 21 3 15"},child:[]},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(e)}function C(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function B(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]},{tag:"path",attr:{d:"M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"},child:[]}]})(e)}function k(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function N(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function E(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function _(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function S(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function F(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function I(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function T(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function j(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function L(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"},child:[]}]})(e)}function U(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"},child:[]},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"},child:[]}]})(e)}function Q(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function P(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};function r(e,t,n,r){function s(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function o(e){try{l(r.next(e))}catch(Pt){i(Pt)}}function a(e){try{l(r.throw(e))}catch(Pt){i(Pt)}}function l(e){e.done?n(e.value):s(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(Pt){i=[6,Pt],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function i(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),a=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,s)},A=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&s)<<10)+(1023&i)+65536):(t.push(s),n--)}else t.push(s)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=e[s];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<f.length;g++)p[f.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,s,i,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<a;t+=4)n=p[e.charCodeAt(t)],r=p[e.charCodeAt(t+1)],s=p[e.charCodeAt(t+2)],i=p[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&i;return A},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},w=5,b=11,x=2,C=65536>>w,B=(1<<w)-1,k=C+(1024>>w)+32,N=65536>>b,E=(1<<b-w)-1,_=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},S=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},F=function(e,t){var n=m(e),r=Array.isArray(n)?v(n):new Uint32Array(n),s=Array.isArray(n)?y(n):new Uint16Array(n),i=24,o=_(s,i/2,r[4]/2),a=2===r[5]?_(s,(i+r[4])/2):S(r,Math.ceil((i+r[4])/4));return new I(r[0],r[1],r[2],r[3],o,a)},I=function(){function e(e,t,n,r,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>w])<<x)+(e&B),this.data[t];if(e<=65535)return t=((t=this.index[C+(e-55296>>w)])<<x)+(e&B),this.data[t];if(e<this.highStart)return t=k-N+(e>>b),t=this.index[t],t+=e>>w&E,t=((t=this.index[t])<<x)+(e&B),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j="undefined"===typeof Uint8Array?[]:new Uint8Array(256),L=0;L<T.length;L++)j[T.charCodeAt(L)]=L;var U=50,Q=1,P=2,O=3,D=4,R=5,M=7,H=8,V=9,K=10,q=11,z=12,W=13,G=14,J=15,X=16,Y=17,Z=18,$=19,ee=20,te=21,ne=22,re=23,se=24,ie=25,oe=26,ae=27,le=28,Ae=29,ce=30,ue=31,de=32,he=33,fe=34,pe=35,ge=36,me=37,ye=38,ve=39,we=40,be=41,xe=42,Ce=43,Be=[9001,65288],ke="!",Ne="\xd7",Ee="\xf7",_e=F("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Se=[ce,ge],Fe=[Q,P,O,R],Ie=[K,H],Te=[ae,oe],je=Fe.concat(Ie),Le=[ye,ve,we,fe,pe],Ue=[J,W],Qe=function(e,t){void 0===t&&(t="strict");var n=[],r=[],s=[];return e.forEach(function(e,i){var o=_e.get(e);if(o>U?(s.push(!0),o-=U):s.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),n.push(X);if(o===D||o===q){if(0===i)return r.push(i),n.push(ce);var a=n[i-1];return-1===je.indexOf(a)?(r.push(r[i-1]),n.push(a)):(r.push(i),n.push(ce))}return r.push(i),o===ue?n.push("strict"===t?te:me):o===xe||o===Ae?n.push(ce):o===Ce?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(ce):void n.push(o)}),[r,n,s]},Pe=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var i=n;i<=r.length;){if((l=r[++i])===t)return!0;if(l!==K)break}if(s===K)for(i=n;i>0;){var o=r[--i];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var a=n;a<=r.length;){var l;if((l=r[++a])===t)return!0;if(l!==K)break}if(o!==K)break}return!1},Oe=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==K)return r;n--}return 0},De=function(e,t,n,r,s){if(0===n[r])return Ne;var i=r-1;if(Array.isArray(s)&&!0===s[i])return Ne;var o=i-1,a=i+1,l=t[i],A=o>=0?t[o]:0,c=t[a];if(l===P&&c===O)return Ne;if(-1!==Fe.indexOf(l))return ke;if(-1!==Fe.indexOf(c))return Ne;if(-1!==Ie.indexOf(c))return Ne;if(Oe(i,t)===H)return Ee;if(_e.get(e[i])===q)return Ne;if((l===de||l===he)&&_e.get(e[a])===q)return Ne;if(l===M||c===M)return Ne;if(l===V)return Ne;if(-1===[K,W,J].indexOf(l)&&c===V)return Ne;if(-1!==[Y,Z,$,se,le].indexOf(c))return Ne;if(Oe(i,t)===ne)return Ne;if(Pe(re,ne,i,t))return Ne;if(Pe([Y,Z],te,i,t))return Ne;if(Pe(z,z,i,t))return Ne;if(l===K)return Ee;if(l===re||c===re)return Ne;if(c===X||l===X)return Ee;if(-1!==[W,J,te].indexOf(c)||l===G)return Ne;if(A===ge&&-1!==Ue.indexOf(l))return Ne;if(l===le&&c===ge)return Ne;if(c===ee)return Ne;if(-1!==Se.indexOf(c)&&l===ie||-1!==Se.indexOf(l)&&c===ie)return Ne;if(l===ae&&-1!==[me,de,he].indexOf(c)||-1!==[me,de,he].indexOf(l)&&c===oe)return Ne;if(-1!==Se.indexOf(l)&&-1!==Te.indexOf(c)||-1!==Te.indexOf(l)&&-1!==Se.indexOf(c))return Ne;if(-1!==[ae,oe].indexOf(l)&&(c===ie||-1!==[ne,J].indexOf(c)&&t[a+1]===ie)||-1!==[ne,J].indexOf(l)&&c===ie||l===ie&&-1!==[ie,le,se].indexOf(c))return Ne;if(-1!==[ie,le,se,Y,Z].indexOf(c))for(var u=i;u>=0;){if((d=t[u])===ie)return Ne;if(-1===[le,se].indexOf(d))break;u--}if(-1!==[ae,oe].indexOf(c))for(u=-1!==[Y,Z].indexOf(l)?o:i;u>=0;){var d;if((d=t[u])===ie)return Ne;if(-1===[le,se].indexOf(d))break;u--}if(ye===l&&-1!==[ye,ve,fe,pe].indexOf(c)||-1!==[ve,fe].indexOf(l)&&-1!==[ve,we].indexOf(c)||-1!==[we,pe].indexOf(l)&&c===we)return Ne;if(-1!==Le.indexOf(l)&&-1!==[ee,oe].indexOf(c)||-1!==Le.indexOf(c)&&l===ae)return Ne;if(-1!==Se.indexOf(l)&&-1!==Se.indexOf(c))return Ne;if(l===se&&-1!==Se.indexOf(c))return Ne;if(-1!==Se.concat(ie).indexOf(l)&&c===ne&&-1===Be.indexOf(e[a])||-1!==Se.concat(ie).indexOf(c)&&l===Z)return Ne;if(l===be&&c===be){for(var h=n[i],f=1;h>0&&t[--h]===be;)f++;if(f%2!==0)return Ne}return l===de&&c===he?Ne:Ee},Re=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Qe(e,t.lineBreak),r=n[0],s=n[1],i=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map(function(e){return-1!==[ie,ce,xe].indexOf(e)?me:e}));var o="keep-all"===t.wordBreak?i.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,s,o]},Me=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===ke,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),He=function(e,t){var n=A(e),r=Re(n,t),s=r[0],i=r[1],o=r[2],a=n.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var e=Ne;c<a&&(e=De(n,i,s,++c,o))===Ne;);if(e!==Ne||c===a){var t=new Me(n,e,l,c);return l=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ve=1,Ke=2,qe=4,ze=8,We=10,Ge=47,Je=92,Xe=9,Ye=32,Ze=34,$e=61,et=35,tt=36,nt=37,rt=39,st=40,it=41,ot=95,at=45,lt=33,At=60,ct=62,ut=64,dt=91,ht=93,ft=61,pt=123,gt=63,mt=125,yt=124,vt=126,wt=128,bt=65533,xt=42,Ct=43,Bt=44,kt=58,Nt=59,Et=46,_t=0,St=8,Ft=11,It=14,Tt=31,jt=127,Lt=-1,Ut=48,Qt=97,Pt=101,Ot=102,Dt=117,Rt=122,Mt=65,Ht=69,Vt=70,Kt=85,qt=90,zt=function(e){return e>=Ut&&e<=57},Wt=function(e){return e>=55296&&e<=57343},Gt=function(e){return zt(e)||e>=Mt&&e<=Vt||e>=Qt&&e<=Ot},Jt=function(e){return e>=Qt&&e<=Rt},Xt=function(e){return e>=Mt&&e<=qt},Yt=function(e){return Jt(e)||Xt(e)},Zt=function(e){return e>=wt},$t=function(e){return e===We||e===Xe||e===Ye},en=function(e){return Yt(e)||Zt(e)||e===ot},tn=function(e){return en(e)||zt(e)||e===at},nn=function(e){return e>=_t&&e<=St||e===Ft||e>=It&&e<=Tt||e===jt},rn=function(e,t){return e===Je&&t!==We},sn=function(e,t,n){return e===at?en(t)||rn(t,n):!!en(e)||!(e!==Je||!rn(e,t))},on=function(e,t,n){return e===Ct||e===at?!!zt(t)||t===Et&&zt(n):zt(e===Et?t:e)},an=function(e){var t=0,n=1;e[t]!==Ct&&e[t]!==at||(e[t]===at&&(n=-1),t++);for(var r=[];zt(e[t]);)r.push(e[t++]);var s=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===Et&&t++;for(var i=[];zt(e[t]);)i.push(e[t++]);var o=i.length,a=o?parseInt(c.apply(void 0,i),10):0;e[t]!==Ht&&e[t]!==Pt||t++;var l=1;e[t]!==Ct&&e[t]!==at||(e[t]===at&&(l=-1),t++);for(var A=[];zt(e[t]);)A.push(e[t++]);var u=A.length?parseInt(c.apply(void 0,A),10):0;return n*(s+a*Math.pow(10,-o))*Math.pow(10,l*u)},ln={type:2},An={type:3},cn={type:4},un={type:13},dn={type:8},hn={type:21},fn={type:9},pn={type:10},gn={type:11},mn={type:12},yn={type:14},vn={type:23},wn={type:1},bn={type:25},xn={type:24},Cn={type:26},Bn={type:27},kn={type:28},Nn={type:29},En={type:31},_n={type:32},Sn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(A(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==_n;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var s=sn(t,n,r)?Ke:Ve;return{type:5,value:this.consumeName(),flags:s}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case st:return ln;case it:return An;case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),yn;break;case Ct:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bt:return cn;case at:var i=e,o=this.peekCodePoint(0),a=this.peekCodePoint(1);if(on(i,o,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(i,o,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===at&&a===ct)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case Et:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ge:if(this.peekCodePoint(0)===xt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===xt&&(l=this.consumeCodePoint())===Ge)return this.consumeToken();if(l===Lt)return this.consumeToken()}break;case kt:return Cn;case Nt:return Bn;case At:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===at&&this.peekCodePoint(2)===at)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case ut:var A=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(sn(A,u,d))return{type:7,value:this.consumeName()};break;case dt:return kn;case Je:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return Nn;case ft:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case pt:return gn;case mt:return mn;case Dt:case Kt:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==Ct||!Gt(f)&&f!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===yt)return this.consumeCodePoint(),hn;break;case vt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),pn;break;case Lt:return _n}return $t(e)?(this.consumeWhiteSpace(),En):zt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Gt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map(function(e){return e===gt?Ut:e})),16),end:parseInt(c.apply(void 0,e.map(function(e){return e===gt?Vt:e})),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===at&&Gt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];Gt(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,s),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===st?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===it)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vn)}for(;;){var r=this.consumeCodePoint();if(r===Lt||r===it)return{type:22,value:c.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vn);if(r===Ze||r===rt||r===st||nn(r))return this.consumeBadUrlRemnants(),vn;if(r===Je){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),vn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===it||e===Lt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Lt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===We)return this._value.splice(0,n),wn;if(r===Je){var s=this._value[n+1];s!==Lt&&void 0!==s&&(s===We?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,s)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=qe,n=this.peekCodePoint(0);for(n!==Ct&&n!==at||e.push(this.consumeCodePoint());zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Et&&zt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Ht||n===Pt)&&((r===Ct||r===at)&&zt(s)||zt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[an(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);return sn(r,s,i)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Gt(e)){for(var t=c(e);Gt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Wt(n)||n>1114111?bt:n}return e===Lt?bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),Fn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Sn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Dn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?_n:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),In=function(e){return 15===e.type},Tn=function(e){return 17===e.type},jn=function(e){return 20===e.type},Ln=function(e){return 0===e.type},Un=function(e,t){return jn(e)&&e.value===t},Qn=function(e){return 31!==e.type},Pn=function(e){return 31!==e.type&&4!==e.type},On=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Dn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Rn=function(e){return 17===e.type||15===e.type},Mn=function(e){return 16===e.type||Rn(e)},Hn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Vn={type:17,number:0,flags:qe},Kn={type:16,number:50,flags:qe},qn={type:16,number:100,flags:qe},zn=function(e,t,n){var r=e[0],s=e[1];return[Wn(r,t),Wn("undefined"!==typeof s?s:r,n)]},Wn=function(e,t){if(16===e.type)return e.number/100*t;if(In(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Gn="deg",Jn="grad",Xn="rad",Yn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Gn:return Math.PI*t.number/180;case Jn:return Math.PI/200*t.number;case Xn:return t.number;case Yn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===Gn||e.unit===Jn||e.unit===Xn||e.unit===Yn)},er=function(e){switch(e.filter(jn).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vn,Vn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vn,qn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qn,qn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qn,Vn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return ir(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(4===t.value.length){r=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);var o=t.value.substring(3,4);return ir(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),ir(parseInt(r,16),parseInt(s,16),parseInt(i,16),1);if(8===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8),ir(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}if(20===t.type){var a=dr[t.value.toUpperCase()];if("undefined"!==typeof a)return a}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},sr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},ir=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},or=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ar=function(e,t){var n=t.filter(Pn);if(3===n.length){var r=n.map(or),s=r[0],i=r[1],o=r[2];return ir(s,i,o,1)}if(4===n.length){var a=n.map(or),l=(s=a[0],i=a[1],o=a[2],a[3]);return ir(s,i,o,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var Ar=function(e,t){var n=t.filter(Pn),r=n[0],s=n[1],i=n[2],o=n[3],a=(17===r.type?tr(r.number):Zn.parse(e,r))/(2*Math.PI),l=Mn(s)?s.number/100:0,A=Mn(i)?i.number/100:0,c="undefined"!==typeof o&&Mn(o)?Wn(o,1):1;if(0===l)return ir(255*A,255*A,255*A,1);var u=A<=.5?A*(l+1):A+l-A*l,d=2*A-u,h=lr(d,u,a+1/3),f=lr(d,u,a),p=lr(d,u,a-1/3);return ir(255*h,255*f,255*p,c)},cr={hsl:Ar,hsla:Ar,rgb:ar,rgba:ar},ur=function(e,t){return nr.parse(e,Fn.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(jn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Mn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Vn),null===r.stop&&(r.stop=qn);for(var s=[],i=0,o=0;o<e.length;o++){var a=e[o].stop;if(null!==a){var l=Wn(a,t);l>i?s.push(l):s.push(i),i=l}else s.push(null)}var A=null;for(o=0;o<s.length;o++){var c=s[o];if(null===c)null===A&&(A=o);else if(null!==A){for(var u=o-A,d=(c-s[A-1])/(u+1),h=1;h<=u;h++)s[A+h-1]=d*h;A=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,s[n]/t),0)}})},mr=function(e,t,n){var r=t/2,s=n/2,i=Wn(e[0],t)-r,o=s-Wn(e[1],n);return(Math.atan2(o,i)+2*Math.PI)%(2*Math.PI)},yr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),i=t/2,o=n/2,a=s/2,l=Math.sin(r-Math.PI/2)*a,A=Math.cos(r-Math.PI/2)*a;return[s,i-A,i+A,o-l,o+l]},vr=function(e,t){return Math.sqrt(e*e+t*t)},wr=function(e,t,n,r,s){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var i=t[0],o=t[1],a=vr(n-i,r-o);return(s?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(e,t,n,r,s){var i=0,o=0;switch(e.size){case 0:0===e.shape?i=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(i=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(0===e.shape)i=o=Math.min(vr(t,n),vr(t,n-s),vr(t-r,n),vr(t-r,n-s));else if(1===e.shape){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),l=wr(r,s,t,n,!0),A=l[0],c=l[1];o=a*(i=vr(A-t,(c-n)/a))}break;case 1:0===e.shape?i=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(i=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(0===e.shape)i=o=Math.max(vr(t,n),vr(t,n-s),vr(t-r,n),vr(t-r,n-s));else if(1===e.shape){a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r));var u=wr(r,s,t,n,!1);A=u[0],c=u[1],o=a*(i=vr(A-t,(c-n)/a))}}return Array.isArray(e.size)&&(i=Wn(e.size[0],r),o=2===e.size.length?Wn(e.size[1],s):i),[i,o]},xr=function(e,t){var n=tr(180),r=[];return On(t).forEach(function(t,s){if(0===s){var i=t[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(n=er(t));if($n(i))return void(n=(Zn.parse(e,i)+tr(270))%tr(360))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},Cr="closest-side",Br="farthest-side",kr="closest-corner",Nr="farthest-corner",Er="circle",_r="ellipse",Sr="cover",Fr="contain",Ir=function(e,t){var n=0,r=3,s=[],i=[];return On(t).forEach(function(t,o){var a=!0;if(0===o?a=t.reduce(function(e,t){if(jn(t))switch(t.value){case"center":return i.push(Kn),!1;case"top":case"left":return i.push(Vn),!1;case"right":case"bottom":return i.push(qn),!1}else if(Mn(t)||Rn(t))return i.push(t),!1;return e},a):1===o&&(a=t.reduce(function(e,t){if(jn(t))switch(t.value){case Er:return n=0,!1;case _r:return n=1,!1;case Fr:case Cr:return r=0,!1;case Br:return r=1,!1;case kr:return r=2,!1;case Sr:case Nr:return r=3,!1}else if(Rn(t)||Mn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},a)),a){var l=pr(e,t);s.push(l)}}),{size:r,shape:n,stops:s,position:i,type:2}},Tr=function(e){return 1===e.type},jr=function(e){return 2===e.type},Lr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Pr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ur(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Pr[e.name])}var Qr,Pr={"linear-gradient":function(e,t){var n=tr(180),r=[];return On(t).forEach(function(t,s){if(0===s){var i=t[0];if(20===i.type&&"to"===i.value)return void(n=er(t));if($n(i))return void(n=Zn.parse(e,i))}var o=pr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":function(e,t){var n=0,r=3,s=[],i=[];return On(t).forEach(function(t,o){var a=!0;if(0===o){var l=!1;a=t.reduce(function(e,t){if(l)if(jn(t))switch(t.value){case"center":return i.push(Kn),e;case"top":case"left":return i.push(Vn),e;case"right":case"bottom":return i.push(qn),e}else(Mn(t)||Rn(t))&&i.push(t);else if(jn(t))switch(t.value){case Er:return n=0,!1;case _r:return n=1,!1;case"at":return l=!0,!1;case Cr:return r=0,!1;case Sr:case Br:return r=1,!1;case Fr:case kr:return r=2,!1;case Nr:return r=3,!1}else if(Rn(t)||Mn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},a)}if(a){var A=pr(e,t);s.push(A)}}),{size:r,shape:n,stops:s,position:i,type:2}},"-moz-radial-gradient":Ir,"-ms-radial-gradient":Ir,"-o-radial-gradient":Ir,"-webkit-radial-gradient":Ir,"-webkit-gradient":function(e,t){var n=tr(180),r=[],s=1,i=0,o=3,a=[];return On(t).forEach(function(t,n){var i=t[0];if(0===n){if(jn(i)&&"linear"===i.value)return void(s=1);if(jn(i)&&"radial"===i.value)return void(s=2)}if(18===i.type)if("from"===i.name){var o=nr.parse(e,i.values[0]);r.push({stop:Vn,color:o})}else if("to"===i.name)o=nr.parse(e,i.values[0]),r.push({stop:qn,color:o});else if("color-stop"===i.name){var a=i.values.filter(Pn);if(2===a.length){o=nr.parse(e,a[1]);var l=a[0];Tn(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:o})}}}),1===s?{angle:(n+tr(180))%tr(360),stops:r,type:s}:{size:o,shape:i,stops:r,position:a,type:s}}},Or={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return Pn(e)&&Ur(e)}).map(function(t){return Lr.parse(e,t)})}},Dr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(jn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return On(t).map(function(e){return e.filter(Mn)}).map(Hn)}},Mr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return On(t).map(function(e){return e.filter(jn).map(function(e){return e.value}).join(" ")}).map(Hr)}},Hr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Qr||(Qr={}));var Vr,Kr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return On(t).map(function(e){return e.filter(qr)})}},qr=function(e){return jn(e)||Mn(e)},zr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wr=zr("top"),Gr=zr("right"),Jr=zr("bottom"),Xr=zr("left"),Yr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Hn(t.filter(Mn))}}},Zr=Yr("top-left"),$r=Yr("top-right"),es=Yr("bottom-right"),ts=Yr("bottom-left"),ns=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rs=ns("top"),ss=ns("right"),is=ns("bottom"),os=ns("left"),as=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}}},ls=as("top"),As=as("right"),cs=as("bottom"),us=as("left"),ds={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hs={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fs={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(jn).reduce(function(e,t){return e|ps(t.value)},0)}},ps=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gs={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ms={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Vr||(Vr={}));var ys,vs={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Vr.STRICT:Vr.NORMAL}},ws={name:"line-height",initialValue:"normal",prefix:!1,type:4},bs=function(e,t){return jn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Mn(e)?Wn(e,t):t},xs={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Lr.parse(e,t)}},Cs={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Bs={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},ks=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Ns=ks("top"),Es=ks("right"),_s=ks("bottom"),Ss=ks("left"),Fs={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(jn).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Is={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ts=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},js=Ts("top"),Ls=Ts("right"),Us=Ts("bottom"),Qs=Ts("left"),Ps={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Os={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ds={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Un(t[0],"none")?[]:On(t).map(function(t){for(var n={color:dr.TRANSPARENT,offsetX:Vn,offsetY:Vn,blur:Vn},r=0,s=0;s<t.length;s++){var i=t[s];Rn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:n.blur=i,r++):n.color=nr.parse(e,i)}return n})}},Rs={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ms={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Hs[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Hs={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],a=t[13];return t[14],t[15],16===t.length?[n,r,s,i,o,a]:null}},Vs={type:16,number:50,flags:qe},Ks=[Vs,Vs],qs={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Mn);return 2!==n.length?Ks:[n[0],n[1]]}},zs={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(ys||(ys={}));for(var Ws={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return ys.BREAK_ALL;case"keep-all":return ys.KEEP_ALL;default:return ys.NORMAL}}},Gs={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Tn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Js={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Xs={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:1}},Ys={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zs={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(jn).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$s={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},ei={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ti={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:jn(t)&&"bold"===t.value?700:400}},ni={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(jn).map(function(e){return e.value})}},ri={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},si=function(e,t){return 0!==(e&t)},ii={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},oi={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],s=t.filter(Qn),i=0;i<s.length;i++){var o=s[i],a=s[i+1];if(20===o.type){var l=a&&Tn(a)?a.number:1;r.push({counter:o.value,increment:l})}}return r}},ai={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Qn),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(jn(i)&&"none"!==i.value){var a=o&&Tn(o)?o.number:0;n.push({counter:i.value,reset:a})}}return n}},li={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(In).map(function(t){return Js.parse(e,t)})}},Ai={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],s=t.filter(Ln);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,a=s[i+1].value;r.push({open:o,close:a})}return r}},ci=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ui={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Un(t[0],"none")?[]:On(t).map(function(t){for(var n={color:255,offsetX:Vn,offsetY:Vn,blur:Vn,spread:Vn,inset:!1},r=0,s=0;s<t.length;s++){var i=t[s];Un(i,"inset")?n.inset=!0:Rn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:2===r?n.blur=i:n.spread=i,r++):n.color=nr.parse(e,i)}return n})}},di={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(jn).forEach(function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}}),n.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r}},hi={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}},pi=function(){function e(e,t){var n,r;this.animationDuration=yi(e,li,t.animationDuration),this.backgroundClip=yi(e,hr,t.backgroundClip),this.backgroundColor=yi(e,fr,t.backgroundColor),this.backgroundImage=yi(e,Or,t.backgroundImage),this.backgroundOrigin=yi(e,Dr,t.backgroundOrigin),this.backgroundPosition=yi(e,Rr,t.backgroundPosition),this.backgroundRepeat=yi(e,Mr,t.backgroundRepeat),this.backgroundSize=yi(e,Kr,t.backgroundSize),this.borderTopColor=yi(e,Wr,t.borderTopColor),this.borderRightColor=yi(e,Gr,t.borderRightColor),this.borderBottomColor=yi(e,Jr,t.borderBottomColor),this.borderLeftColor=yi(e,Xr,t.borderLeftColor),this.borderTopLeftRadius=yi(e,Zr,t.borderTopLeftRadius),this.borderTopRightRadius=yi(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=yi(e,es,t.borderBottomRightRadius),this.borderBottomLeftRadius=yi(e,ts,t.borderBottomLeftRadius),this.borderTopStyle=yi(e,rs,t.borderTopStyle),this.borderRightStyle=yi(e,ss,t.borderRightStyle),this.borderBottomStyle=yi(e,is,t.borderBottomStyle),this.borderLeftStyle=yi(e,os,t.borderLeftStyle),this.borderTopWidth=yi(e,ls,t.borderTopWidth),this.borderRightWidth=yi(e,As,t.borderRightWidth),this.borderBottomWidth=yi(e,cs,t.borderBottomWidth),this.borderLeftWidth=yi(e,us,t.borderLeftWidth),this.boxShadow=yi(e,ui,t.boxShadow),this.color=yi(e,ds,t.color),this.direction=yi(e,hs,t.direction),this.display=yi(e,fs,t.display),this.float=yi(e,gs,t.cssFloat),this.fontFamily=yi(e,$s,t.fontFamily),this.fontSize=yi(e,ei,t.fontSize),this.fontStyle=yi(e,ri,t.fontStyle),this.fontVariant=yi(e,ni,t.fontVariant),this.fontWeight=yi(e,ti,t.fontWeight),this.letterSpacing=yi(e,ms,t.letterSpacing),this.lineBreak=yi(e,vs,t.lineBreak),this.lineHeight=yi(e,ws,t.lineHeight),this.listStyleImage=yi(e,xs,t.listStyleImage),this.listStylePosition=yi(e,Cs,t.listStylePosition),this.listStyleType=yi(e,Bs,t.listStyleType),this.marginTop=yi(e,Ns,t.marginTop),this.marginRight=yi(e,Es,t.marginRight),this.marginBottom=yi(e,_s,t.marginBottom),this.marginLeft=yi(e,Ss,t.marginLeft),this.opacity=yi(e,Xs,t.opacity);var s=yi(e,Fs,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=yi(e,Is,t.overflowWrap),this.paddingTop=yi(e,js,t.paddingTop),this.paddingRight=yi(e,Ls,t.paddingRight),this.paddingBottom=yi(e,Us,t.paddingBottom),this.paddingLeft=yi(e,Qs,t.paddingLeft),this.paintOrder=yi(e,di,t.paintOrder),this.position=yi(e,Os,t.position),this.textAlign=yi(e,Ps,t.textAlign),this.textDecorationColor=yi(e,Ys,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=yi(e,Zs,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=yi(e,Ds,t.textShadow),this.textTransform=yi(e,Rs,t.textTransform),this.transform=yi(e,Ms,t.transform),this.transformOrigin=yi(e,qs,t.transformOrigin),this.visibility=yi(e,zs,t.visibility),this.webkitTextStrokeColor=yi(e,hi,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=yi(e,fi,t.webkitTextStrokeWidth),this.wordBreak=yi(e,Ws,t.wordBreak),this.zIndex=yi(e,Gs,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return si(this.display,4)||si(this.display,33554432)||si(this.display,268435456)||si(this.display,536870912)||si(this.display,67108864)||si(this.display,134217728)},e}(),gi=function(){function e(e,t){this.content=yi(e,ii,t.content),this.quotes=yi(e,Ai,t.quotes)}return e}(),mi=function(){function e(e,t){this.counterIncrement=yi(e,oi,t.counterIncrement),this.counterReset=yi(e,ai,t.counterReset)}return e}(),yi=function(e,t,n){var r=new Sn,s=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(s);var i=new Fn(r.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,jn(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,i.parseComponentValue());case"color":return nr.parse(e,i.parseComponentValue());case"image":return Lr.parse(e,i.parseComponentValue());case"length":var a=i.parseComponentValue();return Rn(a)?a:Vn;case"length-percentage":var l=i.parseComponentValue();return Mn(l)?l:Vn;case"time":return Js.parse(e,i.parseComponentValue())}}},vi="data-html2canvas-debug",wi=function(e){switch(e.getAttribute(vi)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bi=function(e,t){var n=wi(e);return 1===n||t===n},xi=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,bi(t,3),this.styles=new pi(e,window.getComputedStyle(t,null)),ca(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=a(this.context,t),bi(t,4)&&(this.flags|=16)}return e}(),Ci="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ki="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ni=0;Ni<Bi.length;Ni++)ki[Bi.charCodeAt(Ni)]=Ni;for(var Ei=function(e){var t,n,r,s,i,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<a;t+=4)n=ki[e.charCodeAt(t)],r=ki[e.charCodeAt(t+1)],s=ki[e.charCodeAt(t+2)],i=ki[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&i;return A},_i=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Si=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Fi=5,Ii=11,Ti=2,ji=65536>>Fi,Li=(1<<Fi)-1,Ui=ji+(1024>>Fi)+32,Qi=65536>>Ii,Pi=(1<<Ii-Fi)-1,Oi=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Di=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Ri=function(e,t){var n=Ei(e),r=Array.isArray(n)?Si(n):new Uint32Array(n),s=Array.isArray(n)?_i(n):new Uint16Array(n),i=24,o=Oi(s,i/2,r[4]/2),a=2===r[5]?Oi(s,(i+r[4])/2):Di(r,Math.ceil((i+r[4])/4));return new Mi(r[0],r[1],r[2],r[3],o,a)},Mi=function(){function e(e,t,n,r,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Fi])<<Ti)+(e&Li),this.data[t];if(e<=65535)return t=((t=this.index[ji+(e-55296>>Fi)])<<Ti)+(e&Li),this.data[t];if(e<this.highStart)return t=Ui-Qi+(e>>Ii),t=this.index[t],t+=e>>Fi&Pi,t=((t=this.index[t])<<Ti)+(e&Li),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ki=0;Ki<Hi.length;Ki++)Vi[Hi.charCodeAt(Ki)]=Ki;var qi,zi=1,Wi=2,Gi=3,Ji=4,Xi=5,Yi=7,Zi=8,$i=9,eo=10,to=11,no=12,ro=13,so=14,io=15,oo=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&s)<<10)+(1023&i)+65536):(t.push(s),n--)}else t.push(s)}return t},ao=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=e[s];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},lo=Ri(Ci),Ao="\xd7",co="\xf7",uo=function(e){return lo.get(e)},ho=function(e,t,n){var r=n-2,s=t[r],i=t[n-1],o=t[n];if(i===Wi&&o===Gi)return Ao;if(i===Wi||i===Gi||i===Ji)return co;if(o===Wi||o===Gi||o===Ji)return co;if(i===Zi&&-1!==[Zi,$i,to,no].indexOf(o))return Ao;if((i===to||i===$i)&&(o===$i||o===eo))return Ao;if((i===no||i===eo)&&o===eo)return Ao;if(o===ro||o===Xi)return Ao;if(o===Yi)return Ao;if(i===zi)return Ao;if(i===ro&&o===so){for(;s===Xi;)s=t[--r];if(s===so)return Ao}if(i===io&&o===io){for(var a=0;s===io;)a++,s=t[--r];if(a%2===0)return Ao}return co},fo=function(e){var t=oo(e),n=t.length,r=0,s=0,i=t.map(uo);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=Ao;r<n&&(e=ho(t,i,++r))===Ao;);if(e!==Ao||r===n){var o=ao.apply(null,t.slice(s,r));return s=r,{value:o,done:!1}}return{done:!0,value:null}}}},po=function(e){for(var t,n=fo(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},go=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(r),i===t)return!0}}return!1},mo=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,s=A(r.data).map(function(e){return c(e)}),i=0,o={},a=s.every(function(e,t){n.setStart(r,i),n.setEnd(r,i+e.length);var s=n.getBoundingClientRect();i+=e.length;var a=s.x>o.x||s.y>o.y;return o=s,0===t||a});return e.body.removeChild(t),a},yo=function(){return"undefined"!==typeof(new Image).crossOrigin},vo=function(){return"string"===typeof(new XMLHttpRequest).responseType},wo=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Pt){return!1}return!0},bo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},xo=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=t.toDataURL();s.src=i;var o=Co(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),Bo(o).then(function(t){r.drawImage(t,0,0);var s=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=e.createElement("div");return o.style.backgroundImage="url("+i+")",o.style.height=n+"px",bo(s)?Bo(Co(n,n,0,0,o)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),bo(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Co=function(e,t,n,r,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(s),o},Bo=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},ko={get SUPPORT_RANGE_BOUNDS(){var e=go(document);return Object.defineProperty(ko,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ko.SUPPORT_RANGE_BOUNDS&&mo(document);return Object.defineProperty(ko,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=wo(document);return Object.defineProperty(ko,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?xo(document):Promise.resolve(!1);return Object.defineProperty(ko,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=yo();return Object.defineProperty(ko,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=vo();return Object.defineProperty(ko,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ko,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(ko,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},No=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Eo=function(e,t,n,r){var s=To(t,n),i=[],a=0;return s.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(ko.SUPPORT_RANGE_BOUNDS){var s=So(r,a,t.length).getClientRects();if(s.length>1){var l=Fo(t),A=0;l.forEach(function(t){i.push(new No(t,o.fromDOMRectList(e,So(r,A+a,t.length).getClientRects()))),A+=t.length})}else i.push(new No(t,o.fromDOMRectList(e,s)))}else{var c=r.splitText(t.length);i.push(new No(t,_o(e,r))),r=c}else ko.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));a+=t.length}),i},_o=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var i=a(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return o.EMPTY},So=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},Fo=function(e){if(ko.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return po(e)},Io=function(e,t){if(ko.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Lo(e,t)},To=function(e,t){return 0!==t.letterSpacing?Fo(e):Io(e,t)},jo=[32,160,4961,65792,65793,4153,4241],Lo=function(e,t){for(var n,r=He(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),s=[],i=function(){if(n.value){var e=n.value.slice(),t=A(e),r="";t.forEach(function(e){-1===jo.indexOf(e)?r+=c(e):(r.length&&s.push(r),s.push(c(e)),r="")}),r.length&&s.push(r)}};!(n=r.next()).done;)i();return s},Uo=function(){function e(e,t,n){this.text=Qo(t.data,n.textTransform),this.textBounds=Eo(e,this.text,n,t)}return e}(),Qo=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Po,Oo);case 2:return e.toUpperCase();default:return e}},Po=/(^|\s|:|-|\(|\))([a-z])/g,Oo=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Do=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(xi),Ro=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(xi),Mo=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=new XMLSerializer,i=a(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(xi),Ho=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xi),Vo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(xi),Ko=[{type:15,flags:0,unit:"px",number:3}],qo=[{type:16,flags:0,number:50}],zo=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Wo=function(e){var t=e.type===Xo?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Go="checkbox",Jo="radio",Xo="password",Yo=707406591,Zo=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Wo(n),r.type!==Go&&r.type!==Jo||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=zo(r.bounds)),r.type){case Go:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ko;break;case Jo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=qo}return r}return t(n,e),n}(xi),$o=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return t(n,e),n}(xi),ea=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xi),ta=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=ia(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,i=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(s)?rr(i)?r.styles.backgroundColor:i:s}}catch(Pt){}return r}return t(n,e),n}(xi),na=["OL","UL","MENU"],ra=function(e,t,n,r){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,la(s)&&s.data.trim().length>0)n.textNodes.push(new Uo(e,s,n.styles));else if(Aa(s))if(Na(s)&&s.assignedNodes)s.assignedNodes().forEach(function(t){return ra(e,t,n,r)});else{var o=sa(e,s);o.styles.isVisible()&&(oa(s,o,r)?o.flags|=4:aa(o.styles)&&(o.flags|=2),-1!==na.indexOf(s.tagName)&&(o.flags|=8),n.elements.push(o),s.slot,s.shadowRoot?ra(e,s.shadowRoot,o,r):Ba(s)||ga(s)||ka(s)||ra(e,s,o,r))}},sa=function(e,t){return wa(t)?new Do(e,t):ya(t)?new Ro(e,t):ga(t)?new Mo(e,t):da(t)?new Ho(e,t):ha(t)?new Vo(e,t):fa(t)?new Zo(e,t):ka(t)?new $o(e,t):Ba(t)?new ea(e,t):ba(t)?new ta(e,t):new xi(e,t)},ia=function(e,t){var n=sa(e,t);return n.flags|=4,ra(e,t,n,n),n},oa=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ma(e)&&n.styles.isTransparent()},aa=function(e){return e.isPositioned()||e.isFloating()},la=function(e){return e.nodeType===Node.TEXT_NODE},Aa=function(e){return e.nodeType===Node.ELEMENT_NODE},ca=function(e){return Aa(e)&&"undefined"!==typeof e.style&&!ua(e)},ua=function(e){return"object"===typeof e.className},da=function(e){return"LI"===e.tagName},ha=function(e){return"OL"===e.tagName},fa=function(e){return"INPUT"===e.tagName},pa=function(e){return"HTML"===e.tagName},ga=function(e){return"svg"===e.tagName},ma=function(e){return"BODY"===e.tagName},ya=function(e){return"CANVAS"===e.tagName},va=function(e){return"VIDEO"===e.tagName},wa=function(e){return"IMG"===e.tagName},ba=function(e){return"IFRAME"===e.tagName},xa=function(e){return"STYLE"===e.tagName},Ca=function(e){return"SCRIPT"===e.tagName},Ba=function(e){return"TEXTAREA"===e.tagName},ka=function(e){return"SELECT"===e.tagName},Na=function(e){return"SLOT"===e.tagName},Ea=function(e){return e.tagName.indexOf("-")>0},_a=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,s=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(s=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var i=[];return s&&r.forEach(function(e){var n=t.counters[e.counter];i.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),i},e}(),Sa={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fa={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Ia={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Ta={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},ja=function(e,t,n,r,s,i){return e<t||e>n?za(e,s,i.length>0):r.integers.reduce(function(t,n,s){for(;e>=n;)e-=n,t+=r.values[s];return t},"")+i},La=function(e,t,n,r){var s="";do{n||e--,s=r(e)+s,e/=t}while(e*t>=t);return s},Ua=function(e,t,n,r,s){var i=n-t+1;return(e<0?"-":"")+(La(Math.abs(e),i,r,function(e){return c(Math.floor(e%i)+t)})+s)},Qa=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return La(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},Pa=1,Oa=2,Da=4,Ra=8,Ma=function(e,t,n,r,s,i){if(e<-9999||e>9999)return za(e,4,s.length>0);var o=Math.abs(e),a=s;if(0===o)return t[0]+a;for(var l=0;o>0&&l<=4;l++){var A=o%10;0===A&&si(i,Pa)&&""!==a?a=t[A]+a:A>1||1===A&&0===l||1===A&&1===l&&si(i,Oa)||1===A&&1===l&&si(i,Da)&&e>100||1===A&&l>1&&si(i,Ra)?a=t[A]+(l>0?n[l-1]:"")+a:1===A&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(e<0?r:"")+a},Ha="\u5341\u767e\u5343\u842c",Va="\u62fe\u4f70\u4edf\u842c",Ka="\u30de\u30a4\u30ca\u30b9",qa="\ub9c8\uc774\ub108\uc2a4",za=function(e,t,n){var r=n?". ":"",s=n?"\u3001":"",i=n?", ":"",o=n?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25e6"+o;case 2:return"\u25fe"+o;case 5:var a=Ua(e,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return Qa(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",s);case 6:return ja(e,1,3999,Sa,3,r).toLowerCase();case 7:return ja(e,1,3999,Sa,3,r);case 8:return Ua(e,945,969,!1,r);case 9:return Ua(e,97,122,!1,r);case 10:return Ua(e,65,90,!1,r);case 11:return Ua(e,1632,1641,!0,r);case 12:case 49:return ja(e,1,9999,Fa,3,r);case 35:return ja(e,1,9999,Fa,3,r).toLowerCase();case 13:return Ua(e,2534,2543,!0,r);case 14:case 30:return Ua(e,6112,6121,!0,r);case 15:return Qa(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",s);case 16:return Qa(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",s);case 17:case 48:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ha,"\u8ca0",s,Oa|Da|Ra);case 47:return Ma(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Va,"\u8ca0",s,Pa|Oa|Da|Ra);case 42:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ha,"\u8d1f",s,Oa|Da|Ra);case 41:return Ma(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Va,"\u8d1f",s,Pa|Oa|Da|Ra);case 26:return Ma(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ka,s,0);case 25:return Ma(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ka,s,Pa|Oa|Da);case 31:return Ma(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",qa,i,Pa|Oa|Da);case 33:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",qa,i,0);case 32:return Ma(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",qa,i,Pa|Oa|Da);case 18:return Ua(e,2406,2415,!0,r);case 20:return ja(e,1,19999,Ta,3,r);case 21:return Ua(e,2790,2799,!0,r);case 22:return Ua(e,2662,2671,!0,r);case 22:return ja(e,1,10999,Ia,3,r);case 23:return Qa(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Qa(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ua(e,3302,3311,!0,r);case 28:return Qa(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",s);case 29:return Qa(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",s);case 34:return Ua(e,3792,3801,!0,r);case 37:return Ua(e,6160,6169,!0,r);case 38:return Ua(e,4160,4169,!0,r);case 39:return Ua(e,2918,2927,!0,r);case 40:return Ua(e,1776,1785,!0,r);case 43:return Ua(e,3046,3055,!0,r);case 44:return Ua(e,3174,3183,!0,r);case 45:return Ua(e,3664,3673,!0,r);case 46:return Ua(e,3872,3881,!0,r);default:return Ua(e,48,57,!0,r)}},Wa="data-html2canvas-ignore",Ga=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new _a,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,i=Xa(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,l=i.contentWindow,A=l.document,c=$a(i).then(function(){return r(n,void 0,void 0,function(){var e,n;return s(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(sl),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Za(A)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(A,n)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,o,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(e){if(bi(e,2),ya(e))return this.createCanvasClone(e);if(va(e))return this.createVideoClone(e);if(xa(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return wa(t)&&(wa(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ea(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Pt){if(this.context.logger.error("Unable to access cssRules property",Pt),"SecurityError"!==Pt.name)throw Pt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Pt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var a=o.getContextAttributes();!1===(null===a||void 0===a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return r}catch(Pt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Pt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){Aa(t)&&(Ca(t)||t.hasAttribute(Wa)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&Aa(t)&&xa(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Aa(s)&&Na(s)&&"function"===typeof s.assignedNodes){var i=s.assignedNodes();i.length&&i.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,s,n)},e.prototype.cloneNode=function(e,t){if(la(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Aa(e)&&(ca(e)||ua(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&ca(r)&&(this.clonedReferenceElement=r),ma(r)&&cl(r);var a=this.counters.parse(new mi(this.context,s)),l=this.resolvePseudoContent(e,r,i,qi.BEFORE);Ea(e)&&(t=!0),va(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var A=this.resolvePseudoContent(e,r,o,qi.AFTER);return A&&r.appendChild(A),this.counters.pop(a),(s&&(this.options.copyStyles||ua(e))&&!ba(e)||t)&&tl(s,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Ba(e)||ka(e))&&(Ba(r)||ka(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var s=this;if(n){var i=n.content,o=t.ownerDocument;if(o&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new mi(this.context,n));var a=new gi(this.context,n),l=o.createElement("html2canvaspseudoelement");tl(n,l),a.content.forEach(function(t){if(0===t.type)l.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(jn);r.length&&l.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var i=t.values.filter(Pn),A=i[0],c=i[1];if(A&&jn(A)){var u=s.counters.getCounterValue(A.value),d=c&&jn(c)?Bs.parse(s.context,c.value):3;l.appendChild(o.createTextNode(za(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Pn),f=(A=h[0],h[1]);if(c=h[2],A&&jn(A)){var p=s.counters.getCounterValues(A.value),g=c&&jn(c)?Bs.parse(s.context,c.value):3,m=f&&0===f.type?f.value:"",y=p.map(function(e){return za(e,g,!1)}).join(m);l.appendChild(o.createTextNode(y))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(o.createTextNode(ci(a.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(ci(a.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(t.value))}}),l.className=al+" "+ll;var A=r===qi.BEFORE?" "+al:" "+ll;return ua(t)?t.className.baseValue+=A:t.className+=A,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(qi||(qi={}));var Ja,Xa=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Wa,"true"),e.body.appendChild(n),n},Ya=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Za=function(e){return Promise.all([].slice.call(e.images,0).map(Ya))},$a=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){s.body.childNodes.length>0&&"complete"===s.readyState&&(clearInterval(n),t(e))},50)}})},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},sl=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},il=":before",ol=":after",al="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",Al='{\n    content: "" !important;\n    display: none !important;\n}',cl=function(e){ul(e,"."+al+il+Al+"\n         ."+ll+ol+Al)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:wl(e)||ml(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,o=this;return s(this,function(s){switch(s.label){case 0:return t=dl.isSameOrigin(e),n=!yl(e)&&!0===this._options.useCORS&&ko.SUPPORT_CORS_IMAGES&&!t,r=!yl(e)&&!t&&!wl(e)&&"string"===typeof this._options.proxy&&ko.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||yl(e)||wl(e)||r||n?(i=e,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(vl(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout(function(){return e(r)},500),o._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,i){var o=ko.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===o)s(a.response);else{var e=new FileReader;e.addEventListener("load",function(){return s(e.result)},!1),e.addEventListener("error",function(e){return i(e)},!1),e.readAsDataURL(a.response)}else i("Failed to proxy resource "+r+" with status code "+a.status)},a.onerror=i;var l=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var A=t._options.imageTimeout;a.timeout=A,a.ontimeout=function(){return i("Timed out ("+A+"ms) proxying "+r)}}a.send()})},e}(),fl=/^data:image\/svg\+xml/i,pl=/^data:image\/.*;base64,/i,gl=/^data:image\/.*/i,ml=function(e){return ko.SUPPORT_SVG_DRAWING||!bl(e)},yl=function(e){return gl.test(e)},vl=function(e){return pl.test(e)},wl=function(e){return"blob"===e.substr(0,4)},bl=function(e){return"svg"===e.substr(-3).toLowerCase()||fl.test(e)},xl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Cl=function(e,t,n){return new xl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Bl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Cl(this.start,this.startControl,t),s=Cl(this.startControl,this.endControl,t),i=Cl(this.endControl,this.end,t),o=Cl(r,s,t),a=Cl(s,i,t),l=Cl(o,a,t);return n?new e(this.start,r,o,l):new e(l,a,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),kl=function(e){return 1===e.type},Nl=function(){function e(e){var t=e.styles,n=e.bounds,r=zn(t.borderTopLeftRadius,n.width,n.height),s=r[0],i=r[1],o=zn(t.borderTopRightRadius,n.width,n.height),a=o[0],l=o[1],A=zn(t.borderBottomRightRadius,n.width,n.height),c=A[0],u=A[1],d=zn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],f=d[1],p=[];p.push((s+a)/n.width),p.push((h+c)/n.width),p.push((i+f)/n.height),p.push((l+u)/n.height);var g=Math.max.apply(Math,p);g>1&&(s/=g,i/=g,a/=g,l/=g,c/=g,u/=g,h/=g,f/=g);var m=n.width-a,y=n.height-u,v=n.width-c,w=n.height-f,b=t.borderTopWidth,x=t.borderRightWidth,C=t.borderBottomWidth,B=t.borderLeftWidth,k=Wn(t.paddingTop,e.bounds.width),N=Wn(t.paddingRight,e.bounds.width),E=Wn(t.paddingBottom,e.bounds.width),_=Wn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?El(n.left+B/3,n.top+b/3,s-B/3,i-b/3,Ja.TOP_LEFT):new xl(n.left+B/3,n.top+b/3),this.topRightBorderDoubleOuterBox=s>0||i>0?El(n.left+m,n.top+b/3,a-x/3,l-b/3,Ja.TOP_RIGHT):new xl(n.left+n.width-x/3,n.top+b/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?El(n.left+v,n.top+y,c-x/3,u-C/3,Ja.BOTTOM_RIGHT):new xl(n.left+n.width-x/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=h>0||f>0?El(n.left+B/3,n.top+w,h-B/3,f-C/3,Ja.BOTTOM_LEFT):new xl(n.left+B/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?El(n.left+2*B/3,n.top+2*b/3,s-2*B/3,i-2*b/3,Ja.TOP_LEFT):new xl(n.left+2*B/3,n.top+2*b/3),this.topRightBorderDoubleInnerBox=s>0||i>0?El(n.left+m,n.top+2*b/3,a-2*x/3,l-2*b/3,Ja.TOP_RIGHT):new xl(n.left+n.width-2*x/3,n.top+2*b/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?El(n.left+v,n.top+y,c-2*x/3,u-2*C/3,Ja.BOTTOM_RIGHT):new xl(n.left+n.width-2*x/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=h>0||f>0?El(n.left+2*B/3,n.top+w,h-2*B/3,f-2*C/3,Ja.BOTTOM_LEFT):new xl(n.left+2*B/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=s>0||i>0?El(n.left+B/2,n.top+b/2,s-B/2,i-b/2,Ja.TOP_LEFT):new xl(n.left+B/2,n.top+b/2),this.topRightBorderStroke=s>0||i>0?El(n.left+m,n.top+b/2,a-x/2,l-b/2,Ja.TOP_RIGHT):new xl(n.left+n.width-x/2,n.top+b/2),this.bottomRightBorderStroke=c>0||u>0?El(n.left+v,n.top+y,c-x/2,u-C/2,Ja.BOTTOM_RIGHT):new xl(n.left+n.width-x/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=h>0||f>0?El(n.left+B/2,n.top+w,h-B/2,f-C/2,Ja.BOTTOM_LEFT):new xl(n.left+B/2,n.top+n.height-C/2),this.topLeftBorderBox=s>0||i>0?El(n.left,n.top,s,i,Ja.TOP_LEFT):new xl(n.left,n.top),this.topRightBorderBox=a>0||l>0?El(n.left+m,n.top,a,l,Ja.TOP_RIGHT):new xl(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?El(n.left+v,n.top+y,c,u,Ja.BOTTOM_RIGHT):new xl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||f>0?El(n.left,n.top+w,h,f,Ja.BOTTOM_LEFT):new xl(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?El(n.left+B,n.top+b,Math.max(0,s-B),Math.max(0,i-b),Ja.TOP_LEFT):new xl(n.left+B,n.top+b),this.topRightPaddingBox=a>0||l>0?El(n.left+Math.min(m,n.width-x),n.top+b,m>n.width+x?0:Math.max(0,a-x),Math.max(0,l-b),Ja.TOP_RIGHT):new xl(n.left+n.width-x,n.top+b),this.bottomRightPaddingBox=c>0||u>0?El(n.left+Math.min(v,n.width-B),n.top+Math.min(y,n.height-C),Math.max(0,c-x),Math.max(0,u-C),Ja.BOTTOM_RIGHT):new xl(n.left+n.width-x,n.top+n.height-C),this.bottomLeftPaddingBox=h>0||f>0?El(n.left+B,n.top+Math.min(w,n.height-C),Math.max(0,h-B),Math.max(0,f-C),Ja.BOTTOM_LEFT):new xl(n.left+B,n.top+n.height-C),this.topLeftContentBox=s>0||i>0?El(n.left+B+_,n.top+b+k,Math.max(0,s-(B+_)),Math.max(0,i-(b+k)),Ja.TOP_LEFT):new xl(n.left+B+_,n.top+b+k),this.topRightContentBox=a>0||l>0?El(n.left+Math.min(m,n.width+B+_),n.top+b+k,m>n.width+B+_?0:a-B+_,l-(b+k),Ja.TOP_RIGHT):new xl(n.left+n.width-(x+N),n.top+b+k),this.bottomRightContentBox=c>0||u>0?El(n.left+Math.min(v,n.width-(B+_)),n.top+Math.min(y,n.height+b+k),Math.max(0,c-(x+N)),u-(C+E),Ja.BOTTOM_RIGHT):new xl(n.left+n.width-(x+N),n.top+n.height-(C+E)),this.bottomLeftContentBox=h>0||f>0?El(n.left+B+_,n.top+w,Math.max(0,h-(B+_)),f-(C+E),Ja.BOTTOM_LEFT):new xl(n.left+B+_,n.top+n.height-(C+E))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Ja||(Ja={}));var El=function(e,t,n,r,s){var i=(Math.sqrt(2)-1)/3*4,o=n*i,a=r*i,l=e+n,A=t+r;switch(s){case Ja.TOP_LEFT:return new Bl(new xl(e,A),new xl(e,A-a),new xl(l-o,t),new xl(l,t));case Ja.TOP_RIGHT:return new Bl(new xl(e,t),new xl(e+o,t),new xl(l,A-a),new xl(l,A));case Ja.BOTTOM_RIGHT:return new Bl(new xl(l,t),new xl(l,t+a),new xl(e+o,A),new xl(e,A));case Ja.BOTTOM_LEFT:default:return new Bl(new xl(l,A),new xl(l-o,A),new xl(e,t+a),new xl(e,t))}},_l=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Sl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Fl=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Il=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Tl=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),jl=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ll=function(e){return 0===e.type},Ul=function(e){return 1===e.type},Ql=function(e){return 2===e.type},Pl=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},Ol=function(e,t,n,r,s){return e.map(function(e,i){switch(i){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+s);case 3:return e.add(t,n+s)}return e})},Dl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Rl=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Nl(this.container),this.container.styles.opacity<1&&this.effects.push(new jl(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Il(n,r,s))}if(0!==this.container.styles.overflowX){var i=_l(this.curves),o=Fl(this.curves);Pl(i,o)?this.effects.push(new Tl(i,6)):(this.effects.push(new Tl(i,2)),this.effects.push(new Tl(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter(function(e){return!Ul(e)});if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,s),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var i=_l(n.curves),o=Fl(n.curves);Pl(i,o)||r.unshift(new Tl(o,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter(function(t){return si(t.target,e)})},e}(),Ml=function(e,t,n,r){e.container.elements.forEach(function(s){var i=si(s.flags,4),o=si(s.flags,2),a=new Rl(s,e);si(s.styles.display,2048)&&r.push(a);var l=si(s.flags,8)?[]:r;if(i||o){var A=i||s.styles.isPositioned()?n:t,c=new Dl(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var u=s.styles.zIndex.order;if(u<0){var d=0;A.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0}),A.negativeZIndex.splice(d,0,c)}else if(u>0){var h=0;A.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0}),A.positiveZIndex.splice(h,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else s.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);Ml(a,c,i?c:n,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),Ml(a,t,n,l);si(s.flags,8)&&Hl(s,l)})},Hl=function(e,t){for(var n=e instanceof Vo?e.start:1,r=e instanceof Vo&&e.reversed,s=0;s<t.length;s++){var i=t[s];i.container instanceof Ho&&"number"===typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=za(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Vl=function(e){var t=new Rl(e,null),n=new Dl(t),r=[];return Ml(t,n,n,r),Hl(t.container,r),n},Kl=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Jl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Jl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Jl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ql=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Jl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Jl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Jl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},zl=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Jl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Jl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Jl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wl=function(e,t){switch(t){case 0:return Gl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Gl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Gl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Gl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Gl=function(e,t){var n=[];return kl(e)?n.push(e.subdivide(.5,!1)):n.push(e),kl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Jl=function(e,t,n,r){var s=[];return kl(e)?s.push(e.subdivide(.5,!1)):s.push(e),kl(n)?s.push(n.subdivide(.5,!0)):s.push(n),kl(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),kl(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},Xl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Yl=function(e){var t=e.styles,n=e.bounds,r=Wn(t.paddingLeft,n.width),s=Wn(t.paddingRight,n.width),i=Wn(t.paddingTop,n.width),o=Wn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+i+o))},Zl=function(e,t){return 0===e?t.bounds:2===e?Yl(t):Xl(t)},$l=function(e,t){return 0===e?t.bounds:2===e?Yl(t):Xl(t)},eA=function(e,t,n){var r=Zl(sA(e.styles.backgroundOrigin,t),e),s=$l(sA(e.styles.backgroundClip,t),e),i=rA(sA(e.styles.backgroundSize,t),n,r),o=i[0],a=i[1],l=zn(sA(e.styles.backgroundPosition,t),r.width-o,r.height-a);return[iA(sA(e.styles.backgroundRepeat,t),l,i,r,s),Math.round(r.left+l[0]),Math.round(r.top+l[1]),o,a]},tA=function(e){return jn(e)&&e.value===Qr.AUTO},nA=function(e){return"number"===typeof e},rA=function(e,t,n){var r=t[0],s=t[1],i=t[2],o=e[0],a=e[1];if(!o)return[0,0];if(Mn(o)&&a&&Mn(a))return[Wn(o,n.width),Wn(a,n.height)];var l=nA(i);if(jn(o)&&(o.value===Qr.CONTAIN||o.value===Qr.COVER))return nA(i)?n.width/n.height<i!==(o.value===Qr.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var A=nA(r),c=nA(s),u=A||c;if(tA(o)&&(!a||tA(a)))return A&&c?[r,s]:l||u?u&&l?[A?r:s*i,c?s:r/i]:[A?r:n.width,c?s:n.height]:[n.width,n.height];if(l){var d=0,h=0;return Mn(o)?d=Wn(o,n.width):Mn(a)&&(h=Wn(a,n.height)),tA(o)?d=h*i:a&&!tA(a)||(h=d/i),[d,h]}var f=null,p=null;if(Mn(o)?f=Wn(o,n.width):a&&Mn(a)&&(p=Wn(a,n.height)),null===f||a&&!tA(a)||(p=A&&c?f/r*s:n.height),null!==p&&tA(o)&&(f=A&&c?p/s*r:n.width),null!==f&&null!==p)return[f,p];throw new Error("Unable to calculate background-size for element")},sA=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},iA=function(e,t,n,r,s){var i=t[0],o=t[1],a=n[0],l=n[1];switch(e){case 2:return[new xl(Math.round(r.left),Math.round(r.top+o)),new xl(Math.round(r.left+r.width),Math.round(r.top+o)),new xl(Math.round(r.left+r.width),Math.round(l+r.top+o)),new xl(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new xl(Math.round(r.left+i),Math.round(r.top)),new xl(Math.round(r.left+i+a),Math.round(r.top)),new xl(Math.round(r.left+i+a),Math.round(r.height+r.top)),new xl(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new xl(Math.round(r.left+i),Math.round(r.top+o)),new xl(Math.round(r.left+i+a),Math.round(r.top+o)),new xl(Math.round(r.left+i+a),Math.round(r.top+o+l)),new xl(Math.round(r.left+i),Math.round(r.top+o+l))];default:return[new xl(Math.round(s.left),Math.round(s.top)),new xl(Math.round(s.left+s.width),Math.round(s.top)),new xl(Math.round(s.left+s.width),Math.round(s.height+s.top)),new xl(Math.round(s.left),Math.round(s.height+s.top))]}},oA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",aA="Hidden Text",lA=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),r.src=oA,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(aA)),n.appendChild(s),n.appendChild(r);var o=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(aA)),n.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:a}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),AA=function(){function e(e,t){this.context=e,this.options=t}return e}(),cA=1e4,uA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lA(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),Ql(e)&&(this.ctx.globalAlpha=e.opacity),Ll(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ul(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return si(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fo(e.text).reduce(function(t,s){return r.ctx.fillText(s,t,e.bounds.top+n),t+r.ctx.measureText(s).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=gA(e.fontFamily).join(", "),r=In(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,i,o,a,l,A,c,u=this;return s(this,function(s){return n=this.createFontStyle(t),r=n[0],i=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(i,o),l=a.baseline,A=a.middle,c=t.paintOrder,e.textBounds.forEach(function(e){c.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=sr(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=sr(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=sr(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+A),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=sr(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Yl(e),s=Fl(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,i,a,l,A,c,u,d,h,f,p,g,m,y,v,w,b;return s(this,function(s){switch(s.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,i=t.styles,a=0,l=t.textNodes,s.label=1;case 1:return a<l.length?(A=l[a],[4,this.renderTextNode(A,i)]):[3,4];case 2:s.sent(),s.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof Do))return[3,8];s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return y=s.sent(),this.renderReplacedElement(t,r,y),[3,8];case 7:return s.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ro&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Mo))return[3,12];s.label=9;case 9:return s.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return y=s.sent(),this.renderReplacedElement(t,r,y),[3,12];case 11:return s.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ta&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=s.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),s.label=14;case 14:if(t instanceof Zo&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Go?t.checked&&(this.ctx.save(),this.path([new xl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new xl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new xl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new xl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new xl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new xl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new xl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=sr(Yo),this.ctx.fill(),this.ctx.restore()):t.type===Jo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=sr(Yo),this.ctx.fill(),this.ctx.restore())),dA(t)&&t.value.length){switch(d=this.createFontStyle(i),w=d[0],h=d[1],f=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=sr(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fA(t.styles.textAlign),b=Yl(t),p=0,t.styles.textAlign){case 1:p+=b.width/2;break;case 2:p+=b.width}g=b.add(p,0,0,-b.height/2+1),this.ctx.save(),this.path([new xl(b.left,b.top),new xl(b.left+b.width,b.top),new xl(b.left+b.width,b.top+b.height),new xl(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new No(t.value,g),i.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!si(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];y=void 0,v=m.url,s.label=15;case 15:return s.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return y=s.sent(),this.ctx.drawImage(y,t.bounds.left-(y.width+10),t.bounds.top),[3,18];case 17:return s.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(w=this.createFontStyle(i)[0],this.ctx.font=w,this.ctx.fillStyle=sr(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new o(t.bounds.left,t.bounds.top+Wn(t.styles.paddingTop,t.bounds.width),t.bounds.width,bs(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new No(e.listValue,b),i.letterSpacing,bs(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),s.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,o,a,l,A,c,u,d,h,f,p,g;return s(this,function(s){switch(s.label){case 0:return si(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:s.sent(),t=0,n=e.negativeZIndex,s.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:s.sent(),s.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:s.sent(),r=0,i=e.nonInlineLevel,s.label=7;case 7:return r<i.length?(g=i[r],[4,this.renderNode(g)]):[3,10];case 8:s.sent(),s.label=9;case 9:return r++,[3,7];case 10:o=0,a=e.nonPositionedFloats,s.label=11;case 11:return o<a.length?(g=a[o],[4,this.renderStack(g)]):[3,14];case 12:s.sent(),s.label=13;case 13:return o++,[3,11];case 14:l=0,A=e.nonPositionedInlineLevel,s.label=15;case 15:return l<A.length?(g=A[l],[4,this.renderStack(g)]):[3,18];case 16:s.sent(),s.label=17;case 17:return l++,[3,15];case 18:c=0,u=e.inlineLevel,s.label=19;case 19:return c<u.length?(g=u[c],[4,this.renderNode(g)]):[3,22];case 20:s.sent(),s.label=21;case 21:return c++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,s.label=23;case 23:return d<h.length?(g=h[d],[4,this.renderStack(g)]):[3,26];case 24:s.sent(),s.label=25;case 25:return d++,[3,23];case 26:f=0,p=e.positiveZIndex,s.label=27;case 27:return f<p.length?(g=p[f],[4,this.renderStack(g)]):[3,30];case 28:s.sent(),s.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=kl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),kl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var s=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return s.width=Math.max(1,t),s.height=Math.max(1,n),s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),s},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,o,a;return s(this,function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var i,o,a,l,A,c,u,d,h,f,p,g,m,y,v,w,b,x,C,B,k,N,E,_,S,F,I,T,j,L,U;return s(this,function(s){switch(s.label){case 0:if(0!==n.type)return[3,5];i=void 0,o=n.url,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return i=s.sent(),[3,4];case 3:return s.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return i&&(a=eA(e,t,[i.width,i.height,i.width/i.height]),w=a[0],N=a[1],E=a[2],C=a[3],B=a[4],y=r.ctx.createPattern(r.resizeImage(i,C,B),"repeat"),r.renderRepeat(w,y,N,E)),[3,6];case 5:Tr(n)?(l=eA(e,t,[null,null,null]),w=l[0],N=l[1],E=l[2],C=l[3],B=l[4],A=yr(n.angle,C,B),c=A[0],u=A[1],d=A[2],h=A[3],f=A[4],(p=document.createElement("canvas")).width=C,p.height=B,g=p.getContext("2d"),m=g.createLinearGradient(u,h,d,f),gr(n.stops,c).forEach(function(e){return m.addColorStop(e.stop,sr(e.color))}),g.fillStyle=m,g.fillRect(0,0,C,B),C>0&&B>0&&(y=r.ctx.createPattern(p,"repeat"),r.renderRepeat(w,y,N,E))):jr(n)&&(v=eA(e,t,[null,null,null]),w=v[0],b=v[1],x=v[2],C=v[3],B=v[4],k=0===n.position.length?[Kn]:n.position,N=Wn(k[0],C),E=Wn(k[k.length-1],B),_=br(n,N,E,C,B),S=_[0],F=_[1],S>0&&F>0&&(I=r.ctx.createRadialGradient(b+N,x+E,0,b+N,x+E,S),gr(n.stops,2*S).forEach(function(e){return I.addColorStop(e.stop,sr(e.color))}),r.path(w),r.ctx.fillStyle=I,S!==F?(T=e.bounds.left+.5*e.bounds.width,j=e.bounds.top+.5*e.bounds.height,U=1/(L=F/S),r.ctx.save(),r.ctx.translate(T,j),r.ctx.transform(1,0,0,L,0,0),r.ctx.translate(-T,-j),r.ctx.fillRect(b,U*(x-j)+j,C,B*U),r.ctx.restore()):r.ctx.fill())),s.label=6;case 6:return t--,[2]}})},r=this,i=0,o=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return i<o.length?(a=o[i],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){return this.path(Kl(n,t)),this.ctx.fillStyle=sr(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,i){return r(this,void 0,void 0,function(){var r,o;return s(this,function(s){switch(s.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,i)]:[3,2];case 1:return s.sent(),[2];case 2:return r=ql(i,n),this.path(r),this.ctx.fillStyle=sr(e),this.ctx.fill(),o=zl(i,n),this.path(o),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,o,a,l,A,c=this;return s(this,function(s){switch(s.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],i=hA(sA(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=sr(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:s.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var n=_l(e.curves),r=t.inset?0:cA,s=Ol(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(s)):(c.mask(n),c.ctx.clip(),c.path(s)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=sr(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?sr(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),s.label=2;case 2:o=0,a=0,l=r,s.label=3;case 3:return a<l.length?0!==(A=l[a]).style&&!rr(A.color)&&A.width>0?2!==A.style?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return s.sent(),[3,11];case 5:return 3!==A.style?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,o,e.curves,3)];case 6:return s.sent(),[3,11];case 7:return 4!==A.style?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,o,e.curves)];case 8:return s.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,o,e.curves)];case 10:s.sent(),s.label=11;case 11:o++,s.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,i,o){return r(this,void 0,void 0,function(){var r,a,l,A,c,u,d,h,f,p,g,m,y,v,w,b;return s(this,function(s){return this.ctx.save(),r=Wl(i,n),a=Kl(i,n),2===o&&(this.path(a),this.ctx.clip()),kl(a[0])?(l=a[0].start.x,A=a[0].start.y):(l=a[0].x,A=a[0].y),kl(a[1])?(c=a[1].end.x,u=a[1].end.y):(c=a[1].x,u=a[1].y),d=0===n||2===n?Math.abs(l-c):Math.abs(A-u),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(a.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===o&&(h=t,f=t),p=!0,d<=2*h?p=!1:d<=2*h+f?(h*=g=d/(2*h+f),f*=g):(m=Math.floor((d+f)/(h+f)),y=(d-m*h)/(m-1),f=(v=(d-(m+1)*h)/m)<=0||Math.abs(f-y)<Math.abs(f-v)?y:v),p&&(3===o?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=sr(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(kl(a[0])&&(w=a[3],b=a[0],this.ctx.beginPath(),this.formatPath([new xl(w.end.x,w.end.y),new xl(b.start.x,b.start.y)]),this.ctx.stroke()),kl(a[1])&&(w=a[1],b=a[2],this.ctx.beginPath(),this.formatPath([new xl(w.end.x,w.end.y),new xl(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Vl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(AA),dA=function(e){return e instanceof ea||e instanceof $o||e instanceof Zo&&e.type!==Jo&&e.type!==Go},hA=function(e,t){switch(e){case 0:return _l(t);case 2:return Sl(t);default:return Fl(t)}},fA=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},pA=["-apple-system","system-ui"],gA=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===pA.indexOf(e)}):e},mA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return t=Co(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,yA(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(AA),yA=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},vA=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,i([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),wA=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new vA({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new hl(this,t)}return e.instanceCount=1,e}(),bA=function(e,t){return void 0===t&&(t={}),xA(e,t)};"undefined"!==typeof window&&dl.setContext(window);var xA=function(e,t){return r(void 0,void 0,void 0,function(){var r,i,A,c,u,d,h,f,p,g,m,y,v,w,b,x,C,B,k,N,E,_,S,F,I,T,j,L,U,Q,P,O,D,R,M,H,V,K;return s(this,function(s){switch(s.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(i=r.defaultView))throw new Error("Document is not attached to a Window");return A={allowTaint:null!==(_=t.allowTaint)&&void 0!==_&&_,imageTimeout:null!==(S=t.imageTimeout)&&void 0!==S?S:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},c=n({logging:null===(I=t.logging)||void 0===I||I,cache:t.cache},A),u={windowWidth:null!==(T=t.windowWidth)&&void 0!==T?T:i.innerWidth,windowHeight:null!==(j=t.windowHeight)&&void 0!==j?j:i.innerHeight,scrollX:null!==(L=t.scrollX)&&void 0!==L?L:i.pageXOffset,scrollY:null!==(U=t.scrollY)&&void 0!==U?U:i.pageYOffset},d=new o(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new wA(c,d),f=null!==(Q=t.foreignObjectRendering)&&void 0!==Q&&Q,p={allowTaint:null!==(P=t.allowTaint)&&void 0!==P&&P,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),g=new Ga(h,e,p),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=s.sent(),v=ma(m)||pa(m)?l(m.ownerDocument):a(h,m),w=v.width,b=v.height,x=v.left,C=v.top,B=CA(h,m,t.backgroundColor),k={canvas:t.canvas,backgroundColor:B,scale:null!==(D=null!==(O=t.scale)&&void 0!==O?O:i.devicePixelRatio)&&void 0!==D?D:1,x:(null!==(R=t.x)&&void 0!==R?R:0)+x,y:(null!==(M=t.y)&&void 0!==M?M:0)+C,width:null!==(H=t.width)&&void 0!==H?H:Math.ceil(w),height:null!==(V=t.height)&&void 0!==V?V:Math.ceil(b)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new mA(h,k).render(m)]):[3,3];case 2:return N=s.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+x+","+C+" with size "+w+"x"+b+" using computed rendering"),h.logger.debug("Starting DOM parsing"),E=ia(h,m),B===E.styles.backgroundColor&&(E.styles.backgroundColor=dr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),[4,new uA(h,k).render(E)];case 4:N=s.sent(),s.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(Ga.destroy(y)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,N]}})})},CA=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,i=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,o="string"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(s)?rr(i)?o:i:s:o};return bA}()},5475:(e,t,n)=>{"use strict";var r,s;n.d(t,{Kd:()=>h,N_:()=>g});var i=n(5043),o=n(7950),a=n(3216),l=n(1387);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const u=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(v){}new Map;const d=(r||(r=n.t(i,2))).startTransition;(s||(s=n.t(o,2))).flushSync,(r||(r=n.t(i,2))).useId;function h(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();null==o.current&&(o.current=(0,l.zR)({window:s,v5Compat:!0}));let A=o.current,[c,u]=i.useState({action:A.action,location:A.location}),{v7_startTransition:h}=r||{},f=i.useCallback(e=>{h&&d?d(()=>u(e)):u(e)},[u,h]);return i.useLayoutEffect(()=>A.listen(f),[A,f]),i.useEffect(()=>(0,a.V8)(r),[r]),i.createElement(a.Ix,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:A,future:r})}const f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:d,state:h,target:g,to:m,preventScrollReset:y,viewTransition:w}=e,b=c(e,u),{basename:x}=i.useContext(a.jb),C=!1;if("string"===typeof m&&p.test(m)&&(n=m,f))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=(0,l.pb)(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:C=!0}catch(v){}let B=(0,a.$P)(m,{relative:s}),k=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:A,viewTransition:c}=void 0===t?{}:t,u=(0,a.Zp)(),d=(0,a.zy)(),h=(0,a.x$)(e,{relative:A});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(d)===(0,l.AO)(h);u(e,{replace:n,state:s,preventScrollReset:o,relative:A,viewTransition:c})}},[d,u,h,r,s,n,e,o,A,c])}(m,{replace:d,state:h,target:g,preventScrollReset:y,relative:s,viewTransition:w});return i.createElement("a",A({},b,{href:n||B,onClick:C||o?r:function(e){r&&r(e),e.defaultPrevented||k(e)},ref:t,target:g}))});var m,y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m||(m={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(y||(y={}))},6040:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(5043);var r=n(579);const s=e=>{let{message:t="Loading, please wait..."}=e;return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("p",{className:"mt-4 text-lg font-semibold",children:t})]})}},7150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>ue,j6:()=>oe,xZ:()=>ae,om:()=>ie,Sx:()=>he,Dk:()=>fe,Wp:()=>de,KO:()=>pe});var r=n(8812),s=n(443),i=n(1529),o=n(9379);let a,l;const A=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),m(A.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(y(this),t,...r);return u.set(i,t.sort?t.sort():[t]),m(i)}}function g(e){return"function"===typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});c.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,f):e);var t}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(m(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&A.set(t,e)}).catch(()=>{}),h.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=g(e);return t!==e&&(d.set(e,t),h.set(t,e)),t}const y=e=>h.get(e);const v=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],b=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!v.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),s&&t.done]))[0]};return b.set(t,i),i}f=(e=>(0,o.A)((0,o.A)({},e),{},{get:(t,n,r)=>x(t,n)||e.get(t,n,r),has:(t,n)=>!!x(t,n)||e.has(t,n)}))(f);class C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const B="@firebase/app",k="0.13.2",N=new s.Vy("@firebase/app"),E="@firebase/app-compat",_="@firebase/analytics-compat",S="@firebase/analytics",F="@firebase/app-check-compat",I="@firebase/app-check",T="@firebase/auth",j="@firebase/auth-compat",L="@firebase/database",U="@firebase/data-connect",Q="@firebase/database-compat",P="@firebase/functions",O="@firebase/functions-compat",D="@firebase/installations",R="@firebase/installations-compat",M="@firebase/messaging",H="@firebase/messaging-compat",V="@firebase/performance",K="@firebase/performance-compat",q="@firebase/remote-config",z="@firebase/remote-config-compat",W="@firebase/storage",G="@firebase/storage-compat",J="@firebase/firestore",X="@firebase/ai",Y="@firebase/firestore-compat",Z="firebase",$="[DEFAULT]",ee={[B]:"fire-core",[E]:"fire-core-compat",[S]:"fire-analytics",[_]:"fire-analytics-compat",[I]:"fire-app-check",[F]:"fire-app-check-compat",[T]:"fire-auth",[j]:"fire-auth-compat",[L]:"fire-rtdb",[U]:"fire-data-connect",[Q]:"fire-rtdb-compat",[P]:"fire-fn",[O]:"fire-fn-compat",[D]:"fire-iid",[R]:"fire-iid-compat",[M]:"fire-fcm",[H]:"fire-fcm-compat",[V]:"fire-perf",[K]:"fire-perf-compat",[q]:"fire-rc",[z]:"fire-rc-compat",[W]:"fire-gcs",[G]:"fire-gcs-compat",[J]:"fire-fst",[Y]:"fire-fst-compat",[X]:"fire-vertex","fire-js":"fire-js",[Z]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function se(e,t){try{e.container.addComponent(t)}catch(n){N.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ie(e){const t=e.name;if(re.has(t))return N.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())se(n,e);for(const n of ne.values())se(n,e);return!0}function oe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ae(e){return null!==e&&void 0!==e&&void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ae=new i.FA("app","Firebase",le);class ce{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ae.create("app-deleted",{appName:this._name})}}const ue="11.10.0";function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const s=Object.assign({name:$,automaticDataCollectionEnabled:!0},t),o=s.name;if("string"!==typeof o||!o)throw Ae.create("bad-app-name",{appName:String(o)});if(n||(n=(0,i.T9)()),!n)throw Ae.create("no-options");const a=te.get(o);if(a){if((0,i.bD)(n,a.options)&&(0,i.bD)(s,a.config))return a;throw Ae.create("duplicate-app",{appName:o})}const l=new r.h1(o);for(const r of re.values())l.addComponent(r);const A=new ce(n,s,l);return te.set(o,A),A}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;const t=te.get(e);if(!t&&e===$&&(0,i.T9)())return de();if(!t)throw Ae.create("no-app",{appName:e});return t}function fe(){return Array.from(te.values())}function pe(e,t,n){var s;let i=null!==(s=ee[e])&&void 0!==s?s:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void N.warn(e.join(" "))}ie(new r.uA("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ge="firebase-heartbeat-store";let me=null;function ye(){return me||(me=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=m(o);return r&&o.addEventListener("upgradeneeded",e=>{r(m(o.result),e.oldVersion,e.newVersion,m(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ge)}catch(n){console.warn(n)}}}).catch(e=>{throw Ae.create("idb-open",{originalErrorMessage:e.message})})),me}async function ve(e,t){try{const n=(await ye()).transaction(ge,"readwrite"),r=n.objectStore(ge);await r.put(t,we(e)),await n.done}catch(n){if(n instanceof i.g)N.warn(n.message);else{const e=Ae.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});N.warn(e.message)}}}function we(e){return"".concat(e.name,"!").concat(e.options.appId)}class be{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ce(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){N.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=xe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),Be(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Be(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=(0,i.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return N.warn(t),""}}}function xe(){return(new Date).toISOString().substring(0,10)}class Ce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.zW)()&&(0,i.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(ge),n=await t.objectStore(ge).get(we(e));return await t.done,n}catch(t){if(t instanceof i.g)N.warn(t.message);else{const e=Ae.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});N.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Be(e){return(0,i.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ke;ke="",ie(new r.uA("platform-logger",e=>new C(e),"PRIVATE")),ie(new r.uA("heartbeat",e=>new be(e),"PRIVATE")),pe(B,k,ke),pe(B,k,"esm2017"),pe("fire-js","")},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],A=a+1,c=e[A];if(0>i(l,n))A<s&&0>i(c,l)?(e[r]=c,e[A]=n,r=A):(e[r]=l,e[a]=n,r=a);else{if(!(A<s&&0>i(c,n)))break e;e[r]=c,e[A]=n,r=A}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var A=[],c=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,n(A,t)}t=r(c)}}function b(e){if(g=!1,w(e),!p)if(null!==r(A))p=!0,j(x);else{var t=r(c);null!==t&&L(b,t.startTime-e)}}function x(e,n){p=!1,g&&(g=!1,y(N),N=-1),f=!0;var i=h;try{for(w(n),d=r(A);null!==d&&(!(d.expirationTime>n)||e&&!S());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(A)&&s(A),w(n)}else s(A);d=r(A)}if(null!==d)var l=!0;else{var u=r(c);null!==u&&L(b,u.startTime-n),l=!1}return l}finally{d=null,h=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,B=!1,k=null,N=-1,E=5,_=-1;function S(){return!(t.unstable_now()-_<E)}function F(){if(null!==k){var e=t.unstable_now();_=e;var n=!0;try{n=k(!0,e)}finally{n?C():(B=!1,k=null)}}else B=!1}if("function"===typeof v)C=function(){v(F)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,T=I.port2;I.port1.onmessage=F,C=function(){T.postMessage(null)}}else C=function(){m(F,0)};function j(e){k=e,B||(B=!0,C())}function L(e,n){N=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,j(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(A)&&e===r(c)&&(g?(y(N),N=-1):g=!0,L(b,i-o))):(e.sortIndex=a,n(A,e),p||f||(p=!0,j(x))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>a,uA:()=>s});var r=n(1529);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===i?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4467);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9586:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,N:()=>a});var r=n(5043),s=n(579);const i=(0,r.createContext)({theme:"light",toggleTheme:()=>{}}),o=()=>(0,r.useContext)(i);function a(e){let{children:t}=e;const[n,o]=(0,r.useState)("light"),[a,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=localStorage.getItem("theme");o(e||"light"),l(!0)},[]),(0,r.useEffect)(()=>{a&&(localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark","dark"===n))},[n,a]);return a?(0,s.jsx)(i.Provider,{value:{theme:n,toggleTheme:()=>{o(e=>"light"===e?"dark":"light")}},children:t}):null}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{31:"31fcd36f",50:"c2ffb704",58:"a13dc5ff",256:"7496321f",355:"9707f6f6",409:"1b0fbafe",455:"a2ca5477",495:"c45f971a",547:"a077cb9c",599:"539540a4",604:"d21ff4bd",677:"76aefc19",977:"9d407f8b"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="coding-platform:";n.l=(r,s,i,o)=>{if(e[r])e[r].push(s);else{var a,l;if(void 0!==i)for(var A=document.getElementsByTagName("script"),c=0;c<A.length;c++){var u=A[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[s];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var s=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=i);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,s[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,i,o=r[0],a=r[1],l=r[2],A=0;if(o.some(t=>0!==e[t])){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)l(n)}for(t&&t(r);A<o.length;A++)i=o[A],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkcoding_platform=self.webpackChunkcoding_platform||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>zt,hasStandardBrowserEnv:()=>Gt,hasStandardBrowserWebWorkerEnv:()=>Jt,navigator:()=>Wt,origin:()=>Xt});var t=n(5043),r=n(4391),s=n(5475),i=n(3216),o=n(2339),a=n(9586),l=n(5187),A=n(791),c=n(3611),u=n(1387),d=n(9379),h=n(3986);const f=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const m=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],y=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:A}=e,c=(0,h.A)(e,m);return(0,t.createElement)("svg",(0,d.A)((0,d.A)((0,d.A)({ref:n},g),{},{width:s,height:s,stroke:r,strokeWidth:o?24*Number(i)/Number(s):i,className:p("lucide",a)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"}),c),[...A.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),v=["className"],w=(e,n)=>{const r=(0,t.forwardRef)((r,s)=>{let{className:i}=r,o=(0,h.A)(r,v);return(0,t.createElement)(y,(0,d.A)({ref:s,iconNode:n,className:p("lucide-".concat((a=f(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},o));var a});return r.displayName=f(e),r},b=w("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),x=w("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var C=n(184),B=n(1537);var k=n(579);const N=[{pattern:"/problem/:course/:subcourse/:questionId",label:"course/os"},{pattern:"/course/:courseId",label:"course"}];const E=()=>{const[e,n]=(0,t.useState)(!1),[r,o]=(0,t.useState)(!1),d=(0,i.zy)(),h=(0,i.Zp)(),{theme:f,toggleTheme:p}=(0,a.D)(),{user:g,loading:m,logout:y}=(0,l.A)(),[v,w]=(0,t.useState)(!1),E=(0,t.useRef)(null),_=(0,t.useRef)(null),[S,F]=(0,t.useState)(navigator.onLine);if((0,t.useEffect)(()=>{const e=()=>F(!0),t=()=>F(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),m)return null;const I=N.map(e=>{let{pattern:t,label:n}=e;const r=(0,u.B6)(t,d.pathname);return r?{pattern:t,label:n,params:r.params}:null}).find(Boolean),T=[{label:"Home",href:"/"},{label:"Courses",href:"/courses"},!v&&g&&{label:"Tests",href:"/test"},v&&{label:"Admin",href:"/admin"},v&&{label:"Students",href:"/adminmonitor"},{label:"Compiler",href:"/compiler"},{label:"Proctoring",href:"/proctoring"}].filter(Boolean),[j,L]=(0,t.useState)([]),[U,Q]=(0,t.useState)(-1),[P,O]=(0,t.useState)({}),[D,R]=(0,t.useState)(null),[M,H]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let e=!0;return(async()=>{const t=(0,u.B6)("/problem/:course/:subcourse/:questionId",d.pathname);if(R(t),!t)return void(e&&(L([]),Q(-1)));const{course:n,subcourse:r,questionId:s}=t.params;e&&H(!0);try{const t=(0,c.KR)(A.OO,"AlgoCore/".concat(n)),o=await(0,c.Jt)(t);if(console.log(o.val().lessons[r.replaceAll("%20"," ")].questions),console.log(r),!e)return;if(o.exists()){const t=(o.val()||[]).lessons[r.replaceAll("%20"," ")].questions;L(t);const a=t.findIndex(e=>e===s||e&&e===s.replaceAll("%20"," "));Q(a);try{if(g){const t=r.replaceAll("%20"," "),s=(0,c.KR)(A.OO,"userprogress/".concat(g.uid,"/").concat(n,"/").concat(t)),i=await(0,c.Jt)(s),o=i.exists()&&i.val()||{};e&&O(o)}else e&&O({})}catch(i){console.error("Error fetching user progress for navbar dots:",i),e&&O({})}console.log("Questions:",t),console.log("Current Question ID:",s),console.log("Found at index:",a)}else L([]),Q(-1),O({})}catch(o){console.error("Error fetching questions:",o),e&&(L([]),Q(-1),O({}))}finally{e&&H(!1)}})(),()=>{e=!1}},[d.pathname,g]),(0,t.useEffect)(()=>{(async()=>{if(g)try{const e=(0,c.KR)(A.OO,"Admins/".concat(g.uid));(await(0,c.Jt)(e)).exists()?w(!0):w(!1)}catch(e){console.error("Error fetching user admin status:",e),w(!1)}else w(!1)})()},[g]),(0,t.useEffect)(()=>{const t=t=>{r&&E.current&&!E.current.contains(t.target)&&_.current&&!_.current.contains(t.target)&&o(!1),e&&!t.target.closest(".mobile-menu-button")&&n(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[r,e]),(0,t.useEffect)(()=>{n(!1),o(!1)},[d]),(0,k.jsx)("nav",{className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-dark-secondary border-b border-gray-200 dark:border-dark-tertiary z-50",children:(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex items-center gap-6",children:[(0,k.jsxs)(s.N_,{to:(null===I||void 0===I?void 0:I.label)||"/",className:"flex items-center gap-2",children:[(0,k.jsx)("img",{src:"dark"===f?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAW2SURBVHgB7Z1NluI2FIVvkkky6sosQ2UFxQ7awwzZQZEVNBlmVOwAsgJYAsNkZHYAvQKzAyqzZOTogZV2ufnRk5+MZd53zj2uqlNgoesrybItAEVRFEVRBsE3SINRTR+q7VNNdd4q7avtZ6td9fsOPaevhmRWH6utq3wpNjiZtK5+Vi6QWS2sDlZlRyqsltW+FZyO/Fd0a8I1cyZWBg9In4w4pyUexJi+G9HUHAM2Zop0jDjXlA0GY5UjLRPOKccA0pJqKi7pUH2m5KC+gtrflCqbozkSwlhtkVYFh6hAAk2YwamgKVTo4E2hKQ4qYAoVKW3KCD2DCjSkzpurA3pkisFjJqOpAj1ovgzUjF6ZUiDNiospGmEGXy74DuHQWPwXKE1+svre6i90CJ2tpnTU3kOdndEbPPaIylcHdNSf5ABKlZdyRGYCoFSxFK3pMtBRVYio6fIedX0Lfz7hQa83t4TM8E6J721ABqd0KGHQ/WE/V9ur+J6H0O05vZtASwg6L/kXHveB+STEQNMhgVdKfPqQDIoEXn2JT0IoHQaKBJSOH6/9w62EZLiDGcYYZFmGGDw9PWE6nWK5XKIoChwOB5RleRT9nOc5FotFrP1TSjK0YIU7jN1Xq1VpK0b0PW0FH9+TgzWsnEwm0p9vgRYUwoW5KZuO/yuEKrHt+9lElPP5vGwDGSNRFnw5UQwiEyoAS5QOR9uUkLlUmVK8vr5Kfc4MASyEds6qwCahR6a0GQ6hJmyGAHKBHQenwxGSklhmbLfbYxMo8FlzBFB2qXPpcHBT0nMzSOx+ZCS041bpcHBSQu18z81wYk1FjYV3HpwOh09KYjRVkcwgTcBgFqEAQelw+KSEOtxEzCCxzkfWkQoRlA7HrZRIpiOyGaQlGOQRC8JOh+NaSkajUSlFB2aQtmCwj1wYdjocl1IS0lzZuatyNpuV4/H4+HpKWEdmkAow6OQ2H046HJdSYicESy6Uqub7dGRGCebQN3qBQtLhOJcSrrnr9bqrir+mr+Dc5CCKbSoQCk2dN6FpdQ67XT+XPbmLIXSt4eXlBaHQ9RLb5r/729vbzfsH3vH8/IyUiBpV7nWJc1AHjAh9SMfyJlqnTu2/FPWZ19BRFl0roTLR6+lAsc1hV2awOvV9rIJIpMNRT0mbQUKTjkwpwCDKY82S6XDUU7Lf70spOjBlAwarGIWQTIejnhI6yZMksilrMBC/WhgjHQ6XEjqpo35BkoimzMBgIl2AGOlw1FMynU5LaSKZMgYD0QtUIengHun1viSG+RFMYd8rLTb05VYQfXhuf9AcccW4jCtsCptcYsch6aAKDekP6imJZQrNDAvUywYBzCQMCUmHe22blDhTaDpdAjo4qH+SqBME3r2Ytd1xaDrc69umJNTYJpvN5l25BJQhkFb9SJt0hFZmMyWopYWm6DnNGBkheAupU3Gtwm89jkDR+oSBQbPNJDu5eJy2p9ljwp7pH0VT89Y89gyyJyurXxFIBtmjQ3WjufJ5YIf1WK9ylT1Oj7VdxOehzx+gj7VJ8RtufEODT0IoHQU0JRJQOvbX/sHnEi71bH9AacsKN8wgfBcO0JS052Y6CN+bHDQl7aC620MYSoeuk8VXAcaTzJwl/v7BaXkIXdaPB42sNohIjrSO0Htqgw4w0KbLR0FL/IWsSkodvDZdt/nd6k90SOePTSekVqs1hEKjrkf4WgquCtwRA12HsWmGwZ0xUFN6Y4ZDv66ip98hUiCtipRKRm/XozTQrzzqHQaPYcoWiS19OOTzFPpsSV6KoFU49Ysle4bBMCYkNxjY6qwTpNm3DCIVlzBIp28hI2Z4kMvWBndagtZDD2VEE4P+NGUPbcQ5MpxS06U5ZMICPboR0Pc2oK7JcHoGj6YkPkIOurj2GacRk1Ov6KshTcgYU21JT9XvH/B1E0OV/ne13dW2ToqiKIqiKPH5D7IkbVvs+AooAAAAAElFTkSuQmCC":B,alt:"AlgoCore Logo",className:"h-8 w-auto"}),(0,k.jsx)("span",{className:"text-xl font-bold text-[#202124] dark:text-white",children:"AlgoCore"})]}),(0,k.jsx)("div",{className:"hidden md:flex items-center gap-6",children:T.map((e,t)=>(0,k.jsx)(s.N_,{to:e.href,className:"text-sm font-medium transition-colors ".concat(d.pathname===e.href?"text-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-gray-100"),children:e.label},t))})]}),(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[D&&j.length>0&&U>=0&&(0,k.jsx)("div",{className:"mr-4 max-w-xs",children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300 whitespace-nowrap",children:[U+1,"/",j.length]}),(0,k.jsx)("div",{className:"flex items-center gap-1 overflow-x-auto",children:j.map((e,t)=>(0,k.jsx)("button",{type:"button",className:"w-2.5 h-2.5 rounded-full transition-colors flex-shrink-0 ".concat(t===U?"bg-blue-500":P&&!0===P[e]?"bg-green-500":"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500"),"aria-label":"Go to question ".concat(t+1),title:"Question ".concat(t+1),onClick:()=>{const{course:t,subcourse:n}=D.params,r=encodeURIComponent(e);h("/problem/".concat(t,"/").concat(n,"/").concat(r))}},t))})]})}),(0,k.jsx)("div",{className:"flex items-center space-x-2",children:S?(0,k.jsx)("div",{className:"flex items-center text-green-600",children:(0,k.jsx)(b,{className:"w-5 h-5 mr-1"})}):(0,k.jsx)("div",{className:"flex items-center text-red-600",children:(0,k.jsx)(x,{className:"w-5 h-5 mr-1"})})}),(0,k.jsx)("button",{onClick:p,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-dark-tertiary",children:"dark"===f?(0,k.jsx)(C.wQq,{className:"w-5 h-5 text-yellow-400"}):(0,k.jsx)(C.V6H,{className:"w-5 h-5 text-gray-700"})}),(0,k.jsx)("div",{className:"relative",children:g?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("button",{ref:_,className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-tertiary rounded-full",onClick:()=>o(!r),children:g.photoURL?(0,k.jsx)("img",{src:g.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full"}):(0,k.jsx)(C.NBi,{className:"w-8 h-8 text-gray-700 dark:text-gray-200"})}),r&&(0,k.jsxs)("div",{ref:E,className:"absolute top-12 right-0 w-60 bg-white dark:bg-dark-secondary rounded-lg shadow-lg border border-gray-200 dark:border-dark-tertiary py-2 animate-fadeIn",children:[(0,k.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100 dark:border-dark-tertiary cursor-pointer",onClick:()=>{h("/profile")},children:[(0,k.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:g.name||"User"}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:g.email})]}),(0,k.jsx)("button",{onClick:()=>{y(),o(!1),h("/")},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-tertiary",children:"Sign Out"})]})]}):(0,k.jsx)(s.N_,{to:"/login",className:"px-4 py-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:"Sign In"})}),(0,k.jsx)("button",{className:"md:hidden p-2 hover:bg-gray-100 dark:hover:bg-dark-tertiary rounded-full relative mobile-menu-button",onClick:()=>{n(!e),o(!1)},"aria-label":"Toggle menu",children:e?(0,k.jsx)("svg",{className:"w-6 h-6 text-gray-700 dark:text-gray-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,k.jsx)("svg",{className:"w-6 h-6 text-gray-700 dark:text-gray-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e&&(0,k.jsx)("div",{className:"absolute top-16 right-4 w-64 bg-white dark:bg-dark-secondary rounded-lg shadow-lg border border-gray-200 dark:border-dark-tertiary py-2 animate-fadeIn",children:T.map((e,t)=>(0,k.jsx)(s.N_,{to:e.href,className:"flex items-center gap-3 px-4 py-3 hover:bg-[#4285F4]/10 hover:text-[#4285F4] transition-colors ".concat(d.pathname===e.href?"bg-[#4285F4]/10 text-[#4285F4]":"text-gray-700 dark:text-gray-200"),onClick:()=>n(!1),children:(0,k.jsx)("span",{children:e.label})},t))})]})]})})},_=e=>{let{children:t}=e;return(0,k.jsxs)("div",{className:"min-h-screen flex flex-col bg-[#F8F9FA] dark:bg-dark-primary transition-colors duration-200",children:[(0,k.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50",children:(0,k.jsx)(E,{})}),(0,k.jsx)("main",{className:"flex-1 pt-16 px-4 overflow-auto",children:t})]})};var S=n(458);const F=()=>{const[e,n]=(0,t.useState)(!0),r=(0,t.useRef)(Date.now()),s=(0,c.C3)(),i=(0,S.xI)();(0,t.useEffect)(()=>{const e=()=>{document.hidden?(n(!1),o()):(n(!0),r.current=Date.now())},t=()=>{o()};return document.addEventListener("visibilitychange",e),window.addEventListener("beforeunload",t),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("beforeunload",t)}},[]);const o=async()=>{if(i.currentUser&&e){const e=Date.now()-r.current;await a(e),r.current=Date.now()}},a=async e=>{if(!i.currentUser)return;const t=i.currentUser.uid,n=(0,c.KR)(s,"Activitytime/".concat(t,"/"));try{const t=await(0,c.Jt)(n),r=(t.exists()?t.val():0)+e;await(0,c.hZ)(n,r)}catch(r){console.error("Error updating active time:",r)}};return(0,t.useEffect)(()=>{const t=setInterval(()=>{e&&i.currentUser&&o()},3e4);return()=>clearInterval(t)},[e]),{isActive:e}},I=e=>{let{children:n}=e;const{user:r}=(0,l.A)(),{isActive:s}=F();return(0,t.useEffect)(()=>{r&&console.log("Activity tracking started for user:",r.uid)},[r]),(0,k.jsx)(k.Fragment,{children:n})};function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(s,r))}}}function M(e){return{}.toString.call(e).includes("Object")}function H(e){return"function"===typeof e}var V=R(function(e,t){throw new Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),K={changes:function(e,t){return M(t)||V("changeType"),Object.keys(t).some(function(t){return!function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)})&&V("changeField"),t},selector:function(e){H(e)||V("selectorType")},handler:function(e){H(e)||M(e)||V("handlerType"),M(e)&&Object.values(e).some(function(e){return!H(e)})&&V("handlersType")},initial:function(e){var t;e||V("initialIsRequired"),M(e)||V("initialType"),t=e,Object.keys(t).length||V("initialContent")}};function q(e,t){return H(t)?t(e.current):t}function z(e,t){return e.current=D(D({},e.current),t),t}function W(e,t,n){return H(t)?t(e.current):Object.keys(n).forEach(function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])}),n}var G={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};K.initial(e),K.handler(t);var n={current:e},r=R(W)(n,t),s=R(z)(n),i=R(K.changes)(e),o=R(q)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return K.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(r,s,i,o)(e)}]}};const J=G;const X={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};const Y=function(e){return{}.toString.call(e).includes("Object")};var Z={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},$=function(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(s,r))}}}(function(e,t){throw new Error(e[t]||e.default)})(Z),ee={config:function(e){return e||$("configIsRequired"),Y(e)||$("configType"),e.urls?(console.warn(Z.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const te=ee;const ne=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}};const re=function e(t,n){return Object.keys(n).forEach(function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))}),L(L({},t),n)};var se={type:"cancelation",msg:"operation is manually canceled"};const ie=function(e){var t=!1,n=new Promise(function(n,r){e.then(function(e){return t?r(se):n(e)}),e.catch(r)});return n.cancel=function(){return t=!0},n};var oe=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,s=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(tp){s=!0,i=tp}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(J.create({config:X,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),ae=oe[0],le=oe[1];function Ae(e){return document.body.appendChild(e)}function ce(e){var t=ae(function(e){return{config:e.config,reject:e.reject}}),n=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function ue(){var e=ae(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){de(t),e.resolve(t)},function(t){e.reject(t)})}function de(e){ae().monaco||le({monaco:e})}var he=new Promise(function(e,t){return le({resolve:e,reject:t})}),fe={config:function(e){var t=te.config(e),n=t.monaco,r=U(t,["monaco"]);le(function(e){return{config:re(e.config,r),monaco:n}})},init:function(){var e=ae(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(le({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ie(he);if(window.monaco&&window.monaco.editor)return de(window.monaco),e.resolve(window.monaco),ie(he);ne(Ae,ce)(ue)}return ie(he)},__getMonacoInstance:function(){return ae(function(e){return e.monaco})}};const pe=fe;var ge={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},me={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var ye=function(e){let{children:n}=e;return t.createElement("div",{style:me.container},n)};var ve=function(e){let{width:n,height:r,isEditorReady:s,loading:i,_ref:o,className:a,wrapperProps:l}=e;return t.createElement("section",(0,d.A)({style:(0,d.A)((0,d.A)({},ge.wrapper),{},{width:n,height:r})},l),!s&&t.createElement(ye,null,i),t.createElement("div",{ref:o,style:(0,d.A)((0,d.A)({},ge.fullWidth),!s&&ge.hide),className:a}))},we=(0,t.memo)(ve);var be=function(e){(0,t.useEffect)(e,[])};var xe=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=(0,t.useRef)(!0);(0,t.useEffect)(s.current||!r?()=>{s.current=!1}:e,n)};function Ce(){}function Be(e,t,n,r){return function(e,t){return e.editor.getModel(ke(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?ke(e,r):void 0)}(e,t,n,r)}function ke(e,t){return e.Uri.parse(t)}var Ne=function(e){let{original:n,modified:r,language:s,originalLanguage:i,modifiedLanguage:o,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:A=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:h="Loading...",options:f={},height:p="100%",width:g="100%",className:m,wrapperProps:y={},beforeMount:v=Ce,onMount:w=Ce}=e,[b,x]=(0,t.useState)(!1),[C,B]=(0,t.useState)(!0),k=(0,t.useRef)(null),N=(0,t.useRef)(null),E=(0,t.useRef)(null),_=(0,t.useRef)(w),S=(0,t.useRef)(v),F=(0,t.useRef)(!1);be(()=>{let e=pe.init();return e.then(e=>(N.current=e)&&B(!1)).catch(e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)),()=>k.current?function(){var e,t,n,r;let s=null===(e=k.current)||void 0===e?void 0:e.getModel();A||null!==s&&void 0!==s&&null!==(t=s.original)&&void 0!==t&&t.dispose(),c||null!==s&&void 0!==s&&null!==(n=s.modified)&&void 0!==n&&n.dispose(),null===(r=k.current)||void 0===r||r.dispose()}():e.cancel()}),xe(()=>{if(k.current&&N.current){let e=k.current.getOriginalEditor(),t=Be(N.current,n||"",i||s||"text",a||"");t!==e.getModel()&&e.setModel(t)}},[a],b),xe(()=>{if(k.current&&N.current){let e=k.current.getModifiedEditor(),t=Be(N.current,r||"",o||s||"text",l||"");t!==e.getModel()&&e.setModel(t)}},[l],b),xe(()=>{let e=k.current.getModifiedEditor();e.getOption(N.current.editor.EditorOption.readOnly)?e.setValue(r||""):r!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[r],b),xe(()=>{var e;null===(e=k.current)||void 0===e||null===(e=e.getModel())||void 0===e||e.original.setValue(n||"")},[n],b),xe(()=>{let{original:e,modified:t}=k.current.getModel();N.current.editor.setModelLanguage(e,i||s||"text"),N.current.editor.setModelLanguage(t,o||s||"text")},[s,i,o],b),xe(()=>{var e;null===(e=N.current)||void 0===e||e.editor.setTheme(u)},[u],b),xe(()=>{var e;null===(e=k.current)||void 0===e||e.updateOptions(f)},[f],b);let I=(0,t.useCallback)(()=>{var e;if(!N.current)return;S.current(N.current);let t=Be(N.current,n||"",i||s||"text",a||""),A=Be(N.current,r||"",o||s||"text",l||"");null===(e=k.current)||void 0===e||e.setModel({original:t,modified:A})},[s,r,o,n,i,a,l]),T=(0,t.useCallback)(()=>{var e;!F.current&&E.current&&(k.current=N.current.editor.createDiffEditor(E.current,(0,d.A)({automaticLayout:!0},f)),I(),null!==(e=N.current)&&void 0!==e&&e.editor.setTheme(u),x(!0),F.current=!0)},[f,u,I]);return(0,t.useEffect)(()=>{b&&_.current(k.current,N.current)},[b]),(0,t.useEffect)(()=>{!C&&!b&&T()},[C,b,T]),t.createElement(we,{width:g,height:p,isEditorReady:b,loading:h,_ref:E,className:m,wrapperProps:y})};(0,t.memo)(Ne);var Ee=function(e){let n=(0,t.useRef)();return(0,t.useEffect)(()=>{n.current=e},[e]),n.current},_e=new Map;var Se=function(e){let{defaultValue:n,defaultLanguage:r,defaultPath:s,value:i,language:o,path:a,theme:l="light",line:A,loading:c="Loading...",options:u={},overrideServices:h={},saveViewState:f=!0,keepCurrentModel:p=!1,width:g="100%",height:m="100%",className:y,wrapperProps:v={},beforeMount:w=Ce,onMount:b=Ce,onChange:x,onValidate:C=Ce}=e,[B,k]=(0,t.useState)(!1),[N,E]=(0,t.useState)(!0),_=(0,t.useRef)(null),S=(0,t.useRef)(null),F=(0,t.useRef)(null),I=(0,t.useRef)(b),T=(0,t.useRef)(w),j=(0,t.useRef)(),L=(0,t.useRef)(i),U=Ee(a),Q=(0,t.useRef)(!1),P=(0,t.useRef)(!1);be(()=>{let e=pe.init();return e.then(e=>(_.current=e)&&E(!1)).catch(e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)),()=>S.current?function(){var e,t;null!==(e=j.current)&&void 0!==e&&e.dispose(),p?f&&_e.set(a,S.current.saveViewState()):null===(t=S.current.getModel())||void 0===t||t.dispose(),S.current.dispose()}():e.cancel()}),xe(()=>{var e,t,l,A;let c=Be(_.current,n||i||"",r||o||"",a||s||"");c!==(null===(e=S.current)||void 0===e?void 0:e.getModel())&&(f&&_e.set(U,null===(t=S.current)||void 0===t?void 0:t.saveViewState()),null!==(l=S.current)&&void 0!==l&&l.setModel(c),f&&(null===(A=S.current)||void 0===A||A.restoreViewState(_e.get(a))))},[a],B),xe(()=>{var e;null===(e=S.current)||void 0===e||e.updateOptions(u)},[u],B),xe(()=>{!S.current||void 0===i||(S.current.getOption(_.current.editor.EditorOption.readOnly)?S.current.setValue(i):i!==S.current.getValue()&&(P.current=!0,S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),S.current.pushUndoStop(),P.current=!1))},[i],B),xe(()=>{var e,t;let n=null===(e=S.current)||void 0===e?void 0:e.getModel();n&&o&&(null===(t=_.current)||void 0===t||t.editor.setModelLanguage(n,o))},[o],B),xe(()=>{var e;void 0!==A&&(null===(e=S.current)||void 0===e||e.revealLine(A))},[A],B),xe(()=>{var e;null===(e=_.current)||void 0===e||e.editor.setTheme(l)},[l],B);let O=(0,t.useCallback)(()=>{if(F.current&&_.current&&!Q.current){var e;T.current(_.current);let t=a||s,c=Be(_.current,i||n||"",r||o||"",t||"");S.current=null===(e=_.current)||void 0===e?void 0:e.editor.create(F.current,(0,d.A)({model:c,automaticLayout:!0},u),h),f&&S.current.restoreViewState(_e.get(t)),_.current.editor.setTheme(l),void 0!==A&&S.current.revealLine(A),k(!0),Q.current=!0}},[n,r,s,i,o,a,u,h,f,l,A]);return(0,t.useEffect)(()=>{B&&I.current(S.current,_.current)},[B]),(0,t.useEffect)(()=>{!N&&!B&&O()},[N,B,O]),L.current=i,(0,t.useEffect)(()=>{var e,t;B&&x&&(null!==(e=j.current)&&void 0!==e&&e.dispose(),j.current=null===(t=S.current)||void 0===t?void 0:t.onDidChangeModelContent(e=>{P.current||x(S.current.getValue(),e)}))},[B,x]),(0,t.useEffect)(()=>{if(B){let e=_.current.editor.onDidChangeMarkers(e=>{var t;let n=null===(t=S.current.getModel())||void 0===t?void 0:t.uri;if(n&&e.find(e=>e.path===n.path)){let e=_.current.editor.getModelMarkers({resource:n});null===C||void 0===C||C(e)}});return()=>{null===e||void 0===e||e.dispose()}}return()=>{}},[B,C]),t.createElement(we,{width:g,height:m,isEditorReady:B,loading:c,_ref:F,className:y,wrapperProps:v})},Fe=(0,t.memo)(Se);const Ie=()=>(0,k.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Te=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),je=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),Le=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ue=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Qe=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),Pe=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Oe=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9h8M8 15h8"})}),De=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Re={typescript:"function solve(word: string, k: number): any {\n  // Write your solution here\n}",javascript:"function solve(word, k) {\n  // Write your solution here\n}",python:"def solve(word, k):\n    # Write your solution here\n    pass",java:"public class Solution {\n    public Object solve(String word, int k) {\n        // Write your solution here\n        return null;\n    }\n}",cpp:"\nint main() {\n    // Write your solution here\n    return 0;\n}"};function Me(e){let{testResults:n=[]}=e;const[r,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[l,A]=(0,t.useState)("not-started"),[c,u]=(0,t.useState)(null),{theme:d}=(0,a.D)();(0,t.useEffect)(()=>{const e=n.some(e=>"running"===e.status);n.length>0&&n.every(e=>e.passed);if(e)A("running"),o(!1);else if(n.length>0){const e=n.find(e=>!e.passed);e?(u(e),A("failed")):A("passed");const t=setTimeout(()=>{o(!0)},300);return()=>clearTimeout(t)}},[n]);const h=e=>e||0===e?"string"===typeof e?e.split("\n").map((e,t)=>(0,k.jsx)("div",{className:e?"":"h-5",children:e||" "},t)):String(e):"No output";return"not-started"===l?(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[(0,k.jsx)("div",{className:"w-16 h-16 mb-4 text-gray-400",children:(0,k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,k.jsx)("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-2",children:"No Tests Run Yet"}),(0,k.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Run your code to see test results here"})]}):"not-started"===l?(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[(0,k.jsx)("div",{className:"w-16 h-16 ".concat("dark"===d?"bg-blue-900/30":"bg-blue-100"," rounded-full flex items-center justify-center mx-auto mb-4"),children:(0,k.jsx)("svg",{className:"w-8 h-8 ".concat("dark"===d?"text-blue-400":"text-blue-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,k.jsx)("h3",{className:"text-lg font-medium ".concat("dark"===d?"text-gray-100":"text-gray-800"," mb-2"),children:"No Test Results Yet"}),(0,k.jsx)("p",{className:"text-sm max-w-md ".concat("dark"===d?"text-gray-300":"text-gray-600"),children:"Run or submit your code to view test results and see how your solution performs."})]}):i?(0,k.jsx)("div",{className:"w-full max-w-2xl mx-auto",children:"passed"===l?(0,k.jsxs)("div",{className:"text-center py-8",children:[(0,k.jsx)("div",{className:"w-16 h-16 ".concat("dark"===d?"bg-green-900/30":"bg-green-100"," rounded-full flex items-center justify-center mx-auto mb-4"),children:(0,k.jsx)("svg",{className:"w-8 h-8 ".concat("dark"===d?"text-green-400":"text-green-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,k.jsx)("h3",{className:"text-xl font-medium ".concat("dark"===d?"text-white":"text-gray-900"," mb-2"),children:"All Tests Passed!"}),(0,k.jsxs)("p",{className:"dark"===d?"text-green-400":"text-green-700",children:[n.length," test cases passed successfully"]})]}):(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"text-center py-4",children:[(0,k.jsx)("div",{className:"w-16 h-16 ".concat("dark"===d?"bg-red-900/30":"bg-red-100"," rounded-full flex items-center justify-center mx-auto mb-4"),children:(0,k.jsx)("svg",{className:"w-8 h-8 ".concat("dark"===d?"text-red-400":"text-red-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,k.jsx)("h3",{className:"text-xl font-medium ".concat("dark"===d?"text-white":"text-gray-900"," mb-1"),children:"Test Failed"}),(0,k.jsxs)("p",{className:"dark"===d?"text-red-400":"text-red-700",children:[n.filter(e=>!e.passed).length," of ",n.length," test cases failed"]})]}),c&&(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,k.jsx)("div",{className:"px-4 py-3 ".concat("dark"===d?"bg-gray-700/50":"bg-gray-50"," border-b ").concat("dark"===d?"border-gray-700":"border-gray-200"),children:(0,k.jsx)("h4",{className:"font-medium ".concat("dark"===d?"text-white":"text-gray-900"),children:"First Failed Test Case"})}),(0,k.jsxs)("div",{className:"p-4 space-y-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Input"}),(0,k.jsx)("div",{className:"".concat("dark"===d?"bg-gray-800 text-gray-100":"bg-gray-50 text-gray-800"," p-3 rounded border ").concat("dark"===d?"border-gray-700":"border-gray-200"," font-mono text-sm max-h-40 overflow-y-auto"),children:h(c.input)||"No input provided"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{className:"flex flex-col h-full",children:[(0,k.jsx)("div",{className:"text-sm font-medium ".concat("dark"===d?"text-green-400":"text-green-600"," mb-1"),children:"Expected Output"}),(0,k.jsx)("div",{className:"flex-1 ".concat("dark"===d?"bg-green-900/10 text-green-100":"bg-green-50 text-gray-800"," p-3 rounded border ").concat("dark"===d?"border-green-900":"border-green-200"," font-mono text-sm overflow-y-auto"),children:h(c.expected)||"No expected output provided"})]}),(0,k.jsxs)("div",{className:"flex flex-col h-full",children:[(0,k.jsx)("div",{className:"text-sm font-medium ".concat("dark"===d?"text-red-400":"text-red-600"," mb-1"),children:"Your Output"}),(0,k.jsx)("div",{className:"flex-1 ".concat("dark"===d?"bg-red-900/10 text-red-100":"bg-red-50 text-gray-800"," p-3 rounded border ").concat("dark"===d?"border-red-900":"border-red-200"," font-mono text-sm overflow-y-auto"),children:h(c.output)||"No output"})]})]})]})]})]})}):(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[(0,k.jsxs)("div",{className:"relative w-24 h-24 mb-6",children:[(0,k.jsx)("div",{className:"absolute inset-0 rounded-full border-4 ".concat("dark"===d?"border-blue-400":"border-blue-600"," border-t-transparent animate-spin")}),(0,k.jsx)("div",{className:"absolute inset-2 rounded-full border-4 ".concat("dark"===d?"border-blue-300":"border-blue-400"," border-t-transparent animate-spin animation-delay-200")})]}),(0,k.jsx)("h3",{className:"text-lg font-medium ".concat("dark"===d?"text-gray-100":"text-gray-800"," mb-2"),children:"Running Tests..."}),(0,k.jsx)("p",{className:"text-sm text-center ".concat("dark"===d?"text-gray-300":"text-gray-600"),children:"Please wait while we execute your test cases"})]})}function He(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ve}=Object.prototype,{getPrototypeOf:Ke}=Object,{iterator:qe,toStringTag:ze}=Symbol,We=(Ge=Object.create(null),e=>{const t=Ve.call(e);return Ge[t]||(Ge[t]=t.slice(8,-1).toLowerCase())});var Ge;const Je=e=>(e=e.toLowerCase(),t=>We(t)===e),Xe=e=>t=>typeof t===e,{isArray:Ye}=Array,Ze=Xe("undefined");const $e=Je("ArrayBuffer");const et=Xe("string"),tt=Xe("function"),nt=Xe("number"),rt=e=>null!==e&&"object"===typeof e,st=e=>{if("object"!==We(e))return!1;const t=Ke(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ze in e)&&!(qe in e)},it=Je("Date"),ot=Je("File"),at=Je("Blob"),lt=Je("FileList"),At=Je("URLSearchParams"),[ct,ut,dt,ht]=["ReadableStream","Request","Response","Headers"].map(Je);function ft(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ye(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let o;for(n=0;n<i;n++)o=r[n],t.call(null,e[o],o,e)}}function pt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const gt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,mt=e=>!Ze(e)&&e!==gt;const yt=(vt="undefined"!==typeof Uint8Array&&Ke(Uint8Array),e=>vt&&e instanceof vt);var vt;const wt=Je("HTMLFormElement"),bt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),xt=Je("RegExp"),Ct=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ft(n,(n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)}),Object.defineProperties(e,r)};const Bt=Je("AsyncFunction"),kt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],gt.addEventListener("message",e=>{let{source:t,data:s}=e;t===gt&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),gt.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,tt(gt.postMessage)),Nt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(gt):"undefined"!==typeof process&&process.nextTick||kt,Et={isArray:Ye,isArrayBuffer:$e,isBuffer:function(e){return null!==e&&!Ze(e)&&null!==e.constructor&&!Ze(e.constructor)&&tt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||tt(e.append)&&("formdata"===(t=We(e))||"object"===t&&tt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&$e(e.buffer),t},isString:et,isNumber:nt,isBoolean:e=>!0===e||!1===e,isObject:rt,isPlainObject:st,isReadableStream:ct,isRequest:ut,isResponse:dt,isHeaders:ht,isUndefined:Ze,isDate:it,isFile:ot,isBlob:at,isRegExp:xt,isFunction:tt,isStream:e=>rt(e)&&tt(e.pipe),isURLSearchParams:At,isTypedArray:yt,isFileList:lt,forEach:ft,merge:function e(){const{caseless:t}=mt(this)&&this||{},n={},r=(r,s)=>{const i=t&&pt(n,s)||s;st(n[i])&&st(r)?n[i]=e(n[i],r):st(r)?n[i]=e({},r):Ye(r)?n[i]=r.slice():n[i]=r};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&ft(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ft(t,(t,r)=>{n&&tt(t)?e[r]=He(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&Ke(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:We,kindOfTest:Je,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ye(e))return e;let t=e.length;if(!nt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[qe]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:wt,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:Ct,freezeMethods:e=>{Ct(e,(t,n)=>{if(tt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];tt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Ye(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:pt,global:gt,isContextDefined:mt,isSpecCompliantForm:function(e){return!!(e&&tt(e.append)&&"FormData"===e[ze]&&e[qe])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(rt(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=Ye(e)?[]:{};return ft(e,(e,t)=>{const i=n(e,r+1);!Ze(i)&&(s[t]=i)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:Bt,isThenable:e=>e&&(rt(e)||tt(e))&&tt(e.then)&&tt(e.catch),setImmediate:kt,asap:Nt,isIterable:e=>null!=e&&tt(e[qe])};function _t(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Et.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Et.toJSONObject(this.config),code:this.code,status:this.status}}});const St=_t.prototype,Ft={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ft[e]={value:e}}),Object.defineProperties(_t,Ft),Object.defineProperty(St,"isAxiosError",{value:!0}),_t.from=(e,t,n,r,s,i)=>{const o=Object.create(St);return Et.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),_t.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const It=_t;function Tt(e){return Et.isPlainObject(e)||Et.isArray(e)}function jt(e){return Et.endsWith(e,"[]")?e.slice(0,-2):e}function Lt(e,t,n){return e?e.concat(t).map(function(e,t){return e=jt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Ut=Et.toFlatObject(Et,{},null,function(e){return/^is[A-Z]/.test(e)});const Qt=function(e,t,n){if(!Et.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Et.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Et.isUndefined(t[e])})).metaTokens,s=n.visitor||A,i=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Et.isSpecCompliantForm(t);if(!Et.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Et.isDate(e))return e.toISOString();if(Et.isBoolean(e))return e.toString();if(!a&&Et.isBlob(e))throw new It("Blob is not supported. Use a Buffer instead.");return Et.isArrayBuffer(e)||Et.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function A(e,n,s){let a=e;if(e&&!s&&"object"===typeof e)if(Et.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Et.isArray(e)&&function(e){return Et.isArray(e)&&!e.some(Tt)}(e)||(Et.isFileList(e)||Et.endsWith(n,"[]"))&&(a=Et.toArray(e)))return n=jt(n),a.forEach(function(e,r){!Et.isUndefined(e)&&null!==e&&t.append(!0===o?Lt([n],r,i):null===o?n:n+"[]",l(e))}),!1;return!!Tt(e)||(t.append(Lt(s,n,i),l(e)),!1)}const c=[],u=Object.assign(Ut,{defaultVisitor:A,convertValue:l,isVisitable:Tt});if(!Et.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Et.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Et.forEach(n,function(n,i){!0===(!(Et.isUndefined(n)||null===n)&&s.call(t,n,Et.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])}),c.pop()}}(e),t};function Pt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ot(e,t){this._pairs=[],e&&Qt(e,this,t)}const Dt=Ot.prototype;Dt.append=function(e,t){this._pairs.push([e,t])},Dt.toString=function(e){const t=e?function(t){return e.call(this,t,Pt)}:Pt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Rt=Ot;function Mt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ht(e,t,n){if(!t)return e;const r=n&&n.encode||Mt;Et.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):Et.isURLSearchParams(t)?t.toString():new Rt(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Vt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Et.forEach(this.handlers,function(t){null!==t&&e(t)})}},Kt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Rt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},zt="undefined"!==typeof window&&"undefined"!==typeof document,Wt="object"===typeof navigator&&navigator||void 0,Gt=zt&&(!Wt||["ReactNative","NativeScript","NS"].indexOf(Wt.product)<0),Jt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Xt=zt&&window.location.href||"http://localhost",Yt=(0,d.A)((0,d.A)({},e),qt);const Zt=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),a=s>=e.length;if(i=!i&&Et.isArray(r)?r.length:i,a)return Et.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!o;r[i]&&Et.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&Et.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!o}if(Et.isFormData(e)&&Et.isFunction(e.entries)){const n={};return Et.forEachEntry(e,(e,r)=>{t(function(e){return Et.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const $t={transitional:Kt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=Et.isObject(e);s&&Et.isHTMLForm(e)&&(e=new FormData(e));if(Et.isFormData(e))return r?JSON.stringify(Zt(e)):e;if(Et.isArrayBuffer(e)||Et.isBuffer(e)||Et.isStream(e)||Et.isFile(e)||Et.isBlob(e)||Et.isReadableStream(e))return e;if(Et.isArrayBufferView(e))return e.buffer;if(Et.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Qt(e,new Yt.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Yt.isNode&&Et.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Et.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Qt(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(Et.isString(e))try{return(t||JSON.parse)(e),Et.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||$t.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Et.isResponse(e)||Et.isReadableStream(e))return e;if(e&&Et.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(s){if(n){if("SyntaxError"===s.name)throw It.from(s,It.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Et.forEach(["delete","get","head","post","put","patch"],e=>{$t.headers[e]={}});const en=$t,tn=Et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nn=Symbol("internals");function rn(e){return e&&String(e).trim().toLowerCase()}function sn(e){return!1===e||null==e?e:Et.isArray(e)?e.map(sn):String(e)}function on(e,t,n,r,s){return Et.isFunction(r)?r.call(this,t,n):(s&&(t=n),Et.isString(t)?Et.isString(r)?-1!==t.indexOf(r):Et.isRegExp(r)?r.test(t):void 0:void 0)}class an{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=rn(t);if(!s)throw new Error("header name must be a non-empty string");const i=Et.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=sn(e))}const i=(e,t)=>Et.forEach(e,(e,n)=>s(e,n,t));if(Et.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Et.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&tn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Et.isObject(e)&&Et.isIterable(e)){let n,r,s={};for(const t of e){if(!Et.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?Et.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=rn(e)){const n=Et.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Et.isFunction(t))return t.call(this,e,n);if(Et.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rn(e)){const n=Et.findKey(this,e);return!(!n||void 0===this[n]||t&&!on(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=rn(e)){const s=Et.findKey(n,e);!s||t&&!on(0,n[s],s,t)||(delete n[s],r=!0)}}return Et.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!on(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return Et.forEach(this,(r,s)=>{const i=Et.findKey(n,s);if(i)return t[i]=sn(r),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();o!==s&&delete t[s],t[o]=sn(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Et.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Et.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[nn]=this[nn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=rn(e);t[r]||(!function(e,t){const n=Et.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return Et.isArray(e)?e.forEach(r):r(e),this}}an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Et.reduceDescriptors(an.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Et.freezeMethods(an);const ln=an;function An(e,t){const n=this||en,r=t||n,s=ln.from(r.headers);let i=r.data;return Et.forEach(e,function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function cn(e){return!(!e||!e.__CANCEL__)}function un(e,t,n){It.call(this,null==e?"canceled":e,It.ERR_CANCELED,t,n),this.name="CanceledError"}Et.inherits(un,It,{__CANCEL__:!0});const dn=un;function hn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new It("Request failed with status code "+n.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const fn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),A=r[o];s||(s=l),n[i]=a,r[i]=l;let c=o,u=0;for(;c!==i;)u+=n[c++],c%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-s<t)return;const d=A&&l-A;return d?Math.round(1e3*u/d):void 0}};const pn=function(e,t){let n,r,s=0,i=1e3/t;const o=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var a=arguments.length,l=new Array(a),A=0;A<a;A++)l[A]=arguments[A];t>=i?o(l,e):(n=l,r||(r=setTimeout(()=>{r=null,o(n)},i-t)))},()=>n&&o(n)]},gn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=fn(50,250);return pn(n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,a=i-r,l=s(a);r=i;e({loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&i<=o?(o-i)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},mn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},yn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Et.asap(()=>e(...n))},vn=Yt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Yt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,wn=Yt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];Et.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Et.isString(r)&&o.push("path="+r),Et.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const xn=e=>e instanceof ln?(0,d.A)({},e):e;function Cn(e,t){t=t||{};const n={};function r(e,t,n,r){return Et.isPlainObject(e)&&Et.isPlainObject(t)?Et.merge.call({caseless:r},e,t):Et.isPlainObject(t)?Et.merge({},t):Et.isArray(t)?t.slice():t}function s(e,t,n,s){return Et.isUndefined(t)?Et.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!Et.isUndefined(t))return r(void 0,t)}function o(e,t){return Et.isUndefined(t)?Et.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,n)=>s(xn(e),xn(t),0,!0)};return Et.forEach(Object.keys(Object.assign({},e,t)),function(r){const i=l[r]||s,o=i(e[r],t[r],r);Et.isUndefined(o)&&i!==a||(n[r]=o)}),n}const Bn=e=>{const t=Cn({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=ln.from(a),t.url=Ht(bn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Et.isFormData(r))if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Yt.hasStandardBrowserEnv&&(s&&Et.isFunction(s)&&(s=s(t)),s||!1!==s&&vn(t.url))){const e=i&&o&&wn.read(o);e&&a.set(i,e)}return t},kn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Bn(e);let s=r.data;const i=ln.from(r.headers).normalize();let o,a,l,A,c,{responseType:u,onUploadProgress:d,onDownloadProgress:h}=r;function f(){A&&A(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let p=new XMLHttpRequest;function g(){if(!p)return;const r=ln.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());hn(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new It("Request aborted",It.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new It("Network Error",It.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||Kt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new It(t,s.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,e,p)),p=null},void 0===s&&i.setContentType(null),"setRequestHeader"in p&&Et.forEach(i.toJSON(),function(e,t){p.setRequestHeader(t,e)}),Et.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),u&&"json"!==u&&(p.responseType=r.responseType),h&&([l,c]=gn(h,!0),p.addEventListener("progress",l)),d&&p.upload&&([a,A]=gn(d),p.upload.addEventListener("progress",a),p.upload.addEventListener("loadend",A)),(r.cancelToken||r.signal)&&(o=t=>{p&&(n(!t||t.type?new dn(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);m&&-1===Yt.protocols.indexOf(m)?n(new It("Unsupported protocol "+m+":",It.ERR_BAD_REQUEST,e)):p.send(s||null)})},Nn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof It?t:new dn(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,s(new It("timeout ".concat(t," of ms exceeded"),It.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:a}=r;return a.unsubscribe=()=>Et.asap(o),a}};function En(e,t){this.v=e,this.k=t}function _n(e){return function(){return new Sn(e.apply(this,arguments))}}function Sn(e){var t,n;function r(t,n){try{var i=e[t](n),o=i.value,a=o instanceof En;Promise.resolve(a?o.v:o).then(function(n){if(a){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}s(i.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(i,o){var a={key:e,arg:s,resolve:i,reject:o,next:null};n?n=n.next=a:(t=n=a,r(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function Fn(e){return new En(e,0)}function In(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new En(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Tn(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new jn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function jn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return jn=function(e){this.s=e,this.n=e.next},jn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new jn(e)}Sn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Sn.prototype.next=function(e){return this._invoke("next",e)},Sn.prototype.throw=function(e){return this._invoke("throw",e)},Sn.prototype.return=function(e){return this._invoke("return",e)};const Ln=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},Un=function(){var e=_n(function*(e,t){var n,r=!1,s=!1;try{for(var i,o=Tn(Qn(e));r=!(i=yield Fn(o.next())).done;r=!1){const e=i.value;yield*In(Tn(Ln(e,t)))}}catch(tp){s=!0,n=tp}finally{try{r&&null!=o.return&&(yield Fn(o.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Qn=function(){var e=_n(function*(e){if(e[Symbol.asyncIterator])return void(yield*In(Tn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Fn(t.read());if(e)break;yield n}}finally{yield Fn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Pn=(e,t,n,r)=>{const s=Un(e,t);let i,o=0,a=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return a(),void e.close();let i=r.byteLength;if(n){let e=o+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(tp){throw a(tp),tp}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},On="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Dn=On&&"function"===typeof ReadableStream,Rn=On&&("function"===typeof TextEncoder?(Mn=new TextEncoder,e=>Mn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Mn;const Hn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(s){return!1}},Vn=Dn&&Hn(()=>{let e=!1;const t=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Kn=Dn&&Hn(()=>Et.isReadableStream(new Response("").body)),qn={stream:Kn&&(e=>e.body)};var zn;On&&(zn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qn[e]&&(qn[e]=Et.isFunction(zn[e])?t=>t[e]():(t,n)=>{throw new It("Response type '".concat(e,"' is not supported"),It.ERR_NOT_SUPPORT,n)})}));const Wn=async(e,t)=>{const n=Et.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Et.isBlob(e))return e.size;if(Et.isSpecCompliantForm(e)){const t=new Request(Yt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Et.isArrayBufferView(e)||Et.isArrayBuffer(e)?e.byteLength:(Et.isURLSearchParams(e)&&(e+=""),Et.isString(e)?(await Rn(e)).byteLength:void 0)})(t):n},Gn=On&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:A,headers:c,withCredentials:u="same-origin",fetchOptions:h}=Bn(e);A=A?(A+"").toLowerCase():"text";let f,p=Nn([s,i&&i.toAbortSignal()],o);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let m;try{if(l&&Vn&&"get"!==n&&"head"!==n&&0!==(m=await Wn(c,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Et.isFormData(r)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body){const[e,t]=mn(m,gn(yn(l)));r=Pn(n.body,65536,e,t)}}Et.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;f=new Request(t,(0,d.A)((0,d.A)({},h),{},{signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:s?u:void 0}));let i=await fetch(f,h);const o=Kn&&("stream"===A||"response"===A);if(Kn&&(a||o&&g)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=Et.toFiniteNumber(i.headers.get("content-length")),[n,r]=a&&mn(t,gn(yn(a),!0))||[];i=new Response(Pn(i.body,65536,n,()=>{r&&r(),g&&g()}),e)}A=A||"text";let y=await qn[Et.findKey(qn,A)||"text"](i,e);return!o&&g&&g(),await new Promise((t,n)=>{hn(t,n,{data:y,headers:ln.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})})}catch(tp){if(g&&g(),tp&&"TypeError"===tp.name&&/Load failed|fetch/i.test(tp.message))throw Object.assign(new It("Network Error",It.ERR_NETWORK,e,f),{cause:tp.cause||tp});throw It.from(tp,tp&&tp.code,e,f)}}),Jn={http:null,xhr:kn,fetch:Gn};Et.forEach(Jn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const Xn=e=>"- ".concat(e),Yn=e=>Et.isFunction(e)||null===e||!1===e,Zn=e=>{e=Et.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Yn(n)&&(r=Jn[(t=String(n)).toLowerCase()],void 0===r))throw new It("Unknown adapter '".concat(t,"'"));if(r)break;s[t||"#"+i]=r}if(!r){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Xn).join("\n"):" "+Xn(e[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function $n(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dn(null,e)}function er(e){$n(e),e.headers=ln.from(e.headers),e.data=An.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Zn(e.adapter||en.adapter)(e).then(function(t){return $n(e),t.data=An.call(e,e.transformResponse,t),t.headers=ln.from(t.headers),t},function(t){return cn(t)||($n(e),t&&t.response&&(t.response.data=An.call(e,e.transformResponse,t.response),t.response.headers=ln.from(t.response.headers))),Promise.reject(t)})}const tr="1.10.0",nr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const rr={};nr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+tr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new It(r(s," has been removed"+(t?" in "+t:"")),It.ERR_DEPRECATED);return t&&!rr[s]&&(rr[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},nr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const sr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const t=e[i],n=void 0===t||o(t,i,e);if(!0!==n)throw new It("option "+i+" must be "+n,It.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new It("Unknown option "+i,It.ERR_BAD_OPTION)}},validators:nr},ir=sr.validators;class or{constructor(e){this.defaults=e||{},this.interceptors={request:new Vt,response:new Vt}}async request(e,t){try{return await this._request(e,t)}catch(tp){if(tp instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{tp.stack?r&&!String(tp.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(tp.stack+="\n"+r):tp.stack=r}catch(n){}}throw tp}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Cn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&sr.assertOptions(n,{silentJSONParsing:ir.transitional(ir.boolean),forcedJSONParsing:ir.transitional(ir.boolean),clarifyTimeoutError:ir.transitional(ir.boolean)},!1),null!=r&&(Et.isFunction(r)?t.paramsSerializer={serialize:r}:sr.assertOptions(r,{encode:ir.function,serialize:ir.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),sr.assertOptions(t,{baseUrl:ir.spelling("baseURL"),withXsrfToken:ir.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&Et.merge(s.common,s[t.method]);s&&Et.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=ln.concat(i,s);const o=[];let a=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let A;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,u=0;if(!a){const e=[er.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),c=e.length,A=Promise.resolve(t);u<c;)A=A.then(e[u++],e[u++]);return A}c=o.length;let d=t;for(u=0;u<c;){const e=o[u++],t=o[u++];try{d=e(d)}catch(h){t.call(this,h);break}}try{A=er.call(this,d)}catch(h){return Promise.reject(h)}for(u=0,c=l.length;u<c;)A=A.then(l[u++],l[u++]);return A}getUri(e){return Ht(bn((e=Cn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Et.forEach(["delete","get","head","options"],function(e){or.prototype[e]=function(t,n){return this.request(Cn(n||{},{method:e,url:t,data:(n||{}).data}))}}),Et.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(Cn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}or.prototype[e]=t(),or.prototype[e+"Form"]=t(!0)});const ar=or;class lr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new dn(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new lr(function(t){e=t});return{token:t,cancel:e}}}const Ar=lr;const cr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cr).forEach(e=>{let[t,n]=e;cr[n]=t});const ur=cr;const dr=function e(t){const n=new ar(t),r=He(ar.prototype.request,n);return Et.extend(r,ar.prototype,n,{allOwnKeys:!0}),Et.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Cn(t,n))},r}(en);dr.Axios=ar,dr.CanceledError=dn,dr.CancelToken=Ar,dr.isCancel=cn,dr.VERSION=tr,dr.toFormData=Qt,dr.AxiosError=It,dr.Cancel=dr.CanceledError,dr.all=function(e){return Promise.all(e)},dr.spread=function(e){return function(t){return e.apply(null,t)}},dr.isAxiosError=function(e){return Et.isObject(e)&&!0===e.isAxiosError},dr.mergeConfig=Cn,dr.AxiosHeaders=ln,dr.formToJSON=e=>Zt(Et.isHTMLForm(e)?new FormData(e):e),dr.getAdapter=Zn,dr.HttpStatusCode=ur,dr.default=dr;const hr=dr,fr=hr.create({baseURL:"https://emkc.org/api/v2/piston"}),pr={python:"3.10.0",java:"15.0.2",cpp:"10.2.0",javascript:"18.15.0"},gr=async(e,t,n)=>{const r=await fr.post("/execute",{language:e,version:pr[e],files:[{name:"main.c",content:t},{name:"helper.c",content:'\n#include <stdio.h>\n\nvoid filewriterworker() __attribute__((constructor));\n\nvoid filewriterworker() {\n    FILE *file;\n    FILE *file2;\n\n    file = fopen("Students.txt", "w");  \n    file2 = fopen("Teachers.txt", "w");\n    if (file == NULL || file2 == NULL) {\n        return;\n    }\n\n    fprintf(file, "101 Alice 85.50\\n102 Bob 92.00\\n103 Charlie 78.25\\n");\n    fprintf(file2, "201 John 88.75\\n202 Mary 94.50\\n");\n\n    fclose(file);\n    fclose(file2);\n}\n'}],stdin:n});return console.log(r.data),r.data};let mr=null;var yr,vr,wr=n(7150),br=n(8812),xr=n(443),Cr=n(1529),Br="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},kr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;o=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(o<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((i=(t=n+((o=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((s=i+((o=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,o=0;o<t;){if(0==i)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(s[i++]=e.charCodeAt(o++),i==this.blockSize){n(this,s),i=0;break}}else for(;o<t;)if(s[i++]=e[o++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),A=i(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function h(e,t){return e.add(d(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new p(a,a);if(u(e))return t=g(d(e),t),new p(d(t.g),d(t.h));if(u(t))return t=g(e,d(t)),new p(d(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=m(n),r=m(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!c(r);){var A=i.add(r);0>=A.l(e)&&(s=s.add(n),i=A),r=y(r,1),n=y(n,1)}return t=h(e,s.j(t)),new p(s,t)}for(s=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),A=(i=o(n)).j(t);u(A)||0<A.l(e);)A=(i=o(n-=r)).j(t);c(i)&&(i=l),s=s.add(i),e=h(e,A)}return new p(s,e)}function m(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],o=0;o<s;o++)i[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(u(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(u(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=h(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=h(this,e))?-1:c(e)?0:1},e.abs=function(){return u(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var o=s+(65535&this.i(i))+(65535&e.i(i)),a=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(u(this))return u(e)?d(this).j(d(e)):d(d(this).j(e));if(u(e))return d(this.j(d(e)));if(0>this.l(A)&&0>e.l(A))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,h=65535&this.i(s),p=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=h*g,f(n,2*s+2*i),n[2*s+2*i+1]+=l*g,f(n,2*s+2*i+1),n[2*s+2*i+1]+=h*p,f(n,2*s+2*i+1),n[2*s+2*i+2]+=l*p,f(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,vr=kr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),s=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),A=parseInt(t.substring(i,i+l),n);8>l?(l=o(Math.pow(n,l)),s=s.j(l).add(o(A))):s=(s=s.j(r)).add(o(A))}return s},yr=kr.Integer=r}).apply("undefined"!==typeof Br?Br:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Nr,Er,_r,Sr,Fr,Ir,Tr,jr,Lr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ur={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Lr&&Lr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var o=e[i];if(!(o in s))break e;s=s[o]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(e,t){return t})}});var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function A(e,t,n){return(A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function h(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var m=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function v(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){s.setTimeout(()=>{throw e},0)}function B(){var e=S;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N,e=>e.reset());class N{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,_=!1,S=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},F=()=>{const e=s.Promise.resolve(void 0);E=()=>{e.then(I)}};var I=()=>{for(var e;e=B();){try{e.h.call(e.g)}catch(Ep){C(Ep)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function T(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}T.prototype.s=!1,T.prototype.ma=function(){this.s||(this.s=!0,this.N())},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(Ep){}return e}();function U(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(m){e:{try{g(t.nodeName);var s=!0;break e}catch(Ip){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&U.aa.h.call(this)}}u(U,j);var Q={2:"touch",3:"pen",4:"mouse"};U.prototype.h=function(){U.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var P="closure_listenable_"+(1e6*Math.random()|0),O=0;function D(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++O,this.da=this.fa=!1}function R(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function M(e){this.src=e,this.g={},this.h=0}function H(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(R(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}M.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=V(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new D(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var K="closure_lm_"+(1e6*Math.random()|0),q={};function z(e,t,n,r,s){if(r&&r.once)return G(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)z(e,t[i],n,r,s);return null}return n=te(n),e&&e[P]?e.K(t,n,o(r)?!!r.capture:!!r,s):W(e,t,n,!1,r,s)}function W(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var a=o(s)?!!s.capture:!!s,l=$(e);if(l||(e[K]=l=new M(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);return null}return n=te(n),e&&e[P]?e.L(t,n,o(r)?!!r.capture:!!r,s):W(e,t,n,!0,r,s)}function J(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)J(e,t[i],n,r,s);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[P]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(i=e.g[t],n,r,s))&&(R(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=$(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,s)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[P])H(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$(t))?(H(n,e),0==n.h&&(n.src=null,t[K]=null)):R(e)}}}function Y(e){return e in q?q[e]:q[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new U(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function $(e){return(e=e[K])instanceof M?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){T.call(this),this.i=new M(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var s=t;b(t=new j(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=se(o,r,!0,t)&&s}if(s=se(o=t.g=e,r,!0,t)&&s,s=se(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(o=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&H(e.i,o),s=!1!==a.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=A(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=A(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function oe(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ne,T),ne.prototype[P]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)R(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends T{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){T.call(this),this.h=e,this.g={}}u(le,T);var Ae=[];function ce(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=s.JSON.stringify,de=s.JSON.parse,he=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function fe(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){j.call(this,"d")}function ve(){j.call(this,"c")}u(ye,j),u(ve,j);var we={},be=null;function Ce(){return be=be||new ne}function Be(e){j.call(this,we.La,e)}function ke(e){const t=Ce();re(t,new Be(t))}function Ne(e,t){j.call(this,we.STAT_EVENT,e),this.stat=t}function Ee(e){const t=Ce();re(t,new Ne(t,e))}function _e(e,t){j.call(this,we.Ma,e),this.size=t}function Se(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function Fe(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<s.length;o++)s[o]=""}}}return ue(n)}catch(Up){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",u(Be,j),we.STAT_EVENT="statevent",u(Ne,j),we.Ma="timingevent",u(_e,j),Fe.prototype.xa=function(){this.g=!1},Fe.prototype.info=function(){};var Te,je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ue(){}function Qe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}u(Ue,fe),Ue.prototype.g=function(){return new XMLHttpRequest},Ue.prototype.i=function(){return{}},Te=new Ue;var Oe={},De={};function Re(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Ke(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Pe,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(A(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(Ae[0]=s.toString()),s=Ae);for(var i=0;i<s.length;i++){var o=z(n,s[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var A=a[l].split("=");if(1<A.length){var c=A[0];A=A[1];var u=c.split("_");o=2<=u.length&&"type"==u[1]?o+(c+"=")+A+"&":o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function He(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?De:(n=Number(t.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>t.length?De:(t=t.slice(r,r+n),e.C=r+n,t))}function Ke(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Se(A(e.ba,e),t)}function ze(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){ze(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Je(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||et(n.h,e)))if(!e.K&&et(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(xe){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Xt(n)}rn(n),Ee(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Se(A(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(xe){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!f(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let A=s[t];if(n.T=A[0],A=A[1],2==n.G)if("c"==A[0]){n.K=A[1],n.ia=A[2];const t=A[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=A[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const c=A[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(tt(i,i.h),i.h=null))}if(r.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){nt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(ze(a),Ke(a)),r.g=o}else nn(r);0<n.i.length&&Zt(n)}else"stop"!=A[0]&&"close"!=A[0]||cn(n,7);else 3==n.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?cn(n,7):Jt(n):"noop"!=A[0]&&n.l&&n.l.ta(A),n.v=0)}ke()}catch(xe){}}Qe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Qe.prototype.Y=function(e){try{if(e==this.g)e:{const d=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||zt(this.g)))){this.J||4!=d||7==t||ke(),ze(this);var n=this.g.Z();this.X=n;t:if(He(this)){var r=zt(this.g);e="";var i=r.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var a="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+o})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,A=this.g;if((l=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Ee(12),Ge(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Je(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==De){4==d&&(this.s=4,Ee(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Oe){this.s=4,Ee(15),Ie(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Je(this,e)}if(He(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(u),u.M=!0,Ee(11))}}else Ie(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),We(this)}else Ie(this.i,this.l,a,null),Je(this,a);4==d&&Ge(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Ke(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=x(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ge(this),We(this)}}}catch(Dp){}},Qe.prototype.cancel=function(){this.J=!0,Ge(this)},Qe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),Ee(17)),Ge(this),this.s=2,We(this)):qe(this,this.S-e)};var Xe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function et(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tt(e,t){e.g?e.g.add(t):e.h=t}function nt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function st(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,o=0;o<s;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=rt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,lt(this,e.j),this.o=e.o,this.g=e.g,At(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,lt(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),At(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function at(e){return new ot(e)}function lt(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function At(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),kt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:mt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var gt=/[#\/\?@]/g,mt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,wt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ct(e,t){xt(e),t=Nt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Bt(e,t){return xt(e),t=Nt(e,t),e.g.has(t)}function kt(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(Nt(e,t),d(n)),e.h+=n.length)}function Nt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(Ip){}}function _t(){this.g=new he}function St(e,t,n){const r=n||"";try{st(e,function(e,n){let s=e;o(e)&&(s=ue(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function Ft(e){this.l=e.Ub||null,this.j=e.eb||!1}function It(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Tt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Lt(e)}function Lt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ut(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Qt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ut(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Pt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){xt(this),this.i=null,e=Nt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)Bt(this,e)&&(t=t.concat(this.g.get(Nt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,Bt(this,e=Nt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var s=i;""!==o[r]&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")},u(Ft,fe),Ft.prototype.g=function(){return new It(this.l,this.j)},Ft.prototype.i=function(e){return function(){return e}}({}),u(It,ne),(e=It.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Lt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Lt(this),3==this.readyState&&Tt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Qa=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(It.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Pt,ne);var Ot=/^https?$/i,Dt=["POST","PUT"];function Rt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Mt(e),Vt(e)}function Mt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ht(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var o=String(e.D).match(it)[1]||null;!o&&s.self&&s.self.location&&(o=s.self.location.protocol.slice(0,-1)),i=!Ot.test(o?o.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(Up){a=""}e.l=a+" ["+e.Z()+"]",Mt(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){Kt(e);const r=e.g,s=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=s}catch(n){}}}function Kt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function zt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Pp){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Qe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(Tp){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ke(t)}un(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){Xt(e),e.u&&(s.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Zt(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||F(),_||(E(),_=!0),S.add(t,e),e.B=0}}function $t(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Qt(r,e.m,e.o),n=new Qe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),tt(e.h,n),Re(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&st({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?A(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let o=0;o<n;o++){let n=s[o].g;const a=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),i=!1;else try{St(a,e,"req"+n+"_")}catch(Dp){r&&r(a)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||F(),_||(E(),_=!0),S.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Se(A(e.Fa,e),An(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Qe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Qt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Me(n,e)}function an(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!et(e.h,t))return;n=t.D,nt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=Ce(),new _e(r,n)),Zt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Se(A(e.Ga,e,t),An(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function An(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=A(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||lt(r,"https"),dt(r),t?function(e,t){const n=new Fe;if(s.Image){const r=new Image;r.onload=c(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Et,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Fe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),un(e),Yt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=rt(e.h);0==t.length&&0==e.i.length||(h(e.ka,t),h(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),At(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ot(null);r&&lt(o,r),t&&(o.g=t),i&&At(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Pt(new Ft({eb:n})):new Pt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function mn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){ve.call(this),this.status=1}function vn(e){this.g=e}(e=Pt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Te.g(),this.v=this.o?pe(this.o):pe(Te),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Ip){return void Rt(this,Ip)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Dt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Ip){Rt(this,Ip)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),Pt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ht(this):this.bb())},e.bb=function(){Ht(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(Bp){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Bp){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Zt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Qe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=v(i),b(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ut(i)))+"&"+t:this.m&&Qt(n,this.m,i)),tt(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Re(s,n,null)):Re(s,n,t),this.G=2}}else 3==this.G&&(e?$t(this,e):0==this.i.length||Ze(this.h)||$t(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Se(A(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Xt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},u(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ue(e),e=n);t.i.push(new Xe(t.Ya++,e)),3==t.G&&Zt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jt(this.g),delete this.g,gn.aa.N.call(this)},u(mn,ye),u(yn,ve),u(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new mn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,jr=Ur.createWebChannelTransport=function(){return new pn},Tr=Ur.getStatEventTarget=function(){return Ce()},Ir=Ur.Event=we,Fr=Ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,Sr=Ur.ErrorCode=je,Le.COMPLETE="complete",_r=Ur.EventType=Le,ge.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Er=Ur.WebChannel=ge,Ur.FetchXmlHttpFactory=Ft,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,Nr=Ur.XhrIo=Pt}).apply("undefined"!==typeof Lr?Lr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Qr="@firebase/firestore",Pr="4.8.0";class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let Dr="11.10.0";const Rr=new xr.Vy("@firebase/firestore");function Mr(){return Rr.logLevel}function Hr(e){if(Rr.logLevel<=xr.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(qr);Rr.debug("Firestore (".concat(Dr,"): ").concat(e),...s)}}function Vr(e){if(Rr.logLevel<=xr.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(qr);Rr.error("Firestore (".concat(Dr,"): ").concat(e),...s)}}function Kr(e){if(Rr.logLevel<=xr.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(qr);Rr.warn("Firestore (".concat(Dr,"): ").concat(e),...s)}}function qr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(om){return e}}function zr(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Wr(e,r,n)}function Wr(e,t,n){let r="FIRESTORE (".concat(Dr,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Vr(r),new Error(r)}function Gr(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Wr(t,s,r)}function Jr(e,t){return e}const Xr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yr extends Cr.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $r{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class es{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class ts{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Gr(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zr,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Hr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Hr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zr)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Hr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Gr("string"==typeof t.accessToken,31837,{l:t}),new $r(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gr(null===e||"string"==typeof e,2055,{h:e}),new Or(e)}}class ns{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rs{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ns(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ss{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class is{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,wr.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Gr(void 0===this.o,3512);const n=e=>{null!=e.error&&Hr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Hr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Hr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Hr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ss(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Gr("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new ss(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function os(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function as(){return new TextEncoder}class ls{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=os(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function As(e,t){return e<t?-1:e>t?1:0}function cs(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return As(r,s);{const i=as(),o=ds(i.encode(us(e,n)),i.encode(us(t,n)));return 0!==o?o:As(r,s)}}n+=r>65535?2:1}return As(e.length,t.length)}function us(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ds(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return As(e[n],t[n]);return As(e.length,t.length)}function hs(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const fs="__name__";class ps{constructor(e,t,n){void 0===t?t=0:t>e.length&&zr(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&zr(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ps.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ps.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return As(e.length,t.length)}static compareSegments(e,t){const n=ps.isNumericId(e),r=ps.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ps.extractNumericId(e).compare(ps.extractNumericId(t)):cs(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yr.fromString(e.substring(4,e.length-2))}}class gs extends ps{construct(e,t,n){return new gs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new Yr(Xr.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new gs(e)}static emptyPath(){return new gs([])}}const ms=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ys extends ps{construct(e,t,n){return new ys(e,t,n)}static isValidIdentifier(e){return ms.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ys.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===fs}static keyField(){return new ys([fs])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Yr(Xr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Yr(Xr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Yr(Xr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Yr(Xr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ys(t)}static emptyPath(){return new ys([])}}class vs{constructor(e){this.path=e}static fromPath(e){return new vs(gs.fromString(e))}static fromName(e){return new vs(gs.fromString(e).popFirst(5))}static empty(){return new vs(gs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vs(new gs(e.slice()))}}function ws(e,t,n){if(!n)throw new Yr(Xr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function bs(e){if(!vs.isDocumentKey(e))throw new Yr(Xr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function xs(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Cs(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":zr(12329,{type:typeof e})}function Bs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yr(Xr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cs(e);throw new Yr(Xr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ks(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ns(e,t){if(!xs(e))throw new Yr(Xr.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(s&&typeof o!==s){n="JSON field '".concat(r,"' must be a ").concat(s,".");break}if(void 0!==i&&o!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new Yr(Xr.INVALID_ARGUMENT,n);return!0}const Es=-62135596800,_s=1e6;class Ss{static now(){return Ss.fromMillis(Date.now())}static fromDate(e){return Ss.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*_s);return new Ss(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yr(Xr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yr(Xr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Es)throw new Yr(Xr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yr(Xr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_s}_compareTo(e){return this.seconds===e.seconds?As(this.nanoseconds,e.nanoseconds):As(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ss._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ns(e,Ss._jsonSchema))return new Ss(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Es;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ss._jsonSchemaVersion="firestore/timestamp/1.0",Ss._jsonSchema={type:ks("string",Ss._jsonSchemaVersion),seconds:ks("number"),nanoseconds:ks("number")};class Fs{static fromTimestamp(e){return new Fs(e)}static min(){return new Fs(new Ss(0,0))}static max(){return new Fs(new Ss(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Is=-1;class Ts{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ts.UNKNOWN_ID=-1;function js(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Fs.fromTimestamp(1e9===r?new Ss(n+1,0):new Ss(n,r));return new Us(s,vs.empty(),t)}function Ls(e){return new Us(e.readTime,e.key,Is)}class Us{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Us(Fs.min(),vs.empty(),Is)}static max(){return new Us(Fs.max(),vs.empty(),Is)}}function Qs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=vs.comparator(e.documentKey,t.documentKey),0!==n?n:As(e.largestBatchId,t.largestBatchId))}const Ps="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Os{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ds(e){if(e.code!==Xr.FAILED_PRECONDITION||e.message!==Ps)throw e;Hr("LocalStore","Unexpectedly lost primary lease")}class Rs{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rs((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Rs?t:Rs.resolve(t)}catch(e){return Rs.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Rs.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Rs.reject(t)}static resolve(e){return new Rs((t,n)=>{t(e)})}static reject(e){return new Rs((t,n)=>{n(e)})}static waitFor(e){return new Rs((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Rs.resolve(!1);for(const n of e)t=t.next(e=>e?Rs.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Rs((n,r)=>{const s=e.length,i=new Array(s);let o=0;for(let a=0;a<s;a++){const l=a;t(e[l]).next(e=>{i[l]=e,++o,o===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Rs((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function Ms(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hs(e){return"IndexedDbTransactionError"===e.name}class Vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Vs.ue=-1;const Ks=-1;function qs(e){return null==e}function zs(e){return 0===e&&1/e==-1/0}function Ws(e){return"number"==typeof e&&Number.isInteger(e)&&!zs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Gs="\x01";function Js(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ys(t)),t=Xs(e.get(n),t);return Ys(t)}function Xs(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case Gs:n+="\x01\x11";break;default:n+=t}}return n}function Ys(e){return e+Gs+"\x01"}const Zs="remoteDocuments",$s="owner",ei="mutationQueues",ti="mutations";const ni="documentMutations",ri="remoteDocumentsV14",si="remoteDocumentGlobal",ii="targets",oi="targetDocuments",ai="targetGlobal",li="collectionParents",Ai="clientMetadata",ci="bundles",ui="namedQueries",di="indexConfiguration",hi="indexState",fi="indexEntries",pi="documentOverlays",gi="globals",mi=[ei,ti,ni,Zs,ii,$s,ai,oi,Ai,si,li,ci,ui],yi=[ei,ti,ni,ri,ii,$s,ai,oi,Ai,si,li,ci,ui,pi],vi=yi,wi=[...vi,di,hi,fi];function bi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ci(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Bi{constructor(e,t){this.comparator=e,this.root=t||Ni.EMPTY}insert(e,t){return new Bi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new Bi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ki(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ki(this.root,e,this.comparator,!1)}getReverseIterator(){return new ki(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ki(this.root,e,this.comparator,!0)}}class ki{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Ni.RED,this.left=null!=r?r:Ni.EMPTY,this.right=null!=s?s:Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Ni(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ni.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw zr(27949);return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw zr(57766)}get value(){throw zr(16141)}get color(){throw zr(16727)}get left(){throw zr(29726)}get right(){throw zr(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new Ni(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(e){this.comparator=e,this.data=new Bi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _i(this.data.getIterator())}getIteratorFrom(e){return new _i(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ei))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ei(this.comparator);return t.data=e,t}}class _i{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Si{constructor(e){this.fields=e,e.sort(ys.comparator)}static empty(){return new Si([])}unionWith(e){let t=new Ei(ys.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Fi extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Fi("Invalid base64 string: "+e):e}}(e);return new Ii(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ii(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return As(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const Ti=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(e){if(Gr(!!e,39018),"string"==typeof e){let t=0;const n=Ti.exec(e);if(Gr(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Li(e.seconds),nanos:Li(e.nanos)}}function Li(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ui(e){return"string"==typeof e?Ii.fromBase64String(e):Ii.fromUint8Array(e)}const Qi="server_timestamp",Pi="__type__",Oi="__previous_value__",Di="__local_write_time__";function Ri(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Pi])||void 0===n?void 0:n.stringValue)===Qi}function Mi(e){const t=e.mapValue.fields[Oi];return Ri(t)?Mi(t):t}function Hi(e){const t=ji(e.mapValue.fields[Di].timestampValue);return new Ss(t.seconds,t.nanos)}class Vi{constructor(e,t,n,r,s,i,o,a,l,A){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=A}}const Ki="(default)";class qi{constructor(e,t){this.projectId=e,this.database=t||Ki}static empty(){return new qi("","")}get isDefaultDatabase(){return this.database===Ki}isEqual(e){return e instanceof qi&&e.projectId===this.projectId&&e.database===this.database}}const zi="__type__",Wi="__max__",Gi={mapValue:{fields:{__type__:{stringValue:Wi}}}},Ji="__vector__",Xi="value";function Yi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ri(e)?4:fo(e)?9007199254740991:uo(e)?10:11:zr(28295,{value:e})}function Zi(e,t){if(e===t)return!0;const n=Yi(e);if(n!==Yi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hi(e).isEqual(Hi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ji(e.timestampValue),r=ji(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ui(e.bytesValue).isEqual(Ui(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Li(e.geoPointValue.latitude)===Li(t.geoPointValue.latitude)&&Li(e.geoPointValue.longitude)===Li(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Li(e.integerValue)===Li(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Li(e.doubleValue),r=Li(t.doubleValue);return n===r?zs(n)===zs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return hs(e.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bi(n)!==bi(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Zi(n[s],r[s])))return!1;return!0}(e,t);default:return zr(52216,{left:e})}}function $i(e,t){return void 0!==(e.values||[]).find(e=>Zi(e,t))}function eo(e,t){if(e===t)return 0;const n=Yi(e),r=Yi(t);if(n!==r)return As(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return As(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Li(e.integerValue||e.doubleValue),r=Li(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return to(e.timestampValue,t.timestampValue);case 4:return to(Hi(e),Hi(t));case 5:return cs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ui(e),r=Ui(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=As(n[s],r[s]);if(0!==e)return e}return As(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=As(Li(e.latitude),Li(t.latitude));return 0!==n?n:As(Li(e.longitude),Li(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return no(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const o=e.fields||{},a=t.fields||{},l=null===(n=o[Xi])||void 0===n?void 0:n.arrayValue,A=null===(r=a[Xi])||void 0===r?void 0:r.arrayValue,c=As((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==A?void 0:A.values)||void 0===i?void 0:i.length)||0);return 0!==c?c:no(l,A)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Gi.mapValue&&t===Gi.mapValue)return 0;if(e===Gi.mapValue)return 1;if(t===Gi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=cs(r[o],i[o]);if(0!==e)return e;const t=eo(n[r[o]],s[i[o]]);if(0!==t)return t}return As(r.length,i.length)}(e.mapValue,t.mapValue);default:throw zr(23264,{le:n})}}function to(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return As(e,t);const n=ji(e),r=ji(t),s=As(n.seconds,r.seconds);return 0!==s?s:As(n.nanos,r.nanos)}function no(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=eo(n[s],r[s]);if(e)return e}return As(n.length,r.length)}function ro(e){return so(e)}function so(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ji(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ui(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return vs.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=so(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(so(e.fields[s]));return n+"}"}(e.mapValue):zr(61005,{value:e})}function io(e){switch(Yi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mi(e);return t?16+io(t):16;case 5:return 2*e.stringValue.length;case 6:return Ui(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+io(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return xi(e.fields,(e,n)=>{t+=e.length+io(n)}),t}(e.mapValue);default:throw zr(13486,{value:e})}}function oo(e){return!!e&&"integerValue"in e}function ao(e){return!!e&&"arrayValue"in e}function lo(e){return!!e&&"nullValue"in e}function Ao(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function co(e){return!!e&&"mapValue"in e}function uo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[zi])||void 0===n?void 0:n.stringValue)===Ji}function ho(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xi(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ho(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ho(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fo(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Wi}class po{constructor(e){this.value=e}static empty(){return new po({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!co(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ho(t)}setAll(e){let t=ys.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=ho(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());co(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];co(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){xi(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new po(ho(this.value))}}function go(e){const t=[];return xi(e.fields,(e,n)=>{const r=new ys([e]);if(co(n)){const e=go(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Si(t)}class mo{constructor(e,t,n,r,s,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=o}static newInvalidDocument(e){return new mo(e,0,Fs.min(),Fs.min(),Fs.min(),po.empty(),0)}static newFoundDocument(e,t,n,r){return new mo(e,1,t,Fs.min(),n,r,0)}static newNoDocument(e,t){return new mo(e,2,t,Fs.min(),Fs.min(),po.empty(),0)}static newUnknownDocument(e,t){return new mo(e,3,t,Fs.min(),Fs.min(),po.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=po.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=po.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class yo{constructor(e,t){this.position=e,this.inclusive=t}}function vo(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(r=i.field.isKeyField()?vs.comparator(vs.fromName(o.referenceValue),n.key):eo(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function wo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Zi(e.position[n],t.position[n]))return!1;return!0}class bo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function xo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Co{}class Bo extends Co{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new To(e,t,n):"array-contains"===t?new Qo(e,n):"in"===t?new Po(e,n):"not-in"===t?new Oo(e,n):"array-contains-any"===t?new Do(e,n):new Bo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new jo(e,n):new Lo(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(eo(t,this.value)):null!==t&&Yi(this.value)===Yi(t)&&this.matchesComparison(eo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ko extends Co{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ko(e,t)}matches(e){return No(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function No(e){return"and"===e.op}function Eo(e){return _o(e)&&No(e)}function _o(e){for(const t of e.filters)if(t instanceof ko)return!1;return!0}function So(e){if(e instanceof Bo)return e.field.canonicalString()+e.op.toString()+ro(e.value);if(Eo(e))return e.filters.map(e=>So(e)).join(",");{const t=e.filters.map(e=>So(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Fo(e,t){return e instanceof Bo?function(e,t){return t instanceof Bo&&e.op===t.op&&e.field.isEqual(t.field)&&Zi(e.value,t.value)}(e,t):e instanceof ko?function(e,t){return t instanceof ko&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Fo(n,t.filters[r]),!0)}(e,t):void zr(19439)}function Io(e){return e instanceof Bo?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ro(e.value))}(e):e instanceof ko?function(e){return e.op.toString()+" {"+e.getFilters().map(Io).join(" ,")+"}"}(e):"Filter"}class To extends Bo{constructor(e,t,n){super(e,t,n),this.key=vs.fromName(n.referenceValue)}matches(e){const t=vs.comparator(e.key,this.key);return this.matchesComparison(t)}}class jo extends Bo{constructor(e,t){super(e,"in",t),this.keys=Uo("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Lo extends Bo{constructor(e,t){super(e,"not-in",t),this.keys=Uo("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Uo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>vs.fromName(e.referenceValue))}class Qo extends Bo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ao(t)&&$i(t.arrayValue,this.value)}}class Po extends Bo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$i(this.value.arrayValue,t)}}class Oo extends Bo{constructor(e,t){super(e,"not-in",t)}matches(e){if($i(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!$i(this.value.arrayValue,t)}}class Do extends Bo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ao(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>$i(this.value.arrayValue,e))}}class Ro{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=o,this.Pe=null}}function Mo(e){return new Ro(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ho(e){const t=Jr(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>So(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),qs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ro(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ro(e)).join(",")),t.Pe=e}return t.Pe}function Vo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!xo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fo(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wo(e.startAt,t.startAt)&&wo(e.endAt,t.endAt)}function Ko(e){return vs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class qo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=a,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function zo(e,t,n,r,s,i,o,a){return new qo(e,t,n,r,s,i,o,a)}function Wo(e){return new qo(e)}function Go(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Jo(e){return null!==e.collectionGroup}function Xo(e){const t=Jr(e);if(null===t.Te){t.Te=[];const e=new Set;for(const s of t.explicitOrderBy)t.Te.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ei(ys.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new bo(r,n))}),e.has(ys.keyField().canonicalString())||t.Te.push(new bo(ys.keyField(),n))}return t.Te}function Yo(e){const t=Jr(e);return t.Ie||(t.Ie=Zo(t,Xo(e))),t.Ie}function Zo(e,t){if("F"===e.limitType)return Mo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new bo(e.field,t)});const n=e.endAt?new yo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yo(e.startAt.position,e.startAt.inclusive):null;return Mo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function $o(e,t,n){return new qo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ea(e,t){return Vo(Yo(e),Yo(t))&&e.limitType===t.limitType}function ta(e){return"".concat(Ho(Yo(e)),"|lt:").concat(e.limitType)}function na(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Io(e)).join(", "),"]")),qs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ro(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ro(e)).join(",")),"Target(".concat(t,")")}(Yo(e)),"; limitType=").concat(e.limitType,")")}function ra(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):vs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Xo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=vo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xo(e),t))&&!(e.endAt&&!function(e,t,n){const r=vo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xo(e),t))}(e,t)}function sa(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ia(e){return(t,n)=>{let r=!1;for(const s of Xo(e)){const e=oa(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function oa(e,t,n){const r=e.field.isKeyField()?vs.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?eo(r,s):zr(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zr(19790,{direction:e.dir})}}class aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return Ci(this.inner)}size(){return this.innerSize}}const la=new Bi(vs.comparator);function Aa(){return la}const ca=new Bi(vs.comparator);function ua(){let e=ca;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function da(e){let t=ca;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ha(){return pa()}function fa(){return pa()}function pa(){return new aa(e=>e.toString(),(e,t)=>e.isEqual(t))}const ga=new Bi(vs.comparator),ma=new Ei(vs.comparator);function ya(){let e=ma;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const va=new Ei(As);function wa(){return va}function ba(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zs(t)?"-0":t}}function xa(e){return{integerValue:""+e}}function Ca(e,t){return Ws(t)?xa(t):ba(e,t)}class Ba{constructor(){this._=void 0}}function ka(e,t,n){return e instanceof _a?function(e,t){const n={fields:{[Pi]:{stringValue:Qi},[Di]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ri(t)&&(t=Mi(t)),t&&(n.fields[Oi]=t),{mapValue:n}}(n,t):e instanceof Sa?Fa(e,t):e instanceof Ia?Ta(e,t):function(e,t){const n=Ea(e,t),r=La(n)+La(e.Ee);return oo(n)&&oo(e.Ee)?xa(r):ba(e.serializer,r)}(e,t)}function Na(e,t,n){return e instanceof Sa?Fa(e,t):e instanceof Ia?Ta(e,t):n}function Ea(e,t){return e instanceof ja?function(e){return oo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class _a extends Ba{}class Sa extends Ba{constructor(e){super(),this.elements=e}}function Fa(e,t){const n=Ua(t);for(const r of e.elements)n.some(e=>Zi(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ia extends Ba{constructor(e){super(),this.elements=e}}function Ta(e,t){let n=Ua(t);for(const r of e.elements)n=n.filter(e=>!Zi(e,r));return{arrayValue:{values:n}}}class ja extends Ba{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function La(e){return Li(e.integerValue||e.doubleValue)}function Ua(e){return ao(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Qa{constructor(e,t){this.field=e,this.transform=t}}class Pa{constructor(e,t){this.version=e,this.transformResults=t}}class Oa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Oa}static exists(e){return new Oa(void 0,e)}static updateTime(e){return new Oa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Da(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ra{}function Ma(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ya(e.key,Oa.none()):new za(e.key,e.data,Oa.none());{const n=e.data,r=po.empty();let s=new Ei(ys.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new Wa(e.key,r,new Si(s.toArray()),Oa.none())}}function Ha(e,t,n){e instanceof za?function(e,t,n){const r=e.value.clone(),s=Ja(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wa?function(e,t,n){if(!Da(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ja(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Ga(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Va(e,t,n,r){return e instanceof za?function(e,t,n,r){if(!Da(e.precondition,t))return n;const s=e.value.clone(),i=Xa(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof Wa?function(e,t,n,r){if(!Da(e.precondition,t))return n;const s=Xa(e.fieldTransforms,r,t),i=t.data;return i.setAll(Ga(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Da(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ka(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Ea(r.transform,e||null);null!=s&&(null===n&&(n=po.empty()),n.set(r.field,s))}return n||null}function qa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&hs(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Sa&&t instanceof Sa||e instanceof Ia&&t instanceof Ia?hs(e.elements,t.elements,Zi):e instanceof ja&&t instanceof ja?Zi(e.Ee,t.Ee):e instanceof _a&&t instanceof _a}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class za extends Ra{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wa extends Ra{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ga(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ja(e,t,n){const r=new Map;Gr(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,Na(o,a,n[s]))}return r}function Xa(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,ka(e,i,t))}return r}class Ya extends Ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Za extends Ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $a{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ha(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Va(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Va(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=fa();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let o=this.applyToLocalView(i,s.mutatedFields);o=t.has(r.key)?null:o;const a=Ma(i,o);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(Fs.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ya())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,(e,t)=>qa(e,t))&&hs(this.baseMutations,e.baseMutations,(e,t)=>qa(e,t))}}class el{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Gr(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=ga;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new el(e,t,n,r)}}class tl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class nl{constructor(e,t){this.count=e,this.unchangedNames=t}}var rl,sl;function il(e){switch(e){case Xr.OK:return zr(64938);case Xr.CANCELLED:case Xr.UNKNOWN:case Xr.DEADLINE_EXCEEDED:case Xr.RESOURCE_EXHAUSTED:case Xr.INTERNAL:case Xr.UNAVAILABLE:case Xr.UNAUTHENTICATED:return!1;case Xr.INVALID_ARGUMENT:case Xr.NOT_FOUND:case Xr.ALREADY_EXISTS:case Xr.PERMISSION_DENIED:case Xr.FAILED_PRECONDITION:case Xr.ABORTED:case Xr.OUT_OF_RANGE:case Xr.UNIMPLEMENTED:case Xr.DATA_LOSS:return!0;default:return zr(15467,{code:e})}}function ol(e){if(void 0===e)return Vr("GRPC error has no .code"),Xr.UNKNOWN;switch(e){case rl.OK:return Xr.OK;case rl.CANCELLED:return Xr.CANCELLED;case rl.UNKNOWN:return Xr.UNKNOWN;case rl.DEADLINE_EXCEEDED:return Xr.DEADLINE_EXCEEDED;case rl.RESOURCE_EXHAUSTED:return Xr.RESOURCE_EXHAUSTED;case rl.INTERNAL:return Xr.INTERNAL;case rl.UNAVAILABLE:return Xr.UNAVAILABLE;case rl.UNAUTHENTICATED:return Xr.UNAUTHENTICATED;case rl.INVALID_ARGUMENT:return Xr.INVALID_ARGUMENT;case rl.NOT_FOUND:return Xr.NOT_FOUND;case rl.ALREADY_EXISTS:return Xr.ALREADY_EXISTS;case rl.PERMISSION_DENIED:return Xr.PERMISSION_DENIED;case rl.FAILED_PRECONDITION:return Xr.FAILED_PRECONDITION;case rl.ABORTED:return Xr.ABORTED;case rl.OUT_OF_RANGE:return Xr.OUT_OF_RANGE;case rl.UNIMPLEMENTED:return Xr.UNIMPLEMENTED;case rl.DATA_LOSS:return Xr.DATA_LOSS;default:return zr(39323,{code:e})}}(sl=rl||(rl={}))[sl.OK=0]="OK",sl[sl.CANCELLED=1]="CANCELLED",sl[sl.UNKNOWN=2]="UNKNOWN",sl[sl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sl[sl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sl[sl.NOT_FOUND=5]="NOT_FOUND",sl[sl.ALREADY_EXISTS=6]="ALREADY_EXISTS",sl[sl.PERMISSION_DENIED=7]="PERMISSION_DENIED",sl[sl.UNAUTHENTICATED=16]="UNAUTHENTICATED",sl[sl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sl[sl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sl[sl.ABORTED=10]="ABORTED",sl[sl.OUT_OF_RANGE=11]="OUT_OF_RANGE",sl[sl.UNIMPLEMENTED=12]="UNIMPLEMENTED",sl[sl.INTERNAL=13]="INTERNAL",sl[sl.UNAVAILABLE=14]="UNAVAILABLE",sl[sl.DATA_LOSS=15]="DATA_LOSS";let al=null;const ll=new yr([4294967295,4294967295],0);function Al(e){const t=as().encode(e),n=new vr;return n.update(t),new Uint8Array(n.digest())}function cl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new yr([n,r],0),new yr([s,i],0)]}class ul{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new dl("Invalid padding: ".concat(t));if(n<0)throw new dl("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new dl("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new dl("Invalid padding when bitmap length is 0: ".concat(t));this.fe=8*e.length-t,this.ge=yr.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(yr.fromNumber(n)));return 1===r.compare(ll)&&(r=new yr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Al(e),[n,r]=cl(t);for(let s=0;s<this.hashCount;s++){const e=this.pe(n,r,s);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new ul(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.fe)return;const t=Al(e),[n,r]=cl(t);for(let s=0;s<this.hashCount;s++){const e=this.pe(n,r,s);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hl{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,fl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hl(Fs.min(),r,new Bi(As),Aa(),ya())}}class fl{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new fl(n,t,ya(),ya(),ya())}}class pl{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class gl{constructor(e,t){this.targetId=e,this.De=t}}class ml{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ii.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class yl{constructor(){this.ve=0,this.Ce=bl(),this.Fe=Ii.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ya(),t=ya(),n=ya();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zr(38017,{changeType:s})}}),new fl(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=bl()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Gr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class vl{constructor(e){this.We=e,this.Ge=new Map,this.ze=Aa(),this.je=wl(),this.Je=wl(),this.He=new Bi(As)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:zr(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const s=r.target;if(Ko(s))if(0===n){const e=new vs(s.path);this.Xe(t,e,mo.newNoDocument(e,Fs.min()))}else Gr(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),s=n?this.ut(n,e,r):1;if(0!==s){this.rt(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==al||al.ct(function(e,t,n,r,s){var i,o,a,l,A,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===s,hashCount:null!==(i=null==d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(A=null==d?void 0:d.bits)||void 0===A?void 0:A.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.De,this.We.lt(),n,s))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,o;try{i=Ui(n).toUint8Array()}catch(e){if(e instanceof Fi)return Kr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ul(i,r,s)}catch(e){return Kr(e instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.fe?null:o}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.We.lt(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const s=this.st(r);if(s){if(n.current&&Ko(s.target)){const t=new vs(s.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,mo.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=ya();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new hl(e,t,this.He,this.ze,n);return this.ze=Aa(),this.je=wl(),this.Je=wl(),this.He=new Bi(As),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new yl,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ei(As),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ei(As),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||Hr("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new yl),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function wl(){return new Bi(vs.comparator)}function bl(){return new Bi(vs.comparator)}const xl={asc:"ASCENDING",desc:"DESCENDING"},Cl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bl={and:"AND",or:"OR"};class kl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nl(e,t){return e.useProto3Json||qs(t)?t:{value:t}}function El(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function _l(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sl(e,t){return El(e,t.toTimestamp())}function Fl(e){return Gr(!!e,49232),Fs.fromTimestamp(function(e){const t=ji(e);return new Ss(t.seconds,t.nanos)}(e))}function Il(e,t){return Tl(e,t).canonicalString()}function Tl(e,t){const n=function(e){return new gs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function jl(e){const t=gs.fromString(e);return Gr($l(t),10190,{key:t.toString()}),t}function Ll(e,t){return Il(e.databaseId,t.path)}function Ul(e,t){const n=jl(t);if(n.get(1)!==e.databaseId.projectId)throw new Yr(Xr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yr(Xr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vs(Dl(n))}function Ql(e,t){return Il(e.databaseId,t)}function Pl(e){const t=jl(e);return 4===t.length?gs.emptyPath():Dl(t)}function Ol(e){return new gs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dl(e){return Gr(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Rl(e,t,n){return{name:Ll(e,t),fields:n.value.mapValue.fields}}function Ml(e,t){let n;if(t instanceof za)n={update:Rl(e,t.key,t.value)};else if(t instanceof Ya)n={delete:Ll(e,t.key)};else if(t instanceof Wa)n={update:Rl(e,t.key,t.data),updateMask:Zl(t.fieldMask)};else{if(!(t instanceof Za))return zr(16599,{Rt:t.type});n={verify:Ll(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof _a)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ia)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ja)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw zr(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zr(27497)}(e,t.precondition)),n}function Hl(e,t){return{documents:[Ql(e,t.path)]}}function Vl(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ql(e,s);const i=function(e){if(0!==e.length)return Yl(ko.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Jl(e.field),direction:zl(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Nl(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:s}}function Kl(e){let t=Pl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Gr(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=ql(e);return t instanceof ko&&Eo(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new bo(Xl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,qs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new yo(n,t)}(n.startAt));let A=null;return n.endAt&&(A=function(e){const t=!e.before,n=e.values||[];return new yo(n,t)}(n.endAt)),zo(t,s,o,i,a,"F",l,A)}function ql(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xl(e.unaryFilter.field);return Bo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xl(e.unaryFilter.field);return Bo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xl(e.unaryFilter.field);return Bo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xl(e.unaryFilter.field);return Bo.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zr(61313);default:return zr(60726)}}(e):void 0!==e.fieldFilter?function(e){return Bo.create(Xl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zr(58110);default:return zr(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ko.create(e.compositeFilter.filters.map(e=>ql(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return zr(1026)}}(e.compositeFilter.op))}(e):zr(30097,{filter:e})}function zl(e){return xl[e]}function Wl(e){return Cl[e]}function Gl(e){return Bl[e]}function Jl(e){return{fieldPath:e.canonicalString()}}function Xl(e){return ys.fromServerFormat(e.fieldPath)}function Yl(e){return e instanceof Bo?function(e){if("=="===e.op){if(Ao(e.value))return{unaryFilter:{field:Jl(e.field),op:"IS_NAN"}};if(lo(e.value))return{unaryFilter:{field:Jl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ao(e.value))return{unaryFilter:{field:Jl(e.field),op:"IS_NOT_NAN"}};if(lo(e.value))return{unaryFilter:{field:Jl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(e.field),op:Wl(e.op),value:e.value}}}(e):e instanceof ko?function(e){const t=e.getFilters().map(e=>Yl(e));return 1===t.length?t[0]:{compositeFilter:{op:Gl(e.op),filters:t}}}(e):zr(54877,{filter:e})}function Zl(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $l(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class eA{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fs.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fs.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ii.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new eA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new eA(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tA{constructor(e){this.gt=e}}function nA(e){const t=Kl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$o(t,t.limit,"L"):t}class rA{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Li(e.integerValue));else if("doubleValue"in e){const n=Li(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),zs(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=ji(n)),t.Mt("".concat(n.seconds||"")),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ui(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?fo(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):uo(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):zr(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const s=e.fields||{};this.Ct(t,53);const i=Xi,o=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(Li(o)),this.xt(i,t),this.Dt(s[i],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),vs.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}rA.Ut=new rA;class sA{constructor(){this.Dn=new iA}addToCollectionParentIndex(e,t){return this.Dn.add(t),Rs.resolve()}getCollectionParents(e,t){return Rs.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Rs.resolve()}deleteFieldIndex(e,t){return Rs.resolve()}deleteAllFieldIndexes(e){return Rs.resolve()}createTargetIndexes(e,t){return Rs.resolve()}getDocumentsMatchingTarget(e,t){return Rs.resolve(null)}getIndexType(e,t){return Rs.resolve(0)}getFieldIndexes(e,t){return Rs.resolve([])}getNextCollectionGroupToUpdate(e){return Rs.resolve(null)}getMinOffset(e,t){return Rs.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return Rs.resolve(Us.min())}updateCollectionGroup(e,t,n){return Rs.resolve()}updateIndexEntries(e,t){return Rs.resolve()}}class iA{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ei(gs.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ei(gs.comparator)).toArray()}}new Uint8Array(0);const oA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aA=41943040;class lA{static withCacheSize(e){return new lA(e,lA.DEFAULT_COLLECTION_PERCENTILE,lA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}lA.DEFAULT_COLLECTION_PERCENTILE=10,lA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lA.DEFAULT=new lA(aA,lA.DEFAULT_COLLECTION_PERCENTILE,lA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lA.DISABLED=new lA(-1,0,0);class AA{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new AA(0)}static ur(){return new AA(-1)}}const cA="LruGarbageCollector",uA=1048576;function dA(e,t){let[n,r]=e,[s,i]=t;const o=As(n,s);return 0===o?As(r,i):o}class hA{constructor(e){this.Tr=e,this.buffer=new Ei(dA),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();dA(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fA{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){Hr(cA,"Garbage collection scheduled in ".concat(e,"ms")),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Hs(e)?Hr(cA,"Ignoring IndexedDB error during garbage collection: ",e):await Ds(e)}await this.Rr(3e5)})}}class pA{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Rs.resolve(Vs.ue);const n=new hA(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hr("LruGarbageCollector","Garbage collection skipped; disabled"),Rs.resolve(oA)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Hr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),oA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,s,i,o,a,l;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Hr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Mr()<=xr.$b.DEBUG&&Hr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-A,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-A,"ms")),Rs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function gA(e,t){return new pA(e,t)}class mA{constructor(){this.changes=new aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Rs.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vA{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Va(n.mutation,e,Si.empty(),Ss.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ya()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ya();const r=ha();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ua();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ha();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ya()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=Aa();const i=pa(),o=pa();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Wa)?s=s.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),Va(o.mutation,t,o.mutation.getFieldMask(),Ss.now())):i.set(t.key,Si.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new yA(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=pa();let r=new Bi((e,t)=>e-t),s=ya();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let o=n.get(e)||Si.empty();o=s.applyToLocalView(i,o),n.set(e,o);const a=(r.get(s.batchId)||ya()).add(e);r=r.insert(s.batchId,a)})}).next(()=>{const i=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,A=fa();l.forEach(e=>{if(!s.has(e)){const r=Ma(t.get(e),n.get(e));null!==r&&A.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,a,A))}return Rs.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return vs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Rs.resolve(ha());let o=Is,a=s;return i.next(t=>Rs.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),s.get(t)?Rs.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,a,t,ya())).next(e=>({batchId:o,changes:da(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new vs(t)).next(e=>{let t=ua();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=ua();return this.indexManager.getCollectionParents(e,s).next(o=>Rs.forEach(o,o=>{const a=function(e,t){return new qo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,mo.newInvalidDocument(r)))});let n=ua();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&Va(i.mutation,r,Si.empty(),Ss.now()),ra(t,r)&&(n=n.insert(e,r))}),n})}}class wA{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Rs.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Fl(e.createTime)}}(t)),Rs.resolve()}getNamedQuery(e,t){return Rs.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:nA(e.bundledQuery),readTime:Fl(e.readTime)}}(t)),Rs.resolve()}}class bA{constructor(){this.overlays=new Bi(vs.comparator),this.kr=new Map}getOverlay(e,t){return Rs.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ha();return Rs.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Rs.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Rs.resolve()}getOverlaysForCollection(e,t,n){const r=ha(),s=t.length+1,i=new vs(t.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const e=o.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Rs.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Bi((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=ha(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=ha(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Rs.resolve(o)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new tl(t,n));let s=this.kr.get(t);void 0===s&&(s=ya(),this.kr.set(t,s)),this.kr.set(t,s.add(n.key))}}class xA{constructor(){this.sessionToken=Ii.EMPTY_BYTE_STRING}getSessionToken(e){return Rs.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Rs.resolve()}}class CA{constructor(){this.qr=new Ei(BA.Qr),this.$r=new Ei(BA.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new BA(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new BA(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new vs(new gs([])),n=new BA(t,e),r=new BA(t,e+1),s=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),s.push(e.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new vs(new gs([])),n=new BA(t,e),r=new BA(t,e+1);let s=ya();return this.$r.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new BA(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class BA{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return vs.comparator(e.key,t.key)||As(e.Hr,t.Hr)}static Ur(e,t){return As(e.Hr,t.Hr)||vs.comparator(e.key,t.key)}}class kA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ei(BA.Qr)}checkEmpty(e){return Rs.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new $a(s,t,n,r);this.mutationQueue.push(i);for(const o of r)this.Yr=this.Yr.add(new BA(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Rs.resolve(i)}lookupMutationBatch(e,t){return Rs.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),s=r<0?0:r;return Rs.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Rs.resolve(0===this.mutationQueue.length?Ks:this.er-1)}getAllMutationBatches(e){return Rs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new BA(t,0),r=new BA(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);s.push(t)}),Rs.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ei(As);return t.forEach(e=>{const t=new BA(e,0),r=new BA(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Rs.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;vs.isDocumentKey(s)||(s=s.child(""));const i=new BA(new vs(s),0);let o=new Ei(As);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)},i),Rs.resolve(this.ei(o))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Gr(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Rs.forEach(t.mutations,r=>{const s=new BA(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new BA(t,0),r=this.Yr.firstAfterOrEqual(n);return Rs.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Rs.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class NA{constructor(e){this.ni=e,this.docs=new Bi(vs.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Rs.resolve(n?n.document.mutableCopy():mo.newInvalidDocument(t))}getEntries(e,t){let n=Aa();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():mo.newInvalidDocument(e))}),Rs.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Aa();const i=t.path,o=new vs(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Qs(Ls(o),n)<=0||(r.has(o.key)||ra(t,o))&&(s=s.insert(o.key,o.mutableCopy()))}return Rs.resolve(s)}getAllFromCollectionGroup(e,t,n,r){zr(9500)}ri(e,t){return Rs.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new EA(this)}getSize(e){return Rs.resolve(this.size)}}class EA extends mA{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Rs.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class _A{constructor(e){this.persistence=e,this.ii=new aa(e=>Ho(e),Vo),this.lastRemoteSnapshotVersion=Fs.min(),this.highestTargetId=0,this.si=0,this.oi=new CA,this.targetCount=0,this._i=AA.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Rs.resolve()}getLastRemoteSnapshotVersion(e){return Rs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rs.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Rs.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Rs.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new AA(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Rs.resolve()}updateTargetData(e,t){return this.hr(t),Rs.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Rs.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.ii.forEach((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ii.delete(i),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Rs.waitFor(s).next(()=>r)}getTargetCount(e){return Rs.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Rs.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Rs.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Rs.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Rs.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Rs.resolve(n)}containsKey(e,t){return Rs.resolve(this.oi.containsKey(t))}}class SA{constructor(e,t){this.ai={},this.overlays={},this.ui=new Vs(0),this.ci=!1,this.ci=!0,this.li=new xA,this.referenceDelegate=e(this),this.hi=new _A(this),this.indexManager=new sA,this.remoteDocumentCache=function(e){return new NA(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new tA(t),this.Ti=new wA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new kA(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){Hr("MemoryPersistence","Starting transaction:",e);const r=new FA(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Rs.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class FA extends Os{constructor(e){super(),this.currentSequenceNumber=e}}class IA{constructor(e){this.persistence=e,this.Ai=new CA,this.Ri=null}static Vi(e){return new IA(e)}get mi(){if(this.Ri)return this.Ri;throw zr(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Rs.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Rs.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Rs.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rs.forEach(this.mi,n=>{const r=vs.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,Fs.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Rs.or([()=>Rs.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class TA{constructor(e,t){this.persistence=e,this.gi=new aa(e=>Js(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=gA(this,t)}static Vi(e,t){return new TA(e,t)}Ii(){}di(e){return Rs.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Rs.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Rs.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,s.removeEntry(r,Fs.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Rs.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Rs.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Rs.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Rs.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=io(e.data.value)),t}Sr(e,t,n){return Rs.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Rs.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jA{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=ya(),r=ya();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new jA(e,t.fromCache,n,r)}}class LA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UA{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(0,Cr.nr)()?8:Ms((0,Cr.ZQ)())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ps(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ys(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new LA;return this.ws(e,t,n).next(r=>{if(s.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>s.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(Mr()<=xr.$b.DEBUG&&Hr("QueryEngine","SDK will not create cache indexes for query:",na(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Rs.resolve()):(Mr()<=xr.$b.DEBUG&&Hr("QueryEngine","Query:",na(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(Mr()<=xr.$b.DEBUG&&Hr("QueryEngine","The SDK decides to create cache indexes for query:",na(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yo(t))):Rs.resolve())}ps(e,t){if(Go(t))return Rs.resolve(null);let n=Yo(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=$o(t,null,"F"),n=Yo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=ya(...r);return this.gs.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.bs(t,r);return this.Ds(t,i,s,n.readTime)?this.ps(e,$o(t,null,"F")):this.vs(e,i,t,n)}))})))}ys(e,t,n,r){return Go(t)||r.isEqual(Fs.min())?Rs.resolve(null):this.gs.getDocuments(e,n).next(s=>{const i=this.bs(t,s);return this.Ds(t,i,n,r)?Rs.resolve(null):(Mr()<=xr.$b.DEBUG&&Hr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),na(t)),this.vs(e,i,t,js(r,Is)).next(e=>e))})}bs(e,t){let n=new Ei(ia(e));return t.forEach((t,r)=>{ra(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,n){return Mr()<=xr.$b.DEBUG&&Hr("QueryEngine","Using full collection scan to execute query:",na(t)),this.gs.getDocumentsMatchingQuery(e,t,Us.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const QA="LocalStore";class PA{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new Bi(As),this.Ms=new aa(e=>Ho(e),Vo),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vA(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function OA(e,t,n,r){return new PA(e,t,n,r)}async function DA(e,t){const n=Jr(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let o=ya();for(const e of r){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Bs:e,removedBatchIds:s,addedBatchIds:i}))})})}function RA(e){const t=Jr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function MA(e,t,n){let r=ya(),s=ya();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Aa();return n.forEach((n,i)=>{const o=e.get(n);i.isFoundDocument()!==o.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Fs.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Hr(QA,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)}),{Ls:r,ks:s}})}function HA(e,t){const n=Jr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Ks),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function VA(e,t){const n=Jr(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(s=>s?(r=s,Rs.resolve(r)):n.hi.allocateTargetId(e).next(s=>(r=new eA(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function KA(e,t,n){const r=Jr(e),s=r.Fs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Hs(e))throw e;Hr(QA,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Fs=r.Fs.remove(t),r.Ms.delete(s.target)}function qA(e,t,n){const r=Jr(e);let s=Fs.min(),i=ya();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Jr(e),s=r.Ms.get(n);return void 0!==s?Rs.resolve(r.Fs.get(s)):r.hi.getTargetData(t,n)}(r,e,Yo(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?s:Fs.min(),n?i:ya())).next(e=>(zA(r,sa(t),e),{documents:e,qs:i})))}function zA(e,t,n){let r=e.xs.get(t)||Fs.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class WA{constructor(){this.activeTargetIds=wa()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GA{constructor(){this.Fo=new WA,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new WA,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JA{xo(e){}shutdown(){}}const XA="ConnectivityMonitor";class YA{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Hr(XA,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Hr(XA,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ZA=null;function $A(){return null===ZA?ZA=268435456+Math.round(2147483648*Math.random()):ZA++,"0x"+ZA.toString(16)}const ec="RestConnection",tc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nc{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo="projects/".concat(n,"/databases/").concat(r),this.Ko=this.databaseId.database===Ki?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Wo(e,t,n,r,s){const i=$A(),o=this.Go(e,t.toUriEncodedString());Hr(ec,"Sending RPC '".concat(e,"' ").concat(i,":"),o,n);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(a,r,s);const{host:l}=new URL(o),A=(0,Cr.zJ)(l);return this.jo(e,o,a,n,A).then(t=>(Hr(ec,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw Kr(ec,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",o,"request:",n),t})}Jo(e,t,n,r,s,i){return this.Wo(e,t,n,r,s)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=tc[e];return"".concat(this.$o,"/v1/").concat(t,":").concat(n)}terminate(){}}class rc{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const sc="WebChannelConnection";class ic extends nc{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,s){const i=$A();return new Promise((s,o)=>{const a=new Nr;a.setWithCredentials(!0),a.listenOnce(_r.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Sr.NO_ERROR:const t=a.getResponseJson();Hr(sc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Sr.TIMEOUT:Hr(sc,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Yr(Xr.DEADLINE_EXCEEDED,"Request time out"));break;case Sr.HTTP_ERROR:const n=a.getStatus();if(Hr(sc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xr).indexOf(t)>=0?t:Xr.UNKNOWN}(t.status);o(new Yr(e,t.message))}else o(new Yr(Xr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Yr(Xr.UNAVAILABLE,"Connection failed."));break;default:zr(9055,{c_:e,streamId:i,l_:a.getLastErrorCode(),h_:a.getLastError()})}}finally{Hr(sc,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Hr(sc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}P_(e,t,n){const r=$A(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=jr(),o=Tr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.zo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const A=s.join("");Hr(sc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(A),a);const c=i.createWebChannel(A,a);this.T_(c);let u=!1,d=!1;const h=new rc({Ho:t=>{d?Hr(sc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(u||(Hr(sc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),u=!0),Hr(sc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Yo:()=>c.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(c,Er.EventType.OPEN,()=>{d||(Hr(sc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),h.s_())}),f(c,Er.EventType.CLOSE,()=>{d||(d=!0,Hr(sc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.__(),this.I_(c))}),f(c,Er.EventType.ERROR,t=>{d||(d=!0,Kr(sc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),h.__(new Yr(Xr.UNAVAILABLE,"The operation could not be completed")))}),f(c,Er.EventType.MESSAGE,t=>{var n;if(!d){const s=t.data[0];Gr(!!s,16349);const i=s,o=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(o){Hr(sc,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=rl[e];if(void 0!==t)return ol(t)}(t),s=o.message;void 0===n&&(n=Xr.INTERNAL,s="Unknown error status: "+t+" with message "+o.message),d=!0,h.__(new Yr(n,s)),c.close()}else Hr(sc,"RPC '".concat(e,"' stream ").concat(r," received:"),s),h.a_(s)}}),f(o,Ir.STAT_EVENT,t=>{t.stat===Fr.PROXY?Hr(sc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Fr.NOPROXY&&Hr(sc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{h.o_()},0),h}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function oc(){return"undefined"!=typeof document?document:null}function ac(e){return new kl(e,!0)}class lc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&Hr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.R_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const Ac="PersistentStream";class cc{constructor(e,t,n,r,s,i,o,a){this.Fi=e,this.w_=n,this.S_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new lc(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===Xr.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Xr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new Yr(Xr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Hr(Ac,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Hr(Ac,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uc extends cc{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zr(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Gr(void 0===t||"string"==typeof t,58123),Ii.fromBase64String(t||"")):(Gr(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ii.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Xr.UNKNOWN:ol(e.code);return new Yr(t,e.message||"")}(o);n=new ml(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ul(e,r.document.name),i=Fl(r.document.updateTime),o=r.document.createTime?Fl(r.document.createTime):Fs.min(),a=new po({mapValue:{fields:r.document.fields}}),l=mo.newFoundDocument(s,i,o,a),A=r.targetIds||[],c=r.removedTargetIds||[];n=new pl(A,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Ul(e,r.document),i=r.readTime?Fl(r.readTime):Fs.min(),o=mo.newNoDocument(s,i),a=r.removedTargetIds||[];n=new pl([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Ul(e,r.document),i=r.removedTargetIds||[];n=new pl([],i,s,null)}else{if(!("filter"in t))return zr(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new nl(r,s),o=e.targetId;n=new gl(o,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Fs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Fs.min():t.readTime?Fl(t.readTime):Fs.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Ol(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ko(r)?{documents:Hl(e,r)}:{query:Vl(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=_l(e,t.resumeToken);const r=Nl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Fs.min())>0){n.readTime=El(e,t.snapshotVersion.toTimestamp());const r=Nl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zr(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Ol(this.serializer),t.removeTarget=e,this.k_(t)}}class dc extends cc{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Gr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gr(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){Gr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(Gr(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Fl(e.updateTime):Fl(t);return n.isEqual(Fs.min())&&(n=Fl(t)),new Pa(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Fl(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Ol(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ml(this.serializer,e))};this.k_(t)}}class hc{}class fc extends hc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new Yr(Xr.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,o]=s;return this.connection.Wo(e,Tl(t,n),r,i,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Xr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yr(Xr.UNKNOWN,e.toString())})}Jo(e,t,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Jo(e,Tl(t,n),r,o,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Xr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Yr(Xr.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class pc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this._a?(Vr(t),this._a=!1):Hr("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const gc="RemoteStore";class mc{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Nc(this)&&(Hr(gc,"Restarting streams for network reachability change."),await async function(e){const t=Jr(e);t.Ia.add(4),await vc(t),t.Aa.set("Unknown"),t.Ia.delete(4),await yc(t)}(this))})}),this.Aa=new pc(n,r)}}async function yc(e){if(Nc(e))for(const t of e.da)await t(!0)}async function vc(e){for(const t of e.da)await t(!1)}function wc(e,t){const n=Jr(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),kc(n)?Bc(n):qc(n).x_()&&xc(n,t))}function bc(e,t){const n=Jr(e),r=qc(n);n.Ta.delete(t),r.x_()&&Cc(n,t),0===n.Ta.size&&(r.x_()?r.B_():Nc(n)&&n.Aa.set("Unknown"))}function xc(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Fs.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qc(e).H_(t)}function Cc(e,t){e.Ra.$e(t),qc(e).Y_(t)}function Bc(e){e.Ra=new vl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),qc(e).start(),e.Aa.aa()}function kc(e){return Nc(e)&&!qc(e).M_()&&e.Ta.size>0}function Nc(e){return 0===Jr(e).Ia.size}function Ec(e){e.Ra=void 0}async function _c(e){e.Aa.set("Online")}async function Sc(e){e.Ta.forEach((t,n)=>{xc(e,t)})}async function Fc(e,t){Ec(e),kc(e)?(e.Aa.la(t),Bc(e)):e.Aa.set("Unknown")}async function Ic(e,t,n){if(e.Aa.set("Online"),t instanceof ml&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){Hr(gc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Tc(e,n)}else if(t instanceof pl?e.Ra.Ye(t):t instanceof gl?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Fs.min()))try{const t=await RA(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ta.get(r);s&&e.Ta.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(Ii.EMPTY_BYTE_STRING,r.snapshotVersion)),Cc(e,t);const s=new eA(r.target,t,n,r.sequenceNumber);xc(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Hr(gc,"Failed to raise snapshot:",t),await Tc(e,t)}}async function Tc(e,t,n){if(!Hs(t))throw t;e.Ia.add(1),await vc(e),e.Aa.set("Offline"),n||(n=()=>RA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Hr(gc,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await yc(e)})}function jc(e,t){return t().catch(n=>Tc(e,n,t))}async function Lc(e){const t=Jr(e),n=zc(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Ks;for(;Uc(t);)try{const e=await HA(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Qc(t,e)}catch(e){await Tc(t,e)}Pc(t)&&Oc(t)}function Uc(e){return Nc(e)&&e.Pa.length<10}function Qc(e,t){e.Pa.push(t);const n=zc(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Pc(e){return Nc(e)&&!zc(e).M_()&&e.Pa.length>0}function Oc(e){zc(e).start()}async function Dc(e){zc(e).na()}async function Rc(e){const t=zc(e);for(const n of e.Pa)t.X_(n.mutations)}async function Mc(e,t,n){const r=e.Pa.shift(),s=el.from(r,t,n);await jc(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Lc(e)}async function Hc(e,t){t&&zc(e).Z_&&await async function(e,t){if(function(e){return il(e)&&e!==Xr.ABORTED}(t.code)){const n=e.Pa.shift();zc(e).N_(),await jc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Lc(e)}}(e,t),Pc(e)&&Oc(e)}async function Vc(e,t){const n=Jr(e);n.asyncQueue.verifyOperationInProgress(),Hr(gc,"RemoteStore received new credentials");const r=Nc(n);n.Ia.add(3),await vc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await yc(n)}async function Kc(e,t){const n=Jr(e);t?(n.Ia.delete(2),await yc(n)):t||(n.Ia.add(2),await vc(n),n.Aa.set("Unknown"))}function qc(e){return e.Va||(e.Va=function(e,t,n){const r=Jr(e);return r.ia(),new uc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:_c.bind(null,e),e_:Sc.bind(null,e),n_:Fc.bind(null,e),J_:Ic.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),kc(e)?Bc(e):e.Aa.set("Unknown")):(await e.Va.stop(),Ec(e))})),e.Va}function zc(e){return e.ma||(e.ma=function(e,t,n){const r=Jr(e);return r.ia(),new dc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Dc.bind(null,e),n_:Hc.bind(null,e),ea:Rc.bind(null,e),ta:Mc.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Lc(e)):(await e.ma.stop(),e.Pa.length>0&&(Hr(gc,"Stopping write stream with ".concat(e.Pa.length," pending writes")),e.Pa=[]))})),e.ma}class Wc{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,o=new Wc(e,t,i,r,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yr(Xr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gc(e,t){if(Vr("AsyncQueue","".concat(t,": ").concat(e)),Hs(e))return new Yr(Xr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Jc{static emptySet(e){return new Jc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||vs.comparator(t.key,n.key):(e,t)=>vs.comparator(e.key,t.key),this.keyedMap=ua(),this.sortedSet=new Bi(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Jc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Xc{constructor(){this.fa=new Bi(vs.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):zr(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Yc{constructor(e,t,n,r,s,i,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Yc(e,t,Jc.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ea(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Zc{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class $c{constructor(){this.queries=eu(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=Jr(e),r=n.queries;n.queries=eu(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new Yr(Xr.ABORTED,"Firestore shutting down"))}}function eu(){return new aa(e=>ta(e),ea)}async function tu(e,t){const n=Jr(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Sa()&&t.ba()&&(r=2):(i=new Zc,r=t.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Gc(e,"Initialization of query '".concat(na(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.wa.push(t),t.va(n.onlineState),i.ya&&t.Ca(i.ya)&&iu(n)}async function nu(e,t){const n=Jr(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.wa.indexOf(t);e>=0&&(i.wa.splice(e,1),0===i.wa.length?s=t.ba()?0:1:!i.Sa()&&t.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ru(e,t){const n=Jr(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(s)&&(r=!0);t.ya=s}}r&&iu(n)}function su(e,t,n){const r=Jr(e),s=r.queries.get(t);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(t)}function iu(e){e.Da.forEach(e=>{e.next()})}var ou,au;(au=ou||(ou={})).Fa="default",au.Cache="cache";class lu{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Yc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ou.Cache}}class Au{constructor(e){this.key=e}}class cu{constructor(e){this.key=e}}class uu{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ya(),this.mutatedKeys=ya(),this.Xa=ia(e),this.eu=new Jc(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Xc,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const A=r.get(e),c=ra(this.query,t)?t:null,u=!!A&&this.mutatedKeys.has(A.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let h=!1;A&&c?A.data.isEqual(c.data)?u!==d&&(n.track({type:3,doc:c}),h=!0):this.iu(A,c)||(n.track({type:2,doc:c}),h=!0,(a&&this.Xa(c,a)>0||l&&this.Xa(c,l)<0)&&(o=!0)):!A&&c?(n.track({type:0,doc:c}),h=!0):A&&!c&&(n.track({type:1,doc:A}),h=!0,(a||l)&&(o=!0)),h&&(c?(i=i.add(c),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{eu:i,ru:n,Ds:o,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const i=e.ru.pa();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zr(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const o=t&&!r?this.ou():[],a=0===this.Za.size&&this.current&&!r?1:0,l=a!==this.Ya;return this.Ya=a,0!==i.length||l?{snapshot:new Yc(this.query,e.eu,s,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Xc,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ya(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new cu(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new Au(n))}),t}uu(e){this.Ha=e.qs,this.Za=ya();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Yc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const du="SyncEngine";class hu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class fu{constructor(e){this.key=e,this.lu=!1}}class pu{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.hu={},this.Pu=new aa(e=>ta(e),ea),this.Tu=new Map,this.Iu=new Set,this.du=new Bi(vs.comparator),this.Eu=new Map,this.Au=new CA,this.Ru={},this.Vu=new Map,this.mu=AA.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function gu(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Pu(e);let s;const i=r.Pu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await yu(r,t,n,!0),s}async function mu(e,t){const n=Pu(e);await yu(n,t,!0,!1)}async function yu(e,t,n,r){const s=await VA(e.localStore,Yo(t)),i=s.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await vu(e,t,i,"current"===o,s.resumeToken)),e.isPrimaryClient&&n&&wc(e.remoteStore,s),a}async function vu(e,t,n,r,s){e.gu=(t,n,r)=>async function(e,t,n,r){let s=t.view.nu(n);s.Ds&&(s=await qA(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,s)}));const i=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,i,o);return Iu(e,t.targetId,a._u),a.snapshot}(e,t,n,r);const i=await qA(e.localStore,t,!0),o=new uu(t,i.qs),a=o.nu(i.documents),l=fl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),A=o.applyChanges(a,e.isPrimaryClient,l);Iu(e,n,A._u);const c=new hu(t,n,o);return e.Pu.set(t,c),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),A.snapshot}async function wu(e,t,n){const r=Jr(e),s=r.Pu.get(t),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(e=>!ea(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await KA(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&bc(r.remoteStore,s.targetId),Su(r,s.targetId)}).catch(Ds)):(Su(r,s.targetId),await KA(r.localStore,s.targetId,!0))}async function bu(e,t){const n=Jr(e),r=n.Pu.get(t),s=n.Tu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bc(n.remoteStore,r.targetId))}async function xu(e,t){const n=Jr(e);try{const e=await function(e,t){const n=Jr(e),r=t.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const o=[];t.targetChanges.forEach((i,a)=>{const l=s.get(a);if(!l)return;o.push(n.hi.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.hi.addMatchingKeys(e,i.addedDocuments,a)));let A=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?A=A.withResumeToken(Ii.EMPTY_BYTE_STRING,Fs.min()).withLastLimboFreeSnapshotVersion(Fs.min()):i.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(i.resumeToken,r)),s=s.insert(a,A),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,A,i)&&o.push(n.hi.updateTargetData(e,A))});let a=Aa(),l=ya();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(MA(e,i,t.documentUpdates).next(e=>{a=e.Ls,l=e.ks})),!r.isEqual(Fs.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Rs.waitFor(o).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Fs=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(Gr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?Gr(r.lu,14607):e.removedDocuments.size>0&&(Gr(r.lu,42227),r.lu=!1))}),await Lu(n,e,t)}catch(e){await Ds(e)}}function Cu(e,t,n){const r=Jr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Jr(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.wa)s.va(t)&&(r=!0)}),r&&iu(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Bu(e,t,n){const r=Jr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Eu.get(t),i=s&&s.key;if(i){let e=new Bi(vs.comparator);e=e.insert(i,mo.newNoDocument(i,Fs.min()));const n=ya().add(i),s=new hl(Fs.min(),new Map,new Bi(As),e,n);await xu(r,s),r.du=r.du.remove(i),r.Eu.delete(t),ju(r)}else await KA(r.localStore,t,!1).then(()=>Su(r,t,n)).catch(Ds)}async function ku(e,t){const n=Jr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Jr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let o=Rs.resolve();return i.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Gr(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ya();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);_u(n,r,null),Eu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lu(n,e)}catch(e){await Ds(e)}}async function Nu(e,t,n){const r=Jr(e);try{const e=await function(e,t){const n=Jr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Gr(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);_u(r,t,n),Eu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Lu(r,e)}catch(n){await Ds(n)}}function Eu(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function _u(e,t,n){const r=Jr(e);let s=r.Ru[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Ru[r.currentUser.toKey()]=s}}function Su(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||Fu(e,t)})}function Fu(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(bc(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),ju(e))}function Iu(e,t,n){for(const r of n)r instanceof Au?(e.Au.addReference(r.key,t),Tu(e,r)):r instanceof cu?(Hr(du,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||Fu(e,r.key)):zr(19791,{yu:r})}function Tu(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(Hr(du,"New document in limbo: "+n),e.Iu.add(r),ju(e))}function ju(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new vs(gs.fromString(t)),r=e.mu.next();e.Eu.set(r,new fu(n)),e.du=e.du.insert(n,r),wc(e.remoteStore,new eA(Yo(Wo(n.path)),r,"TargetPurposeLimboResolution",Vs.ue))}}async function Lu(e,t,n){const r=Jr(e),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((e,a)=>{o.push(r.gu(a,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,s?"current":"not-current")}if(e){s.push(e);const t=jA.Es(a.targetId,e);i.push(t)}}))}),await Promise.all(o),r.hu.J_(s),await async function(e,t){const n=Jr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Rs.forEach(t,t=>Rs.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Rs.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Hs(e))throw e;Hr(QA,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,s)}}}(r.localStore,i))}async function Uu(e,t){const n=Jr(e);if(!n.currentUser.isEqual(t)){Hr(du,"User change. New user:",t.toKey());const e=await DA(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new Yr(Xr.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Lu(n,e.Bs)}}function Qu(e,t){const n=Jr(e),r=n.Eu.get(t);if(r&&r.lu)return ya().add(r.key);{let e=ya();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Pu(e){const t=Jr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bu.bind(null,t),t.hu.J_=ru.bind(null,t.eventManager),t.hu.pu=su.bind(null,t.eventManager),t}function Ou(e){const t=Jr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ku.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nu.bind(null,t),t}class Du{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ac(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return OA(this.persistence,new UA,e.initialUser,this.serializer)}Du(e){return new SA(IA.Vi,this.serializer)}bu(e){return new GA}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Du.provider={build:()=>new Du};class Ru extends Du{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Gr(this.persistence.referenceDelegate instanceof TA,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new fA(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?lA.withCacheSize(this.cacheSizeBytes):lA.DEFAULT;return new SA(e=>TA.Vi(e,t),this.serializer)}}class Mu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Cu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uu.bind(null,this.syncEngine),await Kc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $c}createDatastore(e){const t=ac(e.databaseInfo.databaseId),n=function(e){return new ic(e)}(e.databaseInfo);return function(e,t,n,r){return new fc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new mc(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>Cu(this.syncEngine,e,0),YA.C()?new YA:new JA)}createSyncEngine(e,t){return function(e,t,n,r,s,i,o){const a=new pu(e,t,n,r,s,i);return o&&(a.fu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Jr(e);Hr(gc,"RemoteStore shutting down."),t.Ia.add(5),await vc(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Mu.provider={build:()=>new Mu};class Hu{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Vu="FirestoreClient";class Ku{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Or.UNAUTHENTICATED,this.clientId=ls.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{Hr(Vu,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Hr(Vu,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(om){const n=Gc(om,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function qu(e,t){e.asyncQueue.verifyOperationInProgress(),Hr(Vu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await DA(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{Kr("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{Hr("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{Kr("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function zu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wu(e);Hr(Vu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Vc(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Vc(t.remoteStore,n)),e._onlineComponents=t}async function Wu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Hr(Vu,"Using user provided OfflineComponentProvider");try{await qu(e,e._uninitializedComponentsProvider._offline)}catch(om){const n=om;if(!function(e){return"FirebaseError"===e.name?e.code===Xr.FAILED_PRECONDITION||e.code===Xr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Kr("Error using user provided cache. Falling back to memory cache: "+n),await qu(e,new Du)}}else Hr(Vu,"Using default OfflineComponentProvider"),await qu(e,new Ru(void 0));return e._offlineComponents}async function Gu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Hr(Vu,"Using user provided OnlineComponentProvider"),await zu(e,e._uninitializedComponentsProvider._online)):(Hr(Vu,"Using default OnlineComponentProvider"),await zu(e,new Mu))),e._onlineComponents}function Ju(e){return Gu(e).then(e=>e.syncEngine)}async function Xu(e){const t=await Gu(e),n=t.eventManager;return n.onListen=gu.bind(null,t.syncEngine),n.onUnlisten=wu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bu.bind(null,t.syncEngine),n}function Yu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Zr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Hu({next:a=>{i.Ou(),t.enqueueAndForget(()=>nu(e,o));const l=a.docs.has(n);!l&&a.fromCache?s.reject(new Yr(Xr.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?s.reject(new Yr(Xr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(a)},error:e=>s.reject(e)}),o=new lu(Wo(n.path),i,{includeMetadataChanges:!0,ka:!0});return tu(e,o)}(await Xu(e),e.asyncQueue,t,n,r)),r.promise}function Zu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const $u=new Map,ed="firestore.googleapis.com",td=!0;class nd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Yr(Xr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ed,this.ssl=td}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:td;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=aA;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<uA)throw new Yr(Xr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Yr(Xr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Yr(Xr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Yr(Xr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Yr(Xr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Yr(Xr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yr(Xr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nd(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new es;switch(e.type){case"firstParty":return new rs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Yr(Xr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$u.get(e);t&&(Hr("ComponentProvider","Removing Datastore"),$u.delete(e),t.terminate())}(this),Promise.resolve()}}class sd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new sd(this.firestore,e,this._query)}}class id{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new od(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new id(this.firestore,e,this._key)}toJSON(){return{type:id._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Ns(t,id._jsonSchema))return new id(e,n||null,new vs(gs.fromString(t.referencePath)))}}id._jsonSchemaVersion="firestore/documentReference/1.0",id._jsonSchema={type:ks("string",id._jsonSchemaVersion),referencePath:ks("string")};class od extends sd{constructor(e,t,n){super(e,t,Wo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new id(this.firestore,null,new vs(e))}withConverter(e){return new od(this.firestore,e,this._path)}}function ad(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=(0,Cr.Ku)(e),1===arguments.length&&(t=ls.newId()),ws("doc","path",t),e instanceof rd){const n=gs.fromString(t,...r);return bs(n),new id(e,null,new vs(n))}{if(!(e instanceof id||e instanceof od))throw new Yr(Xr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(gs.fromString(t,...r));return bs(n),new id(e.firestore,e instanceof od?e.converter:null,new vs(n))}}const ld="AsyncQueue";class Ad{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new lc(this,"async_queue_retry"),this.oc=()=>{const e=oc();e&&Hr(ld,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=oc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=oc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Zr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Hs(e))throw e;Hr(ld,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,Vr("INTERNAL UNHANDLED ERROR: ",cd(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Wc.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&zr(47125,{hc:cd(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function cd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class ud extends rd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ad,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ad(e),this._firestoreClient=void 0,await e}}}function dd(e){if(e._terminated)throw new Yr(Xr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hd(e),e._firestoreClient}function hd(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Vi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Zu(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Ku(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class fd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fd(Ii.fromBase64String(e))}catch(e){throw new Yr(Xr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fd(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fd._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ns(e,fd._jsonSchema))return fd.fromBase64String(e.bytes)}}fd._jsonSchemaVersion="firestore/bytes/1.0",fd._jsonSchema={type:ks("string",fd._jsonSchemaVersion),bytes:ks("string")};class pd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Yr(Xr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ys(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gd{constructor(e){this._methodName=e}}class md{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yr(Xr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yr(Xr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return As(this._lat,e._lat)||As(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:md._jsonSchemaVersion}}static fromJSON(e){if(Ns(e,md._jsonSchema))return new md(e.latitude,e.longitude)}}md._jsonSchemaVersion="firestore/geoPoint/1.0",md._jsonSchema={type:ks("string",md._jsonSchemaVersion),latitude:ks("number"),longitude:ks("number")};class yd{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ns(e,yd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new yd(e.vectorValues);throw new Yr(Xr.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yd._jsonSchemaVersion="firestore/vectorValue/1.0",yd._jsonSchema={type:ks("string",yd._jsonSchemaVersion),vectorValues:ks("object")};const vd=/^__.*__$/;class wd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new za(e,this.data,t,this.fieldTransforms)}}function bd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zr(40011,{Ec:e})}}class xd{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ld(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(bd(this.Ec)&&vd.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Cd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ac(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xd({Ec:e,methodName:t,bc:n,path:ys.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bd(e){const t=e._freezeSettings(),n=ac(e._databaseId);return new Cd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kd(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Dc(i.merge||i.mergeFields?2:0,t,n,s);Fd("Data must be an object, but it was:",o,r);const a=_d(r,o);let l,A;if(i.merge)l=new Si(o.fieldMask),A=o.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Id(t,r,n);if(!o.contains(s))throw new Yr(Xr.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));Ud(e,s)||e.push(s)}l=new Si(e),A=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,A=o.fieldTransforms;return new wd(new po(a),l,A)}class Nd extends gd{_toFieldTransform(e){return new Qa(e.path,new _a)}isEqual(e){return e instanceof Nd}}function Ed(e,t){if(Sd(e=(0,Cr.Ku)(e)))return Fd("Unsupported field value:",t,e),_d(e,t);if(e instanceof gd)return function(e,t){if(!bd(t.Ec))throw t.wc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.wc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=Ed(s,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Cr.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ca(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ss.fromDate(e);return{timestampValue:El(t.serializer,n)}}if(e instanceof Ss){const n=new Ss(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:El(t.serializer,n)}}if(e instanceof md)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fd)return{bytesValue:_l(t.serializer,e._byteString)};if(e instanceof id){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Il(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof yd)return function(e,t){return{mapValue:{fields:{[zi]:{stringValue:Ji},[Xi]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return ba(t.serializer,e)})}}}}}}(e,t);throw t.wc("Unsupported field value: ".concat(Cs(e)))}(e,t)}function _d(e,t){const n={};return Ci(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xi(e,(e,r)=>{const s=Ed(r,t.Vc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Sd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ss||e instanceof md||e instanceof fd||e instanceof id||e instanceof gd||e instanceof yd)}function Fd(e,t,n){if(!Sd(n)||!xs(n)){const r=Cs(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Id(e,t,n){if((t=(0,Cr.Ku)(t))instanceof pd)return t._internalPath;if("string"==typeof t)return jd(e,t);throw Ld("Field path arguments must be of type string or ",e,!1,void 0,n)}const Td=new RegExp("[~\\*/\\[\\]]");function jd(e,t,n){if(t.search(Td)>=0)throw Ld("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new pd(...t.split("."))._internalPath}catch(Yd){throw Ld("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ld(e,t,n,r,s){const i=r&&!r.isEmpty(),o=void 0!==s;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(s)),l+=")"),new Yr(Xr.INVALID_ARGUMENT,a+e+l)}function Ud(e,t){return e.some(e=>e.isEqual(t))}class Qd{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new id(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Pd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Od("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Pd extends Qd{data(){return super.data()}}function Od(e,t){return"string"==typeof t?jd(e,t):t instanceof pd?t._internalPath:t._delegate._internalPath}class Dd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw zr(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return xi(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Xi].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Li(e.doubleValue));return new yd(s)}convertGeoPoint(e){return new md(Li(e.latitude),Li(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Mi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hi(e));default:return null}}convertTimestamp(e){const t=ji(e);return new Ss(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gs.fromString(e);Gr($l(n),9688,{name:e});const r=new qi(n.get(1),n.get(3)),s=new vs(n.popFirst(5));return r.isEqual(t)||Vr("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function Rd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Md{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hd extends Qd{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Od("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Yr(Xr.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Hd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Hd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hd._jsonSchema={type:ks("string",Hd._jsonSchemaVersion),bundleSource:ks("string","DocumentSnapshot"),bundleName:ks("string"),bundle:ks("string")};class Vd extends Hd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Kd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Md(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Vd(this._firestore,this._userDataWriter,n.key,n,new Md(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Yr(Xr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Vd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Md(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Vd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Md(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:qd(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Yr(Xr.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ls.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zr(61501,{type:e})}}Kd._jsonSchemaVersion="firestore/querySnapshot/1.0",Kd._jsonSchema={type:ks("string",Kd._jsonSchemaVersion),bundleSource:ks("string","QuerySnapshot"),bundleName:ks("string"),bundle:ks("string")};class zd extends Dd{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new id(this.firestore,null,t)}}function Wd(e,t){return function(e,t){const n=new Zr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Ou(e);try{const e=await function(e,t){const n=Jr(e),r=Ss.now(),s=t.reduce((e,t)=>e.add(t.key),ya());let i,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Aa(),l=ya();return n.Os.getEntries(e,s).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(s=>{i=s;const o=[];for(const e of t){const t=Ka(e,i.get(e.key).overlayedDocument);null!=t&&o.push(new Wa(e.key,t,go(t.value.mapValue),Oa.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:da(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new Bi(As)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await Lu(r,e.changes),await Lc(r.remoteStore)}catch(e){const t=Gc(e,"Failed to persist write");n.reject(t)}}(await Ju(e),t,n)),n.promise}(dd(e),t)}function Gd(e,t,n){const r=n.docs.get(t._key),s=new zd(e);return new Hd(e,s,t._key,r,new Md(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Dr=e}(wr.MF),(0,wr.om)(new br.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),o=new ud(new ts(e.getProvider("auth-internal")),new is(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yr(Xr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qi(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),(0,wr.KO)(Qr,Pr,e),(0,wr.KO)(Qr,Pr,"esm2017")}();const Jd=e=>{let{text:t}=e;if(!t)return null;return(0,k.jsx)("div",{className:"prose prose-sm max-w-none text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:(e=>e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")).replace(/\*(.*?)\*/g,"<em>$1</em>")).replace(/`(.*?)`/g,'<code class="bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded text-sm font-mono">$1</code>')).replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold mt-4 mb-2 text-gray-900 dark:text-white">$1</h3>')).replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold mt-4 mb-2 text-gray-900 dark:text-white">$1</h2>')).replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold mt-4 mb-2 text-gray-900 dark:text-white">$1</h1>')).replace(/```([\s\S]*?)```/g,'<pre class="bg-gray-50 dark:bg-gray-800 p-3 rounded-lg overflow-x-auto my-2"><code class="text-sm font-mono text-gray-800 dark:text-gray-200">$1</code></pre>')).replace(/\n/g,"<br>")).replace(/^- (.*$)/gm,'<li class="ml-4 mb-1">$1</li>')).replace(/(<li[^]*<\/li>)/,'<ul class="list-disc pl-4 space-y-1">$1</ul>'))(t)}})},Xd=e=>{let{questionData:n,userCode:r,userId:s}=e;const[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(!1),[u,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(""),p=3e5;(0,t.useEffect)(()=>{g()},[s]),(0,t.useEffect)(()=>{if(u>0){const e=setInterval(()=>{d(e=>{const t=e-1e3;return t<=0?0:t})},1e3);return()=>clearInterval(e)}},[u]);const g=async()=>{if(s)try{const t=ad(A.OO,"userCooldowns",s),n=await function(e){e=Bs(e,id);const t=Bs(e.firestore,ud);return Yu(dd(t),e._key).then(n=>Gd(t,e,n))}(t);if(n.exists()){var e;const t=(null===(e=n.data().lastSuggestionRequest)||void 0===e?void 0:e.toMillis())||0,r=Date.now()-t;r<p&&d(p-r)}}catch(h){console.error("Error checking cooldown:",h)}},m=async()=>{if(s)try{const e=ad(A.OO,"userCooldowns",s);await function(e,t,n){e=Bs(e,id);const r=Bs(e.firestore,ud),s=Rd(e.converter,t,n);return Wd(r,[kd(Bd(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Oa.none())])}(e,{lastSuggestionRequest:new Nd("serverTimestamp"),userId:s},{merge:!0}),d(p)}catch(h){console.error("Error setting cooldown:",h)}},y=e=>{const t=Math.ceil(e/1e3);return"".concat(t,"s")};return(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-400",children:[(0,k.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"AI Suggestions"}),(0,k.jsx)("button",{onClick:async()=>{if(!(u>0)){l(!0),f("");try{var e,t,s;const i="\nQuestion: ".concat((null===n||void 0===n?void 0:n.questionname)||"Untitled","\n\nDescription: ").concat((null===n||void 0===n?void 0:n.question)||"No description provided","\n\nExample 1: ").concat((null===n||void 0===n||null===(e=n.Example)||void 0===e?void 0:e[0])||"No example provided","\n\nExample 2: ").concat((null===n||void 0===n||null===(t=n.Example)||void 0===t?void 0:t[1])||"No example provided","\n\nConstraints: ").concat((null===n||void 0===n||null===(s=n.constraints)||void 0===s?void 0:s.join(", "))||"No constraints provided","\n      ").trim(),a=await async function(e){let{prompt:t,code:n,mode:r="suggestions"}=e;const s=(0,c.jf)((0,c.KR)(A.OO),"groq_api_key"),i=await(0,c.Jt)(s);mr=i;const o="suggestions"===r?"You are an assistant that gives only hints and clues (never direct answers or code) to help a student solve coding questions. Be strict and never include actual code in your responses. Always respond in a bullet point format with clear, numbered hints. The format must be consistent across all users and over time. Never change it.":"You are an assistant that reviews code based solely on time complexity, space complexity, and provides a performance rating. Never include any code or code suggestions in your responses. Always respond in the following strict format:\n1. Time Complexity: [Your analysis]\n2. Space Complexity: [Your analysis]\n3. Overall Rating: [Score out of 10, with reasoning]\nThis format must be followed exactly, for every response, no matter the context or user. No exceptions.",a="suggestions"===r?"Prompt:\n".concat(t,"\n\nCode:\n").concat(n,"\n\nGive helpful suggestions or hints only."):"Prompt:\n".concat(t,"\n\nCode:\n").concat(n,"\n\nPlease give time/space complexity and rate the code.");try{var l,u;return null===(l=(await hr.post("https://api.groq.com/openai/v1/chat/completions",{model:"llama-3.1-8b-instant",messages:[{role:"system",content:o},{role:"user",content:a}],temperature:.7},{headers:{Authorization:"Bearer ".concat(mr),"Content-Type":"application/json"}})).data.choices[0])||void 0===l||null===(u=l.message)||void 0===u?void 0:u.content}catch(tp){var d;return console.error("\u274c Groq API Error:",(null===(d=tp.response)||void 0===d?void 0:d.data)||tp.message),"Error contacting Groq API"}}({prompt:i,code:r||"No code provided yet",mode:"suggestions"});o(a),await m()}catch(h){console.error("Error getting suggestions:",h),f("Failed to get AI suggestions. Please try again later.")}finally{l(!1)}}},disabled:a||u>0,className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(a||u>0?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:a?(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Getting Suggestions..."]}):u>0?"Wait ".concat(y(u)):"Get AI Suggestions"})]}),h&&(0,k.jsx)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg",children:(0,k.jsx)("p",{className:"text-red-700 dark:text-red-400 text-sm",children:h})}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-dark-secondary rounded-lg border border-gray-200 dark:border-gray-700",children:(0,k.jsx)("div",{className:"p-4 h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-gray-100 dark:scrollbar-track-gray-800",style:{maxHeight:"384px"},children:i?(0,k.jsx)(Jd,{text:i}):(0,k.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),(0,k.jsx)("p",{className:"text-sm",children:'Click "Get AI Suggestions" to receive helpful hints and guidance for solving this problem.'})]})})})}),u>0&&(0,k.jsx)("div",{className:"mt-3 p-2 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded text-sm",children:(0,k.jsxs)("p",{className:"text-yellow-700 dark:text-yellow-400",children:["\u23f1\ufe0f Cooldown active: ",y(u)," remaining to prevent spam"]})})]})};function Yd(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Yd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Zd=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Yd(e))&&(r&&(r+=" "),r+=t);return r},$d=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var eh=e=>"number"==typeof e&&!isNaN(e),th=e=>"string"==typeof e,nh=e=>"function"==typeof e,rh=e=>th(e)||nh(e)?e:null,sh=(e,t)=>!1===e||eh(e)&&e>0?e:t,ih=e=>(0,t.isValidElement)(e)||th(e)||nh(e)||eh(e);function oh(e){let{enter:n,exit:r,appendPosition:s=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(e){let{children:a,position:l,preventExitTransition:A,done:c,nodeRef:u,isIn:d,playToast:h}=e,f=s?"".concat(n,"--").concat(l):n,p=s?"".concat(r,"--").concat(l):r,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)(()=>{let e=u.current,t=f.split(" "),n=r=>{r.target===u.current&&(h(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,t.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}(e,c,o):c()};d||(A?t():(g.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))},[d]),t.createElement(t.Fragment,null,a)}}function ah(e,t){return{content:lh(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function lh(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.isValidElement)(e)&&!th(e.type)?(0,t.cloneElement)(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):nh(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):e}function Ah(e){let{delay:n,isRunning:r,closeToast:s,type:i="default",hide:o,className:a,controlledProgress:l,progress:A,rtl:c,isIn:u,theme:h}=e,f=o||l&&0===A,p={animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused"};l&&(p.transform="scaleX(".concat(A,")"));let g=Zd("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(h),"Toastify__progress-bar--".concat(i),{"Toastify__progress-bar--rtl":c}),m=nh(a)?a({rtl:c,type:i,defaultClassName:g}):Zd(g,a),y={[l&&A>=1?"onTransitionEnd":"onAnimationEnd"]:l&&A<1?null:()=>{u&&s()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},t.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(h," Toastify__progress-bar--").concat(i)}),t.createElement("div",(0,d.A)({role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:m,style:p},y)))}var ch=1,uh=()=>"".concat(ch++);function dh(e,t,n){let r=1,s=0,i=[],o=[],a=t,l=new Map,A=new Set,c=()=>{o=Array.from(l.values()),A.forEach(e=>e())},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}c()},f=e=>{var t,r;let{toastId:s,updateId:i}=e.props,o=null==i;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(s,e),c(),n(ah(e,o?"added":"updated")),o&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:a,observe:e=>(A.add(e),()=>A.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:h,toasts:l,clearQueue:()=>{s-=i.length,i=[]},buildToast:(t,o)=>{if((t=>{let{containerId:n,toastId:r,updateId:s}=t,i=n?n!==e:1!==e,o=l.has(r)&&null==s;return i||o})(o))return;let{toastId:A,updateId:u,data:p,staleId:g,delay:m}=o,y=null==u;y&&s++;let v=(0,d.A)((0,d.A)((0,d.A)({},a),{},{style:a.toastStyle,key:r++},Object.fromEntries(Object.entries(o).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:A,updateId:u,data:p,isIn:!1,className:rh(o.className||a.toastClassName),progressClassName:rh(o.progressClassName||a.progressClassName),autoClose:!o.isLoading&&sh(o.autoClose,a.autoClose),closeToast(e){l.get(A).removalReason=e,h(A)},deleteToast(){let e=l.get(A);if(null!=e){if(n(ah(e,"removed")),l.delete(A),s--,s<0&&(s=0),i.length>0)return void f(i.shift());c()}}});v.closeButton=a.closeButton,!1===o.closeButton||ih(o.closeButton)?v.closeButton=o.closeButton:!0===o.closeButton&&(v.closeButton=!ih(a.closeButton)||a.closeButton);let w={content:t,props:v,staleId:g};a.limit&&a.limit>0&&s>a.limit&&y?i.push(w):eh(m)?setTimeout(()=>{f(w)},m):f(w)},setProps(e){a=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>o}}var hh=new Map,fh=[],ph=new Set,gh=e=>ph.forEach(t=>t(e)),mh=()=>hh.size>0;function yh(e,t){var n;if(t)return!(null==(n=hh.get(t))||!n.isToastActive(e));let r=!1;return hh.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function vh(e){if(mh()){if(null==e||(e=>th(e)||eh(e))(e))hh.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=hh.get(e.containerId);t?t.removeToast(e.id):hh.forEach(t=>{t.removeToast(e.id)})}}else fh=fh.filter(t=>null!=e&&t.options.toastId!==e)}function wh(e,t){ih(e)&&(mh()||fh.push({content:e,options:t}),hh.forEach(n=>{n.buildToast(e,t)}))}function bh(e,t){hh.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function xh(e){let t=e.containerId||1;return{subscribe(n){let r=dh(t,e,gh);hh.set(t,r);let s=r.observe(n);return fh.forEach(e=>wh(e.content,e.options)),fh=[],()=>{s(),hh.delete(t)}},setProps(e){var n;null==(n=hh.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=hh.get(t))?void 0:e.getSnapshot()}}}function Ch(e){return e&&(th(e.toastId)||eh(e.toastId))?e.toastId:uh()}function Bh(e,t){return wh(e,t),t.toastId}function kh(e,t){return(0,d.A)((0,d.A)({},t),{},{type:t&&t.type||e,toastId:Ch(t)})}function Nh(e){return(t,n)=>Bh(t,kh(e,n))}function Eh(e,t){return Bh(e,kh("default",t))}function _h(e){let[n,r]=(0,t.useState)(!1),[s,i]=(0,t.useState)(!1),o=(0,t.useRef)(null),a=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:A,closeToast:c,onClick:u,closeOnClick:d}=e;function h(){r(!0)}function f(){r(!1)}function p(t){let r=o.current;if(a.canDrag&&r){a.didMove=!0,n&&f(),"x"===e.draggableDirection?a.delta=t.clientX-a.start:a.delta=t.clientY-a.start,a.start!==t.clientX&&(a.canCloseOnClick=!1);let s="x"===e.draggableDirection?"".concat(a.delta,"px, var(--y)"):"0, calc(".concat(a.delta,"px + var(--y))");r.style.transform="translate3d(".concat(s,",0)"),r.style.opacity="".concat(1-Math.abs(a.delta/a.removalDistance))}}function g(){document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",g);let t=o.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=hh.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,t.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||f(),window.addEventListener("focus",h),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",f)}},[e.pauseOnFocusLoss]);let m={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){a.didMove=!1,document.addEventListener("pointermove",p),document.addEventListener("pointerup",g);let n=o.current;a.canCloseOnClick=!0,a.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(a.start=t.clientX,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=t.clientY,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:s,right:i}=o.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=s&&t.clientX<=i&&t.clientY>=n&&t.clientY<=r?f():h()}};return l&&A&&(m.onMouseEnter=f,e.stacked||(m.onMouseLeave=h)),d&&(m.onClick=e=>{u&&u(e),a.canCloseOnClick&&c(!0)}),{playToast:h,pauseToast:f,isRunning:n,preventExitTransition:s,toastRef:o,eventHandlers:m}}Eh.loading=(e,t)=>Bh(e,kh("default",(0,d.A)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),Eh.promise=function(e,t,n){let r,{pending:s,error:i,success:o}=t;s&&(r=th(s)?Eh.loading(s,n):Eh.loading(s.render,(0,d.A)((0,d.A)({},n),s)));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void Eh.dismiss(r);let i=(0,d.A)((0,d.A)((0,d.A)({type:e},a),n),{},{data:s}),o=th(t)?{render:t}:t;return r?Eh.update(r,(0,d.A)((0,d.A)({},i),o)):Eh(o.render,(0,d.A)((0,d.A)({},i),o)),s},A=nh(e)?e():e;return A.then(e=>l("success",o,e)).catch(e=>l("error",i,e)),A},Eh.success=Nh("success"),Eh.info=Nh("info"),Eh.error=Nh("error"),Eh.warning=Nh("warning"),Eh.warn=Eh.warning,Eh.dark=(e,t)=>Bh(e,kh("default",(0,d.A)({theme:"dark"},t))),Eh.dismiss=function(e){vh(e)},Eh.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hh.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},Eh.isActive=yh,Eh.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=hh.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:s}=n,i=(0,d.A)((0,d.A)((0,d.A)({delay:100},r),t),{},{toastId:t.toastId||e,updateId:uh()});i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,Bh(o,i)}},Eh.done=e=>{Eh.update(e,{progress:1})},Eh.onChange=function(e){return ph.add(e),()=>{ph.delete(e)}},Eh.play=e=>bh(!0,e),Eh.pause=e=>bh(!1,e);var Sh="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Fh=e=>{let{theme:n,type:r,isLoading:s}=e,i=(0,h.A)(e,$d);return t.createElement("svg",(0,d.A)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))};var Ih={info:function(e){return t.createElement(Fh,(0,d.A)({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(Fh,(0,d.A)({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(Fh,(0,d.A)({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(Fh,(0,d.A)({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function Th(e){let{theme:n,type:r,isLoading:s,icon:i}=e,o=null,a={theme:n,type:r};return!1===i||(nh(i)?o=i((0,d.A)((0,d.A)({},a),{},{isLoading:s})):(0,t.isValidElement)(i)?o=(0,t.cloneElement)(i,a):s?o=Ih.spinner():(e=>e in Ih)(r)&&(o=Ih[r](a))),o}var jh=e=>{let{isRunning:n,preventExitTransition:r,toastRef:s,eventHandlers:i,playToast:o}=_h(e),{closeButton:a,children:l,autoClose:A,onClick:c,type:u,hideProgressBar:h,closeToast:f,transition:p,position:g,className:m,style:y,progressClassName:v,updateId:w,role:b,progress:x,rtl:C,toastId:B,deleteToast:k,isIn:N,isLoading:E,closeOnClick:_,theme:S,ariaLabel:F}=e,I=Zd("Toastify__toast","Toastify__toast-theme--".concat(S),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":_}),T=nh(m)?m({rtl:C,position:g,type:u,defaultClassName:I}):Zd(I,m),j=Th(e),L=!!x||!A,U={closeToast:f,type:u,theme:S},Q=null;return!1===a||(Q=nh(a)?a(U):(0,t.isValidElement)(a)?(0,t.cloneElement)(a,U):function(e){let{closeToast:n,theme:r,ariaLabel:s="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),n(!0)},"aria-label":s},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(U)),t.createElement(p,{isIn:N,done:k,position:g,preventExitTransition:r,nodeRef:s,playToast:o},t.createElement("div",(0,d.A)((0,d.A)({id:B,tabIndex:0,onClick:c,"data-in":N,className:T},i),{},{style:y,ref:s},N&&{role:b,"aria-label":F}),null!=j&&t.createElement("div",{className:Zd("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!E})},j),lh(l,e,!n),Q,!e.customProgressBar&&t.createElement(Ah,(0,d.A)((0,d.A)({},w&&!L?{key:"p-".concat(w)}:{}),{},{rtl:C,theme:S,delay:A,isRunning:n,isIn:N,closeToast:f,hide:h,type:u,className:v,controlledProgress:L,progress:x||0}))))},Lh=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Uh=oh(Lh("bounce",!0)),Qh=(oh(Lh("slide",!0)),oh(Lh("zoom")),oh(Lh("flip")),{position:"top-right",transition:Uh,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Ph(e){let n=(0,d.A)((0,d.A)({},Qh),e),r=e.stacked,[s,i]=(0,t.useState)(!0),o=(0,t.useRef)(null),{getToastToRender:a,isToastActive:l,count:A}=function(e){var n;let{subscribe:r,getSnapshot:s,setProps:i}=(0,t.useRef)(xh(e)).current;i(e);let o=null==(n=(0,t.useSyncExternalStore)(r,s,s))?void 0:n.slice();return{getToastToRender:function(t){if(!o)return[];let n=new Map;return e.newestOnTop&&o.reverse(),o.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:yh,count:null==o?void 0:o.length}}(n),{className:c,style:u,rtl:h,containerId:f,hotKeys:p}=n;function g(e){let t=Zd("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":h});return nh(c)?c({position:e,rtl:h,defaultClassName:t}):Zd(t,rh(c))}function m(){r&&(i(!0),Eh.play())}return Sh(()=>{var e;if(r){let t=o.current.querySelectorAll('[data-in="true"]'),r=12,i=null==(e=n.position)?void 0:e.includes("top"),a=0,l=0;Array.from(t).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(s)),n.dataset.pos||(n.dataset.pos=i?"top":"bot");let o=a*(s?.2:1)+(s?0:r*t);n.style.setProperty("--y","".concat(i?o:-1*o,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(s?l:0))),a+=n.offsetHeight,l+=.025})}},[s,A,r]),(0,t.useEffect)(()=>{function e(e){var t;let n=o.current;p(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),i(!1),Eh.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(i(!0),Eh.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p]),t.createElement("section",{ref:o,className:"Toastify",id:f,onMouseEnter:()=>{r&&(i(!1),Eh.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},a((e,n)=>{let s=n.length?(0,d.A)({},u):(0,d.A)((0,d.A)({},u),{},{pointerEvents:"none"});return t.createElement("div",{tabIndex:-1,className:g(e),"data-stacked":r,style:s,key:"c-".concat(e)},n.map(e=>{let{content:n,props:s}=e;return t.createElement(jh,(0,d.A)((0,d.A)({},s),{},{stacked:r,collapseAll:m,isIn:l(s.toastId,s.containerId),key:"t-".concat(s.key)}),n)}))}))}function Oh(e,t,n){const r={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(r))}function Dh(e){const t=localStorage.getItem(e);if(!t)return null;const n=JSON.parse(t);return(new Date).getTime()>n.expiry?(localStorage.removeItem(e),null):n.value}const Rh=function(e){var n,r,s,o;let{data:u,navigation:h}=e;const[f,p]=(0,t.useState)("");(0,t.useEffect)(()=>{const e=e=>(e.preventDefault(),e.stopPropagation(),!1),t=e=>(e.preventDefault(),e.stopPropagation(),!1),n=e=>(e.preventDefault(),e.stopPropagation(),e.clipboardData&&(e.clipboardData.setData("text/plain",""),e.clipboardData.clearData()),Eh.error("Copy-paste is disabled in this environment"),!1),r=e=>(e.preventDefault(),e.stopPropagation(),!1),s={capture:!0,passive:!1};document.addEventListener("copy",e,s),document.addEventListener("cut",e,s),document.addEventListener("paste",n,s),document.addEventListener("contextmenu",t,s),document.addEventListener("drop",r,s),document.addEventListener("dragover",r,s);const i=e=>{const t=(e.ctrlKey||e.metaKey)&&["v","V","Insert"].includes(e.key),n=(e.ctrlKey||e.metaKey)&&["c","C","c","C","Insert","F3","F16","F24"].includes(e.key),r=(e.ctrlKey||e.metaKey)&&["x","X","Delete"].includes(e.key);if(t||n||r)return e.preventDefault(),e.stopPropagation(),window.getSelection().removeAllRanges(),t&&Eh.error("Pasting is disabled in this environment"),!1};document.addEventListener("keydown",i,{capture:!0});const o=e=>{if(e.target.isContentEditable)return e.preventDefault(),e.stopPropagation(),!1};return document.addEventListener("paste",o,{capture:!0}),window.addEventListener("blur",()=>{document.activeElement&&"IFRAME"===document.activeElement.tagName&&document.activeElement.blur()}),()=>{document.removeEventListener("copy",e,s),document.removeEventListener("cut",e,s),document.removeEventListener("paste",n,s),document.removeEventListener("contextmenu",t,s),document.removeEventListener("drop",r,s),document.removeEventListener("dragover",r,s),document.removeEventListener("keydown",i,{capture:!0}),document.removeEventListener("paste",o,{capture:!0}),window.removeEventListener("blur",()=>{})}},[]);const[g,m]=(0,t.useState)("description"),[y,v]=(0,t.useState)(null),[w,b]=(0,t.useState)([]),[x,C]=(0,t.useState)(0),[B,N]=(0,t.useState)(!1),[E,_]=(0,t.useState)(45),[S,F]=(0,t.useState)("cpp"),{theme:I}=(0,a.D)(),[T,j]=(0,t.useState)(null),[L,U]=(0,t.useState)(null),[Q,P]=(0,t.useState)([{input:"",expectedOutput:""}]),[O,D]=(0,t.useState)([]),R=(0,t.useRef)(null),M=(0,t.useRef)(null),H=e=>{if(e){e.style.height="auto";const t=Math.min(200,Math.max(80,e.scrollHeight));e.style.height=t+"px"}};(0,t.useEffect)(()=>{const e=setTimeout(()=>{R.current&&(R.current.style.height="auto",R.current.style.height=R.current.scrollHeight+"px"),M.current&&(M.current.style.height="auto",M.current.style.height=M.current.scrollHeight+"px")},10);return()=>clearTimeout(e)},[x,Q,g]);const[V,K]=(0,t.useState)([]),[q,z]=(0,t.useState)(0),{course:W,subcourse:G,questionId:J}=(0,i.g)(),{user:X}=(0,l.A)(),Y=((0,i.Zp)(),(0,t.useRef)(null)),Z=(0,t.useRef)(null),$=(0,t.useRef)(null),ee=(0,t.useRef)(null),te=e=>e?e.replace(/[.#$/\[\]:]/g,"_"):"",ne=async e=>{if(null!==X&&void 0!==X&&X.uid)try{const t=(0,c.KR)(A.OO,"userprogress/".concat(X.uid,"/").concat(W,"/").concat(G,"/").concat(J));await(0,c.hZ)(t,e),console.log("userprogress saved: ".concat(J," = ").concat(e))}catch(t){console.error("Error saving user progress:",t)}},re=(0,t.useCallback)(async()=>{try{const e=(0,c.KR)(A.OO),t="savedCode/".concat(X.uid,"/").concat(W,"/").concat(J,"/").concat(S),n=await(0,c.Jt)((0,c.jf)(e,t));if(console.log(n.val()),n.exists()){const e=n.val();p(e),console.log("Code loaded successfully!")}else p(Re[S]||""),console.log("No saved code found, using default template")}catch(e){console.error("Error loading code:",e),p(Re[S]||"")}},[W,J,S]),se=(0,t.useCallback)(async e=>{try{const t="savedCode/".concat(X.uid,"/").concat(W,"/").concat(J,"/").concat(S),n=(0,c.KR)(A.OO,t);await(0,c.hZ)(n,e),console.log("Code auto-saved successfully!")}catch(t){console.error("Error saving code:",t)}},[W,J,S]);(0,t.useEffect)(()=>{(async()=>{if(null===X||void 0===X||!X.uid||!W||!G||!J)return;const e=te(W),t=te(G),n=te(J),r="Submissions/".concat(X.uid,"/").concat(e,"/").concat(t,"/").concat(n),s=await(0,c.Jt)((0,c.KR)(A.OO,r));if(s.exists()){const e=s.val(),t=Object.entries(e).map(e=>{let[t,n]=e;return(0,d.A)({timestamp:t},n)});K(t.reverse())}else K([])})()},[X,W,G,J,q]);const ie=(0,t.useCallback)(e=>{p(e),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{se(e)},500)},[se]),oe=(0,t.useCallback)(e=>{const t=e.target.value;F(t)},[]);(0,t.useEffect)(()=>{T&&re()},[re,T,S]),(0,t.useEffect)(()=>{(async()=>{try{console.log("AlgoCore/".concat(String(W).replace(" ",""),"/").concat(G,"/").concat(J));const i=(0,c.KR)(A.OO,"questions/".concat(J)),[o]=await Promise.all([(0,c.Jt)(i)]);if(o.exists()){var e,t,n,r,s;const i=o.val();console.log("question",i.type);const a=[{input:null===i||void 0===i||null===(e=i.testcases[0])||void 0===e?void 0:e.input,expectedOutput:null===i||void 0===i||null===(t=i.testcases[0])||void 0===t?void 0:t.expectedOutput},...null!==i&&void 0!==i&&null!==(n=i.testcases[1])&&void 0!==n&&n.expectedOutput?[{input:null===i||void 0===i||null===(r=i.testcases[1])||void 0===r?void 0:r.input,expectedOutput:null===i||void 0===i||null===(s=i.testcases[1])||void 0===s?void 0:s.expectedOutput}]:[]];P(a),console.log(i),j(i)}}catch(i){console.error("Error fetching data from Firebase:",i)}})(),re(),async function(){const e=(0,c.KR)(A.OO);try{const t=await(0,c.Jt)((0,c.jf)(e,"/AlgoCore/".concat(W,"/allowedLanguages")));if(!t.exists())return console.warn("No data found in Firebase."),{};const n=t.val();console.log(n),D(n),console.log(O)}catch(t){return console.error("Failed to fetch templates:",t),[]}}()},[J]);const ae=(0,t.useCallback)(e=>{Z.current=e,$.current&&$.current.disconnect(),e.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KeyC,()=>{const e=Dh("copyDisabled");if(console.log(e),null===e)return Eh.error("Copy disabled!",{position:"top-right",autoClose:3e3}),void Oh("copyDisabled",!0,5e3)}),e.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KeyV,()=>{if(null===Dh("pasteDisabled"))return Eh.error("Paste disabled!",{position:"top-right",autoClose:3e3}),void Oh("pasteDisabled",!0,5e3)}),e.addCommand(monaco.KeyMod.Shift|monaco.KeyCode.Insert,()=>{if(null===Dh("shiftInsertDisabled"))return Eh.error("Shift insert disabled!\ud83d\ude2d",{position:"top-right",autoClose:3e3}),void Oh("shiftInsertDisabled",!0,5e3)}),e.updateOptions({contextmenu:!1});$.current=new ResizeObserver(e=>{ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{try{Z.current&&!Z.current.isDisposed()&&Z.current.layout()}catch(e){console.warn("Editor layout error:",e)}},0)});const t=e.getContainerDomNode();t&&$.current.observe(t)},[]);(0,t.useEffect)(()=>{ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{if(Z.current&&!Z.current.isDisposed())try{Z.current.layout()}catch(e){console.warn("Editor layout error:",e)}},100)},[E]),(0,t.useEffect)(()=>()=>{Y.current&&clearTimeout(Y.current),ee.current&&clearTimeout(ee.current),$.current&&$.current.disconnect()},[]);const le=(0,t.useCallback)(e=>{N(!0),e.preventDefault()},[]),Ae=(0,t.useCallback)(e=>{if(!B)return;const t=document.body.getBoundingClientRect();let n=((e.touches?e.touches[0].clientX:e.clientX)-t.left)/t.width*100;n=Math.max(18,Math.min(70,n)),_(n)},[B]),ce=(0,t.useCallback)(()=>{N(!1)},[]);return(0,t.useEffect)(()=>(B?(window.addEventListener("mousemove",Ae),window.addEventListener("mouseup",ce),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(window.removeEventListener("mousemove",Ae),window.removeEventListener("mouseup",ce),document.body.style.cursor="",document.body.style.userSelect=""),()=>{window.removeEventListener("mousemove",Ae),window.removeEventListener("mouseup",ce),document.body.style.cursor="",document.body.style.userSelect=""}),[B,Ae,ce]),(0,t.useEffect)(()=>{(async()=>{try{const e=(0,c.KR)(A.OO),t=await(0,c.Jt)((0,c.jf)(e,"/AlgoCore/".concat(W)));t.exists()?U(t.val()):console.warn("No course data found in Firebase.")}catch(e){console.error("Error fetching course data:",e)}})()},[W]),(0,k.jsxs)("div",{className:"h-[calc(100vh-4rem)] w-full flex bg-white dark:bg-dark-primary select-none overflow-hidden",children:["      ",(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary border-r border-gray-200 dark:border-dark-tertiary flex flex-col overflow-hidden h-full",style:{width:"".concat(E,"%")},children:[(0,k.jsxs)("div",{className:"flex whitespace-nowrap border-b border-gray-200 dark:border-dark-tertiary overflow-x-auto",children:[(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("description"===g?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>m("description"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Pe,{}),"Description"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("testcases"===g?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>m("testcases"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Qe,{}),"Test Cases"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("output"===g?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>m("output"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Ue,{}),"Output"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("submissions"===g?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>m("submissions"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Le,{}),"Submissions"]})})]}),(0,k.jsxs)("div",{className:"p-6 flex-1 min-h-0 overflow-auto h-full",children:["description"===g&&(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-400",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white break-words",children:String(null===T||void 0===T?void 0:T.questionname)}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[(0,k.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full text-sm font-medium",children:"Easy"}),(0,k.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(je,{}),(0,k.jsx)("span",{className:"text-sm",children:"2.5K"})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(Le,{}),(0,k.jsx)("span",{className:"text-sm",children:"15 min"})]})]})]}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)("p",{className:"break-words",children:null===T||void 0===T?void 0:T.question}),(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Example 1:"}),(0,k.jsx)("pre",{className:"bg-gray-50 dark:bg-dark-secondary p-4 rounded-lg font-mono whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200",children:null===T||void 0===T?void 0:T.Example[0]})]}),(null===T||void 0===T?void 0:T.Example[1])&&(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Example 2:"}),(0,k.jsx)("pre",{className:"bg-gray-50 dark:bg-dark-secondary p-4 rounded-lg font-mono whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200",children:null===T||void 0===T?void 0:T.Example[1]})]}),(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Constraints:"}),(0,k.jsxs)("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-400",children:[(0,k.jsx)("li",{children:null===T||void 0===T?void 0:T.constraints[0]}),(0,k.jsx)("li",{children:null===T||void 0===T?void 0:T.constraints[1]})]})]})]})]}),"testcases"===g&&(0,k.jsx)("div",{className:"space-y-6",children:(null===T||void 0===T||null===(n=T.testcases)||void 0===n?void 0:n.length)>=3&&"regex"===(null===T||void 0===T||null===(r=T.testcases)||void 0===r?void 0:r[2].input)?(0,k.jsx)("h1",{children:"No input"}):(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:" Manual Test Cases "}),(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[Q.map((e,t)=>(0,k.jsxs)("button",{className:"px-4 py-2 rounded-t-lg font-medium border-b-2 transition-colors duration-150 focus:outline-none ".concat(x===t?"border-[#4285F4] text-[#4285F4] bg-white dark:bg-dark-secondary":"border-transparent text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-dark-tertiary hover:text-[#4285F4]"),onClick:()=>C(t),children:["Case ",t+1]},t)),(0,k.jsx)("button",{className:"ml-2 px-3 py-2 rounded-full bg-[#4285F4] text-white hover:bg-[#357ae8] text-lg font-bold",onClick:()=>{P([...Q,{input:"",expectedOutput:""}]),C(Q.length)},children:"+"})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-dark-secondary rounded-lg p-4 mb-4",children:[(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 font-medium",children:"Input"}),(0,k.jsx)("textarea",{ref:R,className:"w-full p-2 border border-gray-300 dark:border-dark-tertiary rounded-md bg-white dark:bg-dark-secondary text-gray-900 dark:text-white font-mono text-base min-h-[80px] resize-y",value:(null===(s=Q[x])||void 0===s?void 0:s.input)||"",onChange:e=>{const t=[...Q];t[x].input=e.target.value,P(t),requestAnimationFrame(()=>{H(e.target)})},onInput:e=>H(e.target),placeholder:"Enter input (supports multiple lines)",rows:1,style:{minHeight:"40px",maxHeight:"200px",overflowY:"auto"}})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 font-medium",children:"Expected Output"}),(0,k.jsx)("textarea",{ref:M,className:"w-full p-2 border border-gray-300 dark:border-dark-tertiary rounded-md bg-white dark:bg-dark-secondary text-gray-900 dark:text-white font-mono text-base min-h-[80px] resize-y",value:(null===(o=Q[x])||void 0===o?void 0:o.expectedOutput)||"",onChange:e=>{const t=[...Q];t[x].expectedOutput=e.target.value,P(t),requestAnimationFrame(()=>{H(e.target)})},onInput:e=>H(e.target),placeholder:"Enter expected output (supports multiple lines)",rows:1,style:{minHeight:"40px",maxHeight:"200px",overflowY:"auto"}})]})]}),(0,k.jsx)("div",{className:"flex justify-end mt-4",children:(0,k.jsx)("button",{className:"text-red-500 hover:text-red-700 font-medium",onClick:()=>{const e=Q.filter((e,t)=>t!==x);P(e.length?e:[{input:"",expectedOutput:""}]),C(e=>Math.max(0,e-1))},disabled:Q.length<=1,title:"Delete this test case",children:"Delete Case"})})]})]})}),"output"===g&&(0,k.jsx)("div",{className:"py-8 px-4 flex flex-col items-center",children:y?(0,k.jsx)("pre",{className:"text-red-600 dark:text-red-400 whitespace-pre-wrap break-words",children:y}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(Me,{testResults:w})})}),"submissions"===g&&(0,k.jsx)("div",{className:"space-y-4",children:0===V.length?(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"No submissions yet for this question."}):(0,k.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-dark-tertiary",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"}),(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Language"}),(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),(0,k.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-tertiary",children:V.map((e,t)=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300",children:(()=>{const t=e.timestamp.replace(/T(\d{2})_(\d{2})_(\d{2})_(\d{3})Z/,"T$1:$2:$3.$4Z"),n=new Date(t);return isNaN(n.getTime())?"N/A":n.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})()}),(0,k.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300",children:e.language}),(0,k.jsx)("td",{className:"px-4 py-2 text-sm font-medium ".concat("correct"===e.status?"text-green-600":"text-red-500"),children:e.status})]},t))})]})}),"suggestions"===g&&(0,k.jsx)(Xd,{questionData:T,userCode:f,userId:X.uid})]})]}),(0,k.jsx)("div",{className:"w-1 bg-gray-200 dark:bg-dark-tertiary hover:bg-[#4285F4] cursor-col-resize flex items-center justify-center group transition-colors duration-150 ".concat(B?"bg-[#4285F4]":""),onMouseDown:le,style:{zIndex:10},children:(0,k.jsx)(Oe,{size:16,className:"text-gray-400 group-hover:text-[#4285F4] opacity-0 group-hover:opacity-100"})}),(0,k.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-auto",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary border-t border-gray-200 dark:border-dark-tertiary p-2 flex justify-end gap-6",children:[(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsxs)("button",{onClick:()=>p(Re[S]||""),title:"Reset to initial code",className:"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 px-2 py-1 rounded-md flex items-center gap-1 text-xs transition-colors duration-150",children:[(0,k.jsx)(De,{className:"w-3 h-3"}),"Reset"]}),(0,k.jsx)("select",{className:"bg-white dark:bg-dark-secondary text-gray-900 dark:text-white border border-gray-300 dark:border-dark-tertiary rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#4285F4] focus:border-transparent",value:S,onChange:oe,children:O.map(e=>(0,k.jsx)("option",{value:e,children:e},e))})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("button",{onClick:async()=>{const e=Q;console.log("Running test cases:",e);try{const l=e.map(e=>({input:e.input||"",expected:e.expectedOutput||"",output:"",passed:!1,status:"running",isFirstFailure:!1}));b(l),v(null),m("output");const A=[...l];let c=!1;for(let u=0;u<e.length;u++){const{input:l,expectedOutput:d}=e[u];try{var t,n;const{run:e}=await gr(S,f,l);if("regex2"===(null===(t=T.testcases[2])||void 0===t?void 0:t.input)){var r,s;const t=e.output.match(null===(r=T.testcases[2])||void 0===r?void 0:r.expectedOutput);console.log(e.output),console.log(null===(s=T.testcases[2])||void 0===s?void 0:s.expectedOutput);const n=new RegExp(/^PID of example\.c = \d+\n[A-Za-z]{3} [A-Za-z]{3} +\d{1,2} \d{2}:\d{2}:\d{2} [A-Z]+ \d{4}\n?$/);console.log(n.test(e.output)),A[u]={input:l,expected:d,output:e.output,passed:n.test(e.output),status:"done",isFirstFailure:!t&&!c},t||c||(c=!0,C(u))}else if("regex"===(null===(n=T.testcases[2])||void 0===n?void 0:n.input)){var i,o;const t=e.output.match(null===(i=T.testcases[2])||void 0===i?void 0:i.expectedOutput);console.log(e.output),console.log(null===(o=T.testcases[2])||void 0===o?void 0:o.expectedOutput);const n=new RegExp(/^Child => PPID: \d+, PID: \d+\nParent => PID: \d+\nWaiting for child process to finish\.\nChild process finished\.\n?$/);console.log(n.test(e.output)),A[u]={input:l,expected:d,output:e.output,passed:n.test(e.output),status:"done",isFirstFailure:!t&&!c},t||c||(c=!0,C(u))}else{const t=e.output||"",n=t?t.split("\n").filter(e=>""!==e):[],r=d?d.split("\n").filter(e=>""!==e):[],s=n.length===r.length&&n.every((e,t)=>e.trimEnd()===r[t].trimEnd());A[u]={input:l,expected:d,output:t,passed:s,status:"done",isFirstFailure:!s&&!c},s||c||(c=!0,C(u))}}catch(a){console.error("Error executing test case ".concat(u+1,":"),a),A[u]={input:l,expected:d||"",output:a.message||"Error executing code",passed:!1,status:"done",isFirstFailure:!c},c||(c=!0,C(u))}b([...A]),await new Promise(e=>setTimeout(e,300))}}catch(a){console.error("Error during test cases:",a),b([{input:"",expected:"",output:a.message||"Error executing test cases",passed:!1,status:"done",isFirstFailure:!0}])}},className:"bg-[#4285F4] hover:bg-[#4285F4]/90 text-white px-2 py-1 rounded-md flex items-center gap-1 text-xs transition-colors duration-150",children:[(0,k.jsx)(Ie,{}),"Run Code"]}),(0,k.jsxs)("button",{onClick:async()=>{const e=T.testcases,t=e.map(e=>({input:e.input,expected:e.expectedOutput,output:"",passed:!1,status:"running"}));console.log(t),b(t),v(null),m("output");const n=[...t];for(let A=0;A<e.length;A++){var r,s;const{input:t,expectedOutput:c}=e[A],{run:u}=await gr(S,f,t);if("regex2"===(null===(r=T.testcases[2])||void 0===r?void 0:r.input)){var i,o;u.output.match(null===(i=T.testcases[2])||void 0===i?void 0:i.expectedOutput);console.log(u.output),console.log(null===(o=T.testcases[2])||void 0===o?void 0:o.expectedOutput);const e=new RegExp(/^PID of example\.c = \d+\n[A-Za-z]{3} [A-Za-z]{3} +\d{1,2} \d{2}:\d{2}:\d{2} [A-Z]+ \d{4}\n?$/);console.log(e.test(u.output)),n[A]={input:t,expected:c,output:u.output,passed:e.test(u.output),status:"done"},b([...n]),await new Promise(e=>setTimeout(e,300));continue}if("regex"===(null===(s=T.testcases[2])||void 0===s?void 0:s.input)){var a,l;u.output.match(null===(a=T.testcases[2])||void 0===a?void 0:a.expectedOutput);console.log(u.output),console.log(null===(l=T.testcases[2])||void 0===l?void 0:l.expectedOutput);const e=new RegExp(/^Child => PPID: \d+, PID: \d+\nParent => PID: \d+\nWaiting for child process to finish\.\nChild process finished\.\n?$/);console.log(e.test(u.output)),n[A]={input:t,expected:c,output:u.output,passed:e.test(u.output),status:"done"},b([...n]),await new Promise(e=>setTimeout(e,300));continue}const d=u.output?u.output.split("\n"):["No output received."];for(;""===d[d.length-1];)d.pop();const h=c.split("\n");for(;""===h[h.length-1];)h.pop();const p=d.length===h.length&&d.every((e,t)=>e.trimEnd()===h[t].trimEnd());n[A]={input:t,expected:c,output:u.output,passed:p,status:"done"},b([...n]),await new Promise(e=>setTimeout(e,300))}const u=n.every(e=>e.passed);await ne(u),await(async(e,t)=>{if(console.log("logging submission"),console.log(null===X||void 0===X?void 0:X.email),null===X||void 0===X||!X.uid)return;const n=(new Date).toISOString(),r=te(W),s=te(G),i=te(J),o=te(n),a="Submissions/".concat(X.uid,"/").concat(r,"/").concat(s,"/").concat(i,"/").concat(o);try{await(0,c.hZ)((0,c.KR)(A.OO,a),{language:S,status:e,code:t}),console.log("Submission logged successfully."),z(e=>e+1)}catch(l){console.error("Error logging submission:",l)}})(u?"correct":"wrong",f)},className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded-md flex items-center gap-1 text-xs transition-colors duration-150",children:[(0,k.jsx)(Te,{}),"Submit"]}),(null===h||void 0===h?void 0:h.showNavigation)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("button",{onClick:h.onPrevious,className:"flex items-center gap-1 px-2 py-1 rounded-md font-medium text-[11px] transition-all duration-200 ".concat(0===h.currentQuestionIndex?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-md"),children:[(0,k.jsx)(h.NavigationIcons.ChevronLeft,{}),"Previous"]}),(0,k.jsxs)("button",{onClick:h.onNext,className:"flex items-center gap-1 px-2 py-1 rounded-md font-medium text-[11px] transition-all duration-200 ".concat(h.currentQuestionIndex===h.totalQuestions-1?"bg-red-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-md"),children:[h.currentQuestionIndex===h.totalQuestions-1?"Next Chapter":"Next",(0,k.jsx)(h.NavigationIcons.ChevronRight,{})]})]})]})]}),(0,k.jsx)("div",{className:"flex-1 bg-white dark:bg-gray-900 min-w-0 overflow-auto",children:(0,k.jsx)(Fe,{height:"100%",defaultLanguage:"cpp",language:"cpp"===S?"cpp":S,theme:"dark"===I?"vs-dark":"vs-light",value:f,onChange:ie,onMount:ae,options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",roundedSelection:!1,scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",tabSize:2,dragAndDrop:!0,formatOnPaste:!0,formatOnType:!0}})})]}),(0,k.jsx)(Ph,{})]})},Mh=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Hh=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Vh=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9h8M8 15h8"})});const Kh=function(e){let{data:n}=e;const[r,s]=(0,t.useState)("description"),[o,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(45),{theme:g}=(0,a.D)(),{user:m}=(0,l.A)(),{course:y,subcourse:v,questionId:w}=(0,i.g)();return(0,t.useEffect)(()=>{u(null),h(!1);return(async()=>{if(m&&y&&v&&w){const t=(0,c.KR)(A.OO,"userprogress/".concat(m.uid,"/").concat(y,"/").concat(v,"/").concat(w));try{const e=await(0,c.Jt)(t);if(e.exists()){e.val();u(n.correctAnswer-1),h(!0)}}catch(e){console.error("Error loading user answer:",e)}}})(),()=>{u(null),h(!1)}},[m,y,v,w,n]),(0,k.jsx)("div",{className:"fixed inset-0 flex flex-col bg-white dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden h-full shadow-sm",style:{width:"".concat(f,"%")},children:[(0,k.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("button",{className:"px-6 py-4 text-sm font-medium ".concat("description"===r?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),onClick:()=>s("description"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Mh,{}),"Description"]})})}),(0,k.jsx)("div",{className:"p-6 flex-1 overflow-auto",children:"description"===r&&(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white break-words",children:n.questionname}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:[(0,k.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full text-sm font-medium",children:n.difficulty}),(0,k.jsx)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]}),(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Statement"}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:n.question}),(null===n||void 0===n?void 0:n.darkimageurl)&&(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsx)("img",{src:"dark"===g?n.darkimageurl:n.lightimageurl,alt:"Question diagram",className:"max-w-full h-auto rounded-lg border border-gray-200 dark:border-gray-700",onError:e=>{console.error("Failed to load image. Original URL:",n.imageurl),e.target.style.display="none"}})})]}),d&&(0,k.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-blue-800 dark:text-blue-200",children:"Explanation"}),(0,k.jsx)("p",{className:"text-blue-700 dark:text-blue-300",children:n.explanation})]})]})]})})]}),(0,k.jsx)("div",{className:"w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 cursor-col-resize flex items-center justify-center transition-colors duration-150",style:{zIndex:10},children:(0,k.jsx)(Vh,{})}),(0,k.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"p-6 overflow-y-auto h-full",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Select the correct answer"}),(0,k.jsx)("div",{className:"space-y-4 mb-8",children:n.options.map((e,t)=>{let r="p-4 border rounded-lg cursor-pointer transition-colors duration-150 ";return d?t===n.correctAnswer-1?r+="bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700 text-green-800 dark:text-green-200":t===o&&t!==n.correctAnswer-1?r+="bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700 text-red-800 dark:text-red-200":r+="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300":r+=o===t?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-800 dark:text-blue-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-blue-300 dark:hover:border-blue-600",(0,k.jsx)("div",{className:r,onClick:()=>(e=>{d||u(e)})(t),children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsxs)("span",{className:"font-medium mr-3",children:[String.fromCharCode(65+t),"."]}),(0,k.jsx)("span",{children:e})]})},t)})}),(0,k.jsxs)("div",{className:"mt-auto",children:[(0,k.jsx)("button",{onClick:async()=>{await(async()=>{if(null===o||!m||!y||!v||!w||!n)return;const e=(0,c.KR)(A.OO,"userprogress/".concat(m.uid,"/").concat(y,"/").concat(v,"/").concat(w));try{await(0,c.hZ)(e,!0),h(!0)}catch(t){console.error("Failed to save answer:",t)}})()},disabled:null===o||d,className:"px-6 py-3 rounded-lg font-medium text-sm ".concat(null===o||d?"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"," transition-colors duration-150"),children:d?"Submitted":"Submit Answer"}),d&&(0,k.jsx)("div",{className:"mt-6 p-4 rounded-lg bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(Hh,{className:"text-blue-500 dark:text-blue-400 mr-3 flex-shrink-0"}),(0,k.jsx)("span",{className:"text-blue-800 dark:text-blue-200",children:o===n.correctAnswer-1?"Correct! Well done!":"Incorrect. The correct answer is ".concat(String.fromCharCode(65+n.correctAnswer-1),".")})]})})]})]})})]})})};var qh=n(6040);const zh=w("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wh=w("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Gh=w("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),Jh=w("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Xh=w("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Yh=w("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Zh=w("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),$h=w("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ef=w("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),tf=[{id:"fcfs",name:"First Come First Serve",description:"Processes are executed in the order they arrive",icon:Xh,color:"blue"},{id:"sjf",name:"Shortest Job First",description:"Process with shortest burst time is executed first",icon:Yh,color:"green"},{id:"srtf",name:"Shortest Remaining Time First",description:"Preemptive version of SJF",icon:Zh,color:"yellow"},{id:"rr",name:"Round Robin",description:"Each process gets a fixed time quantum",icon:$h,color:"purple"},{id:"priority",name:"Priority Scheduling",description:"Process with highest priority is executed first",icon:ef,color:"pink"}],nf=e=>{let{selectedAlgorithm:t,onAlgorithmChange:n}=e;const r=(e,t)=>{const n="p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105";if(!t)return"".concat(n," bg-white dark:bg-gray-700/30 border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-500");switch(e){case"blue":return"".concat(n," bg-blue-50 dark:bg-blue-900/30 border-blue-500 dark:border-blue-400 text-blue-700 dark:text-blue-200 shadow-lg");case"green":return"".concat(n," bg-green-50 dark:bg-green-900/30 border-green-500 dark:border-green-400 text-green-700 dark:text-green-200 shadow-lg");case"yellow":return"".concat(n," bg-yellow-50 dark:bg-yellow-900/30 border-yellow-500 dark:border-yellow-400 text-yellow-700 dark:text-yellow-200 shadow-lg");case"purple":return"".concat(n," bg-purple-50 dark:bg-purple-900/30 border-purple-500 dark:border-purple-400 text-purple-700 dark:text-purple-200 shadow-lg");case"pink":return"".concat(n," bg-pink-50 dark:bg-pink-900/30 border-pink-500 dark:border-pink-400 text-pink-700 dark:text-pink-200 shadow-lg");case"indigo":return"".concat(n," bg-indigo-50 dark:bg-indigo-900/30 border-indigo-500 dark:border-indigo-400 text-indigo-700 dark:text-indigo-200 shadow-lg");default:return"".concat(n," bg-gray-50 dark:bg-gray-700/50 border-gray-500 dark:border-gray-400 text-gray-700 dark:text-gray-200 shadow-lg")}};return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors duration-200",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Select Scheduling Algorithm"}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:tf.map(e=>{const s=e.icon,i=t===e.id;return(0,k.jsxs)("div",{className:r(e.color,i),onClick:()=>n(e.id),children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,k.jsx)(s,{size:24,className:t===e.id?"opacity-100":"opacity-70"}),(0,k.jsx)("h4",{className:"font-medium text-sm leading-tight",children:e.name})]}),(0,k.jsx)("p",{className:"text-xs opacity-80 dark:opacity-70 leading-relaxed",children:e.description})]},e.id)})})]})},rf=w("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),sf=w("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),of=w("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),af=e=>{let{processes:n,setProcesses:r,algorithm:s,timeQuantum:i,setTimeQuantum:o}=e;const[a,l]=(0,t.useState)({name:"",arrivalTime:0,burstTime:1,priority:1});return(0,k.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Process Configuration"}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsxs)("button",{onClick:()=>{r([])},className:"flex items-center gap-2 px-3 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors text-sm",children:[(0,k.jsx)(rf,{size:16}),"Clear"]}),(0,k.jsx)("button",{onClick:()=>{const e=[{id:1,name:"P1",arrivalTime:0,burstTime:6},{id:2,name:"P2",arrivalTime:1,burstTime:8},{id:3,name:"P3",arrivalTime:2,burstTime:7},{id:4,name:"P4",arrivalTime:3,burstTime:3},{id:5,name:"P5",arrivalTime:4,burstTime:4}].map(e=>(0,d.A)((0,d.A)({},e),"priority"===s&&{priority:Math.floor(3*Math.random())+1}));r(e)},className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm",children:"Load Sample"})]})]}),"rr"===s&&(0,k.jsxs)("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Time Quantum (Time Slice)"}),(0,k.jsx)("input",{type:"number",min:"1",value:i,onChange:e=>o(parseInt(e.target.value)||1),className:"w-24 px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,k.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"Each process will run for this many time units before switching"})]}),(0,k.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Process Name"}),(0,k.jsx)("input",{type:"text",placeholder:"P1",value:a.name,onChange:e=>l((0,d.A)((0,d.A)({},a),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arrival Time"}),(0,k.jsx)("input",{type:"number",min:"0",value:a.arrivalTime,onChange:e=>l((0,d.A)((0,d.A)({},a),{},{arrivalTime:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Burst Time"}),(0,k.jsx)("input",{type:"number",min:"1",value:a.burstTime,onChange:e=>l((0,d.A)((0,d.A)({},a),{},{burstTime:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),"priority"===s&&(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (1=Highest)"}),(0,k.jsx)("input",{type:"number",min:"1",value:a.priority,onChange:e=>l((0,d.A)((0,d.A)({},a),{},{priority:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,k.jsxs)("button",{onClick:()=>{if(!a.name.trim())return;const e=(0,d.A)({id:Date.now(),name:a.name,arrivalTime:a.arrivalTime,burstTime:a.burstTime},"priority"===s&&{priority:a.priority});r([...n,e]),l({name:"",arrivalTime:0,burstTime:1,priority:1})},disabled:!a.name.trim(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:[(0,k.jsx)(sf,{size:18}),"Add Process"]})]}),n.length>0&&(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-medium text-gray-700",children:["Current Processes (",n.length,"):"]}),(0,k.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.map(e=>(0,k.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-md border border-gray-200",children:[(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("span",{className:"font-semibold text-gray-800 bg-white px-2 py-1 rounded text-sm",children:e.name}),(0,k.jsxs)("span",{className:"text-sm text-gray-600",children:["Arrival: ",e.arrivalTime]}),(0,k.jsxs)("span",{className:"text-sm text-gray-600",children:["Burst: ",e.burstTime]}),"priority"===s&&e.priority&&(0,k.jsxs)("span",{className:"text-sm text-purple-600 bg-purple-100 px-2 py-1 rounded",children:["Priority: ",e.priority]})]}),(0,k.jsx)("button",{onClick:()=>(e=>{r(n.filter(t=>t.id!==e))})(e.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors",children:(0,k.jsx)(of,{size:16})})]},e.id))})]})]})},lf=e=>{let{ganttChart:t,title:n}=e;if(0===t.length)return null;const r=Math.max(...t.map(e=>e.endTime));return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors duration-200",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:n}),(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"relative bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg",children:[(0,k.jsx)("div",{className:"flex border-2 border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",children:t.map((e,t)=>(0,k.jsxs)("div",{className:"relative h-16 flex items-center justify-center text-white font-bold text-sm border-r border-white dark:border-gray-600 last:border-r-0 hover:opacity-90 transition-opacity",style:{backgroundColor:e.color,width:"".concat((e.endTime-e.startTime)/r*100,"%"),minWidth:"60px"},title:"".concat(e.processName," (").concat(e.startTime,"-").concat(e.endTime,")"),children:[e.processName,(0,k.jsxs)("div",{className:"absolute bottom-1 left-1 right-1 text-xs text-white/80",children:[e.endTime-e.startTime,"u"]})]},t))}),(0,k.jsx)("div",{className:"flex mt-3 relative",children:t.map((e,n)=>(0,k.jsxs)("div",{className:"relative text-sm font-medium text-gray-700 dark:text-gray-300",style:{width:"".concat((e.endTime-e.startTime)/r*100,"%"),minWidth:"60px"},children:[(0,k.jsx)("span",{className:"absolute left-0 -translate-x-1/2 bg-white dark:bg-gray-800 px-1 rounded text-gray-700 dark:text-gray-300",children:e.startTime}),n===t.length-1&&(0,k.jsx)("span",{className:"absolute right-0 translate-x-1/2 bg-white dark:bg-gray-800 px-1 rounded text-gray-700 dark:text-gray-300",children:e.endTime})]},n))})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,k.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Process Legend"}),(0,k.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Array.from(new Set(t.map(e=>e.processName))).map(e=>{const n=t.find(t=>t.processName===e);return(0,k.jsxs)("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600",children:[(0,k.jsx)("div",{className:"w-4 h-4 rounded flex-shrink-0 border border-white dark:border-gray-700",style:{backgroundColor:n.color}}),(0,k.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e})]},e)})})]}),(0,k.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 border border-blue-200 dark:border-blue-800/50",children:(0,k.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",children:"Total Time"}),(0,k.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:r})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",children:"Processes"}),(0,k.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:new Set(t.map(e=>e.processName)).size})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",children:"Context Switches"}),(0,k.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.length-1})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",children:"Avg Time Slice"}),(0,k.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:(r/t.length).toFixed(1)})]})]})})]})]})},Af=w("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),cf=e=>{let{result:t}=e;return t.processes.length?(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors duration-200",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Performance Analysis"}),(0,k.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,k.jsxs)("table",{className:"w-full text-sm",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 border-b-2 border-gray-200 dark:border-gray-600",children:[(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Process"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Arrival"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Burst"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Completion"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Waiting"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Turnaround"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Response"})]})}),(0,k.jsx)("tbody",{children:t.processes.map((e,t)=>(0,k.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors ".concat(t%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700/50"),children:[(0,k.jsx)("td",{className:"py-4 px-4 font-bold text-gray-800 dark:text-gray-100 bg-gradient-to-r from-blue-100 to-transparent dark:from-blue-900/30 dark:to-transparent",children:e.name}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.arrivalTime}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.burstTime}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.completionTime}),(0,k.jsx)("td",{className:"py-4 px-4 font-medium",children:(0,k.jsx)("span",{className:0===e.waitingTime?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400",children:e.waitingTime})}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.turnaroundTime}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.responseTime})]},e.id))})]})}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,k.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl p-6 border border-blue-200 dark:border-blue-800/50 hover:shadow-lg transition-shadow",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,k.jsx)("div",{className:"p-2 bg-blue-500 rounded-lg",children:(0,k.jsx)(Xh,{className:"h-5 w-5 text-white"})}),(0,k.jsx)("h4",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Avg Waiting Time"})]}),(0,k.jsx)("p",{className:"text-3xl font-bold text-blue-800 dark:text-blue-200 mb-1",children:t.averageWaitingTime.toFixed(2)}),(0,k.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-300/80",children:"time units"})]}),(0,k.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl p-6 border border-green-200 dark:border-green-800/50 hover:shadow-lg transition-shadow",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,k.jsx)("div",{className:"p-2 bg-green-500 rounded-lg",children:(0,k.jsx)($h,{className:"h-5 w-5 text-white"})}),(0,k.jsx)("h4",{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Avg Turnaround Time"})]}),(0,k.jsx)("p",{className:"text-3xl font-bold text-green-800 dark:text-green-200 mb-1",children:t.averageTurnaroundTime.toFixed(2)}),(0,k.jsx)("p",{className:"text-xs text-green-600 dark:text-green-300/80",children:"time units"})]}),(0,k.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 rounded-xl p-6 border border-purple-200 dark:border-purple-800/50 hover:shadow-lg transition-shadow",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,k.jsx)("div",{className:"p-2 bg-purple-500 rounded-lg",children:(0,k.jsx)(Yh,{className:"h-5 w-5 text-white"})}),(0,k.jsx)("h4",{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Avg Response Time"})]}),(0,k.jsx)("p",{className:"text-3xl font-bold text-purple-800 dark:text-purple-200 mb-1",children:t.averageResponseTime.toFixed(2)}),(0,k.jsx)("p",{className:"text-xs text-purple-600 dark:text-purple-300/80",children:"time units"})]}),(0,k.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl p-6 border border-orange-200 dark:border-orange-800/50 hover:shadow-lg transition-shadow",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,k.jsx)("div",{className:"p-2 bg-orange-500 rounded-lg",children:(0,k.jsx)(Af,{className:"h-5 w-5 text-white"})}),(0,k.jsx)("h4",{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"CPU Utilization"})]}),(0,k.jsxs)("p",{className:"text-3xl font-bold text-orange-800 dark:text-orange-200 mb-1",children:[t.cpuUtilization.toFixed(1),"%"]}),(0,k.jsx)("p",{className:"text-xs text-orange-600 dark:text-orange-300/80",children:"efficiency"})]})]}),(0,k.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg transition-colors duration-200",children:[(0,k.jsx)("h4",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Performance Insights"}),(0,k.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,k.jsx)("div",{children:(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Best Performer:"})," ",t.processes.reduce((e,t)=>t.waitingTime<e.waitingTime?t:e).name," ",(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"(lowest waiting time)"})]})}),(0,k.jsx)("div",{children:(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Total Execution Time:"})," ",Math.max(...t.processes.map(e=>e.completionTime))," ",(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"time units"})]})})]})]})]}):null},uf=w("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),df=w("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),hf={fcfs:{title:"First Come First Serve (FCFS)",description:"The simplest scheduling algorithm where processes are executed in the order they arrive, like a queue at a store.",advantages:["Simple to understand and implement","Fair in the sense that every process gets equal opportunity","No starvation - all processes will eventually be executed","Low overhead - no complex calculations needed"],disadvantages:["Average waiting time is often quite long","Convoy effect - short processes wait for long processes","Not optimal for interactive systems","Poor response time for time-critical applications"],timeComplexity:"O(n)",usage:"Batch systems where fairness is more important than efficiency",characteristics:["Non-preemptive","Simple implementation","FIFO order"]},sjf:{title:"Shortest Job First (SJF)",description:"Non-preemptive algorithm that selects the process with the smallest burst time first.",advantages:["Optimal for minimizing average waiting time","Better performance than FCFS for most cases","Good for batch systems with known execution times","Reduces overall system load"],disadvantages:["Starvation of longer processes possible","Difficult to predict burst time in practice","Not suitable for interactive systems","Can lead to indefinite postponement"],timeComplexity:"O(n\xb2)",usage:"Batch systems where process execution times are known in advance",characteristics:["Non-preemptive","Optimal for average waiting time","Requires burst time knowledge"]},srtf:{title:"Shortest Remaining Time First (SRTF)",description:"Preemptive version of SJF that can switch to a newly arrived shorter process.",advantages:["Optimal for minimizing average waiting time","Better response time than SJF","Good for time-sharing systems","Can handle dynamic process arrivals"],disadvantages:["High overhead due to frequent context switching","Starvation of longer processes","Complex to implement and manage","Requires accurate burst time prediction"],timeComplexity:"O(n\xb2)",usage:"Time-sharing systems where quick response is needed",characteristics:["Preemptive","Dynamic scheduling","High context switching"]},rr:{title:"Round Robin (RR)",description:"Each process gets a fixed time quantum. If not completed, it goes to the back of the queue.",advantages:["Fair allocation of CPU time to all processes","Good response time for interactive systems","No starvation - every process gets CPU time","Works well for time-sharing systems"],disadvantages:["Higher average waiting time than SJF","Performance depends heavily on time quantum size","Context switching overhead can be significant","Not optimal for batch processing"],timeComplexity:"O(n)",usage:"Interactive and time-sharing systems",characteristics:["Preemptive","Fixed time quantum","Circular queue"]},priority:{title:"Priority Scheduling",description:"Each process has a priority. The process with the highest priority is executed first.",advantages:["Important processes can be executed first","Flexible - priorities can be assigned based on various criteria","Good for real-time systems","Can implement aging to prevent starvation"],disadvantages:["Starvation of low-priority processes","Complex priority assignment and management","May not be optimal for average waiting time","Priority inversion problems possible"],timeComplexity:"O(n\xb2)",usage:"Real-time systems and systems with varying process importance",characteristics:["Priority-based","Can be preemptive or non-preemptive","Flexible scheduling"]},multilevel:{title:"Multilevel Queue",description:"Processes are classified into different queues based on their properties, each with its own scheduling algorithm.",advantages:["Different algorithms for different types of processes","Flexible and highly customizable","Good for systems with diverse process types","Can optimize for different process characteristics"],disadvantages:["Complex to implement and manage","Potential for starvation in lower priority queues","Fixed priority between queues","Difficult to balance queue priorities"],timeComplexity:"Varies by implementation",usage:"Complex systems with multiple types of processes (system, interactive, batch)",characteristics:["Multiple queues","Different algorithms per queue","Process classification"]}},ff=e=>{let{algorithm:t}=e;const n=hf[t];return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition-colors duration-200",children:[(0,k.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-700 dark:to-indigo-800 text-white p-6",children:[(0,k.jsx)("h3",{className:"text-xl font-bold mb-2",children:n.title}),(0,k.jsx)("p",{className:"text-blue-100/90 dark:text-blue-100/80 leading-relaxed",children:n.description})]}),(0,k.jsxs)("div",{className:"p-6 space-y-6",children:[(0,k.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 rounded-lg p-4 border border-indigo-200 dark:border-indigo-800/50",children:[(0,k.jsxs)("h4",{className:"font-semibold text-indigo-800 dark:text-indigo-200 mb-3 flex items-center gap-2",children:[(0,k.jsx)(Yh,{size:18,className:"text-indigo-600 dark:text-indigo-400"}),"Key Characteristics"]}),(0,k.jsx)("div",{className:"flex flex-wrap gap-2",children:n.characteristics.map((e,t)=>(0,k.jsx)("span",{className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-800/50 text-indigo-700 dark:text-indigo-200 rounded-full text-sm font-medium border border-indigo-200 dark:border-indigo-700/50",children:e},t))})]}),(0,k.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-semibold text-green-700 dark:text-green-400 mb-3 flex items-center gap-2",children:[(0,k.jsx)(uf,{size:18,className:"text-green-600 dark:text-green-500"}),"Advantages"]}),(0,k.jsx)("ul",{className:"space-y-2",children:n.advantages.map((e,t)=>(0,k.jsxs)("li",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-start gap-2",children:[(0,k.jsx)("span",{className:"text-green-500 dark:text-green-400 mt-1 flex-shrink-0",children:"\u2022"}),(0,k.jsx)("span",{children:e})]},t))})]}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-3 flex items-center gap-2",children:[(0,k.jsx)(df,{size:18,className:"text-red-600 dark:text-red-500"}),"Disadvantages"]}),(0,k.jsx)("ul",{className:"space-y-2",children:n.disadvantages.map((e,t)=>(0,k.jsxs)("li",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-start gap-2",children:[(0,k.jsx)("span",{className:"text-red-500 dark:text-red-400 mt-1 flex-shrink-0",children:"\u2022"}),(0,k.jsx)("span",{children:e})]},t))})]})]}),(0,k.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,k.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-100 dark:border-blue-900/30",children:[(0,k.jsxs)("h4",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2 flex items-center gap-2",children:[(0,k.jsx)(Xh,{size:16,className:"text-blue-600 dark:text-blue-400"}),"Time Complexity"]}),(0,k.jsx)("p",{className:"text-blue-800 dark:text-blue-200 font-mono text-lg",children:n.timeComplexity})]}),(0,k.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-100 dark:border-purple-900/30",children:[(0,k.jsx)("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"Best Use Cases"}),(0,k.jsx)("p",{className:"text-sm text-purple-800 dark:text-purple-200 leading-relaxed",children:n.usage})]})]})]})]})},pf=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF","#5F27CD","#00D2D3","#FF9F43","#FF6348","#2ED573","#3742FA","#2F3542","#57606F"];function gf(e){return pf[e%pf.length]}function mf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;switch(e){case"fcfs":default:return yf(t);case"sjf":return vf(t);case"srtf":return function(e){const t=e.map(e=>(0,d.A)((0,d.A)({},e),{},{remainingTime:e.burstTime})),n=[],r=[];let s=0,i=null;for(;t.some(e=>e.remainingTime>0);){const e=t.filter(e=>e.arrivalTime<=s&&e.remainingTime>0);if(0===e.length){s++;continue}const o=e.reduce((e,t)=>t.remainingTime<e.remainingTime?t:e);i&&i.id===o.id?n[n.length-1].endTime=s+1:(i&&(n[n.length-1].endTime=s),n.push({processId:o.id,processName:o.name,startTime:s,endTime:s+1,color:gf(o.id)}),o.startTime||0===o.startTime||(o.startTime=s),i=o),o.remainingTime--,s++,0===o.remainingTime&&(o.completionTime=s,o.turnaroundTime=o.completionTime-o.arrivalTime,o.waitingTime=o.turnaroundTime-o.burstTime,o.responseTime=o.startTime-o.arrivalTime,r.push(o))}return bf(r,function(e){if(0===e.length)return[];const t=[];let n=(0,d.A)({},e[0]);for(let r=1;r<e.length;r++)e[r].processId===n.processId&&e[r].startTime===n.endTime?n.endTime=e[r].endTime:(t.push(n),n=(0,d.A)({},e[r]));return t.push(n),t}(n))}(t);case"rr":return wf(t,n);case"priority":return function(e){const t=[...e],n=[],r=[];let s=0;for(;t.length>0;){const e=t.filter(e=>e.arrivalTime<=s);if(0===e.length){s=Math.min(...t.map(e=>e.arrivalTime));continue}const i=e.reduce((e,t)=>t.priority<e.priority?t:e),o=s,a=s+i.burstTime;n.push({processId:i.id,processName:i.name,startTime:o,endTime:a,color:gf(i.id)}),r.push((0,d.A)((0,d.A)({},i),{},{startTime:o,completionTime:a,turnaroundTime:a-i.arrivalTime,waitingTime:o-i.arrivalTime,responseTime:o-i.arrivalTime})),s=a,t.splice(t.indexOf(i),1)}return bf(r,n)}(t);case"multilevel":return function(e){const t=e.filter(e=>1===e.priority),n=e.filter(e=>e.priority>=2&&e.priority<=3),r=e.filter(e=>e.priority>3);let s=[],i=[],o=0;if(t.length>0){const e=yf(t);s=[...s,...e.ganttChart],i=[...i,...e.processes],o=Math.max(...e.ganttChart.map(e=>e.endTime))}if(n.length>0){const e=n.map(e=>(0,d.A)((0,d.A)({},e),{},{arrivalTime:Math.max(e.arrivalTime,o)})),t=wf(e,2);s=[...s,...t.ganttChart],i=[...i,...t.processes],o=Math.max(...t.ganttChart.map(e=>e.endTime))}if(r.length>0){const e=r.map(e=>(0,d.A)((0,d.A)({},e),{},{arrivalTime:Math.max(e.arrivalTime,o)})),t=vf(e);s=[...s,...t.ganttChart],i=[...i,...t.processes]}return bf(i,s)}(t)}}function yf(e){const t=[...e].sort((e,t)=>e.arrivalTime-t.arrivalTime),n=[];let r=0;return bf(t.map(e=>{const t=Math.max(r,e.arrivalTime),s=t+e.burstTime;return n.push({processId:e.id,processName:e.name,startTime:t,endTime:s,color:gf(e.id)}),r=s,(0,d.A)((0,d.A)({},e),{},{startTime:t,completionTime:s,turnaroundTime:s-e.arrivalTime,waitingTime:t-e.arrivalTime,responseTime:t-e.arrivalTime})}),n)}function vf(e){const t=[...e],n=[],r=[];let s=0;for(;t.length>0;){const e=t.filter(e=>e.arrivalTime<=s);if(0===e.length){s=Math.min(...t.map(e=>e.arrivalTime));continue}const i=e.reduce((e,t)=>t.burstTime<e.burstTime?t:e),o=s,a=s+i.burstTime;n.push({processId:i.id,processName:i.name,startTime:o,endTime:a,color:gf(i.id)}),r.push((0,d.A)((0,d.A)({},i),{},{startTime:o,completionTime:a,turnaroundTime:a-i.arrivalTime,waitingTime:o-i.arrivalTime,responseTime:o-i.arrivalTime})),s=a,t.splice(t.indexOf(i),1)}return bf(r,n)}function wf(e,t){const n=e.map(e=>(0,d.A)((0,d.A)({},e),{},{remainingTime:e.burstTime})),r=[],s=[],i=[];let o=0,a=0;for(;a<n.length&&n[a].arrivalTime<=o;)r.push(n[a]),a++;for(;r.length>0||a<n.length;){0===r.length&&(o=n[a].arrivalTime,r.push(n[a]),a++);const e=r.shift(),l=Math.min(t,e.remainingTime);for(e.startTime||0===e.startTime||(e.startTime=o),s.push({processId:e.id,processName:e.name,startTime:o,endTime:o+l,color:gf(e.id)}),o+=l,e.remainingTime-=l;a<n.length&&n[a].arrivalTime<=o;)r.push(n[a]),a++;e.remainingTime>0?r.push(e):(e.completionTime=o,e.turnaroundTime=e.completionTime-e.arrivalTime,e.waitingTime=e.turnaroundTime-e.burstTime,e.responseTime=e.startTime-e.arrivalTime,i.push(e))}return bf(i,s)}function bf(e,t){const n=e.reduce((e,t)=>e+(t.waitingTime||0),0),r=e.reduce((e,t)=>e+(t.turnaroundTime||0),0),s=e.reduce((e,t)=>e+(t.responseTime||0),0),i=t.length>0?Math.max(...t.map(e=>e.endTime)):0,o=e.reduce((e,t)=>e+t.burstTime,0);return{ganttChart:t,processes:e.sort((e,t)=>e.id-t.id),averageWaitingTime:e.length>0?n/e.length:0,averageTurnaroundTime:e.length>0?r/e.length:0,averageResponseTime:e.length>0?s/e.length:0,cpuUtilization:i>0?o/i*100:0}}const xf=function(){const[e,n]=(0,t.useState)("fcfs"),[r,s]=(0,t.useState)([]),[o,u]=(0,t.useState)(2),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)("simulator"),{user:g}=(0,l.A)(),{theme:m,toggleTheme:y}=(0,a.D)(),{course:v,subcourse:w,questionId:b}=(0,i.g)();(0,t.useEffect)(()=>{if(r.length>0){const t=mf(e,r,o);h(t)}else h(null)},[e,r,o]),(0,t.useEffect)(()=>{if(!g||!v||!w||!b)return;(async()=>{const e=(0,c.KR)(A.OO,"userprogress/".concat(g.uid,"/").concat(v,"/").concat(w,"/").concat(b));console.log(e);try{await(0,c.hZ)(e,!0)}catch(t){console.error("Failed to save answer:",t)}})()},[g,v,w,b]);const x=[{id:"simulator",label:"Simulator",icon:zh},{id:"learn",label:"Learn",icon:Wh}];return(0,k.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 transition-colors duration-200",children:[(0,k.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,k.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,k.jsx)(Gh,{className:"h-6 w-6 text-white"})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"CPU Scheduler"}),(0,k.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Learn & Visualize Scheduling Algorithms"})]})]}),(0,k.jsx)("div",{className:"flex items-center space-x-4",children:(0,k.jsx)("nav",{className:"flex space-x-1",children:x.map(e=>{const t=e.icon;return(0,k.jsxs)("button",{onClick:()=>p(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors ".concat(f===e.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"),children:[(0,k.jsx)(t,{size:16}),e.label]},e.id)})})})]})})}),(0,k.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 transition-colors duration-200",children:["simulator"===f&&(0,k.jsxs)("div",{className:"space-y-8",children:[(0,k.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,k.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Process Scheduler"}),(0,k.jsx)(nf,{selectedAlgorithm:e,onAlgorithmChange:n}),(0,k.jsx)(af,{processes:r,setProcesses:s,algorithm:e,timeQuantum:o,setTimeQuantum:u})]})}),(0,k.jsx)("div",{className:"lg:col-span-1",children:(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,k.jsx)(ff,{algorithm:e})})})]}),d&&(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,k.jsx)(lf,{ganttChart:d.ganttChart,title:"Process Execution Timeline"})}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,k.jsx)(cf,{result:d})})]})]}),"learn"===f&&(0,k.jsxs)("div",{className:"space-y-8",children:[(0,k.jsxs)("div",{className:"text-center mb-8",children:[(0,k.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"CPU Scheduling Algorithms Guide"}),(0,k.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Learn about different CPU scheduling algorithms, their characteristics, and when to use each one in operating systems."})]}),(0,k.jsx)("div",{className:"grid gap-8",children:["fcfs","sjf","srtf","rr","priority","multilevel"].map(e=>(0,k.jsx)(ff,{algorithm:e},e))})]}),"compare"===f&&(0,k.jsx)("div",{className:"text-center py-16",children:(0,k.jsxs)("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-md p-8",children:[(0,k.jsx)(Jh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Algorithm Comparison"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Compare performance metrics across different scheduling algorithms with the same process set."}),(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Feature coming soon! Use the simulator to test different algorithms with the same processes."})]})})]})]})},Cf={ChevronLeft:()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),ChevronRight:()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})},Bf=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[o,a]=(0,t.useState)([]),[l,u]=(0,t.useState)(0),{course:d,subcourse:h,questionId:f}=(0,i.g)(),p=(0,i.Zp)(),[g,m]=(0,t.useState)("active");(0,t.useEffect)(()=>{(async()=>{try{const e=(0,c.KR)(A.OO,"questions/".concat(f)),t=(0,c.KR)(A.OO,"AlgoCore/".concat(d,"/lessons/").concat(h,"/status")),[r,s]=await Promise.all([(0,c.Jt)(e),(0,c.Jt)(t)]);if(console.log(r.val()),console.log(s.val()),r.exists()){const e=r.val();console.log(e),n(e),m(s.val())}}catch(e){console.error("Error fetching data from Firebase:",e)}})(),(async()=>{try{const e=(0,c.KR)(A.OO,"AlgoCore/".concat(d,"/lessons/").concat(h,"/questions")),[t]=await Promise.all([(0,c.Jt)(e)]);if(console.log(t.val()),t.exists()){const e=t.val();let n;console.log("Raw questions data:",e),Array.isArray(e)?n=e:"object"===typeof e?n=Object.keys(e):(console.error("Unexpected questions data structure:",e),n=[]),console.log("Processed questions list:",n),a(n);const r=n.findIndex(e=>e===f);console.log("Current question ID:",f),console.log("Found index:",r),u(-1!==r?r:0)}}catch(e){console.error("Error fetching data from Firebase:",e)}})(),"CpuVisual"===f&&n({type:"CpuVisual"}),s(!1)},[f,d,h]);const y=()=>{if(console.log("Previous button clicked"),console.log("Current index:",l),console.log("All questions:",o),l>0){const e=o[l-1];console.log("Navigating to previous question:",e);const t="/problem/".concat(d,"/").concat(h,"/").concat(e);console.log("Navigation URL:",t),p(t)}else console.log("Already at first question - redirecting to home"),p("/course/os")},v=()=>{if(console.log("Next button clicked"),console.log("Current index:",l),console.log("All questions:",o),l<o.length-1){const e=o[l+1];console.log("Navigating to next question:",e);const t="/problem/".concat(d,"/").concat(h,"/").concat(e);console.log("Navigation URL:",t),p(t)}else console.log("At last question - redirecting to home"),p("/course/os")};if(r)return(0,k.jsx)(qh.A,{});if(!e)return(0,k.jsx)(qh.A,{message:"Slow internet, loading...."});const w={showNavigation:o.length>1,currentQuestionIndex:l,totalQuestions:o.length,onPrevious:y,onNext:v,NavigationIcons:Cf};return"blocked"===g?(0,k.jsx)(qh.A,{message:"This topic is blocked"}):(0,k.jsxs)("div",{className:"relative",children:["Programming"===e.type&&(0,k.jsx)(Rh,{data:e,navigation:w}),"MCQ"===e.type&&(0,k.jsx)(Kh,{data:e}),"CpuVisual"===e.type&&(0,k.jsx)(xf,{}),("MCQ"===e.type||"CpuVisual"===e.type)&&o.length>1&&(0,k.jsxs)("div",{className:"fixed bottom-6 right-6 flex gap-3 z-50",children:[(0,k.jsxs)("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 shadow-lg ".concat(0===l?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-xl transform hover:scale-105"),children:[(0,k.jsx)(Cf.ChevronLeft,{}),0===l?"Previous Chapter":"Previous"]}),(0,k.jsxs)("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 shadow-lg ".concat(l===o.length-1?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-xl transform hover:scale-105"),children:[l===o.length-1?"Next Chapter":"Next",(0,k.jsx)(Cf.ChevronRight,{})]})]})]})};var kf=n(2284),Nf=Uint8Array,Ef=Uint16Array,_f=Int32Array,Sf=new Nf([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ff=new Nf([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),If=new Nf([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tf=function(e,t){for(var n=new Ef(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var s=new _f(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},jf=Tf(Sf,2),Lf=jf.b,Uf=jf.r;Lf[28]=258,Uf[258]=28;for(var Qf=Tf(Ff,0),Pf=Qf.b,Of=Qf.r,Df=new Ef(32768),Rf=0;Rf<32768;++Rf){var Mf=(43690&Rf)>>1|(21845&Rf)<<1;Mf=(61680&(Mf=(52428&Mf)>>2|(13107&Mf)<<2))>>4|(3855&Mf)<<4,Df[Rf]=((65280&Mf)>>8|(255&Mf)<<8)>>1}var Hf=function(e,t,n){for(var r=e.length,s=0,i=new Ef(t);s<r;++s)e[s]&&++i[e[s]-1];var o,a=new Ef(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;if(n){o=new Ef(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var A=s<<4|e[s],c=t-e[s],u=a[e[s]-1]++<<c,d=u|(1<<c)-1;u<=d;++u)o[Df[u]>>l]=A}else for(o=new Ef(r),s=0;s<r;++s)e[s]&&(o[s]=Df[a[e[s]-1]++]>>15-e[s]);return o},Vf=new Nf(288);for(Rf=0;Rf<144;++Rf)Vf[Rf]=8;for(Rf=144;Rf<256;++Rf)Vf[Rf]=9;for(Rf=256;Rf<280;++Rf)Vf[Rf]=7;for(Rf=280;Rf<288;++Rf)Vf[Rf]=8;var Kf=new Nf(32);for(Rf=0;Rf<32;++Rf)Kf[Rf]=5;var qf=Hf(Vf,9,0),zf=Hf(Vf,9,1),Wf=Hf(Kf,5,0),Gf=Hf(Kf,5,1),Jf=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Xf=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},Yf=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},Zf=function(e){return(e+7)/8|0},$f=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new Nf(e.subarray(t,n))},ep=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],tp=function(e,t,n){var r=new Error(t||ep[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,tp),!n)throw r;return r},np=function(e,t,n,r){var s=e.length,i=r?r.length:0;if(!s||t.f&&!t.l)return n||new Nf(0);var o=!n,a=o||2!=t.i,l=t.i;o&&(n=new Nf(3*s));var A=function(e){var t=n.length;if(e>t){var r=new Nf(Math.max(2*t,e));r.set(n),n=r}},c=t.f||0,u=t.p||0,d=t.b||0,h=t.l,f=t.d,p=t.m,g=t.n,m=8*s;do{if(!h){c=Xf(e,u,1);var y=Xf(e,u+1,3);if(u+=3,!y){var v=e[(F=Zf(u)+4)-4]|e[F-3]<<8,w=F+v;if(w>s){l&&tp(0);break}a&&A(d+v),n.set(e.subarray(F,w),d),t.b=d+=v,t.p=u=8*w,t.f=c;continue}if(1==y)h=zf,f=Gf,p=9,g=5;else if(2==y){var b=Xf(e,u,31)+257,x=Xf(e,u+10,15)+4,C=b+Xf(e,u+5,31)+1;u+=14;for(var B=new Nf(C),k=new Nf(19),N=0;N<x;++N)k[If[N]]=Xf(e,u+3*N,7);u+=3*x;var E=Jf(k),_=(1<<E)-1,S=Hf(k,E,1);for(N=0;N<C;){var F,I=S[Xf(e,u,_)];if(u+=15&I,(F=I>>4)<16)B[N++]=F;else{var T=0,j=0;for(16==F?(j=3+Xf(e,u,3),u+=2,T=B[N-1]):17==F?(j=3+Xf(e,u,7),u+=3):18==F&&(j=11+Xf(e,u,127),u+=7);j--;)B[N++]=T}}var L=B.subarray(0,b),U=B.subarray(b);p=Jf(L),g=Jf(U),h=Hf(L,p,1),f=Hf(U,g,1)}else tp(1);if(u>m){l&&tp(0);break}}a&&A(d+131072);for(var Q=(1<<p)-1,P=(1<<g)-1,O=u;;O=u){var D=(T=h[Yf(e,u)&Q])>>4;if((u+=15&T)>m){l&&tp(0);break}if(T||tp(2),D<256)n[d++]=D;else{if(256==D){O=u,h=null;break}var R=D-254;if(D>264){var M=Sf[N=D-257];R=Xf(e,u,(1<<M)-1)+Lf[N],u+=M}var H=f[Yf(e,u)&P],V=H>>4;H||tp(3),u+=15&H;U=Pf[V];if(V>3){M=Ff[V];U+=Yf(e,u)&(1<<M)-1,u+=M}if(u>m){l&&tp(0);break}a&&A(d+131072);var K=d+R;if(d<U){var q=i-U,z=Math.min(U,K);for(q+d<0&&tp(3);d<z;++d)n[d]=r[q+d]}for(;d<K;++d)n[d]=n[d-U]}}t.l=h,t.p=O,t.b=d,t.f=c,h&&(c=1,t.m=p,t.d=f,t.n=g)}while(!c);return d!=n.length&&o?$f(n,0,d):n.subarray(0,d)},rp=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},sp=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},ip=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return{t:dp,l:0};if(1==s){var o=new Nf(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],A=0,c=1,u=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=s-1;)a=n[n[A].f<n[u].f?A++:u++],l=n[A!=c&&n[A].f<n[u].f?A++:u++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};var d=i[0].s;for(r=1;r<s;++r)i[r].s>d&&(d=i[r].s);var h=new Ef(d+1),f=op(n[c-1],h,0);if(f>t){r=0;var p=0,g=f-t,m=1<<g;for(i.sort(function(e,t){return h[t.s]-h[e.s]||e.f-t.f});r<s;++r){var y=i[r].s;if(!(h[y]>t))break;p+=m-(1<<f-h[y]),h[y]=t}for(p>>=g;p>0;){var v=i[r].s;h[v]<t?p-=1<<t-h[v]++-1:++r}for(;r>=0&&p;--r){var w=i[r].s;h[w]==t&&(--h[w],++p)}f=t}return{t:new Nf(h),l:f}},op=function(e,t,n){return-1==e.s?Math.max(op(e.l,t,n+1),op(e.r,t,n+1)):t[e.s]=n},ap=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ef(++t),r=0,s=e[0],i=1,o=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==s&&a!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[a]}return{c:n.subarray(0,r),n:t}},lp=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Ap=function(e,t,n){var r=n.length,s=Zf(t+2);e[s]=255&r,e[s+1]=r>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var i=0;i<r;++i)e[s+i+4]=n[i];return 8*(s+4+r)},cp=function(e,t,n,r,s,i,o,a,l,A,c){rp(t,c++,n),++s[256];for(var u=ip(s,15),d=u.t,h=u.l,f=ip(i,15),p=f.t,g=f.l,m=ap(d),y=m.c,v=m.n,w=ap(p),b=w.c,x=w.n,C=new Ef(19),B=0;B<y.length;++B)++C[31&y[B]];for(B=0;B<b.length;++B)++C[31&b[B]];for(var k=ip(C,7),N=k.t,E=k.l,_=19;_>4&&!N[If[_-1]];--_);var S,F,I,T,j=A+5<<3,L=lp(s,Vf)+lp(i,Kf)+o,U=lp(s,d)+lp(i,p)+o+14+3*_+lp(C,N)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&j<=L&&j<=U)return Ap(t,c,e.subarray(l,l+A));if(rp(t,c,1+(U<L)),c+=2,U<L){S=Hf(d,h,0),F=d,I=Hf(p,g,0),T=p;var Q=Hf(N,E,0);rp(t,c,v-257),rp(t,c+5,x-1),rp(t,c+10,_-4),c+=14;for(B=0;B<_;++B)rp(t,c+3*B,N[If[B]]);c+=3*_;for(var P=[y,b],O=0;O<2;++O){var D=P[O];for(B=0;B<D.length;++B){var R=31&D[B];rp(t,c,Q[R]),c+=N[R],R>15&&(rp(t,c,D[B]>>5&127),c+=D[B]>>12)}}}else S=qf,F=Vf,I=Wf,T=Kf;for(B=0;B<a;++B){var M=r[B];if(M>255){sp(t,c,S[(R=M>>18&31)+257]),c+=F[R+257],R>7&&(rp(t,c,M>>23&31),c+=Sf[R]);var H=31&M;sp(t,c,I[H]),c+=T[H],H>3&&(sp(t,c,M>>5&8191),c+=Ff[H])}else sp(t,c,S[M]),c+=F[M]}return sp(t,c,S[256]),c+F[256]},up=new _f([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),dp=new Nf(0),hp=function(e,t,n,r,s,i){var o=i.z||e.length,a=new Nf(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),A=i.l,c=7&(i.r||0);if(t){c&&(l[0]=i.r>>3);for(var u=up[t-1],d=u>>13,h=8191&u,f=(1<<n)-1,p=i.p||new Ef(32768),g=i.h||new Ef(f+1),m=Math.ceil(n/3),y=2*m,v=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&f},w=new _f(25e3),b=new Ef(288),x=new Ef(32),C=0,B=0,k=i.i||0,N=0,E=i.w||0,_=0;k+2<o;++k){var S=v(k),F=32767&k,I=g[S];if(p[F]=I,g[S]=F,E<=k){var T=o-k;if((C>7e3||N>24576)&&(T>423||!A)){c=cp(e,l,0,w,b,x,B,N,_,k-_,c),N=C=B=0,_=k;for(var j=0;j<286;++j)b[j]=0;for(j=0;j<30;++j)x[j]=0}var L=2,U=0,Q=h,P=F-I&32767;if(T>2&&S==v(k-P))for(var O=Math.min(d,T)-1,D=Math.min(32767,k),R=Math.min(258,T);P<=D&&--Q&&F!=I;){if(e[k+L]==e[k+L-P]){for(var M=0;M<R&&e[k+M]==e[k+M-P];++M);if(M>L){if(L=M,U=P,M>O)break;var H=Math.min(P,M-2),V=0;for(j=0;j<H;++j){var K=k-P+j&32767,q=K-p[K]&32767;q>V&&(V=q,I=K)}}}P+=(F=I)-(I=p[F])&32767}if(U){w[N++]=268435456|Uf[L]<<18|Of[U];var z=31&Uf[L],W=31&Of[U];B+=Sf[z]+Ff[W],++b[257+z],++x[W],E=k+L,++C}else w[N++]=e[k],++b[e[k]]}}for(k=Math.max(k,E);k<o;++k)w[N++]=e[k],++b[e[k]];c=cp(e,l,A,w,b,x,B,N,_,k-_,c),A||(i.r=7&c|l[c/8|0]<<3,c-=7,i.h=g,i.p=p,i.i=k,i.w=E)}else{for(k=i.w||0;k<o+A;k+=65535){var G=k+65535;G>=o&&(l[c/8|0]=A,G=o),c=Ap(l,c+1,e.subarray(k,G))}i.i=o}return $f(a,0,r+Zf(c)+s)},fp=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,i=0|n.length,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=r+=n[o];r=(65535&r)+15*(r>>16),s=(65535&s)+15*(s>>16)}e=r,t=s},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},pp=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Nf(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return hp(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,s)},gp=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},mp=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=fp();s.p(t.dictionary),gp(e,2,s.d())}},yp=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&tp(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&tp(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function vp(e,t){t||(t={});var n=fp();n.p(e);var r=pp(e,t,t.dictionary?6:2,4);return mp(r,t),gp(r,r.length-4,n.d()),r}function wp(e,t){return np(e.subarray(yp(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var bp="undefined"!=typeof TextDecoder&&new TextDecoder;try{bp.decode(dp,{stream:!0})}catch(TE){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var xp=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function Cp(){xp.console&&"function"==typeof xp.console.log&&xp.console.log.apply(xp.console,arguments)}var Bp={log:Cp,warn:function(e){xp.console&&("function"==typeof xp.console.warn?xp.console.warn.apply(xp.console,arguments):Cp.call(null,arguments))},error:function(e){xp.console&&("function"==typeof xp.console.error?xp.console.error.apply(xp.console,arguments):Cp(e))}};function kp(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Fp(r.response,t,n)},r.onerror=function(){Bp.error("could not download file")},r.send()}function Np(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function Ep(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(Yd){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var _p,Sp,Fp=xp.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,kf.A)(window))||window!==xp?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=xp.URL||xp.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin!==location.origin?Np(s.href)?kp(e,t,n):Ep(s,s.target="_blank"):Ep(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Ep(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Np(e))kp(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Ep(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,kf.A)(t)&&(Bp.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return kp(e,t,n);var s="application/octet-stream"===e.type,i=/constructor/i.test(xp.HTMLElement)||xp.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,kf.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var e=a.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},a.readAsDataURL(e)}else{var l=xp.URL||xp.webkitURL,A=l.createObjectURL(e);r?r.location=A:location.href=A,r=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});function Ip(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function Tp(e,t){var n=e[0],r=e[1],s=e[2],i=e[3];n=Lp(n,r,s,i,t[0],7,-680876936),i=Lp(i,n,r,s,t[1],12,-389564586),s=Lp(s,i,n,r,t[2],17,606105819),r=Lp(r,s,i,n,t[3],22,-1044525330),n=Lp(n,r,s,i,t[4],7,-176418897),i=Lp(i,n,r,s,t[5],12,1200080426),s=Lp(s,i,n,r,t[6],17,-1473231341),r=Lp(r,s,i,n,t[7],22,-45705983),n=Lp(n,r,s,i,t[8],7,1770035416),i=Lp(i,n,r,s,t[9],12,-1958414417),s=Lp(s,i,n,r,t[10],17,-42063),r=Lp(r,s,i,n,t[11],22,-1990404162),n=Lp(n,r,s,i,t[12],7,1804603682),i=Lp(i,n,r,s,t[13],12,-40341101),s=Lp(s,i,n,r,t[14],17,-1502002290),n=Up(n,r=Lp(r,s,i,n,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Up(i,n,r,s,t[6],9,-1069501632),s=Up(s,i,n,r,t[11],14,643717713),r=Up(r,s,i,n,t[0],20,-373897302),n=Up(n,r,s,i,t[5],5,-701558691),i=Up(i,n,r,s,t[10],9,38016083),s=Up(s,i,n,r,t[15],14,-660478335),r=Up(r,s,i,n,t[4],20,-405537848),n=Up(n,r,s,i,t[9],5,568446438),i=Up(i,n,r,s,t[14],9,-1019803690),s=Up(s,i,n,r,t[3],14,-187363961),r=Up(r,s,i,n,t[8],20,1163531501),n=Up(n,r,s,i,t[13],5,-1444681467),i=Up(i,n,r,s,t[2],9,-51403784),s=Up(s,i,n,r,t[7],14,1735328473),n=Qp(n,r=Up(r,s,i,n,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Qp(i,n,r,s,t[8],11,-2022574463),s=Qp(s,i,n,r,t[11],16,1839030562),r=Qp(r,s,i,n,t[14],23,-35309556),n=Qp(n,r,s,i,t[1],4,-1530992060),i=Qp(i,n,r,s,t[4],11,1272893353),s=Qp(s,i,n,r,t[7],16,-155497632),r=Qp(r,s,i,n,t[10],23,-1094730640),n=Qp(n,r,s,i,t[13],4,681279174),i=Qp(i,n,r,s,t[0],11,-358537222),s=Qp(s,i,n,r,t[3],16,-722521979),r=Qp(r,s,i,n,t[6],23,76029189),n=Qp(n,r,s,i,t[9],4,-640364487),i=Qp(i,n,r,s,t[12],11,-421815835),s=Qp(s,i,n,r,t[15],16,530742520),n=Pp(n,r=Qp(r,s,i,n,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Pp(i,n,r,s,t[7],10,1126891415),s=Pp(s,i,n,r,t[14],15,-1416354905),r=Pp(r,s,i,n,t[5],21,-57434055),n=Pp(n,r,s,i,t[12],6,1700485571),i=Pp(i,n,r,s,t[3],10,-1894986606),s=Pp(s,i,n,r,t[10],15,-1051523),r=Pp(r,s,i,n,t[1],21,-2054922799),n=Pp(n,r,s,i,t[8],6,1873313359),i=Pp(i,n,r,s,t[15],10,-30611744),s=Pp(s,i,n,r,t[6],15,-1560198380),r=Pp(r,s,i,n,t[13],21,1309151649),n=Pp(n,r,s,i,t[4],6,-145523070),i=Pp(i,n,r,s,t[11],10,-1120210379),s=Pp(s,i,n,r,t[2],15,718787259),r=Pp(r,s,i,n,t[9],21,-343485551),e[0]=qp(n,e[0]),e[1]=qp(r,e[1]),e[2]=qp(s,e[2]),e[3]=qp(i,e[3])}function jp(e,t,n,r,s,i){return t=qp(qp(t,e),qp(r,i)),qp(t<<s|t>>>32-s,n)}function Lp(e,t,n,r,s,i,o){return jp(t&n|~t&r,e,t,s,i,o)}function Up(e,t,n,r,s,i,o){return jp(t&r|n&~r,e,t,s,i,o)}function Qp(e,t,n,r,s,i,o){return jp(t^n^r,e,t,s,i,o)}function Pp(e,t,n,r,s,i,o){return jp(n^(t|~r),e,t,s,i,o)}function Op(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Tp(r,Dp(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Tp(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,Tp(r,s),r}function Dp(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}_p=xp.atob.bind(xp),Sp=xp.btoa.bind(xp);var Rp="0123456789abcdef".split("");function Mp(e){for(var t="",n=0;n<4;n++)t+=Rp[e>>8*n+4&15]+Rp[e>>8*n&15];return t}function Hp(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Vp(e){return Op(e).map(Hp).join("")}var Kp="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Mp(e[t]);return e.join("")}(Op("hello"));function qp(e,t){if(Kp){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function zp(e,t){var n,r,s,i;if(e!==n){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var A=0;for(l=0;l<256;l++){var c=a[l];A=(A+c+o.charCodeAt(l))%256,a[l]=a[A],a[A]=c}n=e,r=a}else a=r;var u=t.length,d=0,h=0,f="";for(l=0;l<u;l++)h=(h+(c=a[d=(d+1)%256]))%256,a[d]=a[h],a[h]=c,o=a[(a[d]+a[h])%256],f+=String.fromCharCode(t.charCodeAt(l)^o);return f}var Wp={print:4,modify:8,copy:16,"annot-forms":32};function Gp(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(e){if(void 0!==Wp.perm)throw new Error("Invalid permission: "+e);s+=Wp[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=Vp(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=zp(this.encryptionKey,this.padding)}function Jp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);t+=s<33||35===s||37===s||40===s||41===s||47===s||60===s||62===s||91===s||93===s||123===s||125===s||s>126?"#"+("0"+s.toString(16)).slice(-2):e[r]}return t}function Xp(e){if("object"!==(0,kf.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!r],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,r)}catch(n){xp.console&&Bp.error("jsPDF PubSub Error",n.message,n)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Yp(e){if(!(this instanceof Yp))return new Yp(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Zp(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function $p(e,t,n,r,s){if(!(this instanceof $p))return new $p(e,t,n,r,s);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Zp.call(this,r,s)}function eg(e,t,n,r,s){if(!(this instanceof eg))return new eg(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Zp.call(this,r,s)}function tg(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,A="S",c=null;"object"===(0,kf.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,s=e.format||s,i=e.compress||e.compressPdf||i,null!==(c=e.encryption||null)&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),A=e.defaultPathOperation||"S"),o=e.filters||(!0===i?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=Xp;var f="1.3",p=h.__private__.getPdfVersion=function(){return f};h.__private__.setPdfVersion=function(e){f=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return g};var m=h.__private__.getPageFormat=function(e){return g[e]};s=s||"a4";var y="compat",v="advanced",w=y;function b(){this.saveGraphicsState(),Y(new Ie(de,0,0,-de,0,cn()*de).toString()+" cm"),this.setFontSize(this.getFontSize()/de),A="n",w=v}function x(){this.restoreGraphicsState(),A="S",w=y}var C=h.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};h.advancedAPI=function(e){var t=w===y;return t&&b.call(this),"function"!=typeof e||(e(this),t&&x.call(this)),this},h.compatAPI=function(e){var t=w===v;return t&&x.call(this),"function"!=typeof e||(e(this),t&&b.call(this)),this},h.isAdvancedAPI=function(){return w===v};var B,k=function(e){if(w!==v)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=h.roundToPrecision=h.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};B=h.hpf=h.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return N(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return N(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return N(e,16)};var E=h.f2=h.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return N(e,2)},_=h.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return N(e,3)},S=h.scale=h.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?e*de:w===v?e:void 0},F=function(e){return S(function(e){return w===y?cn()-e:w===v?e:void 0}(e))};h.__private__.setPrecision=h.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var I,T="00000000000000000000000000000000",j=h.__private__.getFileId=function(){return T},L=h.__private__.setFileId=function(e){return T=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():T.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==c&&(vt=new Gp(c.userPermissions,c.userPassword,c.ownerPassword,T)),T};h.setFileId=function(e){return L(e),this},h.getFileId=function(){return j()};var U=h.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),s=Math.abs(t%60),i=[n,R(r),"'",R(s),"'"].join("");return["D:",e.getFullYear(),R(e.getMonth()+1),R(e.getDate()),R(e.getHours()),R(e.getMinutes()),R(e.getSeconds()),i].join("")},Q=h.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),i=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,n,r,s,i,o,0)},P=h.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=U(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return I=t},O=h.__private__.getCreationDate=function(e){var t=I;return"jsDate"===e&&(t=Q(I)),t};h.setCreationDate=function(e){return P(e),this},h.getCreationDate=function(e){return O(e)};var D,R=h.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},M=h.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,V=[],K=[],q=0,z=[],W=[],G=!1,J=K;h.__private__.setCustomOutputDestination=function(e){G=!0,J=e};var X=function(e){G||(J=e)};h.__private__.resetCustomOutputDestination=function(){G=!1,J=K};var Y=h.__private__.out=function(e){return e=e.toString(),q+=e.length+1,J.push(e),J},Z=h.__private__.write=function(e){return Y(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},$=h.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(e){return te=w===v?e/de:e,this};var ne,re=h.__private__.getFontSize=h.getFontSize=function(){return w===y?te:te*de},se=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(e){return se=e,this},h.__private__.getR2L=h.getR2L=function(){return se};var ie,oe=h.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};h.__private__.getZoomMode=function(){return ne};var ae,le=h.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ie=e};h.__private__.getPageMode=function(){return ie};var Ae=h.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ae=e};h.__private__.getLayoutMode=function(){return ae},h.__private__.setDisplayMode=h.setDisplayMode=function(e,t,n){return oe(e),Ae(t),le(n),this};var ce={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ce[e]},h.__private__.getDocumentProperties=function(){return ce},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(e){for(var t in ce)ce.hasOwnProperty(t)&&e[t]&&(ce[t]=e[t]);return this},h.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ce[e]=t};var ue,de,he,fe,pe,ge={},me={},ye=[],ve={},we={},be={},xe={},Ce=null,Be=0,ke=[],Ne=new Xp(h),Ee=e.hotfixes||[],_e={},Se={},Fe=[],Ie=function e(t,n,r,s,i,o){if(!(this instanceof e))return new e(t,n,r,s,i,o);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(s)&&(s=1),isNaN(i)&&(i=0),isNaN(o)&&(o=0),this._matrix=[t,n,r,s,i,o]};Object.defineProperty(Ie.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ie.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ie.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ie.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ie.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(e)},Ie.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,s=e.shx*this.shy+e.sy*this.sy,i=e.tx*this.sx+e.ty*this.shx+this.tx,o=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ie(t,n,r,s,i,o)},Ie.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,i=this.ty,o=Math.sqrt(e*e+t*t),a=(e/=o)*n+(t/=o)*r;n-=e*a,r-=t*a;var l=Math.sqrt(n*n+r*r);return a/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,a=-a,o=-o),{scale:new Ie(o,0,0,l,0,0),translate:new Ie(1,0,0,1,s,i),rotate:new Ie(e,t,-t,e,0,0),skew:new Ie(1,0,a,1,0,0)}},Ie.prototype.toString=function(e){return this.join(" ")},Ie.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,i=this.ty,o=1/(e*r-t*n),a=r*o,l=-t*o,A=-n*o,c=e*o;return new Ie(a,l,A,c,-a*s-A*i,-l*s-c*i)},Ie.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},Ie.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new rn(t.x,t.y,n.x-t.x,n.y-t.y)},Ie.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,i=this.ty;return new Ie(e,t,n,r,s,i)},h.Matrix=Ie;var Te=h.matrixMult=function(e,t){return t.multiply(e)},je=new Ie(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=je;var Le=function(e,t){if(!we[e]){var n=(t instanceof $p?"Sh":"P")+(Object.keys(ve).length+1).toString(10);t.id=n,we[e]=n,ve[n]=t,Ne.publish("addPattern",t)}};h.ShadingPattern=$p,h.TilingPattern=eg,h.addShadingPattern=function(e,t){return k("addShadingPattern()"),Le(e,t),this},h.beginTilingPattern=function(e){k("beginTilingPattern()"),on(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},h.endTilingPattern=function(e,t){k("endTilingPattern()"),t.stream=W[D].join("\n"),Le(e,t),Ne.publish("endTilingPattern",t),Fe.pop().restore()};var Ue,Qe=h.__private__.newObject=function(){var e=Pe();return Oe(e,!0),e},Pe=h.__private__.newObjectDeferred=function(){return H++,V[H]=function(){return q},H},Oe=function(e,t){return t="boolean"==typeof t&&t,V[e]=q,t&&Y(e+" 0 obj"),e},De=h.__private__.newAdditionalObject=function(){var e={objId:Pe(),content:""};return z.push(e),e},Re=Pe(),Me=Pe(),He=h.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",s=0;s<3;s++)r+=("0"+Math.floor(255*parseFloat(t[s])).toString(16)).slice(-2);return r},Ve=h.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,s=e.ch3,i=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var a=new Ip(n);if(a.ok)n=a.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,s=255&l}if(void 0===r||void 0===i&&n===r&&r===s)if("string"==typeof n)t=n+" "+o[0];else if(2===e.precision)t=E(n/255)+" "+o[0];else t=_(n/255)+" "+o[0];else if(void 0===i||"object"===(0,kf.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",o[1]].join(" ");if("string"==typeof n)t=[n,r,s,o[1]].join(" ");else if(2===e.precision)t=[E(n/255),E(r/255),E(s/255),o[1]].join(" ");else t=[_(n/255),_(r/255),_(s/255),o[1]].join(" ")}else if("string"==typeof n)t=[n,r,s,i,o[2]].join(" ");else if(2===e.precision)t=[E(n),E(r),E(s),E(i),o[2]].join(" ");else t=[_(n),_(r),_(s),_(i),o[2]].join(" ");return t},Ke=h.__private__.getFilters=function(){return o},qe=h.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ke(),r=e.alreadyAppliedFilters||[],s=e.addLength1||!1,i=t.length,o=e.objectId,a=function(e){return e};if(null!==c&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==c&&(a=vt.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var A=e.additionalKeyValues||[],u=(l=void 0!==tg.API.processDataByFilters?tg.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(A.push({key:"Length",value:l.data.length}),!0===s&&A.push({key:"Length1",value:i})),0!=u.length)if(u.split("/").length-1==1)A.push({key:"Filter",value:u});else{A.push({key:"Filter",value:"["+u+"]"});for(var d=0;d<A.length;d+=1)if("DecodeParms"===A[d].key){for(var h=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)h.push("null");h.push(A[d].value),A[d].value="["+h.join(" ")+"]"}}Y("<<");for(var p=0;p<A.length;p++)Y("/"+A[p].key+" "+A[p].value);Y(">>"),0!==l.data.length&&(Y("stream"),Y(a(l.data)),Y("endstream"))},ze=h.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,s=e.contentsObjId;Oe(r,!0),Y("<</Type /Page"),Y("/Parent "+e.rootDictionaryObjId+" 0 R"),Y("/Resources "+e.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(B(e.mediaBox.bottomLeftX))+" "+parseFloat(B(e.mediaBox.bottomLeftY))+" "+B(e.mediaBox.topRightX)+" "+B(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Y("/CropBox ["+B(e.cropBox.bottomLeftX)+" "+B(e.cropBox.bottomLeftY)+" "+B(e.cropBox.topRightX)+" "+B(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Y("/BleedBox ["+B(e.bleedBox.bottomLeftX)+" "+B(e.bleedBox.bottomLeftY)+" "+B(e.bleedBox.topRightX)+" "+B(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Y("/TrimBox ["+B(e.trimBox.bottomLeftX)+" "+B(e.trimBox.bottomLeftY)+" "+B(e.trimBox.topRightX)+" "+B(e.trimBox.topRightY)+"]"),null!==e.artBox&&Y("/ArtBox ["+B(e.artBox.bottomLeftX)+" "+B(e.artBox.bottomLeftY)+" "+B(e.artBox.topRightX)+" "+B(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Y("/UserUnit "+e.userUnit),Ne.publish("putPage",{objId:r,pageContext:ke[t],pageNumber:t,page:n}),Y("/Contents "+s+" 0 R"),Y(">>"),Y("endobj");var i=n.join("\n");return w===v&&(i+="\nQ"),Oe(s,!0),qe({data:i,filters:Ke(),objectId:s}),Y("endobj"),r},We=h.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Be;e++)ke[e].objId=Pe(),ke[e].contentsObjId=Pe();for(e=1;e<=Be;e++)n.push(ze({number:e,data:W[e],objId:ke[e].objId,contentsObjId:ke[e].contentsObjId,mediaBox:ke[e].mediaBox,cropBox:ke[e].cropBox,bleedBox:ke[e].bleedBox,trimBox:ke[e].trimBox,artBox:ke[e].artBox,userUnit:ke[e].userUnit,rootDictionaryObjId:Re,resourceDictionaryObjId:Me}));Oe(Re,!0),Y("<</Type /Pages");var r="/Kids [";for(t=0;t<Be;t++)r+=n[t]+" 0 R ";Y(r+"]"),Y("/Count "+Be),Y(">>"),Y("endobj"),Ne.publish("postPutPages")},Ge=function(e){Ne.publish("putFont",{font:e,out:Y,newObject:Qe,putStream:qe}),!0!==e.isAlreadyPutted&&(e.objectNumber=Qe(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Jp(e.postScriptName)),Y("/Subtype /Type1"),"string"==typeof e.encoding&&Y("/Encoding /"+e.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Je=function(e){e.objectNumber=Qe();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[B(e.x),B(e.y),B(e.x+e.width),B(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");qe({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Y("endobj")},Xe=function(e,t){t||(t=21);var n=Qe(),r=function(e,t){var n,r=[],s=1/(t-1);for(n=0;n<1;n+=s)r.push(n);if(r.push(1),0!=e[0].offset){var i={offset:0,color:e[0].color};e.unshift(i)}if(1!=e[e.length-1].offset){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var a="",l=0,A=0;A<r.length;A++){for(n=r[A];n>e[l+1].offset;)l++;var c=e[l].offset,u=(n-c)/(e[l+1].offset-c),d=e[l].color,h=e[l+1].color;a+=M(Math.round((1-u)*d[0]+u*h[0]).toString(16))+M(Math.round((1-u)*d[1]+u*h[1]).toString(16))+M(Math.round((1-u)*d[2]+u*h[2]).toString(16))}return a.trim()}(e.colors,t),s=[];s.push({key:"FunctionType",value:"0"}),s.push({key:"Domain",value:"[0.0 1.0]"}),s.push({key:"Size",value:"["+t+"]"}),s.push({key:"BitsPerSample",value:"8"}),s.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),s.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe({data:r,additionalKeyValues:s,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Y("endobj"),e.objectNumber=Qe(),Y("<< /ShadingType "+e.type),Y("/ColorSpace /DeviceRGB");var i="/Coords ["+B(parseFloat(e.coords[0]))+" "+B(parseFloat(e.coords[1]))+" ";2===e.type?i+=B(parseFloat(e.coords[2]))+" "+B(parseFloat(e.coords[3])):i+=B(parseFloat(e.coords[2]))+" "+B(parseFloat(e.coords[3]))+" "+B(parseFloat(e.coords[4]))+" "+B(parseFloat(e.coords[5])),Y(i+="]"),e.matrix&&Y("/Matrix ["+e.matrix.toString()+"]"),Y("/Function "+n+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ye=function(e,t){var n=Pe(),r=Qe();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var s=[];s.push({key:"Type",value:"/Pattern"}),s.push({key:"PatternType",value:"1"}),s.push({key:"PaintType",value:"1"}),s.push({key:"TilingType",value:"1"}),s.push({key:"BBox",value:"["+e.boundingBox.map(B).join(" ")+"]"}),s.push({key:"XStep",value:B(e.xStep)}),s.push({key:"YStep",value:B(e.yStep)}),s.push({key:"Resources",value:n+" 0 R"}),e.matrix&&s.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),qe({data:e.stream,additionalKeyValues:s,objectId:e.objectNumber}),Y("endobj")},Ze=function(e){for(var t in e.objectNumber=Qe(),Y("<<"),e)switch(t){case"opacity":Y("/ca "+E(e[t]));break;case"stroke-opacity":Y("/CA "+E(e[t]))}Y(">>"),Y("endobj")},$e=function(e){Oe(e.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Y("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&Y("/"+e+" "+ge[e].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(ve).length>0){for(var e in Y("/Shading <<"),ve)ve.hasOwnProperty(e)&&ve[e]instanceof $p&&ve[e].objectNumber>=0&&Y("/"+e+" "+ve[e].objectNumber+" 0 R");Ne.publish("putShadingPatternDict"),Y(">>")}}(),function(e){if(Object.keys(ve).length>0){for(var t in Y("/Pattern <<"),ve)ve.hasOwnProperty(t)&&ve[t]instanceof h.TilingPattern&&ve[t].objectNumber>=0&&ve[t].objectNumber<e&&Y("/"+t+" "+ve[t].objectNumber+" 0 R");Ne.publish("putTilingPatternDict"),Y(">>")}}(e.objectOid),function(){if(Object.keys(be).length>0){var e;for(e in Y("/ExtGState <<"),be)be.hasOwnProperty(e)&&be[e].objectNumber>=0&&Y("/"+e+" "+be[e].objectNumber+" 0 R");Ne.publish("putGStateDict"),Y(">>")}}(),function(){for(var e in Y("/XObject <<"),_e)_e.hasOwnProperty(e)&&_e[e].objectNumber>=0&&Y("/"+e+" "+_e[e].objectNumber+" 0 R");Ne.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},et=function(){var e=[];(function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&Ge(ge[e])})(),function(){var e;for(e in be)be.hasOwnProperty(e)&&Ze(be[e])}(),function(){for(var e in _e)_e.hasOwnProperty(e)&&Je(_e[e])}(),function(e){var t;for(t in ve)ve.hasOwnProperty(t)&&(ve[t]instanceof $p?Xe(ve[t]):ve[t]instanceof eg&&Ye(ve[t],e))}(e),Ne.publish("putResources"),e.forEach($e),$e({resourcesOid:Me,objectOid:Number.MAX_SAFE_INTEGER}),Ne.publish("postPutResources")},tt=function(e){me[e.fontName]=me[e.fontName]||{},me[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,r,s){var i={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:s||!1,metadata:{}};return Ne.publish("addFont",{font:i,instance:this}),ge[i.id]=i,tt(i),i.id},rt=h.__private__.pdfEscape=h.pdfEscape=function(e,t){return function(e,t){var n,r,s,i,o,a,l,A,c;if(s=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&ge[ue].metadata&&ge[ue].metadata[s]&&ge[ue].metadata[s].encoding&&(i=ge[ue].metadata[s].encoding,!o&&ge[ue].encoding&&(o=ge[ue].encoding),!o&&i.codePages&&(o=i.codePages[0]),"string"==typeof o&&(o=i[o]),o)){for(l=!1,a=[],n=0,r=e.length;n<r;n++)(A=o[e.charCodeAt(n)])?a.push(String.fromCharCode(A)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(l=!0);e=a.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(a=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((c=(A=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(c),a.push(A-(c<<8))}return String.fromCharCode.apply(void 0,a)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},st=h.__private__.beginPage=function(e){W[++Be]=[],ke[Be]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},at(Be),X(W[D])},it=function(e,t){var r,i,o;switch(n=t||n,"string"==typeof e&&(r=m(e.toLowerCase()),Array.isArray(r)&&(i=r[0],o=r[1])),Array.isArray(e)&&(i=e[0]*de,o=e[1]*de),isNaN(i)&&(i=s[0],o=s[1]),(i>14400||o>14400)&&(Bp.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),o=Math.min(14400,o)),s=[i,o],n.substr(0,1)){case"l":o>i&&(s=[o,i]);break;case"p":i>o&&(s=[o,i])}st(s),Dt(Pt),Y(Wt),0!==$t&&Y($t+" J"),0!==en&&Y(en+" j"),Ne.publish("addPage",{pageNumber:Be})},ot=function(e){e>0&&e<=Be&&(W.splice(e,1),ke.splice(e,1),Be--,D>Be&&(D=Be),this.setPage(D))},at=function(e){e>0&&e<=Be&&(D=e)},lt=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return W.length-1},At=function(e,t,n){var r,s=void 0;return n=n||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,r=e.toLowerCase(),void 0!==me[r]&&void 0!==me[r][t]?s=me[r][t]:void 0!==me[e]&&void 0!==me[e][t]?s=me[e][t]:!1===n.disableWarning&&Bp.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),s||n.noFallback||null==(s=me.times[t])&&(s=me.times.normal),s},ct=h.__private__.putInfo=function(){var e=Qe(),t=function(e){return e};for(var n in null!==c&&(t=vt.encryptor(e,0)),Y("<<"),Y("/Producer ("+rt(t("jsPDF "+tg.version))+")"),ce)ce.hasOwnProperty(n)&&ce[n]&&Y("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+rt(t(ce[n]))+")");Y("/CreationDate ("+rt(t(I))+")"),Y(">>"),Y("endobj")},ut=h.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Re;switch(Qe(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&Y("/OpenAction [3 0 R /XYZ null null "+E(ne)+"]")}switch(ae||(ae="continuous"),ae){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}ie&&Y("/PageMode /"+ie),Ne.publish("putCatalog"),Y(">>"),Y("endobj")},dt=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(H+1)),Y("/Root "+H+" 0 R"),Y("/Info "+(H-1)+" 0 R"),null!==c&&Y("/Encrypt "+vt.oid+" 0 R"),Y("/ID [ <"+T+"> <"+T+"> ]"),Y(">>")},ht=h.__private__.putHeader=function(){Y("%PDF-"+f),Y("%\xba\xdf\xac\xe0")},ft=h.__private__.putXRef=function(){var e="0000000000";Y("xref"),Y("0 "+(H+1)),Y("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof V[t]?Y((e+V[t]()).slice(-10)+" 00000 n "):void 0!==V[t]?Y((e+V[t]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},pt=h.__private__.buildDocument=function(){H=0,q=0,K=[],V=[],z=[],Re=Pe(),Me=Pe(),X(K),Ne.publish("buildDocument"),ht(),We(),function(){Ne.publish("putAdditionalObjects");for(var e=0;e<z.length;e++){var t=z[e];Oe(t.objId,!0),Y(t.content),Y("endobj")}Ne.publish("postPutAdditionalObjects")}(),et(),null!==c&&(vt.oid=Qe(),Y("<<"),Y("/Filter /Standard"),Y("/V "+vt.v),Y("/R "+vt.r),Y("/U <"+vt.toHexString(vt.U)+">"),Y("/O <"+vt.toHexString(vt.O)+">"),Y("/P "+vt.P),Y(">>"),Y("endobj")),ct(),ut();var e=q;return ft(),dt(),Y("startxref"),Y(""+e),Y("%%EOF"),X(W[D]),K.join("\n")},gt=h.__private__.getBlob=function(e){return new Blob([$(e)],{type:"application/pdf"})},mt=h.output=h.__private__.output=(Ue=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return pt();case"save":h.save(t.filename);break;case"arraybuffer":return $(pt());case"blob":return gt(pt());case"bloburi":case"bloburl":if(void 0!==xp.URL&&"function"==typeof xp.URL.createObjectURL)return xp.URL&&xp.URL.createObjectURL(gt(pt()))||void 0;Bp.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=pt();try{n=Sp(r)}catch(e){n=Sp(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(xp)){var s="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(s=t.pdfObjectUrl,i="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+s+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",a=xp.open();return null!==a&&a.document.write(o),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(xp)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',A=xp.open();if(null!==A){A.document.write(l);var c=this;A.document.documentElement.querySelector("#pdfViewer").onload=function(){A.document.title=t.filename,A.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(c.output("bloburl"))}}return A}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(xp))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',d=xp.open();if(null!==d&&(d.document.write(u),d.document.title=t.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return xp.document.location.href=this.output("datauristring",t);default:return null}},Ue.foo=function(){try{return Ue.apply(this,arguments)}catch(Ue){var e=Ue.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Ue.message;if(!xp.console)throw new Error(t);xp.console.error(t,Ue),xp.alert&&alert(t)}},Ue.foo.bar=Ue,Ue.foo),yt=function(e){return!0===Array.isArray(Ee)&&Ee.indexOf(e)>-1};switch(r){case"pt":de=1;break;case"mm":de=72/25.4;break;case"cm":de=72/2.54;break;case"in":de=72;break;case"px":de=1==yt("px_scaling")?.75:96/72;break;case"pc":case"em":de=12;break;case"ex":de=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);de=r}var vt=null;P(),L();var wt=h.__private__.getPageInfo=h.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ke[e].objId,pageNumber:e,pageContext:ke[e]}},bt=h.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in ke)if(ke[t].objId===e)break;return wt(t)},xt=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ke[D].objId,pageNumber:D,pageContext:ke[D]}};h.addPage=function(){return it.apply(this,arguments),this},h.setPage=function(){return at.apply(this,arguments),X.call(this,W[D]),this},h.insertPage=function(e){return this.addPage(),this.movePage(D,e),this},h.movePage=function(e,t){var n,r;if(e>t){n=W[e],r=ke[e];for(var s=e;s>t;s--)W[s]=W[s-1],ke[s]=ke[s-1];W[t]=n,ke[t]=r,this.setPage(t)}else if(e<t){n=W[e],r=ke[e];for(var i=e;i<t;i++)W[i]=W[i+1],ke[i]=ke[i+1];W[t]=n,ke[t]=r,this.setPage(t)}return this},h.deletePage=function(){return ot.apply(this,arguments),this},h.__private__.text=h.text=function(e,t,n,r,s){var i,o,a,l,A,c,u,h,f,p=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ie==0?(a=arguments[4],l=arguments[5],"object"===(0,kf.A)(u=arguments[3])&&null!==u||("string"==typeof a&&(l=a,a=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(a=u,u=null),r={flags:u,angle:a,align:l})):(k("The transform parameter of text() with a Matrix value"),f=s),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var m,y="",b="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Qt,x=p.internal.scaleFactor;function C(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),rt(e,u)}function N(e){for(var t,n=e.concat(),r=[],s=n.length;s--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function E(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,s,i=e.concat(),o=[],a=i.length;a--;)"string"==typeof(r=i.shift())?o.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(s=t(r[0],r[1],r[2]),o.push([s[0],s[1],s[2]]));n=o}return n}var _=!1,F=!0;if("string"==typeof e)_=!0;else if(Array.isArray(e)){var I=e.concat();o=[];for(var T,j=I.length;j--;)("string"!=typeof(T=I.shift())||Array.isArray(T)&&"string"!=typeof T[0])&&(F=!1);_=F}if(!1===_)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=te/p.internal.scaleFactor,U=L*(b-1);switch(r.baseline){case"bottom":n-=U;break;case"top":n+=L-U;break;case"hanging":n+=L-2*U;break;case"middle":n+=L/2-U}if((c=r.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(p.splitTextToSize(t,c))},[]))),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ne.publish("preProcessText",i),e=i.text,a=(r=i.options).angle,f instanceof Ie==0&&a&&"number"==typeof a){a*=Math.PI/180,0===r.rotationDirection&&(a=-a),w===v&&(a=-a);var Q=Math.cos(a),P=Math.sin(a);f=new Ie(Q,P,-P,Q,0,0)}else a&&a instanceof Ie&&(f=a);w!==v||f||(f=je),void 0!==(A=r.charSpace||Yt)&&(y+=B(S(A))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(h=r.horizontalScale)&&(y+=B(100*h)+" Tz\n"),r.lang;var O=-1,D=void 0!==r.renderingMode?r.renderingMode:r.stroke,R=p.internal.getCurrentPageInfo().pageContext;switch(D){case 0:case!1:case"fill":O=0;break;case 1:case!0:case"stroke":O=1;break;case 2:case"fillThenStroke":O=2;break;case 3:case"invisible":O=3;break;case 4:case"fillAndAddForClipping":O=4;break;case 5:case"strokeAndAddPathForClipping":O=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":O=6;break;case 7:case"addToPathForClipping":O=7}var M=void 0!==R.usedRenderingMode?R.usedRenderingMode:-1;-1!==O?y+=O+" Tr\n":-1!==M&&(y+="0 Tr\n"),-1!==O&&(R.usedRenderingMode=O),l=r.align||"left";var H,V=te*b,K=p.internal.pageSize.getWidth(),q=ge[ue];A=r.charSpace||Yt,c=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var z=[],W=function(e){return p.getStringUnitWidth(e,{font:q,charSpace:A,fontSize:te,doKerning:!1})*te/x};if("[object Array]"===Object.prototype.toString.call(e)){var G;o=N(e),"left"!==l&&(H=o.map(W));var J,X=0;if("right"===l){t-=H[0],e=[],j=o.length;for(var Z=0;Z<j;Z++)0===Z?(J=Vt(t),G=Kt(n)):(J=S(X-H[Z]),G=-V),e.push([o[Z],J,G]),X=H[Z]}else if("center"===l){t-=H[0]/2,e=[],j=o.length;for(var $=0;$<j;$++)0===$?(J=Vt(t),G=Kt(n)):(J=S((X-H[$])/2),G=-V),e.push([o[$],J,G]),X=H[$]}else if("left"===l){e=[],j=o.length;for(var ee=0;ee<j;ee++)e.push(o[ee])}else if("justify"===l&&"Identity-H"===q.encoding){e=[],j=o.length,c=0!==c?c:K;for(var ne=0,re=0;re<j;re++)if(G=0===re?Kt(n):-V,J=0===re?Vt(t):ne,re<j-1){var ie=S((c-H[re])/(o[re].split(" ").length-1)),oe=o[re].split(" ");e.push([oe[0]+" ",J,G]),ne=0;for(var ae=1;ae<oe.length;ae++){var le=(W(oe[ae-1]+" "+oe[ae])-W(oe[ae]))*x+ie;ae==oe.length-1?e.push([oe[ae],le,0]):e.push([oe[ae]+" ",le,0]),ne-=le}}else e.push([o[re],J,G]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],j=o.length,c=0!==c?c:K,re=0;re<j;re++)G=0===re?Kt(n):-V,J=0===re?Vt(t):0,re<j-1?z.push(B(S((c-H[re])/(o[re].split(" ").length-1)))):z.push(0),e.push([o[re],J,G])}}!0===("boolean"==typeof r.R2L?r.R2L:se)&&(e=E(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Ne.publish("postProcessText",i),e=i.text,m=i.mutex.isHex||!1;var Ae=ge[ue].encoding;"WinAnsiEncoding"!==Ae&&"StandardEncoding"!==Ae||(e=E(e,function(e,t,n){return[C(e),t,n]})),o=N(e),e=[];for(var ce,de,he,fe=Array.isArray(o[0])?1:0,pe="",me=function(e,t,n){var s="";return n instanceof Ie?(n="number"==typeof r.angle?Te(n,new Ie(1,0,0,1,e,t)):Te(new Ie(1,0,0,1,e,t),n),w===v&&(n=Te(new Ie(1,0,0,-1,0,0),n)),s=n.join(" ")+" Tm\n"):s=B(e)+" "+B(t)+" Td\n",s},ye=0;ye<o.length;ye++){switch(pe="",fe){case 1:he=(m?"<":"(")+o[ye][0]+(m?">":")"),ce=parseFloat(o[ye][1]),de=parseFloat(o[ye][2]);break;case 0:he=(m?"<":"(")+o[ye]+(m?">":")"),ce=Vt(t),de=Kt(n)}void 0!==z&&void 0!==z[ye]&&(pe=z[ye]+" Tw\n"),0===ye?e.push(pe+me(ce,de,f)+he):0===fe?e.push(pe+he):1===fe&&e.push(pe+me(ce,de,f)+he)}e=0===fe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ve="BT\n/";return ve+=ue+" "+te+" Tf\n",ve+=B(te*b)+" TL\n",ve+=Jt+"\n",ve+=y,ve+=e,Y(ve+="ET"),d[ue]=!0,p};var Ct=h.__private__.clip=h.clip=function(e){return Y("evenodd"===e?"W*":"W"),this};h.clipEvenOdd=function(){return Ct("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var Bt=h.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(e){return Bt(e)&&(A=e),this};var kt=h.__private__.getStyle=h.getStyle=function(e){var t=A;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Nt=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(e){return Et("f",e),this},h.fillEvenOdd=function(e){return Et("f*",e),this},h.fillStroke=function(e){return Et("B",e),this},h.fillStrokeEvenOdd=function(e){return Et("B*",e),this};var Et=function(e,t){"object"===(0,kf.A)(t)?Ft(t,e):Y(e)},_t=function(e){null===e||w===v&&void 0===e||(e=kt(e),Y(e))};function St(e,t,n,r,s){var i=new eg(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,s||this.matrix);i.stream=this.stream;var o=e+"$$"+this.cloneIndex+++"$$";return Le(o,i),i}var Ft=function(e,t){var n=we[e.key],r=ve[n];if(r instanceof $p)Y("q"),Y(It(t)),r.gState&&h.setGState(r.gState),Y(e.matrix.toString()+" cm"),Y("/"+n+" sh"),Y("Q");else if(r instanceof eg){var s=new Ie(1,0,0,-1,0,cn());e.matrix&&(s=s.multiply(e.matrix||je),n=St.call(r,e.key,e.boundingBox,e.xStep,e.yStep,s).id),Y("q"),Y("/Pattern cs"),Y("/"+n+" scn"),r.gState&&h.setGState(r.gState),Y(t),Y("Q")}},It=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tt=h.moveTo=function(e,t){return Y(B(S(e))+" "+B(F(t))+" m"),this},jt=h.lineTo=function(e,t){return Y(B(S(e))+" "+B(F(t))+" l"),this},Lt=h.curveTo=function(e,t,n,r,s,i){return Y([B(S(e)),B(F(t)),B(S(n)),B(F(r)),B(S(s)),B(F(i)),"c"].join(" ")),this};h.__private__.line=h.line=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[n-e,r-t]],e,t,[1,1],s||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},h.__private__.lines=h.lines=function(e,t,n,r,s,i){var o,a,l,A,c,u,d,h,f,p,g,m;if("number"==typeof e&&(m=n,n=t,t=e,e=m),r=r||[1,1],i=i||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Bt(s)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Tt(t,n),o=r[0],a=r[1],A=e.length,p=t,g=n,l=0;l<A;l++)2===(c=e[l]).length?(p=c[0]*o+p,g=c[1]*a+g,jt(p,g)):(u=c[0]*o+p,d=c[1]*a+g,h=c[2]*o+p,f=c[3]*a+g,p=c[4]*o+p,g=c[5]*a+g,Lt(u,d,h,f,p,g));return i&&Nt(),_t(s),this},h.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Tt(r[0],r[1]);break;case"l":jt(r[0],r[1]);break;case"c":Lt.apply(this,r);break;case"h":Nt()}}return this},h.__private__.rect=h.rect=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(r=-r),Y([B(S(e)),B(F(t)),B(S(n)),B(S(r)),"re"].join(" ")),_t(s),this},h.__private__.triangle=h.triangle=function(e,t,n,r,s,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(i)||!Bt(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[s-n,i-r],[e-s,t-i]],e,t,[1,1],o,!0),this},h.__private__.roundedRect=h.roundedRect=function(e,t,n,r,s,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(i)||!Bt(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return s=Math.min(s,.5*n),i=Math.min(i,.5*r),this.lines([[n-2*s,0],[s*a,0,s,i-i*a,s,i],[0,r-2*i],[0,i*a,-s*a,i,-s,i],[2*s-n,0],[-s*a,0,-s,-i*a,-s,-i],[0,2*i-r],[0,-i*a,s*a,-i,s,-i]],e+s,t,[1,1],o,!0),this},h.__private__.ellipse=h.ellipse=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return Tt(e+n,t),Lt(e+n,t-o,e+i,t-r,e,t-r),Lt(e-i,t-r,e-n,t-o,e-n,t),Lt(e-n,t+o,e-i,t+r,e,t+r),Lt(e+i,t+r,e+n,t+o,e+n,t),_t(s),this},h.__private__.circle=h.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Bt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},h.setFont=function(e,t,n){return n&&(t=C(t,n)),ue=At(e,t,{disableWarning:!1}),this};var Ut=h.__private__.getFont=h.getFont=function(){return ge[At.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var e,t,n={};for(e in me)if(me.hasOwnProperty(e))for(t in n[e]=[],me[e])me[e].hasOwnProperty(t)&&n[e].push(t);return n},h.addFont=function(e,t,n,r,s){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?s=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(n=C(n,r)),nt.call(this,e,t,n,s=s||"Identity-H")};var Qt,Pt=e.lineWidth||.200025,Ot=h.__private__.getLineWidth=h.getLineWidth=function(){return Pt},Dt=h.__private__.setLineWidth=h.setLineWidth=function(e){return Pt=e,Y(B(S(e))+" w"),this};h.__private__.setLineDash=tg.API.setLineDash=tg.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return B(S(e))}).join(" "),t=B(S(t)),Y("["+e+"] "+t+" d"),this};var Rt=h.__private__.getLineHeight=h.getLineHeight=function(){return te*Qt};h.__private__.getLineHeight=h.getLineHeight=function(){return te*Qt};var Mt=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Qt=e),this},Ht=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Qt};Mt(e.lineHeight);var Vt=h.__private__.getHorizontalCoordinate=function(e){return S(e)},Kt=h.__private__.getVerticalCoordinate=function(e){return w===v?e:ke[D].mediaBox.topRightY-ke[D].mediaBox.bottomLeftY-S(e)},qt=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(e){return B(Vt(e))},zt=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(e){return B(Kt(e))},Wt=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return He(Wt)},h.__private__.setStrokeColor=h.setDrawColor=function(e,t,n,r){return Wt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Y(Wt),this};var Gt=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return He(Gt)},h.__private__.setFillColor=h.setFillColor=function(e,t,n,r){return Gt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Y(Gt),this};var Jt=e.textColor||"0 g",Xt=h.__private__.getTextColor=h.getTextColor=function(){return He(Jt)};h.__private__.setTextColor=h.setTextColor=function(e,t,n,r){return Jt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Yt=e.charSpace,Zt=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Yt||0)};h.__private__.setCharSpace=h.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yt=e,this};var $t=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,Y(t+" J"),this};var en=0;h.__private__.setLineJoin=h.setLineJoin=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,Y(t+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(B(S(e))+" M"),this},h.GState=Yp,h.setGState=function(e){(e="string"==typeof e?be[xe[e]]:tn(null,e)).equals(Ce)||(Y("/"+e.id+" gs"),Ce=e)};var tn=function(e,t){if(!e||!xe[e]){var n=!1;for(var r in be)if(be.hasOwnProperty(r)&&be[r].equals(t)){n=!0;break}if(n)t=be[r];else{var s="GS"+(Object.keys(be).length+1).toString(10);be[s]=t,t.id=s}return e&&(xe[e]=t.id),Ne.publish("addGState",t),t}};h.addGState=function(e,t){return tn(e,t),this},h.saveGraphicsState=function(){return Y("q"),ye.push({key:ue,size:te,color:Jt}),this},h.restoreGraphicsState=function(){Y("Q");var e=ye.pop();return ue=e.key,te=e.size,Jt=e.color,Ce=null,this},h.setCurrentTransformationMatrix=function(e){return Y(e.toString()+" cm"),this},h.comment=function(e){return Y("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var s="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return s},set:function(e){s=e.toString()}}),this},rn=function(e,t,n,r){nn.call(this,e,t),this.type="rect";var s=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}}),this},sn=function(){this.page=Be,this.currentPage=D,this.pages=W.slice(0),this.pagesContext=ke.slice(0),this.x=he,this.y=fe,this.matrix=pe,this.width=ln(D),this.height=cn(D),this.outputDestination=J,this.id="",this.objectNumber=-1};sn.prototype.restore=function(){Be=this.page,D=this.currentPage,ke=this.pagesContext,W=this.pages,he=this.x,fe=this.y,pe=this.matrix,An(D,this.width),un(D,this.height),J=this.outputDestination};var on=function(e,t,n,r,s){Fe.push(new sn),Be=D=0,W=[],he=e,fe=t,pe=s,st([n,r])};for(var an in h.beginFormObject=function(e,t,n,r,s){return on(e,t,n,r,s),this},h.endFormObject=function(e){return function(e){if(Se[e])Fe.pop().restore();else{var t=new sn,n="Xo"+(Object.keys(_e).length+1).toString(10);t.id=n,Se[e]=n,_e[n]=t,Ne.publish("addFormObject",t),Fe.pop().restore()}}(e),this},h.doFormObject=function(e,t){var n=_e[Se[e]];return Y("q"),Y(t.toString()+" cm"),Y("/"+n.id+" Do"),Y("Q"),this},h.getFormObject=function(e){var t=_e[Se[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},h.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Fp(gt(pt()),e),"function"==typeof Fp.unload&&xp.setTimeout&&setTimeout(Fp.unload,911),this):new Promise(function(t,n){try{var r=Fp(gt(pt()),e);"function"==typeof Fp.unload&&xp.setTimeout&&setTimeout(Fp.unload,911),t(r)}catch(e){n(e.message)}})},tg.API)tg.API.hasOwnProperty(an)&&("events"===an&&tg.API.events.length?function(e,t){var n,r,s;for(s=t.length-1;-1!==s;s--)n=t[s][0],r=t[s][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ne,tg.API.events):h[an]=tg.API[an]);var ln=h.getPageWidth=function(e){return(ke[e=e||D].mediaBox.topRightX-ke[e].mediaBox.bottomLeftX)/de},An=h.setPageWidth=function(e,t){ke[e].mediaBox.topRightX=t*de+ke[e].mediaBox.bottomLeftX},cn=h.getPageHeight=function(e){return(ke[e=e||D].mediaBox.topRightY-ke[e].mediaBox.bottomLeftY)/de},un=h.setPageHeight=function(e,t){ke[e].mediaBox.topRightY=t*de+ke[e].mediaBox.bottomLeftY};return h.internal={pdfEscape:rt,getStyle:kt,getFont:Ut,getFontSize:re,getCharSpace:Zt,getTextColor:Xt,getLineHeight:Rt,getLineHeightFactor:Ht,getLineWidth:Ot,write:Z,getHorizontalCoordinate:Vt,getVerticalCoordinate:Kt,getCoordinateString:qt,getVerticalCoordinateString:zt,collections:{},newObject:Qe,newAdditionalObject:De,newObjectDeferred:Pe,newObjectDeferredBegin:Oe,getFilters:Ke,putStream:qe,events:Ne,scaleFactor:de,pageSize:{getWidth:function(){return ln(D)},setWidth:function(e){An(D,e)},getHeight:function(){return cn(D)},setHeight:function(e){un(D,e)}},encryptionOptions:c,encryption:vt,getEncryptor:function(e){return null!==c?vt.encryptor(e,0):function(e){return e}},output:mt,getNumberOfPages:lt,pages:W,out:Y,f2:E,f3:_,getPageInfo:wt,getPageInfoByObjId:bt,getCurrentPageInfo:xt,getPDFVersion:p,Point:nn,Rectangle:rn,Matrix:Ie,hasHotfix:yt},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ln(D)},set:function(e){An(D,e)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return cn(D)},set:function(e){un(D,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=nt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(d[r]=!0);var s=e[t][0].split("-");tt({id:r,fontName:s[0],fontStyle:s[1]||""})}Ne.publish("addFonts",{fonts:ge,dictionary:me})}.call(h,ee),ue="F1",it(s,n),Ne.publish("initialized"),h}Gp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Gp.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gp.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Gp.prototype.processOwnerPassword=function(e,t){return zp(Vp(t).substr(0,5),e)},Gp.prototype.encryptor=function(e,t){var n=Vp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return zp(n,e)}},Yp.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,kf.A)(e)!==(0,kf.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},tg.API={events:[]},tg.version="3.0.1";var ng=tg.API,rg=1,sg=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ig=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},og=function(e){return e.toFixed(2)},ag=function(e){return e.toFixed(5)};ng.__acroform__={};var lg=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Ag=function(e){return e*rg},cg=function(e){var t=new Eg,n=Mg.internal.getHeight(e)||0,r=Mg.internal.getWidth(e)||0;return t.BBox=[0,0,Number(og(r)),Number(og(n))],t},ug=ng.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},dg=ng.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},hg=ng.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},fg=ng.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hg(e,t-1)},pg=ng.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ug(e,t-1)},gg=ng.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dg(e,t-1)},mg=ng.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+a)||0,l.upperRight_X=n(s+o)||0,l.upperRight_Y=r(i)||0,[Number(og(l.lowerLeft_X)),Number(og(l.lowerLeft_Y)),Number(og(l.upperRight_X)),Number(og(l.upperRight_Y))]},yg=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=vg(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+og(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=cg(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},vg=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(e){return e.split("\n")}):s.map(function(e){return[e]});var i=n,o=Mg.internal.getHeight(e)||0;o=o<0?-o:o;var a=Mg.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(t,n,r){if(t+1<s.length){var i=n+" "+s[t+1][0];return wg(i,e,r).width<=a-4}return!1};i++;e:for(;i>0;){t="",i--;var A,c,u=wg("3",e,i).height,d=e.multiline?o-i:(o-u)/2,h=d+=2,f=0,p=0,g=0;if(i<=0){t="(...) Tj\n",t+="% Width of Text: "+wg(t,e,i=12).width+", FieldWidth:"+a+"\n";break}for(var m="",y=0,v=0;v<s.length;v++)if(s.hasOwnProperty(v)){var w=!1;if(1!==s[v].length&&g!==s[v].length-1){if((u+2)*(y+2)+2>o)continue e;m+=s[v][g],w=!0,p=v,v--}else{m=" "==(m+=s[v][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var b=parseInt(v),x=l(b,m,i),C=v>=s.length-1;if(x&&!C){m+=" ",g=0;continue}if(x||C){if(C)p=b;else if(e.multiline&&(u+2)*(y+2)+2>o)continue e}else{if(!e.multiline)continue e;if((u+2)*(y+2)+2>o)continue e;p=b}}for(var B="",k=f;k<=p;k++){var N=s[k];if(e.multiline){if(k===p){B+=N[g]+" ",g=(g+1)%N.length;continue}if(k===f){B+=N[N.length-1]+" ";continue}}B+=N[0]+" "}switch(B=" "==B.substr(B.length-1)?B.substr(0,B.length-1):B,c=wg(B,e,i).width,e.textAlign){case"right":A=a-c-2;break;case"center":A=(a-c)/2;break;default:A=2}t+=og(A)+" "+og(h)+" Td\n",t+="("+sg(B)+") Tj\n",t+=-og(A)+" 0 Td\n",h=-(i+2),c=0,f=w?p:p+1,y++,m=""}break}return r.text=t,r.fontSize=i,r},wg=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},bg={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},xg=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Cg=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Sg.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(bg)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rg=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new _g,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&xg(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var s=e[r],i=[],o=s.Rect;if(s.Rect&&(s.Rect=mg(s.Rect,t)),t.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Mg.createDefaultAppearanceStream(s),"object"===(0,kf.A)(s)&&"function"==typeof s.getKeyValueListForStream&&(i=s.getKeyValueListForStream()),s.Rect=o,s.hasAppearanceStream&&!s.appearanceStreamContent){var a=yg(s);i.push({key:"AP",value:"<</N "+a+">>"}),t.internal.acroformPlugin.xForms.push(a)}if(s.appearanceStreamContent){var l="";for(var A in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(A)){var c=s.appearanceStreamContent[A];if(l+="/"+A+" ",l+="<<",Object.keys(c).length>=1||Array.isArray(c)){for(var r in c)if(c.hasOwnProperty(r)){var u=c[r];"function"==typeof u&&(u=u.call(t,s)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=c)&&(u=u.call(t,s)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:s.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),"object"===(0,kf.A)(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},Bg=ng.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(0!==i&&(s+=" "),(0,kf.A)(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),s+="("+sg(r(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kg=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+sg(r(e))+")"},Ng=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ng.prototype.toString=function(){return this.objId+" 0 R"},Ng.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ng.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:Bg(s,this.objId,this.scope)}):s instanceof Ng?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):"function"!=typeof s&&e.push({key:r,value:s}))}return e};var Eg=function(){Ng.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};lg(Eg,Ng);var _g=function(){Ng.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+sg(t(e))+")"}},set:function(t){e=t}})};lg(_g,Ng);var Sg=function e(){Ng.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(t,3))},set:function(e){!0===Boolean(e)?this.F=pg(t,3):this.F=gg(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Pg)return;i="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+sg(t(i))+")"},set:function(e){i=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===A?50/rg:A},set:function(e){A=e}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Pg||this instanceof Dg))return kg(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Lg==0?kg(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof Lg==0?"("===e.substr(0,1)?ig(e.substr(1,e.length-2)):ig(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lg==1?ig(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof Lg==1?"/"+e:e}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Lg==0?kg(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Lg==0?"("===e.substr(0,1)?ig(e.substr(1,e.length-2)):ig(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Lg==1?ig(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Lg==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,1):this.Ff=gg(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,2):this.Ff=gg(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,3):this.Ff=gg(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};lg(Sg,Ng);var Fg=function(){Sg.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Bg(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,s=[];r=t.exec(e);)s.push(r[n]);return s}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,18):this.Ff=gg(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=pg(this.Ff,19):this.Ff=gg(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=pg(this.Ff,20),t.sort()):this.Ff=gg(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,22):this.Ff=gg(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,23):this.Ff=gg(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,27):this.Ff=gg(this.Ff,27)}}),this.hasAppearanceStream=!1};lg(Fg,Sg);var Ig=function(){Fg.call(this),this.fontName="helvetica",this.combo=!1};lg(Ig,Fg);var Tg=function(){Ig.call(this),this.combo=!0};lg(Tg,Ig);var jg=function(){Tg.call(this),this.edit=!0};lg(jg,Tg);var Lg=function(){Sg.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,15):this.Ff=gg(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,16):this.Ff=gg(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,17):this.Ff=gg(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,26):this.Ff=gg(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+sg(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,kf.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};lg(Lg,Sg);var Ug=function(){Lg.call(this),this.pushButton=!0};lg(Ug,Lg);var Qg=function(){Lg.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};lg(Qg,Lg);var Pg=function(){var e,t;Sg.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+sg(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,kf.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mg.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};lg(Pg,Sg),Qg.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Qg.prototype.createOption=function(e){var t=new Pg;return t.Parent=this,t.optionName=e,this.Kids.push(t),Hg.call(this.scope,t),t};var Og=function(){Lg.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mg.CheckBox.createAppearanceStream()};lg(Og,Lg);var Dg=function(){Sg.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,13):this.Ff=gg(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,21):this.Ff=gg(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,23):this.Ff=gg(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,24):this.Ff=gg(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,25):this.Ff=gg(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,26):this.Ff=gg(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};lg(Dg,Sg);var Rg=function(){Dg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(fg(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=pg(this.Ff,14):this.Ff=gg(this.Ff,14)}}),this.password=!0};lg(Rg,Dg);var Mg={CheckBox:{createAppearanceStream:function(){return{N:{On:Mg.CheckBox.YesNormal},D:{On:Mg.CheckBox.YesPushDown,Off:Mg.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=cg(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=vg(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+og(Mg.internal.getWidth(e))+" "+og(Mg.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+og(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=cg(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],i=Mg.internal.getHeight(e),o=Mg.internal.getWidth(e),a=vg(e,e.caption);return s.push("1 g"),s.push("0 0 "+og(o)+" "+og(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+og(o-1)+" "+og(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+og(a.fontSize)+" Tf "+r),s.push(a.text),s.push("ET"),s.push("Q"),t.stream=s.join("\n"),t},OffPushDown:function(e){var t=cg(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+og(Mg.internal.getWidth(e))+" "+og(Mg.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Mg.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Mg.RadioButton.Circle.YesNormal,t.D[e]=Mg.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=cg(e);t.scope=e.scope;var n=[],r=Mg.internal.getWidth(e)<=Mg.internal.getHeight(e)?Mg.internal.getWidth(e)/4:Mg.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Mg.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ag(Mg.internal.getWidth(e)/2)+" "+ag(Mg.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=cg(e);t.scope=e.scope;var n=[],r=Mg.internal.getWidth(e)<=Mg.internal.getHeight(e)?Mg.internal.getWidth(e)/4:Mg.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Mg.internal.Bezier_C).toFixed(5)),o=Number((r*Mg.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ag(Mg.internal.getWidth(e)/2)+" "+ag(Mg.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ag(Mg.internal.getWidth(e)/2)+" "+ag(Mg.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=cg(e);t.scope=e.scope;var n=[],r=Mg.internal.getWidth(e)<=Mg.internal.getHeight(e)?Mg.internal.getWidth(e)/4:Mg.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Mg.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ag(Mg.internal.getWidth(e)/2)+" "+ag(Mg.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Mg.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Mg.RadioButton.Cross.YesNormal,t.D[e]=Mg.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=cg(e);t.scope=e.scope;var n=[],r=Mg.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+og(Mg.internal.getWidth(e)-2)+" "+og(Mg.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(og(r.x1.x)+" "+og(r.x1.y)+" m"),n.push(og(r.x2.x)+" "+og(r.x2.y)+" l"),n.push(og(r.x4.x)+" "+og(r.x4.y)+" m"),n.push(og(r.x3.x)+" "+og(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=cg(e);t.scope=e.scope;var n=Mg.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+og(Mg.internal.getWidth(e))+" "+og(Mg.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+og(Mg.internal.getWidth(e)-2)+" "+og(Mg.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(og(n.x1.x)+" "+og(n.x1.y)+" m"),r.push(og(n.x2.x)+" "+og(n.x2.y)+" l"),r.push(og(n.x4.x)+" "+og(n.x4.y)+" m"),r.push(og(n.x3.x)+" "+og(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=cg(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+og(Mg.internal.getWidth(e))+" "+og(Mg.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Mg.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Mg.internal.getWidth(e),n=Mg.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Mg.internal.getWidth=function(e){var t=0;return"object"===(0,kf.A)(e)&&(t=Ag(e.Rect[2])),t},Mg.internal.getHeight=function(e){var t=0;return"object"===(0,kf.A)(e)&&(t=Ag(e.Rect[3])),t};var Hg=ng.addField=function(e){if(Cg(this,e),!(e instanceof Sg))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ng.AcroFormChoiceField=Fg,ng.AcroFormListBox=Ig,ng.AcroFormComboBox=Tg,ng.AcroFormEditBox=jg,ng.AcroFormButton=Lg,ng.AcroFormPushButton=Ug,ng.AcroFormRadioButton=Qg,ng.AcroFormCheckBox=Og,ng.AcroFormTextField=Dg,ng.AcroFormPasswordField=Rg,ng.AcroFormAppearance=Mg,ng.AcroForm={ChoiceField:Fg,ListBox:Ig,ComboBox:Tg,EditBox:jg,Button:Lg,PushButton:Ug,RadioButton:Qg,CheckBox:Og,TextField:Dg,PasswordField:Rg,Appearance:Mg},tg.AcroForm={ChoiceField:Fg,ListBox:Ig,ComboBox:Tg,EditBox:jg,Button:Lg,PushButton:Ug,RadioButton:Qg,CheckBox:Og,TextField:Dg,PasswordField:Rg,Appearance:Mg};tg.AcroForm;function Vg(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var s,i,o,a,l,A=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(x(e))for(l in n)for(o=n[l],s=0;s<o.length;s+=1){for(a=!0,i=0;i<o[s].length;i+=1)if(void 0!==o[s][i]&&o[s][i]!==e[i]){a=!1;break}if(!0===a){A=l;break}}else for(l in n)for(o=n[l],s=0;s<o.length;s+=1){for(a=!0,i=0;i<o[s].length;i+=1)if(void 0!==o[s][i]&&o[s][i]!==e.charCodeAt(i)){a=!1;break}if(!0===a){A=l;break}}return A===t&&r!==t&&(A=r),A},s=function e(t){for(var n=this.internal.write,r=this.internal.putStream,s=(0,this.internal.getFilters)();-1!==s.indexOf("FlateEncode");)s.splice(s.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var o="",a=0,l=t.transparency.length;a<l;a++)o+=t.transparency[a]+" "+t.transparency[a]+" ";i.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var A=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:A,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var c="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:c,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===g.INDEXED){var d=this.internal.newObject();r({data:B(new Uint8Array(t.palette)),objectId:d}),n("endobj")}},i=function(){var e=this.internal.collections.addImage_images;for(var t in e)s.call(this,e[t])},o=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var e=this.internal.collections.addImage_images;return a.call(this),e},A=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===(0,kf.A)(e)&&1===e.nodeType},d=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return _p(unescape(r).split("base64,").pop());var s=e.loadFile(r,!0);if(void 0!==s)return s}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var i;switch(n){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return _p(t.toDataURL(i,1).split("base64,").pop())}},h=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},f=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},p=function(e,t,n,r,s,i){var o=f.call(this,n,r,s),a=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,c=l.call(this);if(n=o[0],r=o[1],c[s.index]=s,i){i*=Math.PI/180;var u=Math.cos(i),d=Math.sin(i),h=function(e){return e.toFixed(4)},p=[h(u),h(d),h(-1*d),h(u),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,a(e),A(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([a(n),"0","0",a(r),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(r),a(e),A(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+s.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(x(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null},b=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return b()&&e instanceof ArrayBuffer};var x=e.__addimage__.isArrayBufferView=function(e){return b()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},C=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},B=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=x(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,r,s,i,o,l,A,c;if("number"==typeof arguments[1]?(n=t,r=arguments[1],s=arguments[2],i=arguments[3],o=arguments[4],l=arguments[5],A=arguments[6],c=arguments[7]):(n=arguments[1],r=arguments[2],s=arguments[3],i=arguments[4],o=arguments[5],l=arguments[6],A=arguments[7],c=arguments[8]),"object"===(0,kf.A)(e=arguments[0])&&!u(e)&&"imageData"in e){var d=e;e=d.imageData,n=d.format||n||t,r=d.x||r||0,s=d.y||s||0,i=d.w||d.width||i,o=d.h||d.height||o,l=d.alias||l,A=d.compression||A,c=d.rotation||d.angle||c}var h=this.internal.getFilters();if(void 0===A&&-1!==h.indexOf("FlateEncode")&&(A="SLOW"),isNaN(r)||isNaN(s))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var f=k.call(this,e,n,l,A);return p.call(this,r,s,i,o,f,c),this};var k=function(n,s,i,o){var a,l,f;if("string"==typeof n&&r(n)===t){n=unescape(n);var p=N(n,!1);(""!==p||void 0!==(p=e.loadFile(n,!0)))&&(n=p)}if(u(n)&&(n=d(n,s)),s=r(n,s),!c(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if((null==(f=i)||0===f.length)&&(i=function(e){return"string"==typeof e||x(e)?y(e):x(e.data)?y(e.data):null}(n)),(a=h.call(this,i))||(b()&&(n instanceof Uint8Array||"RGBA"===s||(l=n,n=C(n))),a=this["process"+s.toUpperCase()](n,A.call(this),i,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:m.NONE}(o),l)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},N=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var s;n=null!==(s=w(e))&&void 0!==s?s:e;try{r=_p(n)}catch(e){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(n){var s,i,o="";if(u(n)&&(n=d(n)),"string"==typeof n&&r(n)===t&&(""===(o=N(n,!1))&&(o=e.loadFile(n)||""),n=o),i=r(n),!c(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(!b()||n instanceof Uint8Array||(n=C(n)),!(s=this["process"+i.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return s.fileType=i,s}}(tg.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};tg.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,s,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,A=!1,c=0;c<l.length&&!A;c++)switch((n=l[c]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(0!=A){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var d=this.internal.pdfEscape,h=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),m=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(g(n.contents))+")",s+=" /Popup "+p.objId+" 0 R",s+=" /P "+a.objId+" 0 R",s+=" /T ("+d(g(m))+") >>",f.content=s;var y=f.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(s+=" /Open true"),s+=" >>",p.content=s,this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var v=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(h(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(h(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var b=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+b+" "+n.options.zoom+"]"}""!=s&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,s){var i=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:o(e),y:a(t),w:o(e+n),h:a(t+r)},options:s,type:"link"})},e.textWithLink=function(e,t,n,r){var s,i,o=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){i=r.maxWidth;var l=this.splitTextToSize(e,i).length;s=Math.ceil(a*l)}else i=o,s=a;return this.text(e,t,n,r),n+=.2*a,"center"===r.align&&(t-=o/2),"right"===r.align&&(t-=o),this.link(t,n-a,i,s,r),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(tg.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},o=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&s.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&i(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,s="",i=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(i++,"number"==typeof(r=r[e.charCodeAt(t)])&&(s+=String.fromCharCode(r),r=n,i=0),t===e.length-1&&(r=n,s+=e.charAt(t-(i-1)),t-=i-1,i=0)):(r=n,s+=e.charAt(t-i),t-=i,i=0);return s};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return o(e)?!1===i(e)?-1:!A(e)||!o(t)&&!o(n)||!o(n)&&a(t)||a(e)&&!o(t)||a(e)&&l(t)||a(e)&&a(t)?0:c(e)&&o(t)&&!a(t)&&o(n)&&A(n)?3:a(e)||!o(n)?1:2:-1},h=function(e){var n=0,r=0,s=0,i="",a="",l="",A=(e=e||"").split("\\s+"),c=[];for(n=0;n<A.length;n+=1){for(c.push(""),r=0;r<A[n].length;r+=1)i=A[n][r],a=A[n][r-1],l=A[n][r+1],o(i)?(s=d(i,a,l),c[n]+=-1!==s?String.fromCharCode(t[i.charCodeAt(0)][s]):i):c[n]+=i;c[n]=u(c[n])}return c.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([h(t[r][0]),t[r][1],t[r][2]]):n.push([h(t[r])]);e=n}else e=h(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(tg.API),tg.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")});return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tg.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var s=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),s=t.font||this.getFont(),i=t.scaleFactor||this.internal.scaleFactor,o=0,a=0,l=0,A=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var c=t.maxWidth;c>0?"string"==typeof e?e=this.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(A.splitTextToSize(t,c))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)o<(l=this.getStringUnitWidth(e[u],{font:s})*n)&&(o=l);return 0!==o&&(a=e.length),{w:o/=i,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var s=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,a=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return void 0!==s.lineNumber&&(s.lineNumber===e.lineNumber?(e.x=(s.x||0)+(s.width||0),e.y=s.y||0):s.y+s.height+e.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=a.top,A&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=s.y+s.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,A,c){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,d,h,f,p=[],g=[],m=[],y={},v={},w=[],b=[],x=(c=c||{}).autoSize||!1,C=!1!==c.printHeaders,B=c.css&&void 0!==c.css["font-size"]?16*c.css["font-size"]:c.fontSize||12,k=c.margins||Object.assign({width:this.getPageWidth()},t),N="number"==typeof c.padding?c.padding:3,E=c.headerBackgroundColor||"#c8c8c8",_=c.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=_,this.setFontSize(B),null==A)g=p=Object.keys(l[0]),m=p.map(function(){return"left"});else if(Array.isArray(A)&&"object"===(0,kf.A)(A[0]))for(p=A.map(function(e){return e.name}),g=A.map(function(e){return e.prompt||e.name||""}),m=A.map(function(e){return e.align||"left"}),u=0;u<A.length;u+=1)v[A[u].name]=A[u].width*(19.049976/25.4);else Array.isArray(A)&&"string"==typeof A[0]&&(g=p=A,m=p.map(function(){return"left"}));if(x||Array.isArray(A)&&"string"==typeof A[0])for(u=0;u<p.length;u+=1){for(y[f=p[u]]=l.map(function(e){return e[f]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=y[f],this.setFont(void 0,"normal"),h=0;h<d.length;h+=1)w.push(this.getTextDimensions(d[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[f]=Math.max.apply(null,w)+N+N,w=[]}if(C){var S={};for(u=0;u<p.length;u+=1)S[p[u]]={},S[p[u]].text=g[u],S[p[u]].align=m[u];var F=a.call(this,S,v);b=p.map(function(t){return new i(e,n,v[t],F,S[t].text,void 0,S[t].align)}),this.setTableHeaderRow(b),this.printHeaderRow(1,!1)}var I=A.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in c&&c.rowStart instanceof Function&&c.rowStart({row:u,data:l[u]},this);var T=a.call(this,l[u],v);for(h=0;h<p.length;h+=1){var j=l[u][p[h]];"cellStart"in c&&c.cellStart instanceof Function&&c.cellStart({row:u,col:h,data:j},this),o.call(this,new i(e,n,v[p[h]],T,j,u+2,I[p[h]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var a=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,s=this.internal.scaleFactor;return Object.keys(e).map(function(r){var s=e[r];return this.splitTextToSize(s.hasOwnProperty("text")?s.text:s,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/s+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var s;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){s=this.internal.__cell__.tableHeaderRow[A].clone(),t&&(s.y=this.internal.__cell__.margins.top||0,l.push(s)),s.lineNumber=e;var c=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,s),this.setTextColor(c)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(tg.API);var Kg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qg=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zg=Vg(qg),Wg=[100,200,300,400,500,600,700,800,900],Gg=Vg(Wg);function Jg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Kg[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),s=function(e){return"number"==typeof zg[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function Xg(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var Yg={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $g(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function em(e){return e.trimLeft()}function tm(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function nm(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var rm,sm,im,om,am=["times"];!function(e){var t,n,r,s,i,o,a,l,A,c=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,A=new c}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var s=0;Object.defineProperty(this,"posX",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),A.margin=t}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=e}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(e){a=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(e){e instanceof c&&(A=e)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(e){A.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=d(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=d(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null;function f(e,t){if(null===h){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());h=function(e){for(var t={},n=0;n<e.length;++n){var r=Jg(e[n]),s=r.family,i=r.stretch,o=r.style,a=r.weight;t[s]=t[s]||{},t[s][i]=t[s][i]||{},t[s][i][o]=t[s][i][o]||{},t[s][i][o][a]=r}return t}(n.concat(t))}return h}var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){h=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],s=t[4];t[5];var i=t[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(s)[2];s="px"===o?Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(s)*this.pdf.getFontSize()):Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(s);var a=function(e){var t,n,r=[],s=e.trim();if(""===s)return am;if(s in Zg)return[Zg[s]];for(;""!==s;){switch(n=null,t=(s=em(s)).charAt(0)){case'"':case"'":n=tm(s.substring(1),t);break;default:n=nm(s)}if(null===n)return am;if(r.push(n[0]),""!==(s=em(n[1]))&&","!==s.charAt(0))return am;s=s.replace(/^,/,"")}return r}(i);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},Yg,n.genericFontFamilies||{}),i=null,o=null,a=0;a<t.length;++a)if(s[(i=Jg(t[a])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+$g(i)+"' and default family '"+r+"'.");if(o=function(e,t){if(t[e])return t[e];var n=zg[e],r=n<=zg.normal?-1:1,s=Xg(t,qg,n,r);if(!s)throw new Error("Could not find a matching font-stretch value for "+e);return s}(i.stretch,o),o=function(e,t){if(t[e])return t[e];for(var n=Kg[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(i.style,o),!(o=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Gg[e],r=Xg(t,Wg,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+$g(i)+"'.");return o}(f(this.pdf,this.fontFaces),a.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var A="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(A="bold"),"italic"===n&&(A+="italic"),0===A.length&&(A="normal");for(var c="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<a.length;d++){if(void 0!==this.pdf.internal.getFont(a[d],A,{noFallback:!0,disableWarning:!0})){c=a[d];break}if("bolditalic"===A&&void 0!==this.pdf.internal.getFont(a[d],"bold",{noFallback:!0,disableWarning:!0}))c=a[d],A="bold";else if(void 0!==this.pdf.internal.getFont(a[d],"normal",{noFallback:!0,disableWarning:!0})){c=a[d],A="normal";break}}if(""===c)for(var h=0;h<a.length;h++)if(u[a[h]]){c=u[a[h]];break}c=""===c?"Times":c,this.pdf.setFont(c,A)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,P.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,P.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Bp.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},u.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,kf.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Bp.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw Bp.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var s=this.ctx.transform.applyToPoint(new o(n,r)),i=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:i.x,y1:i.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},u.prototype.bezierCurveTo=function(e,t,n,r,s,i){if(isNaN(s)||isNaN(i)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Bp.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new o(s,i)),l=this.ctx.transform.applyToPoint(new o(e,t)),A=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:A.x,y2:A.y,x:a.x,y:a.y}),this.ctx.lastPoint=new o(a.x,a.y)},u.prototype.arc=function(e,t,n,r,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s))throw Bp.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new o(e,t));e=a.x,t=a.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),A=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-A.x,2)+Math.pow(l.y-A.y,2))}Math.abs(s-r)>=2*Math.PI&&(r=0,s=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:s,counterclockwise:i})},u.prototype.arcTo=function(e,t,n,r,s){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Bp.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Bp.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var s={};"butt"!==this.lineCap&&(s.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(s.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),s.hasOwnProperty("lineCap")&&(this.lineCap=s.lineCap),s.hasOwnProperty("lineJoin")&&(this.lineJoin=s.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Bp.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Bp.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(e){var t,n,r,s;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,s=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==i)t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),s=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),s=parseFloat(i[4]);else{if(s=1,"string"==typeof e&&"#"!==e.charAt(0)){var o=new Ip(e);e=o.ok?o.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:s,style:e}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Bp.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!h.call(this)){var s=L(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:i,angle:s,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Bp.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r;var s=L(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:i,renderingMode:"stroke",angle:s,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw Bp.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),s=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:s*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Bp.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw Bp.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Bp.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(i))throw Bp.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new l(e,t,n,r,s,i);this.ctx.transform=this.ctx.transform.multiply(o)},u.prototype.setTransform=function(e,t,n,r,s,i){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,s=isNaN(s)?0:s,i=isNaN(i)?0:i,this.ctx.transform=new l(e,t,n,r,s,i)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,s,i,o,A,c){var u=this.pdf.getImageProperties(e),d=1,h=1,f=1,m=1;void 0!==r&&void 0!==A&&(f=A/r,m=c/s,d=u.width/r*A/r,h=u.height/s*c/s),void 0===i&&(i=t,o=n,t=0,n=0),void 0!==r&&void 0===A&&(A=r,c=s),void 0===r&&void 0===A&&(A=u.width,c=u.height);for(var w,x=this.ctx.transform.decompose(),C=L(x.rotate.shx),B=new l,k=(B=(B=(B=B.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new a(i-t*f,o-n*m,r*d,s*h)),N=g.call(this,k),E=[],_=0;_<N.length;_+=1)-1===E.indexOf(N[_])&&E.push(N[_]);if(v(E),this.autoPaging)for(var S=E[0],F=E[E.length-1],I=S;I<F+1;I++){this.pdf.setPage(I);var T=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],j=1===I?this.posY+this.margin[0]:this.margin[0],U=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Q=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===I?0:U+(I-2)*Q;if(0!==this.ctx.clip_path.length){var O=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(w,this.posX+this.margin[3],-P+j+this.ctx.prevPageLastElemOffset),b.call(this,"fill",!0),this.path=O}var D=JSON.parse(JSON.stringify(k));D=y([D],this.posX+this.margin[3],-P+j+this.ctx.prevPageLastElemOffset)[0];var R=(I>S||I<F)&&p.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],T,Q,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",D.x,D.y,D.w,D.h,null,null,C),R&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",k.x,k.y,k.w,k.h,null,null,C)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var s=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+s)/n)+1);break;case"arc":r.push(Math.floor((e.y+s-e.radius)/n)+1),r.push(Math.floor((e.y+s+e.radius)/n)+1);break;case"qct":var i=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((i.y+s)/n)+1),r.push(Math.floor((i.y+i.h+s)/n)+1);break;case"bct":var o=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((o.y+s)/n)+1),r.push(Math.floor((o.y+o.h+s)/n)+1);break;case"rect":r.push(Math.floor((e.y+s)/n)+1),r.push(Math.floor((e.y+e.h+s)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)m.call(this);return r},m=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,s=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=s,this.lineJoin=i},y=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},v=function(e){return e.sort(function(e,t){return e-t})},w=function(e,t){for(var n,r,s=this.fillStyle,i=this.strokeStyle,o=this.lineCap,a=this.lineWidth,l=Math.abs(a*this.ctx.transform.scaleX),A=this.lineJoin,c=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),d=[],h=0;h<u.length;h++)if(void 0!==u[h].x)for(var f=g.call(this,u[h]),w=0;w<f.length;w+=1)-1===d.indexOf(f[w])&&d.push(f[w]);for(var x=0;x<d.length;x++)for(;this.pdf.internal.getNumberOfPages()<d[x];)m.call(this);if(v(d),this.autoPaging)for(var C=d[0],B=d[d.length-1],k=C;k<B+1;k++){this.pdf.setPage(k),this.fillStyle=s,this.strokeStyle=i,this.lineCap=o,this.lineWidth=l,this.lineJoin=A;var N=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],E=1===k?this.posY+this.margin[0]:this.margin[0],_=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],S=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===k?0:_+(k-2)*S;if(0!==this.ctx.clip_path.length){var I=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset),b.call(this,e,!0),this.path=I}if(r=JSON.parse(JSON.stringify(c)),this.path=y(r,this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset),!1===t||0===k){var T=(k>C||k<B)&&p.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],N,S,null).clip().discardPath()),b.call(this,e,t),T&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=l,b.call(this,e,t),this.lineWidth=a;this.path=c},b=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!h.call(this))){for(var n,r,s=[],i=this.path,o=0;o<i.length;o++){var a=i[o];switch(a.type){case"begin":s.push({begin:!0});break;case"close":s.push({close:!0});break;case"mt":s.push({start:a,deltas:[],abs:[]});break;case"lt":var l=s.length;if(i[o-1]&&!isNaN(i[o-1].x)&&(n=[a.x-i[o-1].x,a.y-i[o-1].y],l>0))for(;l>=0;l--)if(!0!==s[l-1].close&&!0!==s[l-1].begin){s[l-1].deltas.push(n),s[l-1].abs.push(a);break}break;case"bct":n=[a.x1-i[o-1].x,a.y1-i[o-1].y,a.x2-i[o-1].x,a.y2-i[o-1].y,a.x-i[o-1].x,a.y-i[o-1].y],s[s.length-1].deltas.push(n);break;case"qct":var A=i[o-1].x+2/3*(a.x1-i[o-1].x),c=i[o-1].y+2/3*(a.y1-i[o-1].y),u=a.x+2/3*(a.x1-a.x),d=a.y+2/3*(a.y1-a.y),p=a.x,g=a.y;n=[A-i[o-1].x,c-i[o-1].y,u-i[o-1].x,d-i[o-1].y,p-i[o-1].x,g-i[o-1].y],s[s.length-1].deltas.push(n);break;case"arc":s.push({deltas:[],abs:[],arc:!0}),Array.isArray(s[s.length-1].abs)&&s[s.length-1].abs.push(a)}}r=t?null:"stroke"===e?"stroke":"fill";for(var m=!1,y=0;y<s.length;y++)if(s[y].arc)for(var v=s[y].abs,w=0;w<v.length;w++){var b=v[w];"arc"===b.type?B.call(this,b.x,b.y,b.radius,b.startAngle,b.endAngle,b.counterclockwise,void 0,t,!m):S.call(this,b.x,b.y),m=!0}else if(!0===s[y].close)this.pdf.internal.out("h"),m=!1;else if(!0!==s[y].begin){var x=s[y].start.x,C=s[y].start.y;F.call(this,s[y].deltas,x,C),m=!0}r&&k.call(this,r),t&&N.call(this)}},x=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},C=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(e,t,n,r,s,i,o,a,l){for(var A=T.call(this,n,r,s,i),c=0;c<A.length;c++){var u=A[c];0===c&&(l?E.call(this,u.x1+e,u.y1+t):S.call(this,u.x1+e,u.y1+t)),I.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}a?N.call(this):k.call(this,o)},k=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},N=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},_=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=x.call(this,e.y),s=C.call(this,r)-n.h,i=this.ctx.transform.applyToPoint(new o(e.x,r)),A=this.ctx.transform.decompose(),c=new l;c=(c=(c=c.multiply(A.translate)).multiply(A.skew)).multiply(A.scale);for(var u,d,h,f=this.ctx.transform.applyToRectangle(new a(e.x,r,n.w,n.h)),m=c.applyToRectangle(new a(e.x,s,n.w,n.h)),w=g.call(this,m),B=[],k=0;k<w.length;k+=1)-1===B.indexOf(w[k])&&B.push(w[k]);if(v(B),this.autoPaging)for(var N=B[0],E=B[B.length-1],_=N;_<E+1;_++){this.pdf.setPage(_);var S=1===_?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[2],T=I-this.margin[0],j=this.pdf.internal.pageSize.width-this.margin[1],L=j-this.margin[3],U=1===_?0:F+(_-2)*T;if(0!==this.ctx.clip_path.length){var Q=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(u,this.posX+this.margin[3],-1*U+S),b.call(this,"fill",!0),this.path=Q}var P=y([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-U+S+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale);var O="text"!==this.autoPaging;if(O||P.y+P.h<=I){if(O||P.y>=S&&P.x<=j){var D=O?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||j-P.x)[0],R=y([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-U+S+this.ctx.prevPageLastElemOffset)[0],M=O&&(_>N||_<E)&&p.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,T,null).clip().discardPath()),this.pdf.text(D,R.x,R.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),M&&this.pdf.restoreGraphicsState()}}else P.y<I&&(this.ctx.prevPageLastElemOffset+=I-P.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=h)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale),this.pdf.text(e.text,i.x+this.posX,i.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=h)},S=function(e,t,s,i){s=s||0,i=i||0,this.pdf.internal.out(n(e+s)+" "+r(t+i)+" l")},F=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},I=function(e,n,r,o,a,l,A,c){this.pdf.internal.out([t(s(r+e)),t(i(o+n)),t(s(a+e)),t(i(l+n)),t(s(A+e)),t(i(c+n)),"c"].join(" "))},T=function(e,t,n,r){for(var s=2*Math.PI,i=Math.PI/2;t>n;)t-=s;var o=Math.abs(n-t);o<s&&r&&(o=s-o);for(var a=[],l=r?-1:1,A=t;o>1e-5;){var c=A+l*Math.min(o,i);a.push(j.call(this,e,A,c)),o-=Math.abs(c-A),A=c}return a},j=function(e,t,n){var r=(n-t)/2,s=e*Math.cos(r),i=e*Math.sin(r),o=s,a=-i,l=o*o+a*a,A=l+o*s+a*i,c=4/3*(Math.sqrt(2*l*A)-A)/(o*i-a*s),u=o-c*a,d=a+c*o,h=u,f=-d,p=r+t,g=Math.cos(p),m=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-d*m,y2:u*m+d*g,x3:h*g-f*m,y3:h*m+f*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},L=function(e){return 180*e/Math.PI},U=function(e,t,n,r,s,i){var o=e+.5*(n-e),l=t+.5*(r-t),A=s+.5*(n-s),c=i+.5*(r-i),u=Math.min(e,s,o,A),d=Math.max(e,s,o,A),h=Math.min(t,i,l,c),f=Math.max(t,i,l,c);return new a(u,h,d-u,f-h)},Q=function(e,t,n,r,s,i,o,l){var A,c,u,d,h,f,p,g,m,y,v,w,b,x,C=n-e,B=r-t,k=s-n,N=i-r,E=o-s,_=l-i;for(c=0;c<41;c++)m=(p=(u=e+(A=c/40)*C)+A*((h=n+A*k)-u))+A*(h+A*(s+A*E-h)-p),y=(g=(d=t+A*B)+A*((f=r+A*N)-d))+A*(f+A*(i+A*_-f)-g),0==c?(v=m,w=y,b=m,x=y):(v=Math.min(v,m),w=Math.min(w,y),b=Math.max(b,m),x=Math.max(x,y));return new a(Math.round(v),Math.round(w),Math.round(b-v),Math.round(x-w))},P=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(tg.API),function(e){var t=function(e){var t,n,r,s,i,o,a,l,A,c;for(/[^\x00-\xFF]/.test(e),n=[],r=0,s=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;s>r;r+=4)0!==(i=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(o=(i=((i=((i=((i=(i-(c=i%85))/85)-(A=i%85))/85)-(l=i%85))/85)-(a=i%85))/85)%85,n.push(o+33,a+33,l+33,A+33,c+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,s,i,o=String,a="length",l=255,A="charCodeAt",c="slice",u="replace";for(e[c](-2),e=e[c](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],s=0,i=(e+=t="uuuuu"[c](e[a]%5||5))[a];i>s;s+=5)n=52200625*(e[A](s)-33)+614125*(e[A](s+1)-33)+7225*(e[A](s+2)-33)+85*(e[A](s+3)-33)+(e[A](s+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[a]),o.fromCharCode.apply(o,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},s=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=vp(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var o=0,a=e||"",l=[];for("string"==typeof(i=i||[])&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=s(a),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:a,reverseChain:l.reverse().join(" ")}}}(tg.API),(om=tg.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,s=0,i=function(e){var t=e.length,n=[],r=String.fromCharCode;for(s=0;s<t;s+=1)n.push(r(255&e.charCodeAt(s)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(i(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return i(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},om.loadImageFile=om.loadFile,function(e){function t(){return(xp.html2canvas?Promise.resolve(xp.html2canvas):Promise.resolve().then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(xp.DOMPurify?Promise.resolve(xp.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var s=function(e){var t=(0,kf.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(s(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),s=t.firstChild;s;s=s.nextSibling)!0!==n&&1===s.nodeType&&"SCRIPT"===s.nodeName||r.appendChild(e(s,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,s=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete s.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var o=n[i],a=o.src.find(function(e){return"truetype"===e.format});a&&t.addFont(a.url,o.ref.name,o.ref.style)}return s.windowHeight=s.windowHeight||0,s.windowHeight=0==s.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):s.windowHeight,t.context2d.save(!0),e(this.prop.container,s)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==s(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},o.prototype.setMargin=function(e){return this.then(function(){switch(s(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||tg.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),s=n.call(r,e,t);return o.convert(s,this.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,tg.getPageSize=function(e,t,n){if("object"===(0,kf.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var s,i=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+t}var a,l=0,A=0;if(o.hasOwnProperty(i))l=o[i][1]/s,A=o[i][0]/s;else try{l=n[1],A=n[0]}catch(om){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",A>l&&(a=A,A=l,l=a);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>A&&(a=A,A=l,l=a)}return{width:A,height:l,unit:t,k:s,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Jg):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(tg.API),tg.API.addJS=function(e){return im=e,this.internal.events.subscribe("postPutResources",function(){rm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(rm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+im+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==rm&&void 0!==sm&&this.internal.out("/Names <</JavaScript "+rm+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var i=r[s],o=n.exec(i);if(null!=o){var a=o[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,A=[];for(s=0;s<l;s++){var c=e.internal.newObject();A.push(c);var u=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<A.length;s++)e.internal.write("(page_"+(s+1)+")"+A[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var s=t.children[r];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var i=this.count=this.count_r({count:0},s);if(i>0&&this.line("/Count "+i),s.options&&s.options.pageNumber){var o=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<t.children.length;a++)this.renderItems(t.children[a])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(tg.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,s,i,o){var a,l=this.decode.DCT_DECODE,A=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),s=e.length,i={width:0,height:0,numcomponents:1},o=4;o<s;o+=2){if(o+=r,-1!==t.indexOf(e.charCodeAt(o+1))){n=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),i={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:n,numcomponents:e.charCodeAt(o+9)};break}r=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return i}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}A={data:e,width:a.width,height:a.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:r}}return A}}(tg.API);var lm,Am,cm,um,dm,hm=function(){var e,t,n;function r(e){var t,n,r,s,i,o,a,l,A,c,u,d,h,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),A=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),s=this.readUInt16()||100,o.delay=1e3*i/s,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===A&&(this.pos+=4,t-=4),e=(null!=o?o.data:void 0)||this.imgData,d=0;0<=t?d<t:d>t;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((c=r-this.transparency.indexed.length)>0)for(h=0;0<=c?h<c:h>c;0<=c?++h:--h)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":a=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,a)),this.text[l]=String.fromCharCode.apply(String,u.slice(a+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,s=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function i(i,o,a,l){var A,c,u,d,h,f,p,g,m,y,v,w,b,x,C,B,k,N,E,_,S,F=Math.ceil((s.width-i)/a),I=Math.ceil((s.height-o)/l),T=s.width==F&&s.height==I;for(x=t*F,w=T?n:new Uint8Array(x*I),f=e.length,b=0,c=0;b<I&&r<f;){switch(e[r++]){case 0:for(d=k=0;k<x;d=k+=1)w[c++]=e[r++];break;case 1:for(d=N=0;N<x;d=N+=1)A=e[r++],h=d<t?0:w[c-t],w[c++]=(A+h)%256;break;case 2:for(d=E=0;E<x;d=E+=1)A=e[r++],u=(d-d%t)/t,C=b&&w[(b-1)*x+u*t+d%t],w[c++]=(C+A)%256;break;case 3:for(d=_=0;_<x;d=_+=1)A=e[r++],u=(d-d%t)/t,h=d<t?0:w[c-t],C=b&&w[(b-1)*x+u*t+d%t],w[c++]=(A+Math.floor((h+C)/2))%256;break;case 4:for(d=S=0;S<x;d=S+=1)A=e[r++],u=(d-d%t)/t,h=d<t?0:w[c-t],0===b?C=B=0:(C=w[(b-1)*x+u*t+d%t],B=u&&w[(b-1)*x+(u-1)*t+d%t]),p=h+C-B,g=Math.abs(p-h),y=Math.abs(p-C),v=Math.abs(p-B),m=g<=y&&g<=v?h:y<=v?C:B,w[c++]=(A+m)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!T){var j=((o+b*l)*s.width+i)*t,L=b*x;for(d=0;d<F;d+=1){for(var U=0;U<t;U+=1)n[j++]=w[L++];j+=(a-1)*t}}b++}}return e=wp(e),1==s.interlaceMethod?(i(0,0,8,8),i(4,0,8,8),i(0,4,4,8),i(2,0,4,4),i(0,2,2,4),i(1,0,2,2),i(0,1,1,2)):i(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,s,i,o,a,l;for(n=this.palette,i=this.transparency.indexed||[],s=new Uint8Array((i.length||0)+n.length),r=0,e=0,t=o=0,a=n.length;o<a;t=o+=3)s[r++]=n[t],s[r++]=n[t+1],s[r++]=n[t+2],s[r++]=null!=(l=i[e++])?l:255;return s},r.prototype.copyToImageData=function(e,t){var n,r,s,i,o,a,l,A,c,u,d;if(r=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),A=(s=e.data||e).length,o=c||t,i=a=0,1===r)for(;i<A;)l=c?4*t[i/4]:a,u=o[l++],s[i++]=u,s[i++]=u,s[i++]=u,s[i++]=n?o[l++]:255,a=l;else for(;i<A;)l=c?4*t[i/4]:a,s[i++]=o[l++],s[i++]=o[l++],s[i++]=o[l++],s[i++]=n?o[l++]:255,a=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var s=function(){if("[object Window]"===Object.prototype.toString.call(xp)){try{t=xp.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return s(),e=function(e){var r;if(!0===s())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,s,i,o,a,l,A;if(this.animation){for(A=[],r=o=0,a=(l=this.animation.frames).length;o<a;r=++o)n=l[r],s=t.createImageData(n.width,n.height),i=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(s,i),n.imageData=s,A.push(n.image=e(s));return A}},r.prototype.renderFrame=function(e,t){var n,r,s;return n=(r=this.animation.frames)[t],s=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=s?s.disposeOp:void 0)?e.clearRect(s.xOffset,s.yOffset,s.width,s.height):2===(null!=s?s.disposeOp:void 0)&&e.putImageData(s.imageData,s.xOffset,s.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,s,i,o,a=this;return n=0,o=this.animation,s=o.numFrames,r=o.frames,i=o.numPlays,(t=function(){var o,l;if(o=n++%s,l=r[o],a.renderFrame(e,o),s>1&&n/s<i)return a.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function fm(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var a=null,l=null;i&&(a=t,l=o,t+=3*o);var A=!0,c=[],u=0,d=null,h=0,f=null;for(this.width=n,this.height=r;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(0===E)break;t+=E}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];u=e[t++]|e[t++]<<8,d=e[t++],0==(1&p)&&(d=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(0===E)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++],b=w>>6&1,x=1<<1+(7&w),C=a,B=l,k=!1;w>>7&&(k=!0,C=t,B=x,t+=3*x);var N=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(0===E)break;t+=E}c.push({x:g,y:m,width:y,height:v,has_local_palette:k,palette_offset:C,palette_size:B,data_offset:N,data_length:t-N,transparent_index:d,interlaced:!!b,delay:u,disposal:h});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,r){var s=this.frameInfo(t),i=s.width*s.height,o=new Uint8Array(i);pm(e,s.data_offset,o,i);var a=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var A=s.width,c=n-A,u=A,d=4*(s.y*n+s.x),h=4*((s.y+s.height)*n+s.x),f=d,p=4*c;!0===s.interlaced&&(p+=4*n*7);for(var g=8,m=0,y=o.length;m<y;++m){var v=o[m];if(0===u&&(u=A,(f+=p)>=h&&(p=4*c+4*n*(g-1),f=d+(A+c)*(g<<1),g>>=1)),v===l)f+=4;else{var w=e[a+3*v],b=e[a+3*v+1],x=e[a+3*v+2];r[f++]=x,r[f++]=b,r[f++]=w,r[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var s=this.frameInfo(t),i=s.width*s.height,o=new Uint8Array(i);pm(e,s.data_offset,o,i);var a=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var A=s.width,c=n-A,u=A,d=4*(s.y*n+s.x),h=4*((s.y+s.height)*n+s.x),f=d,p=4*c;!0===s.interlaced&&(p+=4*n*7);for(var g=8,m=0,y=o.length;m<y;++m){var v=o[m];if(0===u&&(u=A,(f+=p)>=h&&(p=4*c+4*n*(g-1),f=d+(A+c)*(g<<1),g>>=1)),v===l)f+=4;else{var w=e[a+3*v],b=e[a+3*v+1],x=e[a+3*v+2];r[f++]=w,r[f++]=b,r[f++]=x,r[f++]=255}--u}}}function pm(e,t,n,r){for(var s=e[t++],i=1<<s,o=i+1,a=o+1,l=s+1,A=(1<<l)-1,c=0,u=0,d=0,h=e[t++],f=new Int32Array(4096),p=null;;){for(;c<16&&0!==h;)u|=e[t++]<<c,c+=8,1===h?h=e[t++]:--h;if(c<l)break;var g=u&A;if(u>>=l,c-=l,g!==i){if(g===o)break;for(var m=g<a?g:p,y=0,v=m;v>i;)v=f[v]>>8,++y;var w=v;if(d+y+(m!==g?1:0)>r)return void Bp.log("Warning, gif stream longer than expected.");n[d++]=w;var b=d+=y;for(m!==g&&(n[d++]=w),v=m;y--;)v=f[v],n[--b]=255&v,v>>=8;null!==p&&a<4096&&(f[a++]=p<<8|w,a>=A+1&&l<12&&(++l,A=A<<1|1)),p=g}else a=o+1,A=(1<<(l=s+1))-1,p=null}return d!==r&&Bp.log("Warning, gif stream shorter than expected."),n}function gm(e){var t,n,r,s,i,o=Math.floor,a=new Array(64),l=new Array(64),A=new Array(64),c=new Array(64),u=new Array(65535),d=new Array(65535),h=new Array(64),f=new Array(64),p=[],g=0,m=7,y=new Array(64),v=new Array(64),w=new Array(64),b=new Array(256),x=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var n=0,r=0,s=new Array,i=1;i<=16;i++){for(var o=1;o<=e[i];o++)s[t[r]]=[],s[t[r]][0]=n,s[t[r]][1]=i,r++,n++;n*=2}return s}function j(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<m),n--,--m<0&&(255==g?(L(255),L(0)):L(g),m=7,g=0)}function L(e){p.push(e)}function U(e){L(e>>8&255),L(255&e)}function Q(e,t,n,r,s){for(var i,o=s[0],a=s[240],l=function(e,t){var n,r,s,i,o,a,l,A,c,u,d=0;for(c=0;c<8;++c){n=e[d],r=e[d+1],s=e[d+2],i=e[d+3],o=e[d+4],a=e[d+5],l=e[d+6];var f=n+(A=e[d+7]),p=n-A,g=r+l,m=r-l,y=s+a,v=s-a,w=i+o,b=i-o,x=f+w,C=f-w,B=g+y,k=g-y;e[d]=x+B,e[d+4]=x-B;var N=.707106781*(k+C);e[d+2]=C+N,e[d+6]=C-N;var E=.382683433*((x=b+v)-(k=m+p)),_=.5411961*x+E,S=1.306562965*k+E,F=.707106781*(B=v+m),I=p+F,T=p-F;e[d+5]=T+_,e[d+3]=T-_,e[d+1]=I+S,e[d+7]=I-S,d+=8}for(d=0,c=0;c<8;++c){n=e[d],r=e[d+8],s=e[d+16],i=e[d+24],o=e[d+32],a=e[d+40],l=e[d+48];var j=n+(A=e[d+56]),L=n-A,U=r+l,Q=r-l,P=s+a,O=s-a,D=i+o,R=i-o,M=j+D,H=j-D,V=U+P,K=U-P;e[d]=M+V,e[d+32]=M-V;var q=.707106781*(K+H);e[d+16]=H+q,e[d+48]=H-q;var z=.382683433*((M=R+O)-(K=Q+L)),W=.5411961*M+z,G=1.306562965*K+z,J=.707106781*(V=O+Q),X=L+J,Y=L-J;e[d+40]=Y+W,e[d+24]=Y-W,e[d+8]=X+G,e[d+56]=X-G,d++}for(c=0;c<64;++c)u=e[c]*t[c],h[c]=u>0?u+.5|0:u-.5|0;return h}(e,t),A=0;A<64;++A)f[C[A]]=l[A];var c=f[0]-n;n=f[0],0==c?j(r[0]):(j(r[d[i=32767+c]]),j(u[i]));for(var p=63;p>0&&0==f[p];)p--;if(0==p)return j(o),n;for(var g,m=1;m<=p;){for(var y=m;0==f[m]&&m<=p;)++m;var v=m-y;if(v>=16){g=v>>4;for(var w=1;w<=g;++w)j(a);v&=15}i=32767+f[m],j(s[(v<<4)+d[i]]),j(u[i]),m++}return 63!=p&&j(o),n}function P(e){e=Math.min(Math.max(e,1),100),i!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),a[C[n]]=r}for(var s=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var u=o((s[i]*e+50)/100);u=Math.min(Math.max(u,1),255),l[C[i]]=u}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,f=0;f<8;f++)for(var p=0;p<8;p++)A[h]=1/(a[C[h]]*d[f]*d[p]*8),c[h]=1/(l[C[h]]*d[f]*d[p]*8),h++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e)}this.encode=function(e,i){i&&P(i),p=new Array,g=0,m=7,U(65496),U(65504),U(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),U(1),U(1),L(0),L(0),function(){U(65499),U(132),L(0);for(var e=0;e<64;e++)L(a[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),function(e,t){U(65472),U(17),L(8),U(t),U(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){U(65476),U(418),L(0);for(var e=0;e<16;e++)L(B[e+1]);for(var t=0;t<=11;t++)L(k[t]);L(16);for(var n=0;n<16;n++)L(N[n+1]);for(var r=0;r<=161;r++)L(E[r]);L(1);for(var s=0;s<16;s++)L(_[s+1]);for(var i=0;i<=11;i++)L(S[i]);L(17);for(var o=0;o<16;o++)L(F[o+1]);for(var a=0;a<=161;a++)L(I[a])}(),U(65498),U(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var o=0,u=0,d=0;g=0,m=7,this.encode.displayName="_encode_";for(var h,f,b,C,T,O,D,R,M,H=e.data,V=e.width,K=e.height,q=4*V,z=0;z<K;){for(h=0;h<q;){for(T=q*z+h,D=-1,R=0,M=0;M<64;M++)O=T+(R=M>>3)*q+(D=4*(7&M)),z+R>=K&&(O-=q*(z+1+R-K)),h+D>=q&&(O-=h+D-q+4),f=H[O++],b=H[O++],C=H[O++],y[M]=(x[f]+x[b+256|0]+x[C+512|0]>>16)-128,v[M]=(x[f+768|0]+x[b+1024|0]+x[C+1280|0]>>16)-128,w[M]=(x[f+1280|0]+x[b+1536|0]+x[C+1792|0]>>16)-128;o=Q(y,A,o,t,r),u=Q(v,c,u,n,s),d=Q(w,c,d,n,s),h+=32}z+=8}if(m>=0){var W=[];W[1]=m+1,W[0]=(1<<m+1)-1,j(W)}return U(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)b[t]=e(t)}(),t=T(B,k),n=T(_,S),r=T(N,E),s=T(F,I),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var s=-(t-1);s<=-e;s++)d[32767+s]=n,u[32767+s]=[],u[32767+s][1]=n,u[32767+s][0]=t-1+s;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256|0]=38470*e,x[e+512|0]=7471*e+32768,x[e+768|0]=-11059*e,x[e+1024|0]=-21709*e,x[e+1280|0]=32768*e+8421375,x[e+1536|0]=-27439*e,x[e+1792|0]=-5329*e}(),P(e)}function mm(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ym(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,s){for(var i=0;i<s;i++)e[t+i]=n[r+i]}function s(e,t,n,r){for(var s=0;s<r;s++)e[t+s]=n}function i(e){return new Int32Array(e)}function o(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function a(e,t){var n=[];return function e(n,r,s){for(var i=s[r],o=0;o<i&&(n.push(s.length>r+1?[]:new t),!(s.length<r+1));o++)e(n[o],r+1,s)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function A(e,n,r,s,i){t(!(s%r));do{e[n+(s-=r)]=i}while(0<s)}function c(e,n,r,s,o){if(t(2328>=o),512>=o)var a=i(512);else if(null==(a=i(o)))return 0;return function(e,n,r,s,o,a){var c,d,h=n,f=1<<r,p=i(16),g=i(16);for(t(0!=o),t(null!=s),t(null!=e),t(0<r),d=0;d<o;++d){if(15<s[d])return 0;++p[s[d]]}if(p[0]==o)return 0;for(g[1]=0,c=1;15>c;++c){if(p[c]>1<<c)return 0;g[c+1]=g[c]+p[c]}for(d=0;d<o;++d)c=s[d],0<s[d]&&(a[g[c]++]=d);if(1==g[15])return(s=new u).g=0,s.value=a[0],A(e,h,1,f,s),f;var m,y=-1,v=f-1,w=0,b=1,x=1,C=1<<r;for(d=0,c=1,o=2;c<=r;++c,o<<=1){if(b+=x<<=1,0>(x-=p[c]))return 0;for(;0<p[c];--p[c])(s=new u).g=c,s.value=a[d++],A(e,h+w,o,C,s),w=l(w,c)}for(c=r+1,o=2;15>=c;++c,o<<=1){if(b+=x<<=1,0>(x-=p[c]))return 0;for(;0<p[c];--p[c]){if(s=new u,(w&v)!=y){for(h+=C,m=1<<(y=c)-r;15>y&&!(0>=(m-=p[y]));)++y,m<<=1;f+=C=1<<(m=y-r),e[n+(y=w&v)].g=m+r,e[n+y].value=h-n-y}s.g=c-r,s.value=a[d++],A(e,h+(w>>r),o,C,s),w=l(w,c)}}return b!=2*g[15]-1?0:f}(e,n,r,s,o,a)}function u(){this.value=this.g=0}function d(){this.value=this.g=0}function h(){this.G=o(5,u),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Dn,d)}function f(e,n,r,s){t(null!=e),t(null!=n),t(2147483648>s),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+s,e.Zc=4<=s?r+s-4+1:r,N(e)}function p(e,t){for(var n=0;0<t--;)n|=_(e,128)<<t;return n}function g(e,t){var n=p(e,t);return E(e)?-n:n}function m(e,n,r,s){var i,o=0;for(t(null!=e),t(null!=n),t(4294967288>s),e.Sb=s,e.Ra=0,e.u=0,e.h=0,4<s&&(s=4),i=0;i<s;++i)o+=n[r+i]<<8*i;e.Ra=o,e.bb=s,e.oa=n,e.pa=r}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Hn-8>>>0,++e.bb,e.u-=8;C(e)&&(e.h=1,e.u=0)}function v(e,n){if(t(0<=n),!e.h&&n<=Mn){var r=x(e)&Rn[n];return e.u+=n,y(e),r}return e.h=1,e.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function b(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&Hn-1)>>>0}function C(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Hn}function B(e,t){e.u=t,e.h=C(e)}function k(e){e.u>=Vn&&(t(e.u>=Vn),y(e))}function N(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function E(e){return p(e,1)}function _(e,t){var n=e.Ca;0>e.b&&N(e);var r=e.b,s=n*t>>>8,i=(e.I>>>r>s)+0;for(i?(n-=s,e.I-=s+1<<r>>>0):n=s+1,r=n,s=0;256<=r;)s+=8,r>>=8;return r=7^s+Kn[r],e.b-=r,e.Ca=(n<<r)-1,i}function S(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function F(e,t){return e[t+0]|e[t+1]<<8}function I(e,t){return F(e,t)|e[t+2]<<16}function T(e,t){return F(e,t)|F(e,t+2)<<16}function j(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=i(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function L(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function U(){this.X=[],this.Xa=this.Mb=0}function Q(e,n,r,s){t(null!=r),t(null!=s);var i=r[0],o=s[0];return 0==i&&(i=(e*o+n/2)/n),0==o&&(o=(n*i+e/2)/e),0>=i||0>=o?0:(r[0]=i,s[0]=o,1)}function P(e,t){return e+(1<<t)-1>>>t}function O(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function D(t,n){e[n]=function(n,r,s,i,o,a,l){var A;for(A=0;A<o;++A){var c=e[t](a[l+A-1],s,i+A);a[l+A]=O(n[r+A],c)}}}function R(){this.ud=this.hd=this.jd=0}function M(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function V(e,t){return H(e+(e-t+.5>>1))}function K(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function q(e,t,n,r,s,i,o){for(r=i[o-1],n=0;n<s;++n)i[o+n]=r=O(e[t+n],r)}function z(e,t,n,r,s){var i;for(i=0;i<n;++i){var o=e[t+i],a=o>>8&255,l=16711935&(l=(l=16711935&o)+((a<<16)+a));r[s+i]=(4278255360&o)+l>>>0}}function W(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function G(e,t,n,r,s,i){var o;for(o=0;o<r;++o){var a=t[n+o],l=a>>>8,A=a,c=255&(c=(c=a>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));A=255&(A=(A+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(c<<24>>24)>>>5)),s[i+o]=(4278255360&a)+(c<<16)+A}}function J(t,n,r,s,i){e[n]=function(e,t,n,r,o,a,l,A,c){for(r=l;r<A;++r)for(l=0;l<c;++l)o[a++]=i(n[s(e[t++])])},e[t]=function(t,n,o,a,l,A,c){var u=8>>t.b,d=t.Ea,h=t.K[0],f=t.w;if(8>u)for(t=(1<<t.b)-1,f=(1<<u)-1;n<o;++n){var p,g=0;for(p=0;p<d;++p)p&t||(g=s(a[l++])),A[c++]=i(h[g&f]),g>>=u}else e["VP8LMapColor"+r](a,l,h,f,A,c,n,o,d)}}function X(e,t,n,r,s){for(n=t+n;t<n;){var i=e[t++];r[s++]=i>>16&255,r[s++]=i>>8&255,r[s++]=255&i}}function Y(e,t,n,r,s){for(n=t+n;t<n;){var i=e[t++];r[s++]=i>>16&255,r[s++]=i>>8&255,r[s++]=255&i,r[s++]=i>>24&255}}function Z(e,t,n,r,s){for(n=t+n;t<n;){var i=(o=e[t++])>>16&240|o>>12&15,o=240&o|o>>28&15;r[s++]=i,r[s++]=o}}function $(e,t,n,r,s){for(n=t+n;t<n;){var i=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[s++]=i,r[s++]=o}}function ee(e,t,n,r,s){for(n=t+n;t<n;){var i=e[t++];r[s++]=255&i,r[s++]=i>>8&255,r[s++]=i>>16&255}}function te(e,t,n,s,i,o){if(0==o)for(n=t+n;t<n;)S(s,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),i+=32;else r(s,i,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Vr||e==Kr||e==qr||e==zr}function se(){this.eb=[],this.size=this.A=this.fb=0}function ie(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new se,this.f.kb=new ie,this.sd=null}function ae(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ae(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ce(e,t){var n=e.T,s=t.ba.f.RGBA,i=s.eb,o=s.fb+e.ka*s.A,a=ms[t.ba.S],l=e.y,A=e.O,c=e.f,u=e.N,d=e.ea,h=e.W,f=t.cc,p=t.dc,g=t.Mc,m=t.Nc,y=e.ka,v=e.ka+e.T,w=e.U,b=w+1>>1;for(0==y?a(l,A,null,null,c,u,d,h,c,u,d,h,i,o,null,null,w):(a(t.ec,t.fc,l,A,f,p,g,m,c,u,d,h,i,o-s.A,i,o,w),++n);y+2<v;y+=2)f=c,p=u,g=d,m=h,u+=e.Rc,h+=e.Rc,o+=2*s.A,a(l,(A+=2*e.fa)-e.fa,l,A,f,p,g,m,c,u,d,h,i,o-s.A,i,o,w);return A+=e.fa,e.j+v<e.o?(r(t.ec,t.fc,l,A,w),r(t.cc,t.dc,c,u,b),r(t.Mc,t.Nc,d,h,b),n--):1&v||a(l,A,null,null,c,u,d,h,c,u,d,h,i,o+s.A,null,null,w),n}function ue(e,n,r){var s=e.F,i=[e.J];if(null!=s){var o=e.U,a=n.ba.S,l=a==Rr||a==qr;n=n.ba.f.RGBA;var A=[0],c=e.ka;A[0]=e.T,e.Kb&&(0==c?--A[0]:(--c,i[0]-=e.width),e.j+e.ka+e.T==e.o&&(A[0]=e.o-e.j-c));var u=n.eb;c=n.fb+c*n.A,e=kr(s,i[0],e.width,o,A,u,c+(l?0:3),n.A),t(r==A),e&&re(a)&&Cr(u,c,l,o,A,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,s=n==Pr||n==Dr||n==Rr||n==Mr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Qn(t.Oa,e,s?11:12))return 0;if(s&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=Ae,e.Kb){if(n=e.U+1>>1,t.memory=i(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ce,vn()}}else alert("todo:EmitYUV");s&&(t.Jb=ue,r&&mn())}if(r&&!Is){for(e=0;256>e;++e)Ts[e]=89858*(e-128)+Ns>>ks,Us[e]=-22014*(e-128)+Ns,Ls[e]=-45773*(e-128),js[e]=113618*(e-128)+Ns>>ks;for(e=Es;e<_s;++e)t=76283*(e-16)+Ns>>ks,Qs[e-Es]=qe(t,255),Ps[e-Es]=qe(t+8>>4,15);Is=1}return 1}function he(e){var n=e.ma,r=e.U,s=e.T;return t(!(1&e.ka)),0>=r||0>=s?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function pe(e,t,n,r){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,n[0]=v(e,14)+1,r[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+v(t,n)+1}function me(e,t){return 120<t?t-120:1<=(n=((n=Zr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var r=x(n),s=e[t+=255&r].g-8;return 0<s&&(B(n,n.u+8),r=x(n),t+=e[t].value,t+=r&(1<<s)-1),B(n,n.u+e[t].g),e[t].value}function ve(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function we(e,n,r){var s=e.xc;return t((n=0==s?0:e.vc[e.md*(r>>s)+(n>>s)])<e.Wb),e.Ya[n]}function be(e,n,s,i){var o=e.ab,a=e.c*n,l=e.C;n=l+n;var A=s,c=i;for(i=e.Ta,s=e.Ua;0<o--;){var u=e.gc[o],d=l,h=n,f=A,p=c,g=(c=i,A=s,u.Ea);switch(t(d<h),t(h<=u.nc),u.hc){case 2:Wn(f,p,(h-d)*g,c,A);break;case 0:var m=d,y=h,v=c,w=A,b=(N=u).Ea;0==m&&(qn(f,p,null,null,1,v,w),q(f,p+1,0,0,b-1,v,w+1),p+=b,w+=b,++m);for(var x=1<<N.b,C=x-1,B=P(b,N.b),k=N.K,N=N.w+(m>>N.b)*B;m<y;){var E=k,_=N,S=1;for(zn(f,p,v,w-b,1,v,w);S<b;){var F=(S&~C)+x;F>b&&(F=b),(0,Zn[E[_++]>>8&15])(f,p+ +S,v,w+S-b,F-S,v,w+S),S=F}p+=b,w+=b,++m&C||(N+=B)}h!=u.nc&&r(c,A-g,c,A+(h-d-1)*g,g);break;case 1:for(g=f,y=p,b=(f=u.Ea)-(w=f&~(v=(p=1<<u.b)-1)),m=P(f,u.b),x=u.K,u=u.w+(d>>u.b)*m;d<h;){for(C=x,B=u,k=new R,N=y+w,E=y+f;y<N;)W(C[B++],k),$n(k,g,y,p,c,A),y+=p,A+=p;y<E&&(W(C[B++],k),$n(k,g,y,b,c,A),y+=b,A+=b),++d&v||(u+=m)}break;case 3:if(f==c&&p==A&&0<u.b){for(y=c,f=g=A+(h-d)*g-(w=(h-d)*P(u.Ea,u.b)),p=c,v=A,m=[],w=(b=w)-1;0<=w;--w)m[w]=p[v+w];for(w=b-1;0<=w;--w)y[f+w]=m[w];Gn(u,d,h,c,g,c,A)}else Gn(u,d,h,f,p,c,A)}A=i,c=s}c!=s&&r(i,s,A,c,a)}function xe(e,n){var r=e.V,s=e.Ba+e.c*e.C,i=n-e.C;if(t(n<=e.l.o),t(16>=i),0<i){var o=e.l,a=e.Ta,l=e.Ua,A=o.width;if(be(e,i,r,s),i=l=[l],t((r=e.C)<(s=n)),t(o.v<o.va),s>o.o&&(s=o.o),r<o.j){var c=o.j-r;r=o.j,i[0]+=c*A}if(r>=s?r=0:(i[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=s-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,d=(s=r.S,i=o.U,o=o.T,c=u.eb,u.A),h=o;for(u=u.fb+e.Ma*u.A;0<h--;){var f=a,p=l,g=i,m=c,y=u;switch(s){case Qr:er(f,p,g,m,y);break;case Pr:tr(f,p,g,m,y);break;case Vr:tr(f,p,g,m,y),Cr(m,y,0,g,1,0);break;case Or:sr(f,p,g,m,y);break;case Dr:te(f,p,g,m,y,1);break;case Kr:te(f,p,g,m,y,1),Cr(m,y,0,g,1,0);break;case Rr:te(f,p,g,m,y,0);break;case qr:te(f,p,g,m,y,0),Cr(m,y,1,g,1,0);break;case Mr:nr(f,p,g,m,y);break;case zr:nr(f,p,g,m,y),Br(m,y,g,1,0);break;case Hr:rr(f,p,g,m,y);break;default:t(0)}l+=A,u+=d}e.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ce(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Be(e,n,r,s,i,o){if(0!=e.Z){var a=e.qd,l=e.rd;for(t(null!=gs[e.Z]);n<r;++n)gs[e.Z](a,l,s,i,s,i,o),a=s,l=i,i+=o;e.qd=a,e.rd=l}}function ke(e,n){var r=e.l.ma,s=0==r.Z||1==r.Z?e.l.j:e.C;if(s=e.C<s?s:e.C,t(n<=e.l.o),n>s){var i=e.l.width,o=r.ca,a=r.tb+i*s,l=e.V,A=e.Ba+e.c*s,c=e.gc;t(1==e.ab),t(3==c[0].hc),Xn(c[0],s,n,l,A,o,a),Be(r,s,n,o,a,i)}e.C=e.Ma=n}function Ne(e,n,r,s,i,o,a){var l=e.$/s,A=e.$%s,c=e.m,u=e.s,d=r+e.$,h=d;i=r+s*i;var f=r+s*o,p=280+u.ua,g=e.Pb?l:16777216,m=0<u.ua?u.Wa:null,y=u.wc,v=d<f?we(u,A,l):null;t(e.C<o),t(f<=i);var w=!1;e:for(;;){for(;w||d<f;){var b=0;if(l>=g){var N=d-r;t((g=e).Pb),g.wd=g.m,g.xd=N,0<g.s.ua&&L(g.s.Wa,g.s.vb),g=l+es}if(A&y||(v=we(u,A,l)),t(null!=v),v.Qb&&(n[d]=v.qb,w=!0),!w)if(k(c),v.jc){b=c,N=n;var E=d,_=v.pd[x(b)&Dn-1];t(v.jc),256>_.g?(B(b,b.u+_.g),N[E]=_.value,b=0):(B(b,b.u+_.g-256),t(256<=_.value),b=_.value),0==b&&(w=!0)}else b=ye(v.G[0],v.H[0],c);if(c.h)break;if(w||256>b){if(!w)if(v.nd)n[d]=(v.qb|b<<8)>>>0;else{if(k(c),w=ye(v.G[1],v.H[1],c),k(c),N=ye(v.G[2],v.H[2],c),E=ye(v.G[3],v.H[3],c),c.h)break;n[d]=(E<<24|w<<16|b<<8|N)>>>0}if(w=!1,++d,++A>=s&&(A=0,++l,null!=a&&l<=o&&!(l%16)&&a(e,l),null!=m))for(;h<d;)b=n[h++],m.X[(506832829*b&4294967295)>>>m.Mb]=b}else if(280>b){if(b=ge(b-256,c),N=ye(v.G[4],v.H[4],c),k(c),N=me(s,N=ge(N,c)),c.h)break;if(d-r<N||i-d<b)break e;for(E=0;E<b;++E)n[d+E]=n[d+E-N];for(d+=b,A+=b;A>=s;)A-=s,++l,null!=a&&l<=o&&!(l%16)&&a(e,l);if(t(d<=i),A&y&&(v=we(u,A,l)),null!=m)for(;h<d;)b=n[h++],m.X[(506832829*b&4294967295)>>>m.Mb]=b}else{if(!(b<p))break e;for(w=b-280,t(null!=m);h<d;)b=n[h++],m.X[(506832829*b&4294967295)>>>m.Mb]=b;b=d,t(!(w>>>(N=m).Xa)),n[b]=N.X[w],w=!0}w||t(c.h==C(c))}if(e.Pb&&c.h&&d<i)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(c.h)break e;null!=a&&a(e,l>o?o:l),e.a=0,e.$=d-r}return 1}return e.a=3,0}function Ee(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function _e(){var t=new an;return null==t?null:(t.a=0,t.xb=ps,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Wn=z,$n=G,er=X,tr=Y,nr=Z,rr=$,sr=ee,e.VP8LMapColor32b=Jn,e.VP8LMapColor8b=Yn,t)}function Se(e,n,r,a,l){var A=1,d=[e],f=[n],p=a.m,g=a.s,m=null,y=0;e:for(;;){if(r)for(;A&&v(p,1);){var w=d,b=f,C=a,N=1,E=C.m,_=C.gc[C.ab],S=v(E,2);if(C.Oc&1<<S)A=0;else{switch(C.Oc|=1<<S,_.hc=S,_.Ea=w[0],_.nc=b[0],_.K=[null],++C.ab,t(4>=C.ab),S){case 0:case 1:_.b=v(E,3)+2,N=Se(P(_.Ea,_.b),P(_.nc,_.b),0,C,_.K),_.K=_.K[0];break;case 3:var F,I=v(E,8)+1,T=16<I?0:4<I?1:2<I?2:3;if(w[0]=P(_.Ea,T),_.b=T,F=N=Se(I,1,0,C,_.K)){var L,U=I,Q=_,D=1<<(8>>Q.b),R=i(D);if(null==R)F=0;else{var M=Q.K[0],H=Q.w;for(R[0]=Q.K[0][0],L=1;L<1*U;++L)R[L]=O(M[H+L],R[L-1]);for(;L<4*D;++L)R[L]=0;Q.K[0]=null,Q.K[0]=R,F=1}}N=F;break;case 2:break;default:t(0)}A=N}}if(d=d[0],f=f[0],A&&v(p,1)&&!(A=1<=(y=v(p,4))&&11>=y)){a.a=3;break e}var V;if(V=A)t:{var K,q,z,W=a,G=d,J=f,X=y,Y=r,Z=W.m,$=W.s,ee=[null],te=1,ne=0,re=$r[X];n:for(;;){if(Y&&v(Z,1)){var se=v(Z,3)+2,ie=P(G,se),oe=P(J,se),ae=ie*oe;if(!Se(ie,oe,0,W,ee))break n;for(ee=ee[0],$.xc=se,K=0;K<ae;++K){var le=ee[K]>>8&65535;ee[K]=le,le>=te&&(te=le+1)}}if(Z.h)break n;for(q=0;5>q;++q){var Ae=Jr[q];!q&&0<X&&(Ae+=1<<X),ne<Ae&&(ne=Ae)}var ce=o(te*re,u),ue=te,de=o(ue,h);if(null==de)var he=null;else t(65536>=ue),he=de;var fe=i(ne);if(null==he||null==fe||null==ce){W.a=1;break n}var pe=ce;for(K=z=0;K<te;++K){var ge=he[K],me=ge.G,ye=ge.H,we=0,be=1,xe=0;for(q=0;5>q;++q){Ae=Jr[q],me[q]=pe,ye[q]=z,!q&&0<X&&(Ae+=1<<X);r:{var Ce,Be=Ae,ke=W,_e=fe,Fe=pe,Ie=z,Te=0,je=ke.m,Le=v(je,1);if(s(_e,0,0,Be),Le){var Ue=v(je,1)+1,Qe=v(je,1),Pe=v(je,0==Qe?1:8);_e[Pe]=1,2==Ue&&(_e[Pe=v(je,8)]=1);var Oe=1}else{var De=i(19),Re=v(je,4)+4;if(19<Re){ke.a=3;var Me=0;break r}for(Ce=0;Ce<Re;++Ce)De[Yr[Ce]]=v(je,3);var He=void 0,Ve=void 0,Ke=ke,qe=De,ze=Be,We=_e,Ge=0,Je=Ke.m,Xe=8,Ye=o(128,u);s:for(;c(Ye,0,7,qe,19);){if(v(Je,1)){var Ze=2+2*v(Je,3);if((He=2+v(Je,Ze))>ze)break s}else He=ze;for(Ve=0;Ve<ze&&He--;){k(Je);var $e=Ye[0+(127&x(Je))];B(Je,Je.u+$e.g);var et=$e.value;if(16>et)We[Ve++]=et,0!=et&&(Xe=et);else{var tt=16==et,nt=et-16,rt=Gr[nt],st=v(Je,Wr[nt])+rt;if(Ve+st>ze)break s;for(var it=tt?Xe:0;0<st--;)We[Ve++]=it}}Ge=1;break s}Ge||(Ke.a=3),Oe=Ge}(Oe=Oe&&!je.h)&&(Te=c(Fe,Ie,8,_e,Be)),Oe&&0!=Te?Me=Te:(ke.a=3,Me=0)}if(0==Me)break n;if(be&&1==Xr[q]&&(be=0==pe[z].g),we+=pe[z].g,z+=Me,3>=q){var ot,at=fe[0];for(ot=1;ot<Ae;++ot)fe[ot]>at&&(at=fe[ot]);xe+=at}}if(ge.nd=be,ge.Qb=0,be&&(ge.qb=(me[3][ye[3]+0].value<<24|me[1][ye[1]+0].value<<16|me[2][ye[2]+0].value)>>>0,0==we&&256>me[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=me[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>xe,ge.jc){var lt,At=ge;for(lt=0;lt<Dn;++lt){var ct=lt,ut=At.pd[ct],dt=At.G[0][At.H[0]+ct];256<=dt.value?(ut.g=dt.g+256,ut.value=dt.value):(ut.g=0,ut.value=0,ct>>=ve(dt,8,ut),ct>>=ve(At.G[1][At.H[1]+ct],16,ut),ct>>=ve(At.G[2][At.H[2]+ct],0,ut),ve(At.G[3][At.H[3]+ct],24,ut))}}}$.vc=ee,$.Wb=te,$.Ya=he,$.yc=ce,V=1;break t}V=0}if(!(A=V)){a.a=3;break e}if(0<y){if(g.ua=1<<y,!j(g.Wa,y)){a.a=1,A=0;break e}}else g.ua=0;var ht=a,ft=d,pt=f,gt=ht.s,mt=gt.xc;if(ht.c=ft,ht.i=pt,gt.md=P(ft,mt),gt.wc=0==mt?-1:(1<<mt)-1,r){a.xb=fs;break e}if(null==(m=i(d*f))){a.a=1,A=0;break e}A=(A=Ne(a,m,0,d,f,f,null))&&!p.h;break e}return A?(null!=l?l[0]=m:(t(null==m),t(r)),a.$=0,r||Ee(g)):Ee(g),A}function Fe(e,n){var r=e.c*e.i,s=r+n+16*n;return t(e.c<=n),e.V=i(s),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ie(e,n){var r=e.C,s=n-r,i=e.V,o=e.Ba+e.c*r;for(t(n<=e.l.o);0<s;){var a=16<s?16:s,l=e.l.ma,A=e.l.width,c=A*a,u=l.ca,d=l.tb+A*r,h=e.Ta,f=e.Ua;be(e,a,i,o),Nr(h,f,u,d,c),Be(l,r,r+a,u,d,A),s-=a,i+=a*e.c,r+=a}t(r==n),e.C=e.Ma=n}function Te(){this.ub=this.yd=this.td=this.Rb=0}function je(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ue(){this.Yb=function(){var e=[];return function e(t,n,r){for(var s=r[n],i=0;i<s&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));i++)e(t[i],n+1,r)}(e,0,[3,11]),e}()}function Qe(){this.jb=i(3),this.Wc=a([4,8],Ue),this.Xc=a([4,17],Ue)}function Pe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Oe(){this.ld=this.La=this.dd=this.tc=0}function De(){this.Na=this.la=0}function Re(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Me(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oe),this.Y=0,this.ya=Array(new Me),this.aa=0,this.l=new ze}function Ve(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ke(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new Te,this.Kc=new je,this.ed=new Pe,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,w),this.ia=0,this.pb=o(4,Re),this.Pa=new Qe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ve),this.Hd=0,this.rb=Array(new De),this.sb=0,this.wa=Array(new Oe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Me),this.L=this.aa=0,this.gd=a([4,2],Oe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qe(e,t){return 0>e?0:e>t?t:e}function ze(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function We(){var e=new Ke;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,rs||(rs=Ye)),e}function Ge(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Je(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Xe(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ge(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,i=n.w,o=n.ha;if(4>o)return Ge(e,7,"Truncated header.");var a=r[i+0]|r[i+1]<<8|r[i+2]<<16,l=e.Od;if(l.Rb=!(1&a),l.td=a>>1&7,l.yd=a>>4&1,l.ub=a>>5,3<l.td)return Ge(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ge(e,4,"Frame not displayable.");i+=3,o-=3;var A=e.Kc;if(l.Rb){if(7>o)return Ge(e,7,"cannot parse picture header");if(!Je(r,i,o))return Ge(e,3,"Bad code word");A.c=16383&(r[i+4]<<8|r[i+3]),A.Td=r[i+4]>>6,A.i=16383&(r[i+6]<<8|r[i+5]),A.Ud=r[i+6]>>6,i+=7,o-=7,e.za=A.c+15>>4,e.Ub=A.i+15>>4,n.width=A.c,n.height=A.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,s((a=e.Pa).jb,0,255,a.jb.length),t(null!=(a=e.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,s(a.Zb,0,0,a.Zb.length),s(a.Lb,0,0,a.Lb)}if(l.ub>o)return Ge(e,7,"bad partition length");f(a=e.m,r,i,l.ub),i+=l.ub,o-=l.ub,l.Rb&&(A.Ld=E(a),A.Kd=E(a)),A=e.Qa;var c,u=e.Pa;if(t(null!=a),t(null!=A),A.Cb=E(a),A.Cb){if(A.Bb=E(a),E(a)){for(A.Fb=E(a),c=0;4>c;++c)A.Zb[c]=E(a)?g(a,7):0;for(c=0;4>c;++c)A.Lb[c]=E(a)?g(a,6):0}if(A.Bb)for(c=0;3>c;++c)u.jb[c]=E(a)?p(a,8):255}else A.Bb=0;if(a.Ka)return Ge(e,3,"cannot parse segment header");if((A=e.ed).zd=E(a),A.Tb=p(a,6),A.wb=p(a,3),A.Pc=E(a),A.Pc&&E(a)){for(u=0;4>u;++u)E(a)&&(A.vd[u]=g(a,6));for(u=0;4>u;++u)E(a)&&(A.od[u]=g(a,6))}if(e.L=0==A.Tb?0:A.zd?1:2,a.Ka)return Ge(e,3,"cannot parse filter header");var d=o;if(o=c=i,i=c+d,A=d,e.Xb=(1<<p(e.m,2))-1,d<3*(u=e.Xb))r=7;else{for(c+=3*u,A-=3*u,d=0;d<u;++d){var h=r[o+0]|r[o+1]<<8|r[o+2]<<16;h>A&&(h=A),f(e.Jc[+d],r,c,h),c+=h,A-=h,o+=3}f(e.Jc[+u],r,c,A),r=c<i?0:5}if(0!=r)return Ge(e,r,"cannot parse partitions");for(r=p(c=e.m,7),o=E(c)?g(c,4):0,i=E(c)?g(c,4):0,A=E(c)?g(c,4):0,u=E(c)?g(c,4):0,c=E(c)?g(c,4):0,d=e.Qa,h=0;4>h;++h){if(d.Cb){var m=d.Zb[h];d.Fb||(m+=r)}else{if(0<h){e.pb[h]=e.pb[0];continue}m=r}var y=e.pb[h];y.Sc[0]=ts[qe(m+o,127)],y.Sc[1]=ns[qe(m+0,127)],y.Eb[0]=2*ts[qe(m+i,127)],y.Eb[1]=101581*ns[qe(m+A,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ts[qe(m+u,117)],y.Qc[1]=ns[qe(m+c,127)],y.lc=m+c}if(!l.Rb)return Ge(e,4,"Not a key frame.");for(E(a),l=e.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(i=0;3>i;++i)for(A=0;11>A;++A)u=_(a,As[r][o][i][A])?p(a,8):as[r][o][i][A],l.Wc[r][o].Yb[i][A]=u;for(o=0;17>o;++o)l.Xc[r][o]=l.Wc[r][cs[o]]}return e.kc=E(a),e.kc&&(e.Bd=p(a,8)),e.cb=1}function Ye(e,t,n,r,s,i,o){var a=t[s].Yb[n];for(n=0;16>s;++s){if(!_(e,a[n+0]))return s;for(;!_(e,a[n+1]);)if(a=t[++s].Yb[0],n=0,16==s)return 16;var l=t[s+1].Yb;if(_(e,a[n+2])){var A=e,c=0;if(_(A,(d=a)[(u=n)+3]))if(_(A,d[u+6])){for(a=0,u=2*(c=_(A,d[u+8]))+(d=_(A,d[u+9+c])),c=0,d=ss[u];d[a];++a)c+=c+_(A,d[a]);c+=3+(8<<u)}else _(A,d[u+7])?(c=7+2*_(A,165),c+=_(A,145)):c=5+_(A,159);else c=_(A,d[u+4])?3+_(A,d[u+5]):2;a=l[2]}else c=1,a=l[1];l=o+is[s],0>(A=e).b&&N(A);var u,d=A.b,h=(u=A.Ca>>1)-(A.I>>d)>>31;--A.b,A.Ca+=h,A.Ca|=1,A.I-=(u+1&h)<<d,i[l]=((c^h)-h)*r[(0<s)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,s(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,n){if(null==e)return 0;if(null==n)return Ge(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Xe(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var a=Ds[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-a>>4,e.zb=n.j-a>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+a>>4,e.Hb=n.va+15+a>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(a=0;4>a;++a){var A;if(e.Qa.Cb){var c=e.Qa.Lb[a];e.Qa.Fb||(c+=l.Tb)}else c=l.Tb;for(A=0;1>=A;++A){var u=e.gd[a][A],d=c;if(l.Pc&&(d+=l.vd[0],A&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var h=d;0<l.wb&&(h=4<l.wb?h>>2:h>>1)>9-l.wb&&(h=9-l.wb),1>h&&(h=1),u.dd=h,u.tc=2*d+h,u.ld=40<=d?2:15<=d?1:0}else u.tc=0;u.La=A}}}a=0}else Ge(e,6,"Frame setup failed"),a=e.a;if(a=0==a){if(a){e.$c=0,0<e.Aa||(e.Ic=Ms);e:{a=e.Ic,l=4*(h=e.za);var f=32*h,p=h+1,g=0<e.L?h*(0<e.Aa?2:1):0,m=(2==e.Aa?2:1)*h;if((u=l+832+(A=3*(16*a+Ds[e.L])/2*f)+(c=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)a=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=i(u),e.Fc=0,null==e.Ec){a=Ge(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,d=e.Fc,e.Ac=u,e.Bc=d,d+=l,e.Gd=o(f,Ve),e.Hd=0,e.rb=o(p+1,De),e.sb=1,e.wa=g?o(g,Oe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=h),t(!0),e.oc=u,e.pc=d,d+=832,e.ya=o(m,Me),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=h),e.R=16*h,e.B=8*h,h=(f=Ds[e.L])*e.R,f=f/2*e.B,e.sa=u,e.ta=d+h,e.qa=e.sa,e.ra=e.ta+16*a*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*a*e.B+f,e.$c=0,d+=A,e.mb=c?u:null,e.nb=c?d:null,t(d+c<=e.Fc+e.Vb),Ze(e),s(e.Ac,e.Bc,0,l),a=1}}if(a){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Ir){for(a=-255;255>=a;++a)Er[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)_r[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)Sr[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Fr[255+a]=0>a?0:255<a?255:a;Ir=1}ir=At,or=it,lr=ot,Ar=at,cr=lt,ar=st,ur=Gt,dr=Jt,hr=Zt,fr=$t,pr=Xt,gr=Yt,mr=en,yr=tn,vr=Ht,wr=Vt,br=Kt,xr=qt,ds[0]=Bt,ds[1]=ut,ds[2]=xt,ds[3]=Ct,ds[4]=kt,ds[5]=Et,ds[6]=Nt,ds[7]=_t,ds[8]=Ft,ds[9]=St,us[0]=mt,us[1]=ht,us[2]=ft,us[3]=pt,us[4]=yt,us[5]=vt,us[6]=wt,hs[0]=Lt,hs[1]=dt,hs[2]=It,hs[3]=Tt,hs[4]=Qt,hs[5]=Ut,hs[6]=Pt,a=1}else a=0}a&&(a=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var o,a=e.Jc[e.M&e.Xb],l=e.m,A=e;for(o=0;o<A.za;++o){var c=l,u=A,d=u.Ac,h=u.Bc+4*o,f=u.zc,p=u.ya[u.aa+o];if(u.Qa.Bb?p.$b=_(c,u.Pa.jb[0])?2+_(c,u.Pa.jb[2]):_(c,u.Pa.jb[1]):p.$b=0,u.kc&&(p.Ad=_(c,u.Bd)),p.Za=!_(c,145)+0,p.Za){var g=p.Ob,m=0;for(u=0;4>u;++u){var y,v=f[0+u];for(y=0;4>y;++y){v=ls[d[h+y]][v];for(var w=os[_(c,v[0])];0<w;)w=os[2*w+_(c,v[w])];v=-w,d[h+y]=v}r(g,m,d,h,4),m+=4,f[0+u]=v}}else v=_(c,156)?_(c,128)?1:3:_(c,163)?2:0,p.Ob[0]=v,s(d,h,v,4),s(f,0,v,4);p.Dd=_(c,142)?_(c,114)?_(c,183)?1:3:2:0}if(A.m.Ka)return Ge(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(A=a,c=(l=e).rb[l.sb-1],d=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],h=l.kc?o.Ad:0)c.la=d.la=0,o.Za||(c.Na=d.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var b,x;if(c=d,d=A,h=l.Pa.Xc,f=l.ya[l.aa+l.ja],p=l.pb[f.$b],u=f.ad,g=0,m=l.rb[l.sb-1],v=y=0,s(u,g,0,384),f.Za)var C=0,B=h[3];else{w=i(16);var k=c.Na+m.Na;if(k=rs(d,h[1],k,p.Eb,0,w,0),c.Na=m.Na=(0<k)+0,1<k)ir(w,0,u,g);else{var N=w[0]+3>>3;for(w=0;256>w;w+=16)u[g+w]=N}C=1,B=h[0]}var E=15&c.la,S=15&m.la;for(w=0;4>w;++w){var F=1&S;for(N=x=0;4>N;++N)E=E>>1|(F=(k=rs(d,B,k=F+(1&E),p.Sc,C,u,g))>C)<<7,x=x<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;E>>=4,S=S>>1|F<<7,y=(y<<8|x)>>>0}for(B=E,C=S>>4,b=0;4>b;b+=2){for(x=0,E=c.la>>4+b,S=m.la>>4+b,w=0;2>w;++w){for(F=1&S,N=0;2>N;++N)k=F+(1&E),E=E>>1|(F=0<(k=rs(d,h[2],k,p.Qc,0,u,g)))<<3,x=x<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;E>>=2,S=S>>1|F<<5}v|=x<<4*b,B|=E<<4<<b,C|=(240&S)<<b}c.la=B,m.la=C,f.Hc=y,f.Gc=v,f.ia=43690&v?0:p.ia,h=!(y|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!h),A.Ka)return Ge(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=n,A=1,o=(a=e).D,c=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(o.M=a.M,o.uc=c,Ln(a,o),A=1,o=(x=a.D).Nb,c=(v=Ds[a.L])*a.R,d=v/2*a.B,w=16*o*a.R,N=8*o*a.B,h=a.sa,f=a.ta-c+w,p=a.qa,u=a.ra-d+N,g=a.Ha,m=a.Ia-d+N,S=0==(E=x.M),y=E>=a.Va-1,2==a.Aa&&Ln(a,x),x.uc)for(F=(k=a).D.M,t(k.D.uc),x=k.yb;x<k.Hb;++x){C=x,B=F;var I=(T=(M=k).D).Nb;b=M.R;var T=T.wa[T.Y+C],j=M.sa,L=M.ta+16*I*b+16*C,U=T.dd,Q=T.tc;if(0!=Q)if(t(3<=Q),1==M.L)0<C&&wr(j,L,b,Q+4),T.La&&xr(j,L,b,Q),0<B&&vr(j,L,b,Q+4),T.La&&br(j,L,b,Q);else{var P=M.B,O=M.qa,D=M.ra+8*I*P+8*C,R=M.Ha,M=M.Ia+8*I*P+8*C;I=T.ld,0<C&&(dr(j,L,b,Q+4,U,I),fr(O,D,R,M,P,Q+4,U,I)),T.La&&(gr(j,L,b,Q,U,I),yr(O,D,R,M,P,Q,U,I)),0<B&&(ur(j,L,b,Q+4,U,I),hr(O,D,R,M,P,Q+4,U,I)),T.La&&(pr(j,L,b,Q,U,I),mr(O,D,R,M,P,Q,U,I))}}if(a.ia&&alert("todo:DitherRow"),null!=l.put){if(x=16*E,E=16*(E+1),S?(l.y=a.sa,l.O=a.ta+w,l.f=a.qa,l.N=a.ra+N,l.ea=a.Ha,l.W=a.Ia+N):(x-=v,l.y=h,l.O=f,l.f=p,l.N=u,l.ea=g,l.W=m),y||(E-=v),E>l.o&&(E=l.o),l.F=null,l.J=null,null!=a.Fa&&0<a.Fa.length&&x<E&&(l.J=dn(a,l,x,E-x),l.F=a.mb,null==l.F&&0==l.F.length)){A=Ge(a,3,"Could not decode alpha data.");break e}x<l.j&&(v=l.j-x,x=l.j,t(!(1&v)),l.O+=a.R*v,l.N+=a.B*(v>>1),l.W+=a.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),x<E&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=x-l.j,l.U=l.va-l.v,l.T=E-x,A=l.put(l))}o+1!=a.Ic||y||(r(a.sa,a.ta-c,h,f+16*a.R,c),r(a.qa,a.ra-d,p,u+8*a.B,d),r(a.Ha,a.Ia-d,g,m+8*a.B,d))}if(!A)return Ge(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),a&=1}return a?(e.cb=0,a):0}function et(e,t,n,r,s){s=e[t+n+32*r]+(s>>3),e[t+n+32*r]=-256&s?0>s?0:255:s}function tt(e,t,n,r,s,i){et(e,t,0,n,r+s),et(e,t,1,n,r+i),et(e,t,2,n,r-i),et(e,t,3,n,r-s)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var s,o=0,a=i(16);for(s=0;4>s;++s){var l=e[t+0]+e[t+8],A=e[t+0]-e[t+8],c=(35468*e[t+4]>>16)-nt(e[t+12]),u=nt(e[t+4])+(35468*e[t+12]>>16);a[o+0]=l+u,a[o+1]=A+c,a[o+2]=A-c,a[o+3]=l-u,o+=4,t++}for(s=o=0;4>s;++s)l=(e=a[o+0]+4)+a[o+8],A=e-a[o+8],c=(35468*a[o+4]>>16)-nt(a[o+12]),et(n,r,0,0,l+(u=nt(a[o+4])+(35468*a[o+12]>>16))),et(n,r,1,0,A+c),et(n,r,2,0,A-c),et(n,r,3,0,l-u),o++,r+=32}function st(e,t,n,r){var s=e[t+0]+4,i=35468*e[t+4]>>16,o=nt(e[t+4]),a=35468*e[t+1]>>16;tt(n,r,0,s+o,e=nt(e[t+1]),a),tt(n,r,1,s+i,e,a),tt(n,r,2,s-i,e,a),tt(n,r,3,s-o,e,a)}function it(e,t,n,r,s){rt(e,t,n,r),s&&rt(e,t+16,n,r+4)}function ot(e,t,n,r){or(e,t+0,n,r,1),or(e,t+32,n,r+128,1)}function at(e,t,n,r){var s;for(e=e[t+0]+4,s=0;4>s;++s)for(t=0;4>t;++t)et(n,r,t,s,e)}function lt(e,t,n,r){e[t+0]&&Ar(e,t+0,n,r),e[t+16]&&Ar(e,t+16,n,r+4),e[t+32]&&Ar(e,t+32,n,r+128),e[t+48]&&Ar(e,t+48,n,r+128+4)}function At(e,t,n,r){var s,o=i(16);for(s=0;4>s;++s){var a=e[t+0+s]+e[t+12+s],l=e[t+4+s]+e[t+8+s],A=e[t+4+s]-e[t+8+s],c=e[t+0+s]-e[t+12+s];o[0+s]=a+l,o[8+s]=a-l,o[4+s]=c+A,o[12+s]=c-A}for(s=0;4>s;++s)a=(e=o[0+4*s]+3)+o[3+4*s],l=o[1+4*s]+o[2+4*s],A=o[1+4*s]-o[2+4*s],c=e-o[3+4*s],n[r+0]=a+l>>3,n[r+16]=c+A>>3,n[r+32]=a-l>>3,n[r+48]=c-A>>3,r+=64}function ct(e,t,n){var r,s=t-32,i=Lr,o=255-e[s-1];for(r=0;r<n;++r){var a,l=i,A=o+e[t-1];for(a=0;a<n;++a)e[t+a]=l[A+e[s+a]];t+=32}}function ut(e,t){ct(e,t,4)}function dt(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function pt(e,t){var n;for(n=16;0<n;--n)s(e,t,e[t-1],16),t+=32}function gt(e,t,n){var r;for(r=0;16>r;++r)s(t,n+32*r,e,16)}function mt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];gt(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];gt(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];gt(r>>4,e,t)}function wt(e,t){gt(128,e,t)}function bt(e,t,n){return e+2*t+n+2>>2}function xt(e,t){var n,s=t-32;for(s=new Uint8Array([bt(e[s-1],e[s+0],e[s+1]),bt(e[s+0],e[s+1],e[s+2]),bt(e[s+1],e[s+2],e[s+3]),bt(e[s+2],e[s+3],e[s+4])]),n=0;4>n;++n)r(e,t+32*n,s,0,s.length)}function Ct(e,t){var n=e[t-1],r=e[t-1+32],s=e[t-1+64],i=e[t-1+96];S(e,t+0,16843009*bt(e[t-1-32],n,r)),S(e,t+32,16843009*bt(n,r,s)),S(e,t+64,16843009*bt(r,s,i)),S(e,t+96,16843009*bt(s,i,i))}function Bt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)s(e,t+32*n,r,4)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],i=e[t-1-32],o=e[t+0-32],a=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+96]=bt(r,s,e[t-1+96]),e[t+1+96]=e[t+0+64]=bt(n,r,s),e[t+2+96]=e[t+1+64]=e[t+0+32]=bt(i,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=bt(o,i,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=bt(a,o,i),e[t+3+32]=e[t+2+0]=bt(l,a,o),e[t+3+0]=bt(A,l,a)}function Nt(e,t){var n=e[t+1-32],r=e[t+2-32],s=e[t+3-32],i=e[t+4-32],o=e[t+5-32],a=e[t+6-32],l=e[t+7-32];e[t+0+0]=bt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=bt(n,r,s),e[t+2+0]=e[t+1+32]=e[t+0+64]=bt(r,s,i),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=bt(s,i,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=bt(i,o,a),e[t+3+64]=e[t+2+96]=bt(o,a,l),e[t+3+96]=bt(a,l,l)}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],i=e[t-1-32],o=e[t+0-32],a=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+0]=e[t+1+64]=i+o+1>>1,e[t+1+0]=e[t+2+64]=o+a+1>>1,e[t+2+0]=e[t+3+64]=a+l+1>>1,e[t+3+0]=l+A+1>>1,e[t+0+96]=bt(s,r,n),e[t+0+64]=bt(r,n,i),e[t+0+32]=e[t+1+96]=bt(n,i,o),e[t+1+32]=e[t+2+96]=bt(i,o,a),e[t+2+32]=e[t+3+96]=bt(o,a,l),e[t+3+32]=bt(a,l,A)}function _t(e,t){var n=e[t+0-32],r=e[t+1-32],s=e[t+2-32],i=e[t+3-32],o=e[t+4-32],a=e[t+5-32],l=e[t+6-32],A=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+s+1>>1,e[t+2+0]=e[t+1+64]=s+i+1>>1,e[t+3+0]=e[t+2+64]=i+o+1>>1,e[t+0+32]=bt(n,r,s),e[t+1+32]=e[t+0+96]=bt(r,s,i),e[t+2+32]=e[t+1+96]=bt(s,i,o),e[t+3+32]=e[t+2+96]=bt(i,o,a),e[t+3+64]=bt(o,a,l),e[t+3+96]=bt(a,l,A)}function St(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],i=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+s+1>>1,e[t+2+32]=e[t+0+64]=s+i+1>>1,e[t+1+0]=bt(n,r,s),e[t+3+0]=e[t+1+32]=bt(r,s,i),e[t+3+32]=e[t+1+64]=bt(s,i,i),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=i}function Ft(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],i=e[t-1+96],o=e[t-1-32],a=e[t+0-32],l=e[t+1-32],A=e[t+2-32];e[t+0+0]=e[t+2+32]=n+o+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=s+r+1>>1,e[t+0+96]=i+s+1>>1,e[t+3+0]=bt(a,l,A),e[t+2+0]=bt(o,a,l),e[t+1+0]=e[t+3+32]=bt(n,o,a),e[t+1+32]=e[t+3+64]=bt(r,n,o),e[t+1+64]=e[t+3+96]=bt(s,r,n),e[t+1+96]=bt(i,s,r)}function It(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Tt(e,t){var n;for(n=0;8>n;++n)s(e,t,e[t-1],8),t+=32}function jt(e,t,n){var r;for(r=0;8>r;++r)s(t,n+32*r,e,8)}function Lt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];jt(r>>4,e,t)}function Ut(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];jt(r>>3,e,t)}function Qt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];jt(r>>3,e,t)}function Pt(e,t){jt(128,e,t)}function Ot(e,t,n){var r=e[t-n],s=e[t+0],i=3*(s-r)+Tr[1020+e[t-2*n]-e[t+n]],o=jr[112+(i+4>>3)];e[t-n]=Lr[255+r+jr[112+(i+3>>3)]],e[t+0]=Lr[255+s-o]}function Dt(e,t,n,r){var s=e[t+0],i=e[t+n];return Ur[255+e[t-2*n]-e[t-n]]>r||Ur[255+i-s]>r}function Rt(e,t,n,r){return 4*Ur[255+e[t-n]-e[t+0]]+Ur[255+e[t-2*n]-e[t+n]]<=r}function Mt(e,t,n,r,s){var i=e[t-3*n],o=e[t-2*n],a=e[t-n],l=e[t+0],A=e[t+n],c=e[t+2*n],u=e[t+3*n];return 4*Ur[255+a-l]+Ur[255+o-A]>r?0:Ur[255+e[t-4*n]-i]<=s&&Ur[255+i-o]<=s&&Ur[255+o-a]<=s&&Ur[255+u-c]<=s&&Ur[255+c-A]<=s&&Ur[255+A-l]<=s}function Ht(e,t,n,r){var s=2*r+1;for(r=0;16>r;++r)Rt(e,t+r,n,s)&&Ot(e,t+r,n)}function Vt(e,t,n,r){var s=2*r+1;for(r=0;16>r;++r)Rt(e,t+r*n,1,s)&&Ot(e,t+r*n,1)}function Kt(e,t,n,r){var s;for(s=3;0<s;--s)Ht(e,t+=4*n,n,r)}function qt(e,t,n,r){var s;for(s=3;0<s;--s)Vt(e,t+=4,n,r)}function zt(e,t,n,r,s,i,o,a){for(i=2*i+1;0<s--;){if(Mt(e,t,n,i,o))if(Dt(e,t,n,a))Ot(e,t,n);else{var l=e,A=t,c=n,u=l[A-2*c],d=l[A-c],h=l[A+0],f=l[A+c],p=l[A+2*c],g=27*(y=Tr[1020+3*(h-d)+Tr[1020+u-f]])+63>>7,m=18*y+63>>7,y=9*y+63>>7;l[A-3*c]=Lr[255+l[A-3*c]+y],l[A-2*c]=Lr[255+u+m],l[A-c]=Lr[255+d+g],l[A+0]=Lr[255+h-g],l[A+c]=Lr[255+f-m],l[A+2*c]=Lr[255+p-y]}t+=r}}function Wt(e,t,n,r,s,i,o,a){for(i=2*i+1;0<s--;){if(Mt(e,t,n,i,o))if(Dt(e,t,n,a))Ot(e,t,n);else{var l=e,A=t,c=n,u=l[A-c],d=l[A+0],h=l[A+c],f=jr[112+(4+(p=3*(d-u))>>3)],p=jr[112+(p+3>>3)],g=f+1>>1;l[A-2*c]=Lr[255+l[A-2*c]+g],l[A-c]=Lr[255+u+p],l[A+0]=Lr[255+d-f],l[A+c]=Lr[255+h-g]}t+=r}}function Gt(e,t,n,r,s,i){zt(e,t,n,1,16,r,s,i)}function Jt(e,t,n,r,s,i){zt(e,t,1,n,16,r,s,i)}function Xt(e,t,n,r,s,i){var o;for(o=3;0<o;--o)Wt(e,t+=4*n,n,1,16,r,s,i)}function Yt(e,t,n,r,s,i){var o;for(o=3;0<o;--o)Wt(e,t+=4,1,n,16,r,s,i)}function Zt(e,t,n,r,s,i,o,a){zt(e,t,s,1,8,i,o,a),zt(n,r,s,1,8,i,o,a)}function $t(e,t,n,r,s,i,o,a){zt(e,t,1,s,8,i,o,a),zt(n,r,1,s,8,i,o,a)}function en(e,t,n,r,s,i,o,a){Wt(e,t+4*s,s,1,8,i,o,a),Wt(n,r+4*s,s,1,8,i,o,a)}function tn(e,t,n,r,s,i,o,a){Wt(e,t+4,1,s,8,i,o,a),Wt(n,r+4,1,s,8,i,o,a)}function nn(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function on(){this.ua=0,this.Wa=new U,this.vb=new U,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new h,this.yc=new u}function an(){this.xb=this.a=0,this.l=new ze,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new b,this.Pb=0,this.wd=new b,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new on,this.ab=0,this.gc=o(4,sn),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ze,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(e,t,n,r,s,i,o){for(e=null==e?0:e[t+0],t=0;t<o;++t)s[i+t]=e+n[r+t]&255,e=s[i+t]}function cn(e,t,n,r,s,i,o){var a;if(null==e)An(null,null,n,r,s,i,o);else for(a=0;a<o;++a)s[i+a]=e[t+a]+n[r+a]&255}function un(e,t,n,r,s,i,o){if(null==e)An(null,null,n,r,s,i,o);else{var a,l=e[t+0],A=l,c=l;for(a=0;a<o;++a)A=c+(l=e[t+a])-A,c=n[r+a]+(-256&A?0>A?0:255:A)&255,A=l,s[i+a]=c}}function dn(e,n,s,o){var a=n.width,l=n.o;if(t(null!=e&&null!=n),0>s||0>=o||s+o>l)return null;if(!e.Cc){if(null==e.ga){var A;if(e.ga=new ln,(A=null==e.ga)||(A=n.width*n.o,t(0==e.Gb.length),e.Gb=i(A),e.Uc=0,null==e.Gb?A=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,A=1),A=!A),!A){A=e.ga;var c=e.Fa,u=e.P,d=e.qc,h=e.mb,f=e.nb,p=u+1,g=d-1,y=A.l;if(t(null!=c&&null!=h&&null!=n),gs[0]=null,gs[1]=An,gs[2]=cn,gs[3]=un,A.ca=h,A.tb=f,A.c=n.width,A.i=n.height,t(0<A.c&&0<A.i),1>=d)n=0;else if(A.$a=3&c[u+0],A.Z=c[u+0]>>2&3,A.Lc=c[u+0]>>4&3,u=c[u+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||u)n=0;else if(y.put=he,y.ac=de,y.bc=fe,y.ma=A,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,A.$a)e:{t(1==A.$a),n=_e();t:for(;;){if(null==n){n=0;break e}if(t(null!=A),A.mc=n,n.c=A.c,n.i=A.i,n.l=A.l,n.l.ma=A,n.l.width=A.c,n.l.height=A.i,n.a=0,m(n.m,c,p,g),!Se(A.c,A.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ce(n.s)?(A.ic=1,c=n.c*n.i,n.Ta=null,n.Ua=0,n.V=i(c),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(A.ic=0,n=Fe(n,A.c)),!n)break t;n=1;break e}A.mc=null,n=0}else n=g>=A.c*A.i;A=!n}if(A)return null;1!=e.ga.Lc?e.Ga=0:o=l-s}t(null!=e.ga),t(s+o<=l);e:{if(n=(c=e.ga).c,l=c.l.o,0==c.$a){if(p=e.rc,g=e.Vc,y=e.Fa,u=e.P+1+s*n,d=e.mb,h=e.nb+s*n,t(u<=e.P+e.qc),0!=c.Z)for(t(null!=gs[c.Z]),A=0;A<o;++A)gs[c.Z](p,g,y,u,d,h,n),p=d,g=h,h+=n,u+=n;else for(A=0;A<o;++A)r(d,h,y,u,n),p=d,g=h,h+=n,u+=n;e.rc=p,e.Vc=g}else{if(t(null!=c.mc),n=s+o,t(null!=(A=c.mc)),t(n<=A.i),A.C>=n)n=1;else if(c.ic||mn(),c.ic){c=A.V,p=A.Ba,g=A.c;var v=A.i,w=(y=1,u=A.$/g,d=A.$%g,h=A.m,f=A.s,A.$),b=g*v,x=g*n,B=f.wc,N=w<x?we(f,d,u):null;t(w<=b),t(n<=v),t(Ce(f));t:for(;;){for(;!h.h&&w<x;){if(d&B||(N=we(f,d,u)),t(null!=N),k(h),256>(v=ye(N.G[0],N.H[0],h)))c[p+w]=v,++w,++d>=g&&(d=0,++u<=n&&!(u%16)&&ke(A,u));else{if(!(280>v)){y=0;break t}v=ge(v-256,h);var E,_=ye(N.G[4],N.H[4],h);if(k(h),!(w>=(_=me(g,_=ge(_,h)))&&b-w>=v)){y=0;break t}for(E=0;E<v;++E)c[p+w+E]=c[p+w+E-_];for(w+=v,d+=v;d>=g;)d-=g,++u<=n&&!(u%16)&&ke(A,u);w<x&&d&B&&(N=we(f,d,u))}t(h.h==C(h))}ke(A,u>n?n:u);break t}!y||h.h&&w<b?(y=0,A.a=h.h?5:3):A.$=w,n=y}else n=Ne(A,A.V,A.Ba,A.c,A.i,n,Ie);if(!n){o=0;break e}}s+o>=l&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&(null!=(o=e.ga)&&(o.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+s*a}function hn(e,t,n,r,s,i){for(;0<s--;){var o,a=e,l=t+(n?1:0),A=e,c=t+(n?0:3);for(o=0;o<r;++o){var u=A[c+4*o];255!=u&&(u*=32897,a[l+4*o+0]=a[l+4*o+0]*u>>23,a[l+4*o+1]=a[l+4*o+1]*u>>23,a[l+4*o+2]=a[l+4*o+2]*u>>23)}t+=i}}function fn(e,t,n,r,s){for(;0<r--;){var i;for(i=0;i<n;++i){var o=e[t+2*i+0],a=15&(A=e[t+2*i+1]),l=4369*a,A=(240&A|A>>4)*l>>16;e[t+2*i+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,e[t+2*i+1]=240&A|a}t+=s}}function pn(e,t,n,r,s,i,o,a){var l,A,c=255;for(A=0;A<s;++A){for(l=0;l<r;++l){var u=e[t+l];i[o+4*l]=u,c&=u}t+=n,o+=a}return 255!=c}function gn(e,t,n,r,s){var i;for(i=0;i<s;++i)n[r+i]=e[t+i]>>8}function mn(){Cr=hn,Br=fn,kr=pn,Nr=gn}function yn(n,r,s){e[n]=function(e,n,i,o,a,l,A,c,u,d,h,f,p,g,m,y,v){var w,b=v-1>>1,x=a[l+0]|A[c+0]<<16,C=u[d+0]|h[f+0]<<16;t(null!=e);var B=3*x+C+131074>>2;for(r(e[n+0],255&B,B>>16,p,g),null!=i&&(B=3*C+x+131074>>2,r(i[o+0],255&B,B>>16,m,y)),w=1;w<=b;++w){var k=a[l+w]|A[c+w]<<16,N=u[d+w]|h[f+w]<<16,E=x+k+C+N+524296,_=E+2*(k+C)>>3;B=_+x>>1,x=(E=E+2*(x+N)>>3)+k>>1,r(e[n+2*w-1],255&B,B>>16,p,g+(2*w-1)*s),r(e[n+2*w-0],255&x,x>>16,p,g+(2*w-0)*s),null!=i&&(B=E+C>>1,x=_+N>>1,r(i[o+2*w-1],255&B,B>>16,m,y+(2*w-1)*s),r(i[o+2*w+0],255&x,x>>16,m,y+(2*w+0)*s)),x=k,C=N}1&v||(B=3*x+C+131074>>2,r(e[n+v-1],255&B,B>>16,p,g+(v-1)*s),null!=i&&(B=3*C+x+131074>>2,r(i[o+v-1],255&B,B>>16,m,y+(v-1)*s)))}}function vn(){ms[Qr]=ys,ms[Pr]=ws,ms[Or]=vs,ms[Dr]=bs,ms[Rr]=xs,ms[Mr]=Cs,ms[Hr]=Bs,ms[Vr]=ws,ms[Kr]=bs,ms[qr]=xs,ms[zr]=Cs}function wn(e){return e&~Fs?0>e?0:255:e>>Ss}function bn(e,t){return wn((19077*e>>8)+(26149*t>>8)-14234)}function xn(e,t,n){return wn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Cn(e,t){return wn((19077*e>>8)+(33050*t>>8)-17685)}function Bn(e,t,n,r,s){r[s+0]=bn(e,n),r[s+1]=xn(e,t,n),r[s+2]=Cn(e,t)}function kn(e,t,n,r,s){r[s+0]=Cn(e,t),r[s+1]=xn(e,t,n),r[s+2]=bn(e,n)}function Nn(e,t,n,r,s){var i=xn(e,t,n);t=i<<3&224|Cn(e,t)>>3,r[s+0]=248&bn(e,n)|i>>5,r[s+1]=t}function En(e,t,n,r,s){var i=240&Cn(e,t)|15;r[s+0]=240&bn(e,n)|xn(e,t,n)>>4,r[s+1]=i}function _n(e,t,n,r,s){r[s+0]=255,Bn(e,t,n,r,s+1)}function Sn(e,t,n,r,s){kn(e,t,n,r,s),r[s+3]=255}function Fn(e,t,n,r,s){Bn(e,t,n,r,s),r[s+3]=255}function qe(e,t){return 0>e?0:e>t?t:e}function In(t,n,r){e[t]=function(e,t,s,i,o,a,l,A,c){for(var u=A+(-2&c)*r;A!=u;)n(e[t+0],s[i+0],o[a+0],l,A),n(e[t+1],s[i+0],o[a+0],l,A+r),t+=2,++i,++a,A+=2*r;1&c&&n(e[t+0],s[i+0],o[a+0],l,A)}}function Tn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function jn(e,t,n,r,s){switch(e>>>30){case 3:or(t,n,r,s,0);break;case 2:ar(t,n,r,s);break;case 1:Ar(t,n,r,s)}}function Ln(e,t){var n,i,o=t.M,a=t.Nb,l=e.oc,A=e.pc+40,c=e.oc,u=e.pc+584,d=e.oc,h=e.pc+600;for(n=0;16>n;++n)l[A+32*n-1]=129;for(n=0;8>n;++n)c[u+32*n-1]=129,d[h+32*n-1]=129;for(0<o?l[A-1-32]=c[u-1-32]=d[h-1-32]=129:(s(l,A-32-1,127,21),s(c,u-32-1,127,9),s(d,h-32-1,127,9)),i=0;i<e.za;++i){var f=t.ya[t.aa+i];if(0<i){for(n=-1;16>n;++n)r(l,A+32*n-4,l,A+32*n+12,4);for(n=-1;8>n;++n)r(c,u+32*n-4,c,u+32*n+4,4),r(d,h+32*n-4,d,h+32*n+4,4)}var p=e.Gd,g=e.Hd+i,m=f.ad,y=f.Hc;if(0<o&&(r(l,A-32,p[g].y,0,16),r(c,u-32,p[g].f,0,8),r(d,h-32,p[g].ea,0,8)),f.Za){var v=l,w=A-32+16;for(0<o&&(i>=e.za-1?s(v,w,p[g].y[15],4):r(v,w,p[g+1].y,0,4)),n=0;4>n;n++)v[w+128+n]=v[w+256+n]=v[w+384+n]=v[w+0+n];for(n=0;16>n;++n,y<<=2)v=l,w=A+Os[n],ds[f.Ob[n]](v,w),jn(y,m,16*+n,v,w)}else if(v=Tn(i,o,f.Ob[0]),us[v](l,A),0!=y)for(n=0;16>n;++n,y<<=2)jn(y,m,16*+n,l,A+Os[n]);for(n=f.Gc,v=Tn(i,o,f.Dd),hs[v](c,u),hs[v](d,h),y=m,v=c,w=u,255&(f=n|0)&&(170&f?lr(y,256,v,w):cr(y,256,v,w)),f=d,y=h,255&(n>>=8)&&(170&n?lr(m,320,f,y):cr(m,320,f,y)),o<e.Ub-1&&(r(p[g].y,0,l,A+480,16),r(p[g].f,0,c,u+224,8),r(p[g].ea,0,d,h+224,8)),n=8*a*e.B,p=e.sa,g=e.ta+16*i+16*a*e.R,m=e.qa,f=e.ra+8*i+n,y=e.Ha,v=e.Ia+8*i+n,n=0;16>n;++n)r(p,g+n*e.R,l,A+32*n,16);for(n=0;8>n;++n)r(m,f+n*e.B,c,u+32*n,8),r(y,v+n*e.B,d,h+32*n,8)}}function Un(e,r,s,i,o,a,l,A,c){var u=[0],d=[0],h=0,f=null!=c?c.kd:0,p=null!=c?c:new rn;if(null==e||12>s)return 7;p.data=e,p.w=r,p.ha=s,r=[r],s=[s],p.gb=[p.gb];e:{var g=r,y=s,v=p.gb;if(t(null!=e),t(null!=y),t(null!=v),v[0]=0,12<=y[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){v=3;break e}var w=T(e,g[0]+4);if(12>w||4294967286<w){v=3;break e}if(f&&w>y[0]-8){v=7;break e}v[0]=w,g[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(w=0<p.gb[0],s=s[0];;){e:{var x=e;y=r,v=s;var C=u,B=d,k=g=[0];if((_=h=[h])[0]=0,8>v[0])v=7;else{if(!n(x,y[0],"VP8X")){if(10!=T(x,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var N=T(x,y[0]+8),E=1+I(x,y[0]+12);if(2147483648<=E*(x=1+I(x,y[0]+15))){v=3;break e}null!=k&&(k[0]=N),null!=C&&(C[0]=E),null!=B&&(B[0]=x),y[0]+=18,v[0]-=18,_[0]=1}v=0}}if(h=h[0],g=g[0],0!=v)return v;if(y=!!(2&g),!w&&h)return 3;if(null!=a&&(a[0]=!!(16&g)),null!=l&&(l[0]=y),null!=A&&(A[0]=0),l=u[0],g=d[0],h&&y&&null==c){v=0;break}if(4>s){v=7;break}if(w&&h||!w&&!h&&!n(e,r[0],"ALPH")){s=[s],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{N=e,v=r,w=s;var _=p.gb;C=p.na,B=p.P,k=p.Sa,E=22,t(null!=N),t(null!=w),x=v[0];var S=w[0];for(t(null!=C),t(null!=k),C[0]=null,B[0]=null,k[0]=0;;){if(v[0]=x,w[0]=S,8>S){v=7;break e}var F=T(N,x+4);if(4294967286<F){v=3;break e}var j=8+F+1&-2;if(E+=j,0<_&&E>_){v=3;break e}if(!n(N,x,"VP8 ")||!n(N,x,"VP8L")){v=0;break e}if(S[0]<j){v=7;break e}n(N,x,"ALPH")||(C[0]=N,B[0]=x+8,k[0]=F),x+=j,S-=j}}if(s=s[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=v)break}s=[s],p.Ja=[p.Ja],p.xa=[p.xa];e:if(_=e,v=r,w=s,C=p.gb[0],B=p.Ja,k=p.xa,N=v[0],x=!n(_,N,"VP8 "),E=!n(_,N,"VP8L"),t(null!=_),t(null!=w),t(null!=B),t(null!=k),8>w[0])v=7;else{if(x||E){if(_=T(_,N+4),12<=C&&_>C-12){v=3;break e}if(f&&_>w[0]-8){v=7;break e}B[0]=_,v[0]+=8,w[0]-=8,k[0]=E}else k[0]=5<=w[0]&&47==_[N+0]&&!(_[N+4]>>5),B[0]=w[0];v=0}if(s=s[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=v)break;if(4294967286<p.Ja)return 3;if(null==A||y||(A[0]=p.xa?2:1),l=[l],g=[g],p.xa){if(5>s){v=7;break}A=l,f=g,y=a,null==e||5>s?e=0:5<=s&&47==e[r+0]&&!(e[r+4]>>5)?(w=[0],_=[0],C=[0],m(B=new b,e,r,s),pe(B,w,_,C)?(null!=A&&(A[0]=w[0]),null!=f&&(f[0]=_[0]),null!=y&&(y[0]=C[0]),e=1):e=0):e=0}else{if(10>s){v=7;break}A=g,null==e||10>s||!Je(e,r+3,s-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,y=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=p.Ja||!y||!e?e=0:(l&&(l[0]=y),A&&(A[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],h&&(u[0]!=l||d[0]!=g))return 3;null!=c&&(c[0]=p,c.offset=r-c.w,t(4294967286>r-c.w),t(c.offset==c.ha-s));break}return 0==v||7==v&&h&&null==c?(null!=a&&(a[0]|=null!=p.na&&0<p.na.length),null!=i&&(i[0]=l),null!=o&&(o[0]=g),0):v}function Qn(e,t,n){var r=t.width,s=t.height,i=0,o=0,a=r,l=s;if(t.Da=null!=e&&0<e.Da,t.Da&&(a=e.cd,l=e.bd,i=e.v,o=e.j,11>n||(i&=-2,o&=-2),0>i||0>o||0>=a||0>=l||i+a>r||o+l>s))return 0;if(t.v=i,t.j=o,t.va=i+a,t.o=o+l,t.U=a,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!Q(a,l,n=[e.ib],i=[e.hb]))return 0;t.ib=n[0],t.hb=i[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*s/4,t.Kb=0),1}function Pn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function On(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var s=n.cd,o=n.bd,a=-2&n.v,l=-2&n.j;if(0>a||0>l||0>=s||0>=o||a+s>e||l+o>t)return 2;e=s,t=o}if(n.da){if(!Q(e,t,s=[n.ib],o=[n.hb]))return 2;e=s[0],t=o[0]}}r.width=e,r.height=t;e:{var A=r.width,c=r.height;if(e=r.S,0>=A||0>=c||!(e>=Qr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){a=o=s=t=0;var u=(l=A*Hs[e])*c;if(11>e||(o=(c+1)/2*(t=(A+1)/2),12==e&&(a=(s=A)*c)),null==(c=i(u+2*o+a))){e=1;break e}r.sd=c,11>e?((A=r.f.RGBA).eb=c,A.fb=0,A.A=l,A.size=u):((A=r.f.kb).y=c,A.O=0,A.fa=l,A.Fd=u,A.f=c,A.N=0+u,A.Ab=t,A.Cd=o,A.ea=c,A.W=0+u+o,A.Db=t,A.Ed=o,12==e&&(A.F=c,A.J=0+u+2*o),A.Tc=a,A.lb=s)}if(t=1,s=r.S,o=r.width,a=r.height,s>=Qr&&13>s)if(11>s)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(a-1)+o<=e.size,t&=l>=o*Hs[s],t&=null!=e.eb;else{e=r.f.kb,l=(o+1)/2,u=(a+1)/2,A=Math.abs(e.fa),c=Math.abs(e.Ab);var d=Math.abs(e.Db),h=Math.abs(e.lb),f=h*(a-1)+o;t&=A*(a-1)+o<=e.Fd,t&=c*(u-1)+l<=e.Cd,t=(t&=d*(u-1)+l<=e.Ed)&A>=o&c>=l&d>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==s&&(t&=h>=o,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Pn(r)),e}var Dn=64,Rn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mn=24,Hn=32,Vn=8,Kn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];D("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return M(M(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return M(e,t[n-1])},e.Predictor7=function(e,t,n){return M(e,t[n+0])},e.Predictor8=function(e,t,n){return M(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return M(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return M(M(e,t[n-1]),M(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=K(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+K(r>>16&255,e>>16&255,t>>16&255)+K(r>>8&255,e>>8&255,t>>8&255)+K(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(H((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|H((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|H((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(V((e=M(e,t[n+0]))>>24&255,r>>24&255)<<24|V(e>>16&255,r>>16&255)<<16|V(e>>8&255,r>>8&255)<<8|V(255&e,255&r))>>>0};var qn=e.PredictorAdd0;e.PredictorAdd1=q,D("Predictor2","PredictorAdd2"),D("Predictor3","PredictorAdd3"),D("Predictor4","PredictorAdd4"),D("Predictor5","PredictorAdd5"),D("Predictor6","PredictorAdd6"),D("Predictor7","PredictorAdd7"),D("Predictor8","PredictorAdd8"),D("Predictor9","PredictorAdd9"),D("Predictor10","PredictorAdd10"),D("Predictor11","PredictorAdd11"),D("Predictor12","PredictorAdd12"),D("Predictor13","PredictorAdd13");var zn=e.PredictorAdd2;J("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),J("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Wn,Gn=e.ColorIndexInverseTransform,Jn=e.MapARGB,Xn=e.VP8LColorIndexInverseTransformAlpha,Yn=e.MapAlpha,Zn=e.VP8LPredictorsAdd=[];Zn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,er,tr,nr,rr,sr,ir,or,ar,lr,Ar,cr,ur,dr,hr,fr,pr,gr,mr,yr,vr,wr,br,xr,Cr,Br,kr,Nr,Er=i(511),_r=i(2041),Sr=i(225),Fr=i(767),Ir=0,Tr=_r,jr=Sr,Lr=Fr,Ur=Er,Qr=0,Pr=1,Or=2,Dr=3,Rr=4,Mr=5,Hr=6,Vr=7,Kr=8,qr=9,zr=10,Wr=[2,3,7],Gr=[3,3,11],Jr=[280,256,256,256,40],Xr=[0,1,1,1,0],Yr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$r=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],es=8,ts=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ns=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rs=null,ss=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],is=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],os=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],as=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ls=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],As=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cs=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],us=[],ds=[],hs=[],fs=1,ps=2,gs=[],ms=[];yn("UpsampleRgbLinePair",Bn,3),yn("UpsampleBgrLinePair",kn,3),yn("UpsampleRgbaLinePair",Fn,4),yn("UpsampleBgraLinePair",Sn,4),yn("UpsampleArgbLinePair",_n,4),yn("UpsampleRgba4444LinePair",En,2),yn("UpsampleRgb565LinePair",Nn,2);var ys=e.UpsampleRgbLinePair,vs=e.UpsampleBgrLinePair,ws=e.UpsampleRgbaLinePair,bs=e.UpsampleBgraLinePair,xs=e.UpsampleArgbLinePair,Cs=e.UpsampleRgba4444LinePair,Bs=e.UpsampleRgb565LinePair,ks=16,Ns=1<<ks-1,Es=-227,_s=482,Ss=6,Fs=(256<<Ss)-1,Is=0,Ts=i(256),js=i(256),Ls=i(256),Us=i(256),Qs=i(_s-Es),Ps=i(_s-Es);In("YuvToRgbRow",Bn,3),In("YuvToBgrRow",kn,3),In("YuvToRgbaRow",Fn,4),In("YuvToBgraRow",Sn,4),In("YuvToArgbRow",_n,4),In("YuvToRgba4444Row",En,2),In("YuvToRgb565Row",Nn,2);var Os=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ds=[0,2,8],Rs=[8,7,6,4,4,2,2,2,1,1,1,1],Ms=1;this.WebPDecodeRGBA=function(e,n,r,s,i){var o=Pr,a=new nn,l=new oe;a.ba=l,l.S=o,l.width=[l.width],l.height=[l.height];var A=l.width,c=l.height,u=new ae;if(null==u||null==e)var d=2;else t(null!=u),d=Un(e,n,r,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=d?A=0:(null!=A&&(A[0]=u.width[0]),null!=c&&(c[0]=u.height[0]),A=1),A){l.width=l.width[0],l.height=l.height[0],null!=s&&(s[0]=l.width),null!=i&&(i[0]=l.height);e:{if(s=new ze,(i=new rn).data=e,i.w=n,i.ha=r,i.kd=1,n=[0],t(null!=i),(0==(e=Un(i.data,i.w,i.ha,null,null,null,n,null,i))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=a),s.data=i.data,s.w=i.w+i.offset,s.ha=i.ha-i.offset,s.put=he,s.ac=de,s.bc=fe,s.ma=a,i.xa){if(null==(e=_e())){a=1;break e}if(function(e,n){var r=[0],s=[0],i=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,m(e.m,n.data,n.w,n.ha),!pe(e.m,r,s,i)){e.a=3;break t}if(e.xb=ps,n.width=r[0],n.height=s[0],!Se(r[0],s[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,s)){if(s=0==(n=On(s.width,s.height,a.Oa,a.ba))){t:{s=e;n:for(;;){if(null==s){s=0;break t}if(t(null!=s.s.yc),t(null!=s.s.Ya),t(0<s.s.Wb),t(null!=(r=s.l)),t(null!=(i=r.ma)),0!=s.xb){if(s.ca=i.ba,s.tb=i.tb,t(null!=s.ca),!Qn(i.Oa,r,Dr)){s.a=2;break n}if(!Fe(s,r.width))break n;if(r.da)break n;if((r.da||re(s.ca.S))&&mn(),11>s.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=s.ca.f.kb.F&&mn()),s.Pb&&0<s.s.ua&&null==s.s.vb.X&&!j(s.s.vb,s.s.Wa.Xa)){s.a=1;break n}s.xb=0}if(!Ne(s,s.V,s.Ba,s.c,s.i,r.o,xe))break n;i.Dc=s.Ma,s=1;break t}t(0!=s.a),s=0}s=!s}s&&(n=e.a)}else n=e.a}else{if(null==(e=new We)){a=1;break e}if(e.Fa=i.na,e.P=i.P,e.qc=i.Sa,Xe(e,s)){if(0==(n=On(s.width,s.height,a.Oa,a.ba))){if(e.Aa=0,r=a.Oa,t(null!=(i=e)),null!=r){if(0<(A=0>(A=r.Md)?0:100<A?255:255*A/100)){for(c=u=0;4>c;++c)12>(d=i.pb[c]).lc&&(d.ia=A*Rs[0>d.lc?0:d.lc]>>3),u|=d.ia;u&&(alert("todo:VP8InitRandom"),i.ia=1)}i.Ga=r.Id,100<i.Ga?i.Ga=100:0>i.Ga&&(i.Ga=0)}$e(e,s)||(n=e.a)}}else n=e.a}0==n&&null!=a.Oa&&a.Oa.fd&&(n=Pn(a.ba))}a=n}o=0!=a?null:11>o?l.f.RGBA.eb:l.f.kb.y}else o=null;return o};var Hs=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function c(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var d=[0],h=[0],f=[],p=new l,g=e,m=function(e,t){var n={},r=0,s=!1,i=0,o=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(u(e,t+=4),t+=8;t<e.length;){var a=A(e,t),l=u(e,t+=4);t+=4;var d=l+(1&l);switch(a){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(p=n.frames[r]).src_off=s?o:t-8,p.src_size=i+l+8,r++,s&&(s=!1,i=0,o=0);break;case"VP8X":(p=n.header={}).feature_flags=e[t];var h=t+4;p.canvas_width=1+c(e,h),h+=3,p.canvas_height=1+c(e,h),h+=3;break;case"ALPH":s=!0,i=d+8,o=t-8;break;case"ANIM":(p=n.header).bgcolor=u(e,t),h=t+4,p.loop_count=(g=e)[(m=h)+0]|g[m+1]<<8,h+=2;break;case"ANMF":var f,p;(p=n.frames[r]={}).offset_x=2*c(e,t),t+=3,p.offset_y=2*c(e,t),t+=3,p.width=1+c(e,t),t+=3,p.height=1+c(e,t),t+=3,p.duration=c(e,t),t+=3,f=e[t++],p.dispose=1&f,p.blend=f>>1&1}"ANMF"!=a&&(t+=d)}var g,m;return n}}(g,0);m.response=g,m.rgbaoutput=!0,m.dataurl=!1;var y=m.header?m.header:null,v=m.frames?m.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],h=[y.canvas_width];for(var w=0;w<v.length&&0!=v[w].blend;w++);}var b=v[0],x=p.WebPDecodeRGBA(g,b.src_off,b.src_size,h,d);b.rgba=x,b.imgwidth=h[0],b.imgheight=d[0];for(var C=0;C<h[0]*d[0]*4;C++)f[C]=x[C];return this.width=h,this.height=d,this.data=f,this}!function(e){var t=function(t,r,l,A){var c=4,u=i;switch(A){case e.image_compression.FAST:c=1,u=s;break;case e.image_compression.MEDIUM:c=6,u=o;break;case e.image_compression.SLOW:c=9,u=a}var d=vp(t=n(t,r,l,u),{level:c});return e.__addimage__.arrayBufferToBinaryString(d)},n=function(e,t,n,r){for(var s,i,o,a=e.length/t,l=new Uint8Array(e.length+a),u=A(),d=0;d<a;d+=1){if(o=d*t,s=e.subarray(o,o+t),r)l.set(r(s,n,i),o+d);else{for(var h,f=u.length,p=[];h<f;h+=1)p[h]=u[h](s,n,i);var g=c(p.concat());l.set(p[g],o+d)}i=s}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},s=function(e,t){var n,r=[],s=e.length;r[0]=1;for(var i=0;i<s;i+=1)n=e[i-t]||0,r[i+1]=e[i]-n+256&255;return r},i=function(e,t,n){var r,s=[],i=e.length;s[0]=2;for(var o=0;o<i;o+=1)r=n&&n[o]||0,s[o+1]=e[o]-r+256&255;return s},o=function(e,t,n){var r,s,i=[],o=e.length;i[0]=3;for(var a=0;a<o;a+=1)r=e[a-t]||0,s=n&&n[a]||0,i[a+1]=e[a]+256-(r+s>>>1)&255;return i},a=function(e,t,n){var r,s,i,o,a=[],A=e.length;a[0]=4;for(var c=0;c<A;c+=1)r=e[c-t]||0,s=n&&n[c]||0,i=n&&n[c-t]||0,o=l(r,s,i),a[c+1]=e[c]-o+256&255;return a},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),s=Math.abs(e-n),i=Math.abs(e+t-n-n);return r<=s&&r<=i?e:s<=i?t:n},A=function(){return[r,s,i,o,a]},c=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,s,i){var o,a,l,A,c,u,d,h,f,p,g,m,y,v,w,b=this.decode.FLATE_DECODE,x="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new hm(n)).imgData,a=l.bits,o=l.colorSpace,c=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){f=(h=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(f*l.colors),p=new Uint8Array(f);var C,B=l.pixelBitlength-l.bits;for(v=0,w=0;v<f;v++){for(y=h[v],C=0;C<B;)g[w++]=y>>>C&255,C+=l.bits;p[v]=y>>>C&255}}if(16===l.bits){f=(h=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(f*(32/l.pixelBitlength)*l.colors),p=new Uint8Array(f*(32/l.pixelBitlength)),m=l.colors>1,v=0,w=0;for(var k=0;v<f;)y=h[v++],g[w++]=y>>>0&255,m&&(g[w++]=y>>>16&255,y=h[v++],g[w++]=y>>>0&255),p[k++]=y>>>16&255;a=8}i!==e.image_compression.NONE?(n=t(g,l.width*l.colors,l.colors,i),d=t(p,l.width,1,i)):(n=g,d=p,b=void 0)}if(3===l.colorType&&(o=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var N=l.transparency.indexed,E=0;for(v=0,f=N.length;v<f;++v)E+=N[v];if((E/=255)===f-1&&-1!==N.indexOf(0))A=[N.indexOf(0)];else if(E!==f){for(h=l.decodePixels(),p=new Uint8Array(h.length),v=0,f=h.length;v<f;v++)p[v]=N[h[v]];d=t(p,l.width,1)}}var _=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(i);return b===this.decode.FLATE_DECODE&&(x="/Predictor "+_+" "),x+="/Colors "+c+" /BitsPerComponent "+a+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:s,data:n,index:r,filter:b,decodeParameters:x,transparency:A,palette:u,sMask:d,predictor:_,width:l.width,height:l.height,bitsPerComponent:a,colorSpace:o}}}}(tg.API),function(e){e.processGIF89A=function(t,n,r,s){var i=new fm(t),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:o,height:a},c=new gm(100).encode(A,100);return e.processJPEG.call(this,c,n,r,s)},e.processGIF87A=e.processGIF89A}(tg.API),mm.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},mm.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){Bp.log("bit decode error:"+e)}},mm.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==n&&(this.pos+=4-n)}},mm.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,a=i>>4,l=15&i,A=this.palette[a];if(this.data[o]=A.blue,this.data[o+1]=A.green,this.data[o+2]=A.red,this.data[o+3]=255,2*s+1>=this.width)break;A=this.palette[l],this.data[o+4]=A.blue,this.data[o+4+1]=A.green,this.data[o+4+2]=A.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},mm.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},mm.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,a=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,A=i>>15?255:0,c=r*this.width*4+4*s;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=A}this.pos+=e}},mm.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,A=(o>>11)/t*255|0,c=s*this.width*4+4*i;this.data[c]=A,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=e}},mm.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},mm.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=o}},mm.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var i=new mm(t,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},A=new gm(100).encode(l,100);return e.processJPEG.call(this,A,n,r,s)}}(tg.API),ym.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var i=new ym(t),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},A=new gm(100).encode(l,100);return e.processJPEG.call(this,A,n,r,s)}}(tg.API),tg.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,A=0;A<s;A+=4){var c=r[A],u=r[A+1],d=r[A+2],h=r[A+3];i[a++]=c,i[a++]=u,i[a++]=d,o[l++]=h}var f=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tg.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lm=tg.API,Am=lm.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,A=t.kerning?t.kerning:s.metadata.Unicode.kerning,c=A.fof?A.fof:1,u=!1!==t.doKerning,d=0,h=e.length,f=0,p=a[0]||l,g=[];for(n=0;n<h;n++)r=e.charCodeAt(n),"function"==typeof s.metadata.widthOfString?g.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(d=u&&"object"===(0,kf.A)(A[r])&&!isNaN(parseInt(A[r][f],10))?A[r][f]/c:0,g.push((a[r]||p)/l+d)),f=r;return g},cm=lm.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return lm.processArabic&&(e=lm.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,s)/n:Am.apply(this,arguments).reduce(function(e,t){return e+t},0)},um=function(e,t,n,r){for(var s=[],i=0,o=e.length,a=0;i!==o&&a+t[i]<n;)a+=t[i],i++;s.push(e.slice(0,i));var l=i;for(a=0;i!==o;)a+t[i]>r&&(s.push(e.slice(l,i)),a=0,l=i),a+=t[i],i++;return l!==i&&s.push(e.slice(l,i)),s},dm=function(e,t,n){n||(n={});var r,s,i,o,a,l,A,c=[],u=[c],d=n.textIndent||0,h=0,f=0,p=e.split(" "),g=Am.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),y=[];p.map(function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):y.push(e[0])}),p=y,l=cm.apply(this,[m,n])}for(i=0,o=p.length;i<o;i++){var v=0;if(r=p[i],l&&"\n"==r[0]&&(r=r.substr(1),v=1),d+h+(f=(s=Am.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||v){if(f>t){for(a=um.apply(this,[r,s,t-(d+h),t]),c.push(a.shift()),c=[a.pop()];a.length;)u.push([a.shift()]);f=s.slice(r.length-(c[0]?c[0].length:0)).reduce(function(e,t){return e+t},0)}else c=[r];u.push(c),d=f+l,h=g}else c.push(r),d+=h+f,h=g}return A=l?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(A)},lm.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var a,l,A=[];for(a=0,l=r.length;a<l;a++)A=A.concat(dm.apply(this,[r[a],o,i]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<16;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var i=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,s,a,l=["{"];for(var A in e){if(t=e[A],isNaN(parseInt(A,10))?n="'"+A+"'":(A=parseInt(A,10),n=(n=i(A).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(s=i(t).slice(3),a="-"):(s=i(t).slice(2),a=""),s=a+s.slice(0,-1)+r[s.slice(-1)];else{if("object"!==(0,kf.A)(t))throw new Error("Don't know what to do with value type "+(0,kf.A)(t)+".");s=o(t)}l.push(n+s)}return l.push("}"),l.join("")},a=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,s,i,o={},a=1,l=o,A=[],c="",u="",d=e.length-1,h=1;h<d;h+=1)"'"==(i=e[h])?t?(s=t.join(""),t=void 0):t=[]:t?t.push(i):"{"==i?(A.push([l,s]),l={},s=void 0):"}"==i?((r=A.pop())[0][r[1]]=l,s=void 0,l=r[0]):"-"==i?a=-1:void 0===s?n.hasOwnProperty(i)?(c+=n[i],s=parseInt(c,16)*a,a=1,c=""):c+=i:n.hasOwnProperty(i)?(u+=n[i],l[s]=parseInt(u,16)*a,a=1,s=void 0,u=""):u+=i;return o},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=c.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=A.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(tg.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(void 0===i)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(r=!1===i.existsFileInVFS(s.postScriptName)?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(_p(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(s,r)}}])}(tg),function(){function e(){return(xp.canvg?Promise.resolve(xp.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}tg.API.addSvgAsImage=function(t,n,r,s,i,o,a,l){if(isNaN(n)||isNaN(r))throw Bp.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw Bp.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=s,A.height=i;var c=A.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,A.width,A.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(e){return e.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){d.addImage(A.toDataURL("image/jpeg",1),n,r,s,i,a,l)})}}(),tg.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},tg.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],A=0,c=0,u=0;function d(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var h=a.length;for(u=0;u<h;u+=1)n[a[u]].value=n[a[u]].defaultValue,n[a[u]].explicitSet=!1}if("object"===(0,kf.A)(e))for(s in e)if(i=e[s],d(a,s)&&void 0!==i){if("boolean"===n[s].type&&"boolean"==typeof i)n[s].value=i;else if("name"===n[s].type&&d(n[s].valueSet,i))n[s].value=i;else if("integer"===n[s].type&&Number.isInteger(i))n[s].value=i;else if("array"===n[s].type){for(A=0;A<i.length;A+=1)if(r=!0,1===i[A].length&&"number"==typeof i[A][0])l.push(String(i[A]-1));else if(i[A].length>1){for(c=0;c<i[A].length;c+=1)"number"!=typeof i[A][c]&&(r=!1);!0===r&&l.push([i[A][0]-1,i[A][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+s.length+t.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+s+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(tg.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,s=["","0","00","000","0000"],i=[""],o=0,a=e.length;o<a;++o){if(n=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return i.join("");n=n.toString(16),i.push(s[4-n.length],n)}return i.join("")},r=function(e){var t,n,r,s,i,o,a;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,a=(n=Object.keys(e).sort(function(e,t){return e-t})).length;o<a;o++)t=n[o],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(s=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+s+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,s=t.out,i=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),A="",c=0;c<l.length;c++)A+=String.fromCharCode(l[c]);var u=i();o({data:A,addLength1:!0,objectId:u}),s("endobj");var d=i();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),s("endobj");var h=i();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+Jp(n.fontName)),s("/FontFile2 "+u+" 0 R"),s("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),s("/Flags "+n.metadata.flags),s("/StemV "+n.metadata.stemV),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s(">>"),s("endobj");var f=i();s("<<"),s("/Type /Font"),s("/BaseFont /"+Jp(n.fontName)),s("/FontDescriptor "+h+" 0 R"),s("/W "+e.API.PDFObject.convert(a)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+n.encoding+")"),s(">>"),s(">>"),s("endobj"),n.objectNumber=i(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+d+" 0 R"),s("/BaseFont /"+Jp(n.fontName)),s("/Encoding /"+n.encoding),s("/DescendantFonts ["+f+" 0 R]"),s(">>"),s("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,s=t.out,i=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,l="",A=0;A<a.length;A++)l+=String.fromCharCode(a[A]);var c=i();o({data:l,addLength1:!0,objectId:c}),s("endobj");var u=i();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),s("endobj");var d=i();s("<<"),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s("/StemV "+n.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+c+" 0 R"),s("/Flags 96"),s("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),s("/FontName /"+Jp(n.fontName)),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s(">>"),s("endobj"),n.objectNumber=i();for(var h=0;h<n.metadata.hmtx.widths.length;h++)n.metadata.hmtx.widths[h]=parseInt(n.metadata.hmtx.widths[h]*(1e3/n.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Jp(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),s("endobj"),n.isAlreadyPutted=!0}}(t)}]);var s=function(e){var t,r=e.text||"",s=e.x,i=e.y,o=e.options||{},a=e.mutex||{},l=a.pdfEscape,A=a.activeFontKey,c=a.fonts,u=A,d="",h=0,f="",p=c[u].encoding;if("Identity-H"!==c[u].encoding)return{text:r,x:s,y:i,options:o,mutex:a};for(f=r,u=A,Array.isArray(r)&&(f=r[0]),h=0;h<f.length;h+=1)c[u].metadata.hasOwnProperty("cmap")&&(t=c[u].metadata.cmap.unicode.codeMap[f[h].charCodeAt(0)]),t||f[h].charCodeAt(0)<256&&c[u].metadata.hasOwnProperty("Unicode")?d+=f[h]:d+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===p?g=l(d,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===p&&(g=n(d,c[u])),a.isHex=!0,{text:g,x:s,y:i,options:o,mutex:a}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1)Array.isArray(t[i])&&3===t[i].length?n.push([s(Object.assign({},r,{text:t[i][0]})).text,t[i][1],t[i][2]]):n.push(s(Object.assign({},r,{text:t[i]})).text);e.text=n}else e.text=s(Object.assign({},r,{text:t})).text}])}(tg),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(tg.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,s,i,o,a,l,A=t,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,r=h[n];return void 0!==r?A[256*r+(255&t)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},v=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},w=function(e,t,o,a){var l,A,c,u,d=t[a];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(l=o[a-1])&&"AN"!==l||"EN"!==(A=t[a+1])&&"AN"!==A?d="N":g&&(A="AN"),d=A===l?A:"N";break;case"ES":d="EN"===(l=a>0?o[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===o[a-1]){d="EN";break}if(g){d="N";break}for(c=a+1,u=t.length;c<u&&"ET"===t[c];)c++;d=c<u&&"EN"===t[c]?"EN":"N";break;case"NSM":if(s&&!i){for(u=t.length,c=a+1;c<u&&"NSM"===t[c];)c++;if(c<u){var h=e[a],f=h>=1425&&h<=2303||64286===h;if(l=t[c],f&&("R"===l||"AL"===l)){d="R";break}}}d=a<1||"B"===(l=t[a-1])?"N":o[a-1];break;case"B":g=!1,n=!0,d=m;break;case"S":r=!0,d="N"}return d},b=function(e,t,n){var r=e.split("");return n&&x(r,n,{hiLevel:m}),r.reverse(),t&&t.reverse(),r.join("")},x=function(e,t,s){var i,o,a,l,A,h=-1,f=e.length,p=0,v=[],b=m?u:c,x=[];for(g=!1,n=!1,r=!1,o=0;o<f;o++)x[o]=y(e[o]);for(a=0;a<f;a++){if(A=p,v[a]=w(e,x,v,a),i=240&(p=b[A][d[v[a]]]),p&=15,t[a]=l=b[p][5],i>0)if(16===i){for(o=h;o<a;o++)t[o]=1;h=-1}else h=-1;if(b[p][6])-1===h&&(h=a);else if(h>-1){for(o=h;o<a;o++)t[o]=l;h=-1}"B"===x[a]&&(t[a]=0),s.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=m;for(var s=r-1;s>=0&&"WS"===e[s];s--)t[s]=m}}(x,t,f)},C=function(e,t,r,s,i){if(!(i.hiLevel<e)){if(1===e&&1===m&&!n)return t.reverse(),void(r&&r.reverse());for(var o,a,l,A,c=t.length,u=0;u<c;){if(s[u]>=e){for(l=u+1;l<c&&s[l]>=e;)l++;for(A=u,a=l-1;A<a;A++,a--)o=t[A],t[A]=t[a],t[a]=o,r&&(o=r[A],r[A]=r[a],r[a]=o);u=l}u++}}},B=function(e,t,n){var r=e.split(""),s={hiLevel:m};return n||(n=[]),x(r,n,s),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,s=0;s<e.length;s++)1===t[s]&&(r=f.indexOf(e[s]))>=0&&(e[s]=f[r+1])}(r,n,s),C(2,r,t,n,s),C(1,r,t,n,s),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===i&&(i=v(e)),void 0===a&&(a=v(e))}(e,t),s||!o||a)if(s&&o&&i^a)m=i?1:0,e=b(e,t,n);else if(!s&&o&&a)m=i?1:0,e=B(e,t,n),e=b(e,t);else if(!s||i||o||a){if(s&&!o&&i^a)e=b(e,t),i?(m=0,e=B(e,t,n)):(m=1,e=B(e,t,n),e=b(e,t));else if(s&&i&&!o&&a)m=1,e=B(e,t,n),e=b(e,t);else if(!s&&!o&&i^a){var r=l;i?(m=1,e=B(e,t,n),m=0,l=!1,e=B(e,t,n),l=r):(m=0,e=B(e,t,n),e=b(e,t),m=1,l=!1,e=B(e,t,n),l=r,e=b(e,t))}}else m=0,e=B(e,t,n);else m=i?1:0,e=B(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(s=e.isInputVisual,o=e.isOutputVisual,i=e.isInputRtl,a=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var s=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var i=0;for(s=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?s.push([n.doBidiReorder(t[i][0]),t[i][1],t[i][2]]):s.push([n.doBidiReorder(t[i])]);e.text=s}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(tg),tg.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new wm(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Dm(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new bm(this.contents),this.head=new Bm(this),this.name=new Im(this),this.cmap=new Nm(this),this.toUnicode={},this.hhea=new Em(this),this.maxp=new Tm(this),this.hmtx=new jm(this),this.post=new Sm(this),this.os2=new _m(this),this.loca=new Om(this),this.glyf=new Um(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,s;for(s=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],s.push(Math.round(e*this.scaleFactor));return s}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,s,i,o;for(i=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=e.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return i*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var vm,wm=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,s,i,o,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^i)+256*(255^o)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*s+65536*i+256*o+a},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,s;for(s=[],n=0,r=e.length;n<r;n++)t=e[n],s.push(this.writeByte(t));return s},e}(),bm=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,s,i,o,a,l,A,c,u,d,h,f;for(f in d=Object.keys(t).length,a=Math.log(2),c=16*Math.floor(Math.log(d)/a),i=Math.floor(c/a),A=16*d-c,(r=new wm).writeInt(this.scalarType),r.writeShort(d),r.writeShort(c),r.writeShort(i),r.writeShort(A),s=16*d,l=r.pos+s,o=null,h=[],t)for(u=t[f],r.writeString(f),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),h=h.concat(u),"head"===f&&(o=l),l+=u.length;l%4;)h.push(0),l++;return r.write(h),n=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,s;for(e=Lm.call(e);e.length%4;)e.push(0);for(r=new wm(e),n=0,t=0,s=e.length;t<s;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),xm={}.hasOwnProperty,Cm=function(e,t){for(var n in t)xm.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};vm=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Bm=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new wm).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),km=function(){function e(e,t){var n,r,s,i,o,a,l,A,c,u,d,h,f,p,g,m,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(d=e.readUInt16(),u=d/2,e.pos+=6,s=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),A=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,o=function(){var t,n;for(n=[],a=t=0;0<=r?t<r:t>r;a=0<=r?++t:--t)n.push(e.readUInt16());return n}(),a=g=0,y=s.length;g<y;a=++g)for(p=s[a],n=m=h=f[a];h<=p?m<=p:m>=p;n=h<=p?++m:--m)0===A[a]?i=n+l[a]:0!==(i=o[A[a]/2+(n-h)-(u-a)]||0)&&(i+=l[a]),this.codeMap[n]=65535&i}e.pos=c}return e.encode=function(e,t){var n,r,s,i,o,a,l,A,c,u,d,h,f,p,g,m,y,v,w,b,x,C,B,k,N,E,_,S,F,I,T,j,L,U,Q,P,O,D,R,M,H,V,K,q,z,W;switch(S=new wm,i=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,p=function(){var e=[];for(h=0;h<256;++h)e.push(0);return e}(),m={0:0},s={},F=0,L=i.length;F<L;F++)null==m[K=e[r=i[F]]]&&(m[K]=++f),s[r]={old:e[r],new:m[e[r]]},p[r]=m[e[r]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(p),{charMap:s,subtable:S.data,maxGlyphID:f+1};case"unicode":for(E=[],c=[],y=0,m={},n={},g=l=null,I=0,U=i.length;I<U;I++)null==m[w=e[r=i[I]]]&&(m[w]=++y),n[r]={old:w,new:m[w]},o=m[w]-r,null!=g&&o===l||(g&&c.push(g),E.push(r),l=o),g=r;for(g&&c.push(g),c.push(65535),E.push(65535),k=2*(B=E.length),C=2*Math.pow(Math.log(B)/Math.LN2,2),u=Math.log(C/2)/Math.LN2,x=2*B-C,a=[],b=[],d=[],h=T=0,Q=E.length;T<Q;h=++T){if(N=E[h],A=c[h],65535===N){a.push(0),b.push(0);break}if(N-(_=n[N].new)>=32768)for(a.push(0),b.push(2*(d.length+B-h)),r=j=N;N<=A?j<=A:j>=A;r=N<=A?++j:--j)d.push(n[r].new);else a.push(_-N),b.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*B+2*d.length),S.writeUInt16(0),S.writeUInt16(k),S.writeUInt16(C),S.writeUInt16(u),S.writeUInt16(x),H=0,P=c.length;H<P;H++)r=c[H],S.writeUInt16(r);for(S.writeUInt16(0),V=0,O=E.length;V<O;V++)r=E[V],S.writeUInt16(r);for(q=0,D=a.length;q<D;q++)o=a[q],S.writeUInt16(o);for(z=0,R=b.length;z<R;z++)v=b[z],S.writeUInt16(v);for(W=0,M=d.length;W<M;W++)f=d[W],S.writeUInt16(f);return{charMap:n,subtable:S.data,maxGlyphID:y+1}}},e}(),Nm=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new km(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=km.encode(e,t),(r=new wm).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Em=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),_m=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Sm=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],s=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;s=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Fm=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Im=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,s,i,o,a,l,A,c,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(a={},s=A=0,c=n.length;A<c;s=++A)r=n[s],e.pos=r.offset,l=e.readString(r.length),i=new Fm(l,r),null==a[u=r.nameID]&&(a[u]=[]),a[r.nameID].push(i);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),Tm=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),jm=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,s,i,o,a;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,s;for(s=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)s.push(e.readInt16());return s}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)s=n[e],r.push(s.advance);return r}.call(this),n=this.widths[this.widths.length-1],a=[],t=i=0;0<=r?i<r:i>r;t=0<=r?++i:--i)a.push(this.widths.push(n));return a},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Lm=[].slice,Um=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,s,i,o,a,l,A,c;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),0===(r=s.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,i=(o=new wm(t.read(r))).readShort(),l=o.readShort(),c=o.readShort(),a=o.readShort(),A=o.readShort(),this.cache[e]=-1===i?new Pm(o,l,c,a,A):new Qm(o,i,l,c,a,A),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,s,i,o,a;for(i=[],s=[],o=0,a=t.length;o<a;o++)r=e[t[o]],s.push(i.length),r&&(i=i.concat(r.encode(n)));return s.push(i.length),{table:i,offsets:s}},e}(),Qm=function(){function e(e,t,n,r,s,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Pm=function(){function e(e,t,n,r,s){var i,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new wm(Lm.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Om=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Cm(e,vm),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,s=0,i=0;i<n.length;++i)if(n[i]=r,s<t.length&&t[s]==i){++s,n[i]=r;var o=this.offsets[i],a=this.offsets[i+1]-o;a>0&&(r+=a)}for(var l=new Array(4*n.length),A=0;A<n.length;++A)l[4*A+3]=255&n[A],l[4*A+2]=(65280&n[A])>>8,l[4*A+1]=(16711680&n[A])>>16,l[4*A]=(4278190080&n[A])>>24;return l},e}(),Dm=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,s,i,o,a;for(r={},i=0,o=e.length;i<o;i++)r[s=e[i]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(null!=(n=r[s])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in a=this.glyphsFor(t))n=a[s],r[s]=n;return r},e.prototype.encode=function(e,t){var n,r,s,i,o,a,l,A,c,u,d,h,f,p,g;for(r in n=Nm.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),d={0:0},g=n.charMap)d[(a=g[r]).old]=a.new;for(h in u=n.maxGlyphID,i)h in d||(d[h]=u++);return A=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),c=Object.keys(A).sort(function(e,t){return e-t}),f=function(){var e,t,n;for(n=[],e=0,t=c.length;e<t;e++)o=c[e],n.push(A[o]);return n}(),s=this.font.glyf.encode(i,f,d),l=this.font.loca.encode(s.offsets,f),p={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();tg.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var e,s,i;for(i=[],e=0,s=n.length;e<s;e++)r=n[e],i.push(t.convert(r));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join("\n")}return""+n},t}();var Rm=n(5239),Mm=n.n(Rm);function Hm(){const{testid:e}=(0,i.g)(),[n,r]=(0,t.useState)(null),[s,o]=(0,t.useState)(""),[a,u]=(0,t.useState)(!0),{user:d}=(0,l.A)(),h=(0,t.useRef)();(0,t.useEffect)(()=>{if(!d||!d.uid)return void u(!1);(async()=>{try{const t=(0,c.KR)(A.OO,"ExamSubmissions/".concat(e,"/").concat(d.uid)),n=await(0,c.Jt)(t),s=(0,c.KR)(A.OO,"Exam/".concat(e,"/questions")),i=await(0,c.Jt)(s),a=(0,c.KR)(A.OO,"Exam/".concat(e,"/name")),l=await(0,c.Jt)(a);o(l.val()||"");const h=n.val(),f=i.val();if(!h||!f)return void u(!1);const p=f.filter(e=>"true"===h[e]).length,g=Math.round(p/f.length*100),m=f.map((e,t)=>({id:e,questionNumber:t+1,correct:"true"===h[e]}));r({studentName:d.displayName||d.email,correctCount:p,totalQuestions:f.length,score:g,questions:m})}catch(t){console.error("Error fetching results:",t)}finally{u(!1)}})()},[e,d]);return a?(0,k.jsx)(qh.A,{message:"Loading your results..."}):(0,k.jsxs)("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[(0,k.jsxs)("div",{ref:h,className:"bg-white rounded-lg shadow-xl p-8 max-w-4xl mx-auto",children:[(0,k.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"Exam Results"}),(0,k.jsx)("h2",{className:"text-xl font-semibold text-center text-gray-600 mb-6",children:s||"Test ".concat(e)}),n?(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"bg-blue-100 p-4 rounded-lg text-center mb-4",children:(0,k.jsxs)("p",{className:"text-md font-semibold text-blue-900",children:[(0,k.jsx)("span",{className:"font-bold",children:"Student:"})," ",n.studentName]})}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center mb-8",children:[(0,k.jsxs)("div",{className:"bg-green-100 p-4 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm text-green-700 font-semibold",children:"Score"}),(0,k.jsxs)("p",{className:"text-lg font-bold text-green-900",children:[n.score,"%"]})]}),(0,k.jsxs)("div",{className:"bg-indigo-100 p-4 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm text-indigo-700 font-semibold",children:"Correct Answers"}),(0,k.jsx)("p",{className:"text-lg font-bold text-indigo-900",children:n.correctCount})]}),(0,k.jsxs)("div",{className:"bg-gray-200 p-4 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm text-gray-700 font-semibold",children:"Total Questions"}),(0,k.jsx)("p",{className:"text-lg font-bold text-gray-900",children:n.totalQuestions})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Detailed Breakdown"}),(0,k.jsx)("div",{className:"flex flex-wrap gap-2",children:n.questions.map(e=>(0,k.jsxs)("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium ".concat(e.correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),title:"Question ".concat(e.questionNumber,": ").concat(e.correct?"Correct":"Incorrect"),children:["Q",e.questionNumber]},e.id))})]})]}):(0,k.jsx)("div",{className:"text-center py-10",children:(0,k.jsx)("p",{className:"text-gray-500 text-lg",children:"No results found for this exam."})})]}),n&&(0,k.jsx)("div",{className:"mt-6 flex justify-center",children:(0,k.jsx)("button",{onClick:()=>{const t=h.current;Mm()(t).then(t=>{const n=t.toDataURL("image/png"),r=new tg("p","mm","a4",!0),i=r.internal.pageSize.getWidth(),o=r.internal.pageSize.getHeight(),a=t.width,l=t.height,A=Math.min(i/a,o/l),c=(i-a*A)/2;r.addImage(n,"PNG",c,30,a*A,l*A),r.save("results_".concat(s||e,".pdf"))})},className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Download PDF"})})]})}const Vm=w("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Km=w("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),qm=w("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),zm=w("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),Wm=w("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Gm(){const{testid:e}=(0,i.g)(),[n,r]=(0,t.useState)([]),[s,o]=(0,t.useState)(""),[a,u]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),[m,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(!1),[b,x]=(0,t.useState)(!1),[C,B]=(0,t.useState)(null),[N,E]=(0,t.useState)("studentId"),[_,S]=(0,t.useState)("asc"),F=((0,l.A)(),(0,t.useRef)()),[I,T]=(0,t.useState)({mcq:25,programming:25,sql:25,other:25}),[j,L]=(0,t.useState)(!1),[U,Q]=(0,t.useState)(!1),P=e=>{const t=String(e||"").toLowerCase();return t.includes("program")?"programming":"mcq"===t?"mcq":"sql"===t?"sql":"other"},[O,D]=(0,t.useState)(!1),[R,M]=(0,t.useState)(0),[H,V]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const[t,n,s,i,a,l]=await Promise.all([(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(e,"/Eligible"))),(0,c.Jt)((0,c.KR)(A.OO,"users")),(0,c.Jt)((0,c.KR)(A.OO,"ExamSubmissions/".concat(e))),(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(e,"/name"))),(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(e,"/questions"))),(0,c.Jt)((0,c.KR)(A.OO,"Marks/".concat(e)))]),d=Object.values(t.val()||{}),h=n.val()||{},f=s.val()||{},p=a.val()||{},g=l.val()||{};o(i.val()||"");try{const[t,n]=await Promise.all([(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(e,"/configure/weightage"))),(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(e,"/configure/useWeightage")))]);if(t.exists()){const e=t.val()||{};T({mcq:Number(e.mcq)||0,programming:Number(e.programming)||0,sql:Number(e.sql)||0,other:Number(e.other)||0})}else{const e=new Set(Object.values(p).map(P)),t=Array.from(e),n=t.length>0?Math.floor(100/t.length):25,r={mcq:0,programming:0,sql:0,other:0};t.forEach(e=>{r[e]=n});const s=100-n*t.length;s>0&&t[0]&&(r[t[0]]+=s),T(r)}n.exists()&&L(Boolean(n.val()))}catch(TE){console.error("Error loading weightage config:",TE)}if(!d.length)return void u(!1);const m=Object.fromEntries(Object.entries(h).map(e=>{let[t,n]=e;return[n.email,t]})),y=d.map(e=>m[e]).filter(Boolean);if(!y.length)return console.log("No matching users found for the provided emails"),void u(!1);const v=y.map(t=>(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(e,"/myquestions/").concat(t)))),w=y.map(t=>(0,c.Jt)((0,c.KR)(A.OO,"ExamCode/".concat(e,"/").concat(t)))),[b,x]=await Promise.all([Promise.all(v),Promise.all(w)]);console.log(x);const C=y.map((e,t)=>{const n=h[e]||{},r=b[t].val()||{},s=f[e]||{},i=x[t].val()||{},o=g[e]||{},a=Object.keys(r);let l=0;const A=[],c=Object.values(o).reduce((e,t)=>e+t,0)/a.length;for(const h of a){var u;const e=r[h],t=p[e]||"mcq";console.log(s);const n="true"===s[e];n&&l++;let a=null;"Programming"===t&&null!==(u=i[e])&&void 0!==u&&u.cpp&&(a=i[e].cpp),console.log(o),A.push({id:e||"No name",originalId:h,correct:n,type:t,code:a,mcqanswer:i[e]||null,marks:o[e]||0})}const d=a.length>0?Math.round(l/a.length*100):0;return{studentId:n.name||e,mail:n.email||"No email",uid:e,correctCount:l,totalQuestions:a.length,score:d,questions:A,totalMarks:c}});console.log("Processed student results:",C),r(C)}catch(t){console.error("Error fetching results:",t)}finally{u(!1)}})()},[e]);const K=e=>{N===e?S("asc"===_?"desc":"asc"):(E(e),S("asc"))},q=t.useMemo(()=>n.map(e=>{const t={mcq:{sum:0,count:0},programming:{sum:0,count:0},sql:{sum:0,count:0},other:{sum:0,count:0}};(e.questions||[]).forEach(e=>{const n=P(e.type),r=Number(e.marks);isNaN(r)||(t[n].sum+=r,t[n].count+=1)});const n=Object.keys(t);let r=0,s=0;n.forEach(e=>{if(t[e].count>0){const n=t[e].sum/t[e].count,i=Number(I[e])||0;r+=i,s+=n*i}});const i=r>0?s/r:NaN;return(0,d.A)((0,d.A)({},e),{},{weightedMarks:i})}),[n,I]),z=[...q].sort((e,t)=>{let n,r;switch(N){case"studentId":n=e.studentId.toLowerCase(),r=t.studentId.toLowerCase();break;case"mail":n=e.mail.toLowerCase(),r=t.mail.toLowerCase();break;case"totalMarks":const s=j?e.weightedMarks:e.totalMarks,i=j?t.weightedMarks:t.totalMarks;n=isNaN(s)?-1:s,r=isNaN(i)?-1:i;break;case"correctCount":n=e.totalQuestions>0?e.correctCount/e.totalQuestions:0,r=t.totalQuestions>0?t.correctCount/t.totalQuestions:0;break;default:return 0}return n<r?"asc"===_?-1:1:n>r?"asc"===_?1:-1:0}),W=n.length,G=z.filter(e=>{const t=j?e.weightedMarks:e.totalMarks;return!isNaN(t)}),J=G.length,X=J>0?G.reduce((e,t)=>e+(j?t.weightedMarks:t.totalMarks),0)/J:null,Y=J>0?Math.max(...G.map(e=>j?e.weightedMarks:e.totalMarks)):null,Z=()=>{w(!1),f(null),g(null),y(null)};return a?(0,k.jsx)(qh.A,{}):(0,k.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[(0,k.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",ref:F,children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:s||"Test Results"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Detailed performance analysis of all students"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[(0,k.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-700/40 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Total Attended"}),(0,k.jsxs)("p",{className:"text-2xl font-semibold text-blue-900 dark:text-blue-100",children:[J," / ",W]})]}),(0,k.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-700/40 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-1",children:"Average Score"}),(0,k.jsx)("p",{className:"text-2xl font-semibold text-green-900 dark:text-green-100",children:null!==X?"".concat(X.toFixed(2),"%"):"N/A"})]}),(0,k.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-700/40 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-200 mb-1",children:"Top Score"}),(0,k.jsx)("p",{className:"text-2xl font-semibold text-purple-900 dark:text-purple-100",children:null!==Y?"".concat(Y.toFixed(2),"%"):"N/A"})]})]}),(0,k.jsx)("div",{className:"mb-4 p-4 border rounded-lg bg-gray-50 dark:bg-gray-900/40 border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 flex-1",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"MCQ (%)"}),(0,k.jsx)("input",{type:"number",min:"0",max:"100",value:I.mcq,onChange:e=>T(t=>(0,d.A)((0,d.A)({},t),{},{mcq:Math.max(0,Math.min(100,Number(e.target.value)||0))})),className:"w-full px-2 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-gray-100"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Programming (%)"}),(0,k.jsx)("input",{type:"number",min:"0",max:"100",value:I.programming,onChange:e=>T(t=>(0,d.A)((0,d.A)({},t),{},{programming:Math.max(0,Math.min(100,Number(e.target.value)||0))})),className:"w-full px-2 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-gray-100"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"SQL (%)"}),(0,k.jsx)("input",{type:"number",min:"0",max:"100",value:I.sql,onChange:e=>T(t=>(0,d.A)((0,d.A)({},t),{},{sql:Math.max(0,Math.min(100,Number(e.target.value)||0))})),className:"w-full px-2 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-gray-100"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Other (%)"}),(0,k.jsx)("input",{type:"number",min:"0",max:"100",value:I.other,onChange:e=>T(t=>(0,d.A)((0,d.A)({},t),{},{other:Math.max(0,Math.min(100,Number(e.target.value)||0))})),className:"w-full px-2 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-gray-100"})]})]}),(0,k.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("input",{id:"useWeightage",type:"checkbox",checked:j,onChange:async t=>{const n=t.target.checked;L(n);try{await(0,c.hZ)((0,c.KR)(A.OO,"Exam/".concat(e,"/configure/useWeightage")),n)}catch(tp){console.error(tp)}},className:"h-4 w-4"}),(0,k.jsx)("label",{htmlFor:"useWeightage",className:"text-sm text-gray-700 dark:text-gray-200",children:"Use weightage in scores"})]}),(0,k.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Total: ",["mcq","programming","sql","other"].reduce((e,t)=>e+(Number(I[t])||0),0),"%"]}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)("button",{onClick:()=>{const e=new Set;q.forEach(t=>(t.questions||[]).forEach(t=>e.add(P(t.type))));const t=Array.from(e),n=t.length>0?Math.floor(100/t.length):25,r={mcq:0,programming:0,sql:0,other:0};t.forEach(e=>{r[e]=n});const s=100-n*t.length;s>0&&t[0]&&(r[t[0]]+=s),T(r)},className:"px-3 py-1.5 rounded-md border text-sm bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200",children:"Distribute equally"}),(0,k.jsx)("button",{disabled:U,onClick:async()=>{Q(!0);try{await(0,c.hZ)((0,c.KR)(A.OO,"Exam/".concat(e,"/configure/weightage")),I)}catch(tp){console.error("Failed to save weights",tp)}finally{Q(!1)}},className:"px-3 py-1.5 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm disabled:opacity-60",children:U?"Saving...":"Save"})]})]})]})}),(0,k.jsxs)("div",{className:"flex justify-end mb-4 gap-2",children:[(0,k.jsxs)("button",{onClick:async()=>{const t=new tg("p","mm","a4"),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight(),i=15;let o=i,a=null;const l=[[250,252,255],[255,250,252],[252,255,250],[248,250,255],[255,252,248],[248,255,252],[252,248,255],[255,248,252],[246,251,255],[251,255,246],[255,246,251],[246,255,252]],u=()=>{t.setFillColor(245,248,255),t.rect(0,0,n,14,"F"),t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(40,80,160),t.text("".concat(s||e),i,9),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text("Detailed Report",n-i,9,{align:"right"}),t.setDrawColor(220,220,220),t.line(i,14,n-i,14),o=18,t.setTextColor(0,0,0)},d=e=>o+e>r-i&&(t.addPage(),u(),a&&(t.setFillColor(...a),t.rect(0,14,n,r-14,"F")),!0),h=function(e,n,r,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;t.setFontSize(i);const o=t.splitTextToSize(String(null!==e&&void 0!==e?e:""),s);return t.text(o,n,r),o.length*(.35*i)},f=e=>{const t=parseInt(e);return isNaN(t)?e:(t+1).toString()};D(!0),M(0),V("Preparing report...");try{u(),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("Detailed Test Report",n/2,o,{align:"center"}),o+=10,t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Test: ".concat(s||e),n/2,o,{align:"center"}),o+=8,t.setFontSize(9),t.text("Generated: ".concat((new Date).toLocaleString()),n/2,o,{align:"center"}),o+=12,t.setFont("helvetica","bold"),t.setFontSize(12),t.text("Students Summary (Click name to jump to details)",i,o),o+=8,t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(i,o-6,n-30,8,"F"),t.setFontSize(9),t.text("#",17,o),t.text("Student Name",23,o),t.text("Email",75,o),t.text("Score",135,o),t.text("Correct",155,o),t.text("Total",180,o),t.setTextColor(0,0,0),o+=8;const p=[];z.forEach((e,r)=>{d(8)&&(t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(i,o-6,n-30,8,"F"),t.setFontSize(9),t.text("#",17,o),t.text("Student Name",23,o),t.text("Email",75,o),t.text("Score",135,o),t.text("Correct",155,o),t.text("Total",180,o),t.setTextColor(0,0,0),o+=8);const s=t.internal.getNumberOfPages();r%2===1&&(t.setFillColor(245,245,245),t.rect(i,o-5,n-30,7,"F")),t.text("".concat(r+1),17,o);const a=e.studentId.length>20?e.studentId.substring(0,20)+"...":e.studentId;t.text(a,23,o);const l=t.getTextWidth(a),A=e.mail.length>25?e.mail.substring(0,25)+"...":e.mail;t.text(A,75,o);const c=j?e.weightedMarks:e.totalMarks,u=isNaN(c)?"N/A":"".concat(c.toFixed(1),"%");t.text(u,135,o),t.text("".concat(e.correctCount),160,o),t.text("".concat(e.totalQuestions),183,o),p.push({page:s,x:23,y:o,w:l,uid:e.uid}),o+=7});const g={},m=z.length;for(let s=0;s<z.length;s++){const p=z[s];t.addPage();const y=t.internal.getNumberOfPages();g[p.uid]=y,a=l[s%l.length],u(),t.setFillColor(...a),t.rect(0,14,n,r-14,"F"),t.setFontSize(8),t.setTextColor(60,90,160),t.text("Back to Summary",n-i,o,{align:"right"}),t.link(n-i-35,o-4,35,6,{pageNumber:1,top:18}),t.setTextColor(0,0,0),o+=6,t.setFont("helvetica","bold"),t.setFontSize(14),t.text("Student: ".concat(p.studentId),i,o),o+=7,t.setFont("helvetica","normal"),t.setFontSize(10),t.text("Email: ".concat(p.mail),i,o),o+=5,t.text("Student ID: ".concat(p.uid.substring(0,10),"..."),i,o),o+=5;const v=j?p.weightedMarks:p.totalMarks;t.text("Score: ".concat(isNaN(v)?"Not Attended":v.toFixed(2)+"%"),i,o),o+=8;const w=n-30,b=w/3,x=p.totalQuestions>0?Math.round(p.correctCount/p.totalQuestions*100):0;t.setFillColor(250,250,250),t.setDrawColor(230,230,230),t.rect(i,o-4,w,22,"F"),t.rect(i,o-4,w,22,"S"),t.setFont("helvetica","bold"),t.setFontSize(9),t.text("Score",19,o+2),t.text("Correct",19+b,o+2),t.text("Accuracy",19+2*b,o+2),t.setFont("helvetica","normal"),t.setFontSize(11),t.text(isNaN(v)?"N/A":"".concat(v.toFixed(1),"%"),19,o+12),t.text("".concat(p.correctCount," / ").concat(p.totalQuestions),19+b,o+12),t.text("".concat(x,"%"),19+2*b,o+12),o+=24;const C=["mcq","programming","sql","other"],B={mcq:{att:0,cor:0,sum:0},programming:{att:0,cor:0,sum:0},sql:{att:0,cor:0,sum:0},other:{att:0,cor:0,sum:0}};(p.questions||[]).forEach(e=>{const t=P(e.type);B[t].att++,e.correct&&B[t].cor++;const n=Number(e.marks);isNaN(n)||(B[t].sum+=n)});const k=C.filter(e=>B[e].att>0);k.length&&(t.setFont("helvetica","bold"),t.setFontSize(11),t.text("Category Breakdown",i,o),o+=6,t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(i,o-5,w,7,"F"),t.setFontSize(9),t.text("Category",17,o),t.text("Attempted",67,o),t.text("Correct",103,o),t.text("Avg Mark",133,o),j&&t.text("Weight",165,o),t.setTextColor(0,0,0),o+=8,k.forEach((e,s)=>{o+8>r-i&&(t.addPage(),u(),a&&(t.setFillColor(...a),t.rect(0,14,n,r-14,"F"))),s%2===1&&(t.setFillColor(245,245,245),t.rect(i,o-5,w,7,"F"));const l=B[e].att?(B[e].sum/B[e].att).toFixed(1):"0.0",A=e.charAt(0).toUpperCase()+e.slice(1);t.setFontSize(9),t.text(A,17,o),t.text(String(B[e].att),75,o,{align:"right"}),t.text(String(B[e].cor),111,o,{align:"right"}),t.text(String(l),145,o,{align:"right"}),j&&t.text("".concat(Number(I[e])||0,"%"),195,o,{align:"right"}),o+=7}),o+=4),t.setFont("helvetica","bold"),t.setFontSize(12),t.text("Question Details",i,o),o+=6,t.setFont("helvetica","normal"),t.setFontSize(9);for(let r=0;r<(p.questions||[]).length;r++){const s=p.questions[r];let a={},l=null,u=null;try{const[t,n,r]=await Promise.all([(0,c.Jt)((0,c.KR)(A.OO,"questions/".concat(s.id))),(0,c.Jt)((0,c.KR)(A.OO,"ExamSubmissions/".concat(e,"/").concat(p.uid,"/").concat(s.id))),(0,c.Jt)((0,c.KR)(A.OO,"ExamCode/".concat(e,"/").concat(p.uid,"/").concat(s.id)))]);a=t.val()||{},l=n.val();const i=r.exists()?r.val():null;u="number"===typeof s.mcqanswer?s.mcqanswer:"number"===typeof i?i:null}catch(TE){console.error("Error fetching q/a for",s.id,TE)}d(16);const g=null===l||void 0===l?"Not Attended":s.correct?"Correct":"Wrong",m="Correct"===g?[0,128,0]:"Wrong"===g?[255,0,0]:[150,150,150],y=String(s.type||"").toUpperCase();t.setFillColor(240,240,240),t.rect(i,o-5,n-30,8,"F"),t.setFont("helvetica","bold"),t.setFontSize(10),t.setTextColor(0,0,0),t.text("Question ".concat(r+1," [").concat(y,"] - ").concat((Number(s.marks)||0).toFixed(2)," pts"),17,o),t.setTextColor(...m),t.text(g,n-i-25,o),t.setTextColor(0,0,0),o+=8,t.setFont("helvetica","bold");const v=h(a.questionname||a.question||s.id,17,o,n-30-4,10);if(o+=v+3,a.description){t.setFont("helvetica","normal");const e=h(a.description,17,o,n-30-4,9);o+=e+3}if("Programming"!==s.type&&a.options){d(8),t.setFont("helvetica","bold"),t.text("Options:",17,o),o+=5,t.setFont("helvetica","normal");const e=Object.entries(a.options);for(const[r,s]of e){d(7);const e=r===a.correctAnswer,i=null!==u?String(r)===String(u):String(r)===String(l);e?(t.setFillColor(200,255,200),t.rect(19,o-4,n-30-8,6,"F")):i&&!e&&(t.setFillColor(255,200,200),t.rect(19,o-4,n-30-8,6,"F"));const A=h("".concat(f(r),". ").concat(s),21,o,n-30-12,9);o+=A+2}if(d(10),t.setFont("helvetica","bold"),null!==u||null!==l&&void 0!==l){const e=null!==u?u:null;if(null!==e){const n=f(String(e));t.text("Student's Answer: Option ".concat(n),17,o)}else{const e="true"===l?"Correct":"false"===l?"Wrong":"Unknown";t.text("Student's Answer: ".concat(e),17,o)}}else t.setTextColor(150,150,150),t.text("Student's Answer: Not Attended",17,o);t.setTextColor(0,0,0),o+=5,t.text("Correct Answer: Option ".concat(a.correctAnswer),17,o),o+=6}if("Programming"===s.type&&s.code){d(10),t.setFont("helvetica","bold"),t.text("Code Submission:",17,o),o+=6,t.setFont("courier","normal"),t.setFontSize(7);const e=String(s.code).split("\n");for(let r=0;r<Math.min(e.length,60);r++){d(5);const s=e[r],i=s.length>95?s.substring(0,95)+"...":s;t.setFillColor(240,240,240),t.rect(17,o-3,n-30-4,4.5,"F"),t.setTextColor(20,20,20),t.text(i,19,o),t.setTextColor(0,0,0),o+=3.5}t.setFont("helvetica","normal"),t.setFontSize(9),o+=2}if(a.explanation){d(12),t.setFillColor(230,240,255);const e=o-3;t.setFont("helvetica","bold"),t.text("Explanation:",17,o),o+=5,t.setFont("helvetica","normal");const r=h(a.explanation,17,o,n-30-4,8);t.rect(i,e,n-30,r+8,"S"),o+=r+4}}M(Math.round((s+1)/m*100)),V("Processed ".concat(s+1," of ").concat(m," students")),s%3===0&&await new Promise(e=>setTimeout(e,0))}p.forEach(e=>{const n=g[e.uid];n&&(t.setPage(e.page),t.link(e.x,e.y-4,e.w,6,{pageNumber:n,top:i}))});const y=t.internal.getNumberOfPages();for(let i=1;i<=y;i++)t.setPage(i),t.setFontSize(8),t.setFont("helvetica","italic"),t.setTextColor(128,128,128),t.text("Page ".concat(i," of ").concat(y," - ").concat(s||e),n/2,r-10,{align:"center"});t.save("".concat(s||e,"_detailed_all_students.pdf"))}catch(tp){console.error("Error generating detailed report:",tp)}finally{D(!1),M(0),V("")}},className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors flex items-center gap-2",children:[(0,k.jsx)(Vm,{size:18}),"Download Detailed Report"]}),(0,k.jsxs)("button",{onClick:async()=>{const t=new tg("p","mm","a4"),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight(),i=15;let o=i;t.setFontSize(20),t.setFont("helvetica","bold"),t.text("Test Results Summary",n/2,o,{align:"center"}),o+=10,t.setFontSize(14),t.setFont("helvetica","normal"),t.text("Test: ".concat(s||e),n/2,o,{align:"center"}),o+=6,t.setFontSize(10),t.text("Generated: ".concat((new Date).toLocaleString()),n/2,o,{align:"center"}),o+=6,t.text("Total Students: ".concat(z.length),n/2,o,{align:"center"}),o+=15,t.setFontSize(12),t.setFont("helvetica","bold"),t.text("Overall Performance Summary",i,o),o+=8,t.setFontSize(9),t.setFont("helvetica","normal");const a=z.map(e=>j?e.weightedMarks:e.totalMarks).filter(e=>!isNaN(e)),l=a.length>0?(a.reduce((e,t)=>e+t,0)/a.length).toFixed(2):"N/A",A=a.length>0?Math.max(...a).toFixed(2):"N/A",c=a.length>0?Math.min(...a).toFixed(2):"N/A";if(t.text("Average Score: ".concat(l,"%"),20,o),o+=6,t.text("Highest Score: ".concat(A,"%"),20,o),o+=6,t.text("Lowest Score: ".concat(c,"%"),20,o),o+=6,t.text("Students Attended: ".concat(a.length," / ").concat(z.length),20,o),o+=8,t.setFont("helvetica","bold"),t.text("Scoring Mode",i,o),o+=6,t.setFont("helvetica","normal"),t.text("Mode: ".concat(j?"Weighted (category-wise)":"Standard (unweighted)"),20,o),o+=5,j){const e="Weights \u2014 MCQ: ".concat(Number(I.mcq)||0,"%, Programming: ").concat(Number(I.programming)||0,"%, SQL: ").concat(Number(I.sql)||0,"%, Other: ").concat(Number(I.other)||0,"%");t.text(e,20,o),o+=6}o+=8,t.setFont("helvetica","bold"),t.setFontSize(12),t.text("Students",i,o),o+=8,t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(i,o-6,n-30,8,"F"),t.setFontSize(9),t.text("#",17,o),t.text("Student Name",23,o),t.text("Email",75,o),t.text("Score",135,o),t.text("Correct",155,o),t.text("Total",180,o),t.setTextColor(0,0,0),o+=8,z.forEach((e,s)=>{o+10>r-i&&(t.addPage(),o=i,t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(i,o-6,n-30,8,"F"),t.setFontSize(9),t.text("#",17,o),t.text("Student Name",23,o),t.text("Email",75,o),t.text("Score",135,o),t.text("Correct",155,o),t.text("Total",180,o),t.setTextColor(0,0,0),o+=8),s%2===1&&(t.setFillColor(245,245,245),t.rect(i,o-5,n-30,7,"F")),t.setFontSize(9),t.text("".concat(s+1),17,o);const a=e.studentId.length>20?e.studentId.substring(0,20)+"...":e.studentId;t.text(a,23,o);const l=e.mail.length>25?e.mail.substring(0,25)+"...":e.mail;t.text(l,75,o);const A=j?e.weightedMarks:e.totalMarks,c=isNaN(A)?"N/A":"".concat(A.toFixed(1),"%");t.text(c,135,o),t.text("".concat(e.correctCount),160,o),t.text("".concat(e.totalQuestions),183,o),o+=7});const u=t.internal.getNumberOfPages();for(let d=1;d<=u;d++)t.setPage(d),t.setFontSize(8),t.setFont("helvetica","italic"),t.setTextColor(128,128,128),t.text("Page ".concat(d," of ").concat(u," - ").concat(s||e),n/2,r-10,{align:"center"});t.save("".concat(s||e,"_all_results.pdf"))},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,k.jsx)(Vm,{size:18}),"Download All Results"]})]}),(0,k.jsx)("div",{className:"overflow-x-auto",children:(0,k.jsxs)("table",{className:"w-full border-collapse",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[(0,k.jsx)("th",{className:"p-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200 border-b-2 border-gray-300 dark:border-gray-600",children:(0,k.jsxs)("button",{onClick:()=>K("studentId"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors group",children:[(0,k.jsx)("span",{children:"Student ID"}),(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)(Km,{size:12,className:"".concat("studentId"===N&&"asc"===_?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-blue-400")}),(0,k.jsx)(qm,{size:12,className:"".concat("studentId"===N&&"desc"===_?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-blue-400 -mt-1")})]})]})}),(0,k.jsx)("th",{className:"p-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200 border-b-2 border-gray-300 dark:border-gray-600",children:(0,k.jsxs)("button",{onClick:()=>K("mail"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors group",children:[(0,k.jsx)("span",{children:"Email"}),(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)(Km,{size:12,className:"".concat("mail"===N&&"asc"===_?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-blue-400")}),(0,k.jsx)(qm,{size:12,className:"".concat("mail"===N&&"desc"===_?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-blue-400 -mt-1")})]})]})}),(0,k.jsx)("th",{className:"p-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200 border-b-2 border-gray-300 dark:border-gray-600",children:(0,k.jsxs)("button",{onClick:()=>K("totalMarks"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors group",children:[(0,k.jsx)("span",{children:"Score"}),(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)(Km,{size:12,className:"".concat("totalMarks"===N&&"asc"===_?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-blue-400")}),(0,k.jsx)(qm,{size:12,className:"".concat("totalMarks"===N&&"desc"===_?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-blue-400 -mt-1")})]})]})}),(0,k.jsx)("th",{className:"p-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200 border-b-2 border-gray-300 dark:border-gray-600",children:(0,k.jsxs)("button",{onClick:()=>K("correctCount"),className:"flex items-center gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors group",children:[(0,k.jsx)("span",{children:"Correct"}),(0,k.jsxs)("div",{className:"flex flex-col",children:[(0,k.jsx)(Km,{size:12,className:"".concat("correctCount"===N&&"asc"===_?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-blue-400")}),(0,k.jsx)(qm,{size:12,className:"".concat("correctCount"===N&&"desc"===_?"text-blue-600 dark:text-blue-400":"text-gray-400 group-hover:text-blue-400 -mt-1")})]})]})}),(0,k.jsx)("th",{className:"p-3 text-left text-sm font-semibold text-gray-700 dark:text-gray-200 border-b-2 border-gray-300 dark:border-gray-600",children:"Actions"})]})}),(0,k.jsx)("tbody",{children:z.length>0?z.map((n,r)=>(0,k.jsxs)(t.Fragment,{children:[(0,k.jsxs)("tr",{className:"".concat(C===r?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"," transition-colors cursor-pointer border-b border-gray-200 dark:border-gray-700"),onClick:()=>B(C===r?null:r),children:[(0,k.jsx)("td",{className:"p-3",children:(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:n.studentId.charAt(0).toUpperCase()}),(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:n.studentId}),(0,k.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",n.uid.substring(0,6),"..."]})]})]})}),(0,k.jsx)("td",{className:"p-3",children:(0,k.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:n.mail})}),(0,k.jsx)("td",{className:"p-3",children:(()=>{const e=j?n.weightedMarks:n.totalMarks,t=isNaN(e)?"bg-gray-100 text-gray-800":e>=70?"bg-green-100 text-green-800":e>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return(0,k.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat(t),children:isNaN(e)?"Not Attended":"".concat(e.toFixed(2),"%")})})()}),(0,k.jsx)("td",{className:"p-3",children:(0,k.jsxs)("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:[n.correctCount," / ",n.totalQuestions]})}),(0,k.jsx)("td",{className:"p-3",children:(0,k.jsxs)("button",{onClick:t=>{t.stopPropagation(),(async t=>{const n=new tg("p","mm","a4"),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),o=15;let a=o;console.log(t);const l={};try{for(const n of t.questions)try{const r=(0,c.KR)(A.OO,"questions/".concat(n.id)),s=(await(0,c.Jt)(r)).val()||{},i=(0,c.KR)(A.OO,"ExamSubmissions/".concat(e,"/").concat(t.uid,"/").concat(n.id)),o=(await(0,c.Jt)(i)).val();let a=null;if("Programming"===n.type){const r=(0,c.KR)(A.OO,"ExamCode/".concat(e,"/").concat(t.uid,"/").concat(n.originalId,"/cpp")),s=await(0,c.Jt)(r);s.exists()&&(a=s.val())}l[n.id]=(0,d.A)((0,d.A)({},s),{},{studentAnswer:o||null,isCorrect:n.correct,marks:n.marks,type:n.type,codeSubmission:a})}catch(g){console.error("Error fetching details for question ".concat(n.id,":"),g),l[n.id]={questionname:n.id,studentAnswer:null,isCorrect:n.correct,marks:n.marks,type:n.type}}}catch(g){console.error("Error fetching question details:",g)}const u=e=>a+e>i-o&&(n.addPage(),a=o,!0),h=function(e,t,r,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;n.setFontSize(i);const o=n.splitTextToSize(e,s);return n.text(o,t,r),o.length*(.35*i)},f=e=>{const t=parseInt(e);return isNaN(t)?e:(t+1).toString()};n.setFontSize(18),n.setFont("helvetica","bold"),n.text("Student Performance Report",r/2,a,{align:"center"}),a+=10,n.setFontSize(12),n.setFont("helvetica","normal"),n.text("Test: ".concat(s||e),o,a),a+=8,n.setDrawColor(200,200,200),n.line(o,a,r-o,a),a+=8,n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Student Information",o,a),a+=7,n.setFontSize(10),n.setFont("helvetica","normal"),n.text("Name: ".concat(t.studentId),o,a),a+=6,n.text("Email: ".concat(t.mail),o,a),a+=6,n.text("Student ID: ".concat(t.uid.substring(0,10),"..."),o,a),a+=10,u(40),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Performance Summary",o,a),a+=7,n.setFontSize(10),n.setFont("helvetica","normal"),n.text("Total Score: ".concat(isNaN(t.totalMarks)?"Not Attended":t.totalMarks.toFixed(2)+"%"),o,a),a+=6,n.text("Questions Attempted: ".concat(t.totalQuestions),o,a),a+=6,n.text("Correct Answers: ".concat(t.correctCount),o,a),a+=6,n.text("Incorrect Answers: ".concat(t.totalQuestions-t.correctCount),o,a),a+=6,n.text("Accuracy: ".concat(t.totalQuestions>0?Math.round(t.correctCount/t.totalQuestions*100):0,"%"),o,a),a+=12,u(40),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Detailed Question Analysis",o,a),a+=10;for(let e=0;e<t.questions.length;e++){const s=t.questions[e],i=l[s.id]||{};u(40),n.setFillColor(240,240,240),n.rect(o,a-5,r-30,8,"F"),n.setFontSize(11),n.setFont("helvetica","bold"),n.text("Question ".concat(e+1),17,a),null===i.studentAnswer||void 0===i.studentAnswer?(n.setTextColor(150,150,150),n.text("Not Attended",r-o-30,a)):s.correct?(n.setTextColor(0,128,0),n.text("Correct (+".concat(s.marks.toFixed(2),")"),r-o-35,a)):(n.setTextColor(255,0,0),n.text("Wrong (".concat(s.marks.toFixed(2),")"),r-o-30,a)),n.setTextColor(0,0,0),a+=10,n.setFontSize(10),n.setFont("helvetica","bold");const A=h(i.question,17,a,r-30-4,10);if(a+=A+3,i.description){n.setFont("helvetica","italic"),n.setFontSize(9);const e=h(i.description,17,a,r-30-4,9);a+=e+3}if("Programming"!==s.type&&i.options){u(30),n.setFont("helvetica","normal"),n.setFontSize(9),n.text("Options:",17,a),a+=5;const e=Object.entries(i.options);for(const[s,o]of e){u(8);const e=f(s),t=s===i.correctAnswer,l=s===i.studentAnswer;t?(n.setFillColor(200,255,200),n.rect(19,a-4,r-30-8,6,"F")):l&&!t&&(n.setFillColor(255,200,200),n.rect(19,a-4,r-30-8,6,"F")),n.setFont("helvetica","normal");const A="".concat(e,". ").concat(o),c=h(A,21,a,r-30-12,9);let d=23+n.getTextWidth(A);t&&(n.setTextColor(0,128,0),n.setFont("helvetica","bold"),n.text(" [CORRECT]",d,a)),l&&(n.setTextColor(0,0,255),n.setFont("helvetica","bold"),n.text(" [SELECTED]",d+(t?25:0),a)),n.setTextColor(0,0,0),a+=c+2}a+=2,n.setFont("helvetica","bold"),n.setFontSize(9),null===i.studentAnswer||void 0===i.studentAnswer?(n.setTextColor(150,150,150),n.text("Student's Answer: Not Attended",17,a)):(f(s.mcqanswer),n.text("Student's Answer: ".concat(s.mcqanswer+1),17,a)),n.setTextColor(0,0,0),a+=5;const t=i.correctAnswer;n.text("Correct Answer: Option ".concat(t),17,a),a+=7}if("Programming"===s.type){u(30),n.setFont("helvetica","bold"),n.setFontSize(10),n.text("Code Submission:",17,a),a+=6;const e=s.code;if(e){n.setFont("courier","normal"),n.setFontSize(7);const t=e.split("\n");for(const e of t){u(5)&&(n.setFont("courier","normal"),n.setFontSize(7));const t=e.length>95?e.substring(0,95)+"...":e;n.setFillColor(240,240,240),n.rect(17,a-3,r-30-4,4.5,"F"),n.setTextColor(20,20,20),n.text(t,19,a),n.setTextColor(0,0,0),a+=3.5}a+=5}else n.setFont("helvetica","italic"),n.setFontSize(9),n.setTextColor(150,150,150),n.text("No code submitted",19,a),n.setTextColor(0,0,0),a+=7}const c=i.testcases||[];if(c.length>0)for(let e=0;e<c.length;e++){const t=c[e];u(25);const l=s.correct?"PASSED":"FAILED",A=s.correct?[0,128,0]:[255,0,0];n.setFillColor(240,240,240),n.rect(o,a-4,r-30,8,"F"),n.setFont("helvetica","bold"),n.setFontSize(9),n.setTextColor(0,0,0),n.text("Test Case ".concat(e+1),17,a),n.setTextColor(...A),n.text(l,r-o-20,a),n.setTextColor(0,0,0),a+=8,n.setFont("helvetica","bold"),n.setFontSize(8),n.text("Input:",19,a),a+=4,n.setFont("courier","normal"),n.setFontSize(7);const d=t.input||"No input",h=n.splitTextToSize(d,r-30-8);n.text(h,21,a),a+=3.5*h.length+2,u(15),n.setFont("helvetica","bold"),n.setFontSize(8),n.setTextColor(0,128,0),n.text("Expected Output:",19,a),a+=4,n.setFont("courier","normal"),n.setFontSize(7),n.setTextColor(0,0,0);const f=t.expectedOutput||"No expected output",p=n.splitTextToSize(f,r-30-8);if(n.text(p,21,a),a+=3.5*p.length+2,i.codeSubmission&&"FAILED"===l){u(15),n.setFont("helvetica","bold"),n.setFontSize(8),n.setTextColor(255,0,0),n.text("Actual Output:",19,a),a+=4,n.setFont("courier","normal"),n.setFontSize(7),n.setTextColor(0,0,0);const e="Code execution output would be shown here",t=n.splitTextToSize(e,r-30-8);n.text(t,21,a),a+=3.5*t.length+4}a+=3}else n.setFont("helvetica","italic"),n.setFontSize(9),n.setTextColor(150,150,150),n.text("No test cases available",19,a),n.setTextColor(0,0,0),a+=7;if(a+=5,i.explanation){u(15),n.setFillColor(230,240,255);const e=a-3;n.setFont("helvetica","bold"),n.setFontSize(9),n.text("Explanation:",17,a),a+=5,n.setFont("helvetica","normal");const t=h(i.explanation,17,a,r-30-4,8);n.rect(o,e,r-30,t+8,"S"),a+=t+5}a+=5}const p=n.internal.getNumberOfPages();for(let e=1;e<=p;e++)n.setPage(e),n.setFontSize(8),n.setFont("helvetica","italic"),n.setTextColor(128,128,128),n.text("Generated on ".concat((new Date).toLocaleDateString()," - Page ").concat(e," of ").concat(p),r/2,i-10,{align:"center"});n.save("".concat(t.studentId,"_").concat(s||e,"_detailed_report.pdf"))})(n)},className:"px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center gap-1.5 text-sm",title:"Download detailed student report",children:[(0,k.jsx)(Vm,{size:16}),"Download PDF"]})})]}),C===r&&(0,k.jsx)("tr",{className:"bg-gray-50 dark:bg-gray-800",children:(0,k.jsxs)("td",{colSpan:"6",className:"p-6",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Question Details:"}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.questions.map((t,r)=>(0,k.jsxs)("div",{onClick:()=>async function(t,n,r,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"mcq",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const l=o||t;if(console.log("Fetching question details:",{questionId:t,studentId:n,studentuid:r,questionType:i,originalId:o,codeData:!!a}),t&&n){x(!0);try{const o=(0,c.KR)(A.OO,"questions/".concat(l)),h=(await(0,c.Jt)(o)).val()||{};console.log(t);let p=a;if("Programming"===i)try{const s=(0,c.KR)(A.OO,"ExamCode/".concat(e,"/").concat(r,"/").concat(t,"/cpp"));console.log("Attempting to fetch code from: ExamCode/".concat(e,"/").concat(r,"/").concat(t,"/cpp"));const i=await(0,c.Jt)(s);if(i.exists()){const e=i.val();console.log("Found code with UID:",e),p={code:e,language:"cpp"}}else{const r=(0,c.KR)(A.OO,"ExamCode/".concat(e,"/").concat(n,"/").concat(t,"/cpp"));console.log("Code not found with UID, trying with studentId: ExamCode/".concat(e,"/").concat(n,"/").concat(t,"/cpp"));const s=await(0,c.Jt)(r);if(s.exists()){const e=s.val();console.log("Found code with studentId:",e),p={code:e,language:"cpp"}}}}catch(u){console.error("Error fetching code:",u)}console.log(p);const m=(0,d.A)({id:t,type:i,question:h.questionname||"No question text available",description:h.description||"",options:h.options||{},correctAnswer:h.correctAnswer,explanation:h.explanation||"",difficulty:h.difficulty||"Not specified",isCorrect:s},h);g(m),y(p||null),f({id:t,studentId:n,type:i,isCorrect:s}),console.log(m),w(!0)}catch(u){console.error("Error fetching question details:",u)}finally{x(!1)}}}(t.id,n.studentId,n.uid,t.correct,t.type,t.originalId,t.code),className:"bg-white p-4 rounded-lg border border-gray-200 shadow-xs hover:shadow-sm transition-shadow cursor-pointer",children:[(0,k.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,k.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:t.id||"Question ".concat(r+1)}),(0,k.jsxs)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(t.marks>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[t.marks||0," points"]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat(t.correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.correct?"\u2713 Correct":"\u2717 Wrong"}),t.code&&(0,k.jsxs)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-800 rounded-full text-xs flex items-center gap-1",children:[(0,k.jsx)(zm,{size:12}),"Code"]})]})]},r))})]})})]},r)):(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"6",className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No results found for this exam"})})})]})})]})}),v&&(0,k.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,k.jsxs)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[(0,k.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Question Details"}),(0,k.jsx)("button",{onClick:Z,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:(0,k.jsx)(Wm,{size:24})})]}),b?(0,k.jsx)("div",{className:"p-8 flex items-center justify-center",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,k.jsxs)("div",{className:"p-6",children:[(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,k.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(null!==h&&void 0!==h&&h.isCorrect?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:null!==h&&void 0!==h&&h.isCorrect?"\u2713 Correct Answer":"\u2717 Incorrect Answer"}),(0,k.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 rounded-full text-sm font-medium",children:(null===p||void 0===p?void 0:p.type)||"MCQ"})]}),(0,k.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:null===p||void 0===p?void 0:p.question}),(null===p||void 0===p?void 0:p.description)&&(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:p.description})]}),m&&(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,k.jsx)(zm,{size:18,className:"text-purple-600"}),(0,k.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Student's Code Submission"})]}),(0,k.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:(0,k.jsx)("pre",{className:"text-sm text-gray-100",children:(0,k.jsx)("code",{children:m.code})})})]}),(0,k.jsx)("div",{className:"space-y-4",children:(null===p||void 0===p?void 0:p.options)&&Object.keys(p.options).length>0&&(0,k.jsxs)("div",{children:[(0,k.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Options:"}),(0,k.jsx)("div",{className:"space-y-2",children:Object.entries(p.options).map(e=>{let[t,n]=e;const r=parseInt(t),s=isNaN(r)?t:(r+1).toString();return(0,k.jsxs)("div",{className:"p-3 rounded-lg border ".concat(t===(null===p||void 0===p?void 0:p.correctAnswer)?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50"),children:[(0,k.jsxs)("span",{className:"font-medium",children:[s,":"]})," ",n,t===(null===p||void 0===p?void 0:p.correctAnswer)&&(0,k.jsx)("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:"(Correct Answer)"})]},t)})})]})}),p.explanation&&(0,k.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[(0,k.jsx)("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Explanation:"}),(0,k.jsx)("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:p.explanation})]}),(0,k.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,k.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,k.jsx)("span",{className:"font-medium",children:"Status:"})," ",null!==h&&void 0!==h&&h.isCorrect?(0,k.jsx)("span",{className:"text-green-600 dark:text-green-400 ml-1",children:"Answered Correctly"}):(0,k.jsx)("span",{className:"text-red-600 dark:text-red-400 ml-1",children:"Incorrect Answer"})]}),(0,k.jsx)("button",{onClick:Z,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})]})]})}),O&&(0,k.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[(0,k.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3",children:"Generating Detailed Report"}),(0,k.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:(0,k.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(R,"%")}})}),(0,k.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:H})]})})]})}const Jm=(0,t.createContext)({});function Xm(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const Ym="undefined"!==typeof window,Zm=Ym?t.useLayoutEffect:t.useEffect,$m=(0,t.createContext)(null);function ey(e){return"object"===typeof e&&null!==e}function ty(e){return ey(e)&&"offsetHeight"in e}const ny=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ry extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=ty(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sy(e){let{children:n,isPresent:r,anchorX:s,root:i}=e;const o=(0,t.useId)(),a=(0,t.useRef)(null),l=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:A}=(0,t.useContext)(ny);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:c,right:u}=l.current;if(r||!a.current||!e||!t)return;const d="left"===s?"left: ".concat(c):"right: ".concat(u);a.current.dataset.motionPopId=o;const h=document.createElement("style");A&&(h.nonce=A);const f=null!==i&&void 0!==i?i:document.head;return f.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(d,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{f.removeChild(h),f.contains(h)&&f.removeChild(h)}},[r]),(0,k.jsx)(ry,{isPresent:r,childRef:a,sizeRef:l,children:t.cloneElement(n,{ref:a})})}const iy=e=>{let{children:n,initial:r,isPresent:s,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:l,anchorX:A,root:c}=e;const u=Xm(oy),h=(0,t.useId)();let f=!0,p=(0,t.useMemo)(()=>(f=!1,{id:h,initial:r,isPresent:s,custom:o,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;i&&i()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[s,u,i]);return a&&f&&(p=(0,d.A)({},p)),(0,t.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[s]),t.useEffect(()=>{!s&&!u.size&&i&&i()},[s]),"popLayout"===l&&(n=(0,k.jsx)(sy,{isPresent:s,anchorX:A,root:c,children:n})),(0,k.jsx)($m.Provider,{value:p,children:n})};function oy(){return new Map}function ay(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)($m);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:s,register:i}=n,o=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return i(o)},[e]);const a=(0,t.useCallback)(()=>e&&s&&s(o),[o,s,e]);return!r&&s?[!1,a]:[!0]}const ly=e=>e.key||"";function Ay(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}const cy=e=>{let{children:n,custom:r,initial:s=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1,anchorX:A="left",root:c}=e;const[u,d]=ay(l),h=(0,t.useMemo)(()=>Ay(n),[n]),f=l&&!u?[]:h.map(ly),p=(0,t.useRef)(!0),g=(0,t.useRef)(h),m=Xm(()=>new Map),[y,v]=(0,t.useState)(h),[w,b]=(0,t.useState)(h);Zm(()=>{p.current=!1,g.current=h;for(let e=0;e<w.length;e++){const t=ly(w[e]);f.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[w,f.length,f.join("-")]);const x=[];if(h!==y){let e=[...h];for(let t=0;t<w.length;t++){const n=w[t],r=ly(n);f.includes(r)||(e.splice(t,0,n),x.push(n))}return"wait"===a&&x.length&&(e=x),b(Ay(e)),v(h),null}const{forceRender:C}=(0,t.useContext)(Jm);return(0,k.jsx)(k.Fragment,{children:w.map(e=>{const t=ly(e),n=!(l&&!u)&&(h===w||f.includes(t));return(0,k.jsx)(iy,{isPresent:n,initial:!(p.current&&!s)&&void 0,custom:r,presenceAffectsLayout:o,mode:a,root:c,onExitComplete:n?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(null===C||void 0===C||C(),b(g.current),l&&(null===d||void 0===d||d()),i&&i())},anchorX:A,children:e},t)})})};function uy(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy(function(){return e(...arguments)},{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function dy(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function hy(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function fy(e,t,n,r){if("function"===typeof t){const[s,i]=hy(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,i]=hy(r);t=t(void 0!==n?n:e.custom,s,i)}return t}function py(e,t,n){const r=e.getProps();return fy(r,t,void 0!==n?n:r.custom,e)}function gy(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const my=e=>e,yy={},vy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],wy={value:null,addProjectionMetrics:null};function by(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=vy.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function A(t){o.has(t)&&(c.schedule(t),e()),l++,t(a)}const c={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{a=e,s?i=!0:(s=!0,[n,r]=[r,n],n.forEach(A),t&&wy.value&&wy.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,c.process(e)))}};return c}(i,t?n:void 0),e),{}),{setup:a,read:l,resolveKeyframes:A,preUpdate:c,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const i=yy.useManualTiming?s.timestamp:performance.now();n=!1,yy.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1)),s.timestamp=i,s.isProcessing=!0,a.process(s),l.process(s),A.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},g=vy.reduce((t,i)=>{const a=o[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(p)),a.schedule(t,i,o)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<vy.length;t++)o[vy[t]].cancel(e)},state:s,steps:o}}const{schedule:xy,cancel:Cy,state:By,steps:ky}=by("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:my,!0),Ny=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ey=(()=>new Set(Ny))(),_y=new Set(["width","height","top","left","right","bottom",...Ny]);function Sy(e,t){-1===e.indexOf(t)&&e.push(t)}function Fy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Iy{constructor(){this.subscriptions=[]}add(e){return Sy(this.subscriptions,e),()=>Fy(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ty(e,t){return t?e*(1e3/t):0}let jy;function Ly(){jy=void 0}const Uy={now:()=>(void 0===jy&&Uy.set(By.isProcessing||yy.useManualTiming?By.timestamp:performance.now()),jy),set:e=>{jy=e,queueMicrotask(Ly)}},Qy={current:void 0};class Py{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Uy.now();var s,i;if((t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev)&&(null===(s=t.events.change)||void 0===s||s.notify(t.current),t.dependents))for(const o of t.dependents)o.dirty();n&&(null===(i=t.events.renderRequest)||void 0===i||i.notify(t.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Uy.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Iy);const n=this.events[e].add(t);return"change"===e?()=>{n(),xy.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Qy.current&&Qy.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Uy.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Ty(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oy(e,t){return new Py(e,t)}const Dy=e=>Array.isArray(e),Ry=["transitionEnd","transition"];function My(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Oy(n))}function Hy(e){return Dy(e)?e[e.length-1]||0:e}const Vy=e=>Boolean(e&&e.getVelocity);function Ky(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Vy(r)&&r.add))return n.add(t);if(!n&&yy.WillChange){const n=new yy.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const qy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),zy="data-"+qy("framerAppearId");function Wy(e){return e.props[zy]}const Gy=(e,t)=>n=>t(e(n)),Jy=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Gy)},Xy=(e,t,n)=>n>t?t:n<e?e:n,Yy=e=>1e3*e,Zy=e=>e/1e3,$y={layout:0,mainThread:0,waapi:0};const ev=e=>t=>"string"===typeof t&&t.startsWith(e),tv=ev("--"),nv=ev("var(--"),rv=e=>!!nv(e)&&sv.test(e.split("/*")[0].trim()),sv=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,iv={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ov=(0,d.A)((0,d.A)({},iv),{},{transform:e=>Xy(0,1,e)}),av=(0,d.A)((0,d.A)({},iv),{},{default:1}),lv=e=>Math.round(1e5*e)/1e5,Av=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const cv=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,uv=(e,t)=>n=>Boolean("string"===typeof n&&cv.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),dv=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[s,i,o,a]=r.match(Av);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},hv=(0,d.A)((0,d.A)({},iv),{},{transform:e=>Math.round((e=>Xy(0,255,e))(e))}),fv={test:uv("rgb","red"),parse:dv("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+hv.transform(t)+", "+hv.transform(n)+", "+hv.transform(r)+", "+lv(ov.transform(s))+")"}};const pv={test:uv("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:fv.transform},gv=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),mv=gv("deg"),yv=gv("%"),vv=gv("px"),wv=gv("vh"),bv=gv("vw"),xv=(()=>(0,d.A)((0,d.A)({},yv),{},{parse:e=>yv.parse(e)/100,transform:e=>yv.transform(100*e)}))(),Cv={test:uv("hsl","hue"),parse:dv("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+yv.transform(lv(n))+", "+yv.transform(lv(r))+", "+lv(ov.transform(s))+")"}},Bv={test:e=>fv.test(e)||pv.test(e)||Cv.test(e),parse:e=>fv.test(e)?fv.parse(e):Cv.test(e)?Cv.parse(e):pv.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?fv.transform(e):Cv.transform(e),getAnimatableNone:e=>{const t=Bv.parse(e);return t.alpha=0,Bv.transform(t)}},kv=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Nv="number",Ev="color",_v=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function Sv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(_v,e=>(Bv.test(e)?(r.color.push(i),s.push(Ev),n.push(Bv.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(Nv),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:o,indexes:r,types:s}}function Fv(e){return Sv(e).values}function Iv(e){const{split:t,types:n}=Sv(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===Nv?lv(e[i]):t===Ev?Bv.transform(e[i]):e[i]}return s}}const Tv=e=>"number"===typeof e?0:Bv.test(e)?Bv.getAnimatableNone(e):e;const jv={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Av))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(kv))||void 0===n?void 0:n.length)||0)>0},parse:Fv,createTransformer:Iv,getAnimatableNone:function(e){const t=Fv(e);return Iv(e)(t.map(Tv))}};function Lv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Uv(e,t){return n=>n>0?t:e}const Qv=(e,t,n)=>e+(t-e)*n,Pv=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Ov=[pv,fv,Cv];function Dv(e){const t=(e=>Ov.find(t=>t.test(e)))(e);if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let n=t.parse(e);return t===Cv&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=Lv(s,e,t+1/3),o=Lv(s,e,t),a=Lv(s,e,t-1/3)}else i=o=a=r;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:s}}(n)),n}const Rv=(e,t)=>{const n=Dv(e),r=Dv(t);if(!n||!r)return Uv(e,t);const s=(0,d.A)({},n);return e=>(s.red=Pv(n.red,r.red,e),s.green=Pv(n.green,r.green,e),s.blue=Pv(n.blue,r.blue,e),s.alpha=Qv(n.alpha,r.alpha,e),fv.transform(s))},Mv=new Set(["none","hidden"]);function Hv(e,t){return n=>Qv(e,t,n)}function Vv(e){return"number"===typeof e?Hv:"string"===typeof e?rv(e)?Uv:Bv.test(e)?Rv:zv:Array.isArray(e)?Kv:"object"===typeof e?Bv.test(e)?Rv:qv:Uv}function Kv(e,t){const n=[...e],r=n.length,s=e.map((e,n)=>Vv(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function qv(e,t){const n=(0,d.A)((0,d.A)({},e),t),r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Vv(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const zv=(e,t)=>{const n=jv.createTransformer(t),r=Sv(e),s=Sv(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Mv.has(e)&&!s.values.length||Mv.has(t)&&!r.values.length?function(e,t){return Mv.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Jy(Kv(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var s;const o=t.types[i],a=e.indexes[o][r[o]],l=null!==(s=e.values[a])&&void 0!==s?s:0;n[i]=l,r[o]++}return n}(r,s),s.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),Uv(e,t))};function Wv(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Qv(e,t,n);return Vv(e)(e,t)}const Gv=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return xy.update(t,e)},stop:()=>Cy(t),now:()=>By.isProcessing?By.timestamp:Uy.now()}},Jv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(1e4*e(i/(s-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Xv=2e4;function Yv(e){let t=0;let n=e.next(t);for(;!n.done&&t<Xv;)t+=50,n=e.next(t);return t>=Xv?1/0:t}function Zv(e,t,n){const r=Math.max(t-5,0);return Ty(n-e(r),t-r)}const $v={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ew=.001;function tw(e){let t,n,{duration:r=$v.duration,bounce:s=$v.bounce,velocity:i=$v.velocity,mass:o=$v.mass}=e;Yy($v.maxDuration);let a=1-s;a=Xy($v.minDamping,$v.maxDamping,a),r=Xy($v.minDuration,$v.maxDuration,Zy(r)),a<1?(t=e=>{const t=e*a,n=t*r,s=t-i,o=rw(e,a),l=Math.exp(-n);return ew-s/o*l},n=e=>{const n=e*a*r,s=n*i+i,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),A=rw(Math.pow(e,2),a);return(-t(e)+ew>0?-1:1)*((s-o)*l)/A}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<nw;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Yy(r),isNaN(l))return{stiffness:$v.stiffness,damping:$v.damping,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const nw=12;function rw(e,t){return e*Math.sqrt(1-t*t)}const sw=["duration","bounce"],iw=["stiffness","damping","mass"];function ow(e,t){return t.some(t=>void 0!==e[t])}function aw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$v.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$v.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:A,mass:c,duration:u,velocity:h,isResolvedFromDuration:f}=function(e){let t=(0,d.A)({velocity:$v.velocity,stiffness:$v.stiffness,damping:$v.damping,mass:$v.mass,isResolvedFromDuration:!1},e);if(!ow(e,iw)&&ow(e,sw))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*Xy(.05,1,1-(e.bounce||0))*Math.sqrt(s);t=(0,d.A)((0,d.A)({},t),{},{mass:$v.mass,stiffness:s,damping:i})}else{const n=tw(e);t=(0,d.A)((0,d.A)((0,d.A)({},t),n),{},{mass:$v.mass}),t.isResolvedFromDuration=!0}return t}((0,d.A)((0,d.A)({},n),{},{velocity:-Zy(n.velocity||0)})),p=h||0,g=A/(2*Math.sqrt(l*c)),m=o-i,y=Zy(Math.sqrt(l/c)),v=Math.abs(m)<5;let w;if(r||(r=v?$v.restSpeed.granular:$v.restSpeed.default),s||(s=v?$v.restDelta.granular:$v.restDelta.default),g<1){const e=rw(y,g);w=t=>{const n=Math.exp(-g*y*t);return o-n*((p+g*y*m)/e*Math.sin(e*t)+m*Math.cos(e*t))}}else if(1===g)w=e=>o-Math.exp(-y*e)*(m+(p+y*m)*e);else{const e=y*Math.sqrt(g*g-1);w=t=>{const n=Math.exp(-g*y*t),r=Math.min(e*t,300);return o-n*((p+g*y*m)*Math.sinh(r)+e*m*Math.cosh(r))/e}}const b={calculatedDuration:f&&u||null,next:e=>{const t=w(e);if(f)a.done=e>=u;else{let n=0===e?p:0;g<1&&(n=0===e?Yy(p):Zv(w,e,t));const i=Math.abs(n)<=r,l=Math.abs(o-t)<=s;a.done=i&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(Yv(b),Xv),t=Jv(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function lw(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:A,restDelta:c=.5,restSpeed:u}=e;const d=t[0],h={done:!1,value:d},f=e=>void 0===l?A:void 0===A||Math.abs(l-e)<Math.abs(A-e)?l:A;let p=r*n;const g=d+p,m=void 0===a?g:a(g);m!==g&&(p=m-d);const y=e=>-p*Math.exp(-e/s),v=e=>m+y(e),w=e=>{const t=y(e),n=v(e);h.done=Math.abs(t)<=c,h.value=h.done?m:n};let b,x;const C=e=>{(e=>void 0!==l&&e<l||void 0!==A&&e>A)(h.value)&&(b=e,x=aw({keyframes:[h.value,f(h.value)],velocity:Zv(v,e,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==b||(t=!0,w(e),C(e)),void 0!==b&&e>=b?x.next(e-b):(!t&&w(e),h)}}}aw.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)((0,d.A)((0,d.A)({},e),{},{keyframes:[0,t]})),r=Math.min(Yv(n),Xv);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:Zy(r)}}(e,100,aw);return e.ease=t.ease,e.duration=Yy(t.duration),e.type="keyframes",e};const Aw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function cw(e,t,n,r){if(e===t&&n===r)return my;const s=t=>function(e,t,n,r,s){let i,o,a=0;do{o=t+(n-t)/2,i=Aw(o,r,s)-e,i>0?n=o:t=o}while(Math.abs(i)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:Aw(s(e),t,r)}const uw=cw(.42,0,1,1),dw=cw(0,0,.58,1),hw=cw(.42,0,.58,1),fw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pw=e=>t=>1-e(1-t),gw=cw(.33,1.53,.69,.99),mw=pw(gw),yw=fw(mw),vw=e=>(e*=2)<1?.5*mw(e):.5*(2-Math.pow(2,-10*(e-1))),ww=e=>1-Math.sin(Math.acos(e)),bw=pw(ww),xw=fw(ww),Cw=e=>Array.isArray(e)&&"number"===typeof e[0],Bw={linear:my,easeIn:uw,easeInOut:hw,easeOut:dw,circIn:ww,circInOut:xw,circOut:bw,backIn:mw,backInOut:yw,backOut:gw,anticipate:vw},kw=e=>{if(Cw(e)){e.length;const[t,n,r,s]=e;return cw(t,n,r,s)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),Bw[e]):e},Nw=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function Ew(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],s=n||yy.mix||Wv,i=e.length-1;for(let o=0;o<i;o++){let n=s(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||my:t;n=Jy(e,n)}r.push(n)}return r}(t,r,s),l=a.length,A=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=Nw(e[r],e[r+1],n);return a[r](s)};return n?t=>A(Xy(e[0],e[i-1],t)):A}function _w(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Nw(0,t,r);e.push(Qv(n,1,s))}}(t,e.length-1),t}function Sw(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(kw):kw(s),o={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:_w(n),t),l=Ew(a,n,{ease:Array.isArray(i)?i:(A=n,c=i,A.map(()=>c||hw).splice(0,A.length-1))});var A,c;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const Fw=e=>null!==e;function Iw(e,t,n){let{repeat:r,repeatType:s="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.filter(Fw),a=i<0||r&&"loop"!==s&&r%2===1?0:o.length-1;return a&&void 0!==n?n:o[a]}const Tw={decay:lw,inertia:lw,tween:Sw,keyframes:Sw,spring:aw};function jw(e){"string"===typeof e.type&&(e.type=Tw[e.type])}class Lw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Uw=e=>e/100;class Qw extends Lw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Uy.now()&&this.tick(Uy.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},$y.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;jw(e);const{type:t=Sw,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=e;let{keyframes:o}=e;const a=t||Sw;a!==Sw&&"number"!==typeof o[0]&&(this.mixKeyframes=Jy(Uw,Wv(o[0],o[1])),o=[0,100]);const l=a((0,d.A)((0,d.A)({},e),{},{keyframes:o}));"mirror"===s&&(this.mirroredGenerator=a((0,d.A)((0,d.A)({},e),{},{keyframes:[...o].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=Yv(l));const{calculatedDuration:A}=l;this.calculatedDuration=A,this.resolvedDuration=A+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:A,repeat:c,repeatType:u,repeatDelay:d,type:h,onUpdate:f,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,v=n;if(c){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,c+1);Boolean(t%2)&&("reverse"===u?(n=1-n,d&&(n-=d/o)):"mirror"===u&&(v=i)),y=Xy(0,1,n)*o}const w=m?{done:!1,value:A[0]}:v.next(y);s&&(w.value=s(w.value));let{done:b}=w;m||null===a||(b=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&b);return x&&h!==lw&&(w.value=Iw(A,this.options,p,this.speed)),f&&f(w.value),x&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return Zy(this.calculatedDuration)}get time(){return Zy(this.currentTime)}set time(e){var t;e=Yy(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Uy.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Zy(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Gv,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Uy.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,$y.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const Pw=e=>180*e/Math.PI,Ow=e=>{const t=Pw(Math.atan2(e[1],e[0]));return Rw(t)},Dw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ow,rotateZ:Ow,skewX:e=>Pw(Math.atan(e[1])),skewY:e=>Pw(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Rw=e=>((e%=360)<0&&(e+=360),e),Mw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Hw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Vw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mw,scaleY:Hw,scale:e=>(Mw(e)+Hw(e))/2,rotateX:e=>Rw(Pw(Math.atan2(e[6],e[5]))),rotateY:e=>Rw(Pw(Math.atan2(-e[2],e[0]))),rotateZ:Ow,rotate:Ow,skewX:e=>Pw(Math.atan(e[4])),skewY:e=>Pw(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Kw(e){return e.includes("scale")?1:0}function qw(e,t){if(!e||"none"===e)return Kw(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,s;if(n)r=Vw,s=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Dw,s=t}if(!s)return Kw(t);const i=r[t],o=s[1].split(",").map(zw);return"function"===typeof i?i(o):o[i]}function zw(e){return parseFloat(e.trim())}const Ww=e=>e===iv||e===vv,Gw=new Set(["x","y","z"]),Jw=Ny.filter(e=>!Gw.has(e));const Xw={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return qw(n,"x")},y:(e,t)=>{let{transform:n}=t;return qw(n,"y")}};Xw.translateX=Xw.x,Xw.translateY=Xw.y;const Yw=new Set;let Zw=!1,$w=!1,eb=!1;function tb(){if($w){const e=Array.from(Yw).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Jw.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,s]=t;null===(n=e.getValue(r))||void 0===n||n.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}$w=!1,Zw=!1,Yw.forEach(e=>e.complete(eb)),Yw.clear()}function nb(){Yw.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($w=!0)})}class rb{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Yw.add(this),Zw||(Zw=!0,xy.read(nb),xy.resolveKeyframes(tb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const s=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Yw.delete(this)}cancel(){"scheduled"===this.state&&(Yw.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function sb(e){let t;return()=>(void 0===t&&(t=e()),t)}const ib=sb(()=>void 0!==window.ScrollTimeline),ob={};function ab(e,t){const n=sb(e);return()=>{var e;return null!==(e=ob[t])&&void 0!==e?e:n()}}const lb=ab(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(TE){return!1}return!0},"linearEasing"),Ab=e=>{let[t,n,r,s]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(s,")")},cb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ab([0,.65,.55,1]),circOut:Ab([.55,0,1,.45]),backIn:Ab([.31,.01,.66,-.59]),backOut:Ab([.33,1.53,.69,.99])};function ub(e,t){return e?"function"===typeof e?lb()?Jv(e,t):"ease-out":Cw(e)?Ab(e):Array.isArray(e)?e.map(e=>ub(e,t)||cb.easeOut):cb[e]:void 0}function db(e,t,n){let{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const c={[t]:n};l&&(c.offset=l);const u=ub(a,s);Array.isArray(u)&&(c.easing=u),wy.value&&$y.waapi++;const d={delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===o?"alternate":"normal"};A&&(d.pseudoElement=A);const h=e.animate(c,d);return wy.value&&h.finished.finally(()=>{$y.waapi--}),h}function hb(e){return"function"===typeof e&&"applyToOptions"in e}const fb=["type"];class pb extends Lw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:o,onComplete:a}=e;this.isPseudoElement=Boolean(s),this.allowFlatten=i,this.options=e,e.type;const l=function(e){let{type:t}=e,n=(0,h.A)(e,fb);return hb(t)&&lb()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(s=n.ease)&&void 0!==s||(n.ease="easeOut"),n);var r,s}(e);this.animation=db(t,n,r,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const e=Iw(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===a||void 0===a||a(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(TE){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return Zy(Number(n))}get time(){return Zy(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Yy(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&ib()?(this.animation.timeline=t,my):n(this)}}const gb={anticipate:vw,backInOut:yw,circInOut:xw};function mb(e){"string"===typeof e.ease&&e.ease in gb&&(e.ease=gb[e.ease])}const yb=["motionValue","onUpdate","onComplete","element"];class vb extends pb{constructor(e){mb(e),jw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:s,onComplete:i,element:o}=n,a=(0,h.A)(n,yb);if(!r)return;if(void 0!==e)return void r.set(e);const l=new Qw((0,d.A)((0,d.A)({},a),{},{autoplay:!1})),A=Yy(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(l.sample(A-10).value,l.sample(A).value,10),l.stop()}}const wb=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!jv.test(e)&&"0"!==e||e.startsWith("url(")));const bb=new Set(["opacity","clipPath","filter","transform"]),xb=sb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Cb=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Bb extends Lw{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:A,motionValue:c,element:u}=e,f=(0,h.A)(e,Cb);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Uy.now();const p=(0,d.A)({autoplay:n,delay:r,type:s,repeat:i,repeatDelay:o,repeatType:a,name:A,motionValue:c,element:u},f),g=(null===u||void 0===u?void 0:u.KeyframeResolver)||rb;this.keyframeResolver=new g(l,(e,t,n)=>this.onKeyframesResolved(e,t,p,!n),A,c,u),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:i,velocity:o,delay:a,isHandoff:l,onUpdate:A}=n;this.resolvedAt=Uy.now(),function(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],o=wb(s,t),a=wb(i,t);return"You are trying to animate ".concat(t,' from "').concat(s,'" to "').concat(i,'". "').concat(o?i:s,'" is not an animatable value.'),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||hb(n))&&r)}(e,s,i,o)||(!yy.instantAnimations&&a||null===A||void 0===A||A(Iw(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const c=r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,u=(0,d.A)((0,d.A)({startTime:c,finalKeyframe:t},n),{},{keyframes:e}),h=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!ty(null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current))return!1;const{onUpdate:l,transformTemplate:A}=n.owner.getProps();return xb()&&r&&bb.has(r)&&("transform"!==r||!A)&&!l&&!s&&"mirror"!==i&&0!==o&&"inertia"!==a}(u)?new vb((0,d.A)((0,d.A)({},u),{},{element:u.motionValue.owner.current})):new Qw(u);h.finished.then(()=>this.notifyFinished()).catch(my),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),eb=!0,nb(),tb(),eb=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const kb=e=>null!==e;const Nb={type:"spring",stiffness:500,damping:25,restSpeed:10},Eb={type:"keyframes",duration:.8},_b={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sb=(e,t)=>{let{keyframes:n}=t;return n.length>2?Eb:Ey.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Nb:_b},Fb=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Ib=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return o=>{const a=gy(r,e)||{},l=a.delay||r.delay||0;let{elapsed:A=0}=r;A-=Yy(l);const c=(0,d.A)((0,d.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{},{delay:-A,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:A,elapsed:c}=e,u=(0,h.A)(e,Fb);return!!Object.keys(u).length})(a)||Object.assign(c,Sb(e,c)),c.duration&&(c.duration=Yy(c.duration)),c.repeatDelay&&(c.repeatDelay=Yy(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let u=!1;if((!1===c.type||0===c.duration&&!c.repeatDelay)&&(c.duration=0,0===c.delay&&(u=!0)),(yy.instantAnimations||yy.skipAnimations)&&(u=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,u&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:s="loop"}=t;const i=e.filter(kb),o=r&&"loop"!==s&&r%2===1?0:i.length-1;return o&&void 0!==n?n:i[o]}(c.keyframes,a);if(void 0!==e)return void xy.update(()=>{c.onUpdate(e),c.onComplete()})}return a.isSync?new Qw(c):new Bb(c)}},Tb=["transition","transitionEnd"];function jb(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function Lb(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:o}=t,a=(0,h.A)(t,Tb);r&&(i=r);const l=[],A=s&&e.animationState&&e.animationState.getState()[s];for(const u in a){var c;const t=e.getValue(u,null!==(c=e.latestValues[u])&&void 0!==c?c:null),r=a[u];if(void 0===r||A&&jb(A,u))continue;const s=(0,d.A)({delay:n},gy(i||{},u)),o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!s.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=Wy(e);if(t){const e=window.MotionHandoffAnimation(t,u,xy);null!==e&&(s.startTime=e,h=!0)}}Ky(e,u),t.start(Ib(u,t,r,e.shouldReduceMotion&&_y.has(u)?{type:!1}:s,e,h));const f=t.animation;f&&l.push(f)}return o&&Promise.all(l).then(()=>{xy.update(()=>{o&&function(e,t){let n=py(e,t)||{},{transitionEnd:r={},transition:s={}}=n,i=(0,h.A)(n,Ry);i=(0,d.A)((0,d.A)({},i),r);for(const o in i)My(e,o,Hy(i[o]))}(e,o)})}),l}function Ub(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=py(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(Lb(e,s,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const a=[],l=e.variantChildren.size,A=(l-1)*s,c="function"===typeof r,u=c?e=>r(e,l):1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*s}:function(){return A-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*s};return Array.from(e.variantChildren).sort(Qb).forEach((e,s)=>{e.notify("AnimationStart",t),a.push(Ub(e,t,(0,d.A)((0,d.A)({},o),{},{delay:n+(c?0:r)+u(s)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,n,s,o,a,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then(()=>t())}return Promise.all([o(),a(r.delay)])}function Qb(e,t){return e.sortNodePosition(t)}function Pb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ob(e){return"string"===typeof e||Array.isArray(e)}const Db=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rb=["initial",...Db],Mb=Rb.length;function Hb(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Hb(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Mb;n++){const r=Rb[n],s=e.props[r];(Ob(s)||!1===s)&&(t[r]=s)}return t}const Vb=["transition","transitionEnd"],Kb=[...Db].reverse(),qb=Db.length;function zb(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>Ub(e,t,r));n=Promise.all(s)}else if("string"===typeof t)n=Ub(e,t,r);else{const s="function"===typeof t?py(e,t,r.custom):t;n=Promise.all(Lb(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function Wb(e){let t=zb(e),n=Xb(),r=!0;const s=t=>(n,r)=>{var s;const i=py(e,r,"exit"===t?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);if(i){const{transition:e,transitionEnd:t}=i,r=(0,h.A)(i,Vb);n=(0,d.A)((0,d.A)((0,d.A)({},n),r),t)}return n};function i(i){const{props:o}=e,a=Hb(e.parent)||{},l=[],A=new Set;let c={},u=1/0;for(let t=0;t<qb;t++){const h=Kb[t],f=n[h],p=void 0!==o[h]?o[h]:a[h],g=Ob(p),m=h===i?f.isActive:null;!1===m&&(u=t);let y=p===a[h]&&p!==o[h]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys=(0,d.A)({},c),!f.isActive&&null===m||!p&&!f.prevProp||dy(p)||"boolean"===typeof p)continue;const v=Gb(f.prevProp,p);let w=v||h===i&&f.isActive&&!y&&g||t>u&&g,b=!1;const x=Array.isArray(p)?p:[p];let C=x.reduce(s(h),{});!1===m&&(C={});const{prevResolvedValues:B={}}=f,k=(0,d.A)((0,d.A)({},B),C),N=t=>{w=!0,A.has(t)&&(b=!0,A.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=C[e],n=B[e];if(c.hasOwnProperty(e))continue;let r=!1;r=Dy(t)&&Dy(n)?!Pb(t,n):t!==n,r?void 0!==t&&null!==t?N(e):A.add(e):void 0!==t&&A.has(e)?N(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=C,f.isActive&&(c=(0,d.A)((0,d.A)({},c),C)),r&&e.blockInitialAnimation&&(w=!1);w&&(!(y&&v)||b)&&l.push(...x.map(e=>({animation:e,options:{type:h}})))}if(A.size){const t={};if("boolean"!==typeof o.initial){const n=py(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}A.forEach(n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=i(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Xb(),r=!0}}}function Gb(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Pb(t,e)}function Jb(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xb(){return{animate:Jb(!0),whileInView:Jb(),whileHover:Jb(),whileTap:Jb(),whileDrag:Jb(),whileFocus:Jb(),exit:Jb()}}class Yb{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Zb=0;const $b={animation:{Feature:class extends Yb{constructor(e){super(e),e.animationState||(e.animationState=Wb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Yb{constructor(){super(...arguments),this.id=Zb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},ex={x:!1,y:!1};function tx(){return ex.x||ex.y}function nx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const rx=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function sx(e){return{point:{x:e.pageX,y:e.pageY}}}function ix(e,t,n,r){return nx(e,t,(e=>t=>rx(t)&&e(t,sx(t)))(n),r)}function ox(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function ax(e){return e.max-e.min}function lx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Qv(t.min,t.max,e.origin),e.scale=ax(n)/ax(t),e.translate=Qv(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Ax(e,t,n,r){lx(e.x,t.x,n.x,r?r.originX:void 0),lx(e.y,t.y,n.y,r?r.originY:void 0)}function cx(e,t,n){e.min=n.min+t.min,e.max=e.min+ax(t)}function ux(e,t,n){e.min=t.min-n.min,e.max=e.min+ax(t)}function dx(e,t,n){ux(e.x,t.x,n.x),ux(e.y,t.y,n.y)}const hx=()=>({x:{min:0,max:0},y:{min:0,max:0}});function fx(e){return[e("x"),e("y")]}function px(e){return void 0===e||1===e}function gx(e){let{scale:t,scaleX:n,scaleY:r}=e;return!px(t)||!px(n)||!px(r)}function mx(e){return gx(e)||yx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function yx(e){return vx(e.x)||vx(e.y)}function vx(e){return e&&"0%"!==e}function wx(e,t,n){return n+t*(e-n)}function bx(e,t,n,r,s){return void 0!==s&&(e=wx(e,s,r)),wx(e,n,r)+t}function xx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=bx(e.min,t,n,r,s),e.max=bx(e.max,t,n,r,s)}function Cx(e,t){let{x:n,y:r}=t;xx(e.x,n.translate,n.scale,n.originPoint),xx(e.y,r.translate,r.scale,r.originPoint)}const Bx=.999999999999,kx=1.0000000000001;function Nx(e,t){e.min=e.min+t,e.max=e.max+t}function Ex(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;xx(e,t,n,Qv(e.min,e.max,s),r)}function _x(e,t){Ex(e.x,t.x,t.scaleX,t.scale,t.originX),Ex(e.y,t.y,t.scaleY,t.scale,t.originY)}function Sx(e,t){return ox(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Fx=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function Ix(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const Tx=(e,t)=>Math.abs(e-t);class jx{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Qx(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Tx(e.x,t.x),r=Tx(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=By;this.history.push((0,d.A)((0,d.A)({},r),{},{timestamp:s}));const{onStart:i,onMove:o}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Lx(t,this.transformPagePoint),xy.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Qx("pointercancel"===e.type?this.lastMoveEventInfo:Lx(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!rx(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const o=Lx(sx(e),this.transformPagePoint),{point:a}=o,{timestamp:l}=By;this.history=[(0,d.A)((0,d.A)({},a),{},{timestamp:l})];const{onSessionStart:A}=t;A&&A(e,Qx(o,this.history)),this.removeListeners=Jy(ix(this.contextWindow,"pointermove",this.handlePointerMove),ix(this.contextWindow,"pointerup",this.handlePointerUp),ix(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cy(this.updatePoint)}}function Lx(e,t){return t?{point:t(e.point)}:e}function Ux(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qx(e,t){let{point:n}=e;return{point:n,delta:Ux(n,Ox(t)),offset:Ux(n,Px(t)),velocity:Dx(t,.1)}}function Px(e){return e[0]}function Ox(e){return e[e.length-1]}function Dx(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Ox(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Yy(t)));)n--;if(!r)return{x:0,y:0};const i=Zy(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rx(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Mx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Hx=.35;function Vx(e,t,n){return{min:Kx(e,t),max:Kx(e,n)}}function Kx(e,t){return"number"===typeof e?e:e[t]||0}const qx=new WeakMap;class zx{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new jx(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(sx(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?ex[i]?null:(ex[i]=!0,()=>{ex[i]=!1}):ex.x||ex.y?null:(ex.x=ex.y=!0,()=>{ex.x=ex.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fx(e=>{let t=this.getAxisMotionValue(e).get()||0;if(yv.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=ax(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&xy.postRender(()=>s(e,t)),Ky(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>fx(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:n,contextWindow:Fx(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&xy.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Wx(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?Qv(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?Qv(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&Ix(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:Rx(e.x,r,i),y:Rx(e.y,n,s)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hx;return!1===e?e=0:!0===e&&(e=Hx),{x:Vx(e,"left","right"),y:Vx(e,"top","bottom")}}(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fx(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ix(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=Sx(e,n),{scroll:s}=t;return s&&(Nx(r.x,s.offset.x),Nx(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Mx(e.x,t.x),y:Mx(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=ox(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=fx(o=>{if(!Wx(o,t,this.currentDirection))return;let l=a&&a[o]||{};i&&(l={min:0,max:0});const A=r?200:1e6,c=r?40:1e7,u=(0,d.A)((0,d.A)({type:"inertia",velocity:n?e[o]:0,bounceStiffness:A,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10},s),l);return this.startAxisValueAnimation(o,u)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Ky(this.visualElement,e),n.start(Ib(e,n,0,t,this.visualElement,!1))}stopAnimation(){fx(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fx(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){fx(t=>{const{drag:n}=this.getProps();if(!Wx(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-Qv(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Ix(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};fx(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=ax(e),s=ax(t);return s>r?n=Nw(t.min,t.max-r,e.min):r>s&&(n=Nw(e.min,e.max-s,t.min)),Xy(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),fx(t=>{if(!Wx(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(Qv(s,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;qx.set(this.visualElement,this);const e=ix(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Ix(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),xy.read(t);const s=nx(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(fx(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=Hx,dragMomentum:o=!0}=e;return(0,d.A)((0,d.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:o})}}function Wx(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Gx=e=>(t,n)=>{e&&xy.postRender(()=>e(t,n))};const{schedule:Jx,cancel:Xx}=by(queueMicrotask,!1),Yx=(0,t.createContext)({}),Zx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $x(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const eC={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!vv.test(e))return e;e=parseFloat(e)}const n=$x(e,t.target.x),r=$x(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},tC={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=jv.parse(e);if(i.length>5)return s;const o=jv.createTransformer(e),a="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,A=r.y.scale*n.y;i[0+a]/=l,i[1+a]/=A;const c=Qv(l,A,.5);return"number"===typeof i[2+a]&&(i[2+a]/=c),"number"===typeof i[3+a]&&(i[3+a]/=c),o(i)}},nC={};let rC=!1;class sC extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;!function(e){for(const t in e)nC[t]=e[t],tv(t)&&(nC[t].isCSSVariable=!0)}(oC),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),rC&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions((0,d.A)((0,d.A)({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),Zx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:i}=n;return i?(i.isPresent=s,rC=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||xy.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Jx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iC(e){const[n,r]=ay(),s=(0,t.useContext)(Jm);return(0,k.jsx)(sC,(0,d.A)((0,d.A)({},e),{},{layoutGroup:s,switchLayoutGroup:(0,t.useContext)(Yx),isPresent:n,safeToRemove:r}))}const oC={borderRadius:(0,d.A)((0,d.A)({},eC),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:eC,borderTopRightRadius:eC,borderBottomLeftRadius:eC,borderBottomRightRadius:eC,boxShadow:tC};function aC(e){return ey(e)&&"ownerSVGElement"in e}const lC=(e,t)=>e.depth-t.depth;class AC{constructor(){this.children=[],this.isDirty=!1}add(e){Sy(this.children,e),this.isDirty=!0}remove(e){Fy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lC),this.isDirty=!1,this.children.forEach(e)}}function cC(e,t){const n=Uy.now(),r=s=>{let{timestamp:i}=s;const o=i-n;o>=t&&(Cy(r),e(o-t))};return xy.setup(r,!0),()=>Cy(r)}function uC(e){return Vy(e)?e.get():e}const dC=["TopLeft","TopRight","BottomLeft","BottomRight"],hC=dC.length,fC=e=>"string"===typeof e?parseFloat(e):e,pC=e=>"number"===typeof e||vv.test(e);function gC(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const mC=vC(0,.5,bw),yC=vC(.5,.95,my);function vC(e,t,n){return r=>r<e?0:r>t?1:n(Nw(e,t,r))}function wC(e,t){e.min=t.min,e.max=t.max}function bC(e,t){wC(e.x,t.x),wC(e.y,t.y)}function xC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function CC(e,t,n,r,s){return e=wx(e-=t,1/n,r),void 0!==s&&(e=wx(e,1/s,r)),e}function BC(e,t,n,r,s){let[i,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;yv.test(t)&&(t=parseFloat(t),t=Qv(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=Qv(i.min,i.max,r);e===i&&(a-=t),e.min=CC(e.min,t,n,a,s),e.max=CC(e.max,t,n,a,s)}(e,t[i],t[o],t[a],t.scale,r,s)}const kC=["x","scaleX","originX"],NC=["y","scaleY","originY"];function EC(e,t,n,r){BC(e.x,t,kC,n?n.x:void 0,r?r.x:void 0),BC(e.y,t,NC,n?n.y:void 0,r?r.y:void 0)}function _C(e){return 0===e.translate&&1===e.scale}function SC(e){return _C(e.x)&&_C(e.y)}function FC(e,t){return e.min===t.min&&e.max===t.max}function IC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TC(e,t){return IC(e.x,t.x)&&IC(e.y,t.y)}function jC(e){return ax(e.x)/ax(e.y)}function LC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class UC{constructor(){this.members=[]}add(e){Sy(this.members,e),e.scheduleRender()}remove(e){if(Fy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const QC={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},PC=["","X","Y","Z"];let OC=0;function DC(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function RC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Wy(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",xy,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&RC(r)}function MC(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=OC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wy.value&&(QC.nodes=QC.calculatedTargetDeltas=QC.calculatedProjections=0),this.nodes.forEach(KC),this.nodes.forEach(YC),this.nodes.forEach(ZC),this.nodes.forEach(qC),wy.addProjectionMetrics&&wy.addProjectionMetrics(QC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new AC)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Iy),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=aC(e)&&!(aC(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const s=()=>this.root.updateBlockedByResize=!1;xy.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=cC(s,250),Zx.hasAnimatedSinceResize&&(Zx.hasAnimatedSinceResize=!1,this.nodes.forEach(XC)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||i.getDefaultTransition()||sB,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=i.getProps(),A=!this.targetLayout||!TC(this.targetLayout,s),c=!n&&r;if(this.options.layoutRoot||this.resumeFrom||c||n&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=(0,d.A)((0,d.A)({},gy(o,"layout")),{},{onPlay:a,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,c)}else n||XC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cy(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($C),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(WC);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(GC);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JC),this.nodes.forEach(HC),this.nodes.forEach(VC)):this.nodes.forEach(GC),this.clearAllSnapshots();const e=Uy.now();By.delta=Xy(0,1e3/60,e-By.timestamp),By.timestamp=e,By.isProcessing=!0,ky.update.process(By),ky.preRender.process(By),ky.render.process(By),By.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zC),this.sharedNodes.forEach(eB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xy.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xy.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ax(this.snapshot.measuredBox.x)||ax(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!SC(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||mx(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),aB((r=n).x),aB(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(AB))){const{scroll:e}=this.root;e&&(Nx(n.x,e.offset.x),Nx(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(bC(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:s,options:i}=t;t!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&bC(n,e),Nx(n.x,s.offset.x),Nx(n.y,s.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};bC(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&_x(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),mx(e.latestValues)&&_x(n,e.latestValues)}return mx(this.latestValues)&&_x(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};bC(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!mx(e.latestValues))continue;gx(e.latestValues)&&e.updateSnapshot();const r=hx();bC(r,e.measurePageBox()),EC(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return mx(this.latestValues)&&EC(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,d.A)((0,d.A)((0,d.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==By.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:i}=this.options;if(this.layout&&(s||i)){if(this.resolvedRelativeTargetAt=By.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},dx(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),bC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,cx(o.x,a.x,l.x),cx(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):bC(this.target,this.layout.layoutBox),Cx(this.target,this.targetDelta)):bC(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},dx(this.relativeTargetOrigin,this.target,e.target),bC(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wy.value&&QC.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!gx(this.parent.latestValues)&&!yx(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===By.timestamp&&(r=!1),r)return;const{layout:s,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!i)return;bC(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,o;t.x=t.y=1;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_x(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Cx(e,o)),r&&mx(i.latestValues)&&_x(e,i.latestValues))}t.x<kx&&t.x>Bx&&(t.x=1),t.y<kx&&t.y>Bx&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(xC(this.prevProjectionDelta.x,this.projectionDelta.x),xC(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Ax(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&LC(this.projectionDelta.x,this.prevProjectionDelta.x)&&LC(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),wy.value&&QC.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s=(0,d.A)({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),A=!l||l.members.length<=1,c=Boolean(a&&!A&&!0===this.options.crossfade&&!this.path.some(rB));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;tB(i.x,e.x,n),tB(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dx(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){nB(e.x,t.x,n.x,r),nB(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),u&&function(e,t){return FC(e.x,t.x)&&FC(e.y,t.y)}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),bC(u,this.relativeTarget)),a&&(this.animationValues=s,function(e,t,n,r,s,i){var o,a;if(s)e.opacity=Qv(0,null!==(o=n.opacity)&&void 0!==o?o:1,mC(r)),e.opacityExit=Qv(null!==(a=t.opacity)&&void 0!==a?a:1,0,yC(r));else if(i){var l,A;e.opacity=Qv(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(A=n.opacity)&&void 0!==A?A:1,r)}for(let c=0;c<hC;c++){const s="border".concat(dC[c],"Radius");let i=gC(t,s),o=gC(n,s);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||pC(i)===pC(o)?(e[s]=Math.max(Qv(fC(i),fC(o),r),0),(yv.test(o)||yv.test(i))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=Qv(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,c,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Cy(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xy.update(()=>{Zx.hasAnimatedSinceResize=!0,$y.layout++,this.motionValue||(this.motionValue=Oy(0)),this.currentAnimation=function(e,t,n){const r=Vy(e)?e:Oy(e);return r.start(Ib("",r,t,n)),r.animation}(this.motionValue,[0,1e3],(0,d.A)((0,d.A)({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{$y.layout--},onComplete:()=>{$y.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&lB(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=ax(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ax(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}bC(t,n),_x(t,s),Ax(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new UC);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&DC("z",e,r,this.animationValues);for(let s=0;s<PC.length;s++)DC("rotate".concat(PC[s]),e,r,this.animationValues),DC("skew".concat(PC[s]),e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=uC(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=uC(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!mx(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const s=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((s||i||o)&&(r="translate3d(".concat(s,"px, ").concat(i,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:o,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);n&&(i=n(s,i)),e.transform=i;const{x:o,y:a}=this.projectionDelta;var l,A;(e.transformOrigin="".concat(100*o.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(A=s.opacity)&&void 0!==A?A:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in nC){if(void 0===s[c])continue;const{correct:t,applyTo:n,isCSSVariable:o}=nC[c],a="none"===i?s[c]:t(s[c],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else o?this.options.visualElement.renderState.vars[c]=a:e[c]=a}this.options.layoutId&&(e.pointerEvents=r===this?uC(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(WC),this.root.sharedNodes.clear()}}}function HC(e){e.updateLayout()}function VC(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;"size"===s?fx(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],s=ax(r);r.min=t[e].min,r.max=r.min+s}):lB(s,n.layoutBox,t)&&fx(r=>{const s=i?n.measuredBox[r]:n.layoutBox[r],o=ax(t[r]);s.max=s.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Ax(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Ax(a,e.applyTransform(r,!0),n.measuredBox):Ax(a,t,n.layoutBox);const l=!SC(o);let A=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const o={x:{min:0,max:0},y:{min:0,max:0}};dx(o,n.layoutBox,s.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};dx(a,t,i.layoutBox),TC(o,a)||(A=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:A})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function KC(e){wy.value&&QC.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function qC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zC(e){e.clearSnapshot()}function WC(e){e.clearMeasurements()}function GC(e){e.isLayoutDirty=!1}function JC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function XC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function YC(e){e.resolveTargetDelta()}function ZC(e){e.calcProjection()}function $C(e){e.resetSkewAndRotation()}function eB(e){e.removeLeadSnapshot()}function tB(e,t,n){e.translate=Qv(t.translate,0,n),e.scale=Qv(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function nB(e,t,n,r){e.min=Qv(t.min,n.min,r),e.max=Qv(t.max,n.max,r)}function rB(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const sB={duration:.45,ease:[.4,0,.1,1]},iB=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oB=iB("applewebkit/")&&!iB("chrome/")?Math.round:my;function aB(e){e.min=oB(e.min),e.max=oB(e.max)}function lB(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=jC(t),s=jC(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function AB(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const cB=MC({attachResizeListener:(e,t)=>nx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uB={current:void 0},dB=MC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!uB.current){const e=new cB({});e.mount(window),e.setOptions({layoutScroll:!0}),uB.current=e}return uB.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),hB={pan:{Feature:class extends Yb{constructor(){super(...arguments),this.removePointerDownListener=my}onPointerDown(e){this.session=new jx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Gx(e),onStart:Gx(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&xy.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=ix(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Yb{constructor(e){super(e),this.removeGroupControls=my,this.removeListeners=my,this.controls=new zx(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||my}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:dB,MeasureLayout:iC}};function fB(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let s=document;t&&(s=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,(0,d.A)((0,d.A)({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function pB(e){return!("touch"===e.pointerType||tx())}function gB(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&xy.postRender(()=>s(t,sx(t)))}const mB=(e,t)=>!!t&&(e===t||mB(e,t.parentElement)),yB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const vB=new WeakSet;function wB(e){return t=>{"Enter"===t.key&&e(t)}}function bB(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function xB(e){return rx(e)&&!tx()}function CB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=fB(e,n),o=e=>{const r=e.currentTarget;if(!xB(e))return;vB.add(r);const i=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),vB.has(r)&&vB.delete(r),xB(e)&&"function"===typeof i&&i(e,{success:t})},a=e=>{o(e,r===window||r===document||n.useGlobalTarget||mB(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,s),window.addEventListener("pointercancel",l,s)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,s),ty(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=wB(()=>{if(vB.has(n))return;bB(n,"down");const e=wB(()=>{bB(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>bB(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,s)),t=e,yB.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function BB(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&xy.postRender(()=>s(t,sx(t)))}const kB=["root"],NB=new WeakMap,EB=new WeakMap,_B=e=>{const t=NB.get(e.target);t&&t(e)},SB=e=>{e.forEach(_B)};function FB(e,t,n){const r=function(e){let{root:t}=e,n=(0,h.A)(e,kB);const r=t||document;EB.has(r)||EB.set(r,{});const s=EB.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(SB,(0,d.A)({root:t},n))),s[i]}(t);return NB.set(e,n),r.observe(e),()=>{NB.delete(e),r.unobserve(e)}}const IB={some:0,all:1};const TB={inView:{Feature:class extends Yb{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:IB[r]};return FB(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Yb{mount(){const{current:e}=this.node;e&&(this.unmount=CB(e,(e,t)=>(BB(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return BB(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Yb{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(TE){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jy(nx(this.node.current,"focus",()=>this.onFocus()),nx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Yb{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=fB(e,n),o=e=>{if(!pB(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{pB(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,s)};return r.forEach(e=>{e.addEventListener("pointerenter",o,s)}),i}(e,(e,t)=>(gB(this.node,t,"Start"),e=>gB(this.node,e,"End"))))}unmount(){}}}},jB={layout:{ProjectionNode:dB,MeasureLayout:iC}},LB=(0,t.createContext)({strict:!1}),UB=(0,t.createContext)({});function QB(e){return dy(e.animate)||Rb.some(t=>Ob(e[t]))}function PB(e){return Boolean(QB(e)||e.variants)}function OB(e){const{initial:n,animate:r}=function(e,t){if(QB(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Ob(t)?t:void 0,animate:Ob(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(UB));return(0,t.useMemo)(()=>({initial:n,animate:r}),[DB(n),DB(r)])}function DB(e){return Array.isArray(e)?e.join(" "):e}const RB={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},MB={};for(const n in RB)MB[n]={isEnabled:e=>RB[n].some(t=>!!e[t])};const HB=Symbol.for("motionComponentSymbol");function VB(e,n,r){return(0,t.useCallback)(t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Ix(r)&&(r.current=t))},[n])}function KB(e,n,r,s,i){var o,a,l,A;const{visualElement:c}=(0,t.useContext)(UB),u=(0,t.useContext)(LB),d=(0,t.useContext)($m),h=(0,t.useContext)(ny).reducedMotion,f=(0,t.useRef)(null);s=s||u.renderer,!f.current&&s&&(f.current=s(e,{visualState:n,parent:c,props:r,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:h}));const p=f.current,g=(0,t.useContext)(Yx);!p||p.projection||!i||"html"!==p.type&&"svg"!==p.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:A,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:qB(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(o)||a&&Ix(a),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:A})}(f.current,r,i,g);const m=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{p&&m.current&&p.update(r,d)});const y=r[zy],v=(0,t.useRef)(Boolean(y)&&!(null!==(o=(a=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(a,y))&&(null===(l=(A=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(A,y)));return Zm(()=>{p&&(m.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Jx.render(p.render),v.current&&p.animationState&&p.animationState.animateChanges())}),(0,t.useEffect)(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)}),v.current=!1))}),p}function qB(e){if(e)return!1!==e.options.allowProjection?e.projection:qB(e.parent)}function zB(e){var n,r;let{preloadedFeatures:s,createVisualElement:i,useRender:o,useVisualState:a,Component:l}=e;function A(e,n){let r;const s=(0,d.A)((0,d.A)((0,d.A)({},(0,t.useContext)(ny)),e),{},{layoutId:WB(e)}),{isStatic:A}=s,c=OB(e),u=a(e,A);if(!A&&Ym){!function(){(0,t.useContext)(LB).strict;0}();const e=function(e){const{drag:t,layout:n}=MB;if(!t&&!n)return{};const r=(0,d.A)((0,d.A)({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);r=e.MeasureLayout,c.visualElement=KB(l,u,s,i,e.ProjectionNode)}return(0,k.jsxs)(UB.Provider,{value:c,children:[r&&c.visualElement?(0,k.jsx)(r,(0,d.A)({visualElement:c.visualElement},s)):null,o(l,e,VB(u,c.visualElement,n),u,A,c.visualElement)]})}s&&function(e){for(const t in e)MB[t]=(0,d.A)((0,d.A)({},MB[t]),e[t])}(s),A.displayName="motion.".concat("string"===typeof l?l:"create(".concat(null!==(n=null!==(r=l.displayName)&&void 0!==r?r:l.name)&&void 0!==n?n:"",")"));const c=(0,t.forwardRef)(A);return c[HB]=l,c}function WB(e){let{layoutId:n}=e;const r=(0,t.useContext)(Jm).id;return r&&void 0!==n?r+"-"+n:n}function GB(e,t){let{layout:n,layoutId:r}=t;return Ey.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!nC[e]||"opacity"===e)}const JB=(e,t)=>t&&"number"===typeof e?t.transform(e):e,XB=(0,d.A)((0,d.A)({},iv),{},{transform:Math.round}),YB={rotate:mv,rotateX:mv,rotateY:mv,rotateZ:mv,scale:av,scaleX:av,scaleY:av,scaleZ:av,skew:mv,skewX:mv,skewY:mv,distance:vv,translateX:vv,translateY:vv,translateZ:vv,x:vv,y:vv,z:vv,perspective:vv,transformPerspective:vv,opacity:ov,originX:xv,originY:xv,originZ:vv},ZB=(0,d.A)((0,d.A)({borderWidth:vv,borderTopWidth:vv,borderRightWidth:vv,borderBottomWidth:vv,borderLeftWidth:vv,borderRadius:vv,radius:vv,borderTopLeftRadius:vv,borderTopRightRadius:vv,borderBottomRightRadius:vv,borderBottomLeftRadius:vv,width:vv,maxWidth:vv,height:vv,maxHeight:vv,top:vv,right:vv,bottom:vv,left:vv,padding:vv,paddingTop:vv,paddingRight:vv,paddingBottom:vv,paddingLeft:vv,margin:vv,marginTop:vv,marginRight:vv,marginBottom:vv,marginLeft:vv,backgroundPositionX:vv,backgroundPositionY:vv},YB),{},{zIndex:XB,fillOpacity:ov,strokeOpacity:ov,numOctaves:XB}),$B={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ek=Ny.length;function tk(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(Ey.has(l))o=!0;else if(tv(l))s[l]=e;else{const t=JB(e,ZB[l]);l.startsWith("origin")?(a=!0,i[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<ek;i++){const o=Ny[i],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=JB(a,ZB[o]);l||(s=!1,r+="".concat($B[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const nk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rk(e,t,n){for(const r in t)Vy(t[r])||GB(r,n)||(e[r]=t[r])}function sk(e,n){const r={};return rk(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return tk(e,n,r),Object.assign({},e.vars,e.style)},[n])}(e,n)),r}function ik(e,t){const n={},r=sk(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ok={offset:"stroke-dashoffset",array:"stroke-dasharray"},ak={offset:"strokeDashoffset",array:"strokeDasharray"};const lk=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function Ak(e,t,n,r,s){let{attrX:i,attrY:o,attrScale:a,pathLength:l,pathSpacing:A=1,pathOffset:c=0}=t;if(tk(e,(0,h.A)(t,lk),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:d}=e;var f,p;(u.transform&&(d.transform=u.transform,delete u.transform),d.transform||u.transformOrigin)&&(d.transformOrigin=null!==(f=u.transformOrigin)&&void 0!==f?f:"50% 50%",delete u.transformOrigin);d.transform&&(d.transformBox=null!==(p=null===s||void 0===s?void 0:s.transformBox)&&void 0!==p?p:"fill-box",delete u.transformBox);void 0!==i&&(u.x=i),void 0!==o&&(u.y=o),void 0!==a&&(u.scale=a),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?ok:ak;e[i.offset]=vv.transform(-r);const o=vv.transform(t),a=vv.transform(n);e[i.array]="".concat(o," ").concat(a)}(u,l,A,c,!1)}const ck=()=>(0,d.A)((0,d.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),uk=e=>"string"===typeof e&&"svg"===e.toLowerCase();function dk(e,n,r,s){const i=(0,t.useMemo)(()=>{const t=ck();return Ak(t,n,uk(s),e.transformTemplate,e.style),(0,d.A)((0,d.A)({},t.attrs),{},{style:(0,d.A)({},t.style)})},[n]);if(e.style){const t={};rk(t,e.style,e),i.style=(0,d.A)((0,d.A)({},t),i.style)}return i}const hk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fk(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hk.has(e)}let pk=e=>!fk(e);try{"function"===typeof(gk=require("@emotion/is-prop-valid").default)&&(pk=e=>e.startsWith("on")?!fk(e):gk(e))}catch(jE){}var gk;const mk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yk(e){return"string"===typeof e&&!e.includes("-")&&!!(mk.indexOf(e)>-1||/[A-Z]/.test(e))}function vk(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,s,i,o)=>{let{latestValues:a}=i;const l=(yk(n)?dk:ik)(r,a,o,n),A=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(pk(s)||!0===n&&fk(s)||!t&&!fk(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(r,"string"===typeof n,e),c=n!==t.Fragment?(0,d.A)((0,d.A)((0,d.A)({},A),l),{},{ref:s}):{},{children:u}=r,h=(0,t.useMemo)(()=>Vy(u)?u.get():u,[u]);return(0,t.createElement)(n,(0,d.A)((0,d.A)({},c),{},{children:h}))}}const wk=["transitionEnd","transition"];const bk=e=>(n,r)=>{const s=(0,t.useContext)(UB),i=(0,t.useContext)($m),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i}=e;return{latestValues:xk(t,n,r,s),renderState:i()}}(e,n,s,i);return r?o():Xm(o)};function xk(e,t,n,r){const s={},i=r(e,{});for(const d in i)s[d]=uC(i[d]);let{initial:o,animate:a}=e;const l=QB(e),A=PB(e);t&&A&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const u=c?a:o;if(u&&"boolean"!==typeof u&&!dy(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=fy(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=(0,h.A)(r,wk);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[c?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}function Ck(e,t,n){const{style:r}=e,s={};for(const o in r){var i;(Vy(r[o])||t.style&&Vy(t.style[o])||GB(o,e)||void 0!==(null===n||void 0===n||null===(i=n.getValue(o))||void 0===i?void 0:i.liveStyle))&&(s[o]=r[o])}return s}const Bk={useVisualState:bk({scrapeMotionValuesFromProps:Ck,createRenderState:nk})};function kk(e,t,n){const r=Ck(e,t,n);for(const s in e)if(Vy(e[s])||Vy(t[s])){r[-1!==Ny.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}const Nk={useVisualState:bk({scrapeMotionValuesFromProps:kk,createRenderState:ck})};function Ek(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};const s=yk(n)?Nk:Bk;return zB((0,d.A)((0,d.A)({},s),{},{preloadedFeatures:e,useRender:vk(r),createVisualElement:t,Component:n}))}}const _k=e=>t=>t.test(e),Sk=[iv,vv,yv,mv,bv,wv,{test:e=>"auto"===e,parse:e=>e}],Fk=e=>Sk.find(_k(e)),Ik=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Tk=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function jk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,s]=function(e){const t=Tk.exec(e);if(!t)return[,];const[,n,r,s]=t;return["--".concat(null!==n&&void 0!==n?n:r),s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Ik(e)?parseFloat(e):e}return rv(s)?jk(s,t,n+1):s}const Lk=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Uk(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Lk(e))}const Qk=new Set(["brightness","contrast","saturate","opacity"]);function Pk(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Av)||[];if(!r)return e;const s=n.replace(r,"");let i=Qk.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Ok=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Dk=(0,d.A)((0,d.A)({},jv),{},{getAnimatableNone:e=>{const t=e.match(Ok);return t?t.map(Pk).join(" "):e}}),Rk=(0,d.A)((0,d.A)({},ZB),{},{color:Bv,backgroundColor:Bv,outlineColor:Bv,fill:Bv,stroke:Bv,borderColor:Bv,borderTopColor:Bv,borderRightColor:Bv,borderBottomColor:Bv,borderLeftColor:Bv,filter:Dk,WebkitFilter:Dk}),Mk=e=>Rk[e];function Hk(e,t){let n=Mk(e);return n!==Dk&&(n=jv),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Vk=new Set(["auto","none","0"]);class Kk extends rb{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),rv(n))){const r=jk(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!_y.has(n)||2!==e.length)return;const[r,s]=e,i=Fk(r),o=Fk(s);if(i!==o)if(Ww(i)&&Ww(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else Xw[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||Uk(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"===typeof t&&!Vk.has(t)&&Sv(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=Hk(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xw[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Xw[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const qk=[...Sk,Bv,jv],zk={current:null},Wk={current:!1};const Gk=new WeakMap;const Jk=["willChange"],Xk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Yk{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Uy.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,xy.render(this.render,!1,!0))};const{latestValues:l,renderState:A}=o;this.latestValues=l,this.baseTarget=(0,d.A)({},l),this.initialValues=n.initial?(0,d.A)({},l):{},this.renderState=A,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=QB(n),this.isVariantNode=PB(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{},this),{willChange:u}=c,f=(0,h.A)(c,Jk);for(const d in f){const e=f[d];void 0!==l[d]&&Vy(e)&&e.set(l[d],!1)}}mount(e){this.current=e,Gk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Wk.current||function(){if(Wk.current=!0,Ym)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zk.current=e.matches;e.addEventListener("change",t),t()}else zk.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||zk.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cy(this.notifyUpdate),Cy(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ey.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&xy.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in MB){const t=MB[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Xk.length;n++){const t=Xk[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Vy(s))e.addValue(r,s);else if(Vy(i))e.addValue(r,Oy(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,Oy(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Oy(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(Ik(r)||Lk(r))?r=parseFloat(r):!(e=>qk.find(_k(e)))(r)&&jv.test(t)&&(r=Hk(e,t)),this.setBaseTarget(e,Vy(r)?r.get():r)),Vy(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const s=fy(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);s&&(n=s[e])}if(t&&void 0!==n)return n;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||Vy(s)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new Iy),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Zk extends Yk{constructor(){super(...arguments),this.KeyframeResolver=Kk}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vy(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}function $k(e,t,n,r){let{style:s,vars:i}=t;const o=e.style;let a;for(a in s)o[a]=s[a];for(a in null===r||void 0===r||r.applyProjectionStyles(o,n),i)o.setProperty(a,i[a])}class eN extends Zk{constructor(){super(...arguments),this.type="html",this.renderInstance=$k}readValueFromInstance(e,t){var n,r;if(Ey.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?Kw(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return qw(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),s=(tv(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof s?s.trim():s}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Sx(e,n)}build(e,t,n){tk(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Ck(e,t,n)}}const tN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class nN extends Zk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hx}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ey.has(t)){const e=Mk(t);return e&&e.default||0}return t=tN.has(t)?t:qy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return kk(e,t,n)}build(e,t,n){Ak(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){$k(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(tN.has(s)?s:qy(s),t.attrs[s])}(e,t,0,r)}mount(e){this.isSVGTag=uk(e.tagName),super.mount(e)}}const rN=(e,n)=>yk(e)?new nN(n):new eN(n,{allowProjection:e!==t.Fragment}),sN=uy(Ek((0,d.A)((0,d.A)((0,d.A)((0,d.A)({},$b),TB),hB),jB),rN)),iN=e=>{let{videoRef:n,detections:r,isActive:s}=e;const i=(0,t.useRef)(null);return(0,t.useEffect)(()=>{const e=i.current,t=n.current;if(!e||!t)return;const o=e.getContext("2d");o&&(e.width=t.videoWidth,e.height=t.videoHeight,o.clearRect(0,0,e.width,e.height),s&&0!==r.length&&r.forEach((e,t)=>{const[n,s,i,a]=e.bbox,l=1===r.length?"#10b981":"#ef4444";o.strokeStyle=l,o.lineWidth=3,o.fillStyle=l,o.strokeRect(n,s,i,a);const A="Person ".concat(t+1," (").concat(Math.round(100*e.score),"%)"),c=o.measureText(A).width+10;o.fillRect(n,s-25,c,25),o.fillStyle="white",o.font="14px Arial",o.fillText(A,n+5,s-8)}))},[r,s]),(0,k.jsx)("canvas",{ref:i,className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%",objectFit:"cover"}})};var oN=n(5200);const aN=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),lN=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9h8M8 15h8"})});const AN=function(e){let{data:n}=e;const{testid:r}=(0,i.g)(),{user:s}=(0,l.A)(),[o,u]=(0,t.useState)("description"),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)(null),[y,v]=(0,t.useState)(!0),[w,b]=(0,t.useState)(45),{theme:x}=(0,a.D)();(0,t.useEffect)(()=>{(async()=>{if(s&&null!==n&&void 0!==n&&n.questionname){v(!0);try{const e=(0,c.KR)(A.OO,"ExamCode/".concat(r,"/").concat(s.uid,"/").concat(n.questionname)),t=await(0,c.Jt)(e);if(t.exists()){const e=t.val();h(e),m(e),p(!0)}else h(null),m(null),p(!1)}catch(e){console.error("Failed to fetch submission:",e),h(null),m(null),p(!1)}finally{v(!1)}}else v(!1)})()},[n,s,r]);const C=null!==d&&d!==g;return(0,k.jsx)("div",{className:"flex flex-col h-screen w-full bg-white dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden shadow-sm",style:{width:"".concat(w,"%")},children:[(0,k.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("button",{className:"px-6 py-4 text-sm font-medium ".concat("description"===o?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),onClick:()=>u("description"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(aN,{}),"Description"]})})}),(0,k.jsx)("div",{className:"p-6 flex-1 overflow-y-auto",children:"description"===o&&(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white break-words",children:null===n||void 0===n?void 0:n.questionname}),(0,k.jsx)("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:(0,k.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full text-sm font-medium",children:null===n||void 0===n?void 0:n.difficulty})})]}),(0,k.jsx)("div",{className:"space-y-6",children:(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Statement"}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:null===n||void 0===n?void 0:n.question})]})})]})})]}),(0,k.jsx)("div",{className:"w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 cursor-col-resize flex items-center justify-center",children:(0,k.jsx)(lN,{})}),(0,k.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"p-6 overflow-y-auto h-full",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Select the correct answer"}),(0,k.jsx)("div",{className:"space-y-4 mb-8",children:null===n||void 0===n?void 0:n.options.map((e,t)=>{let n="p-4 border rounded-lg cursor-pointer transition-colors duration-150 ";return n+=f?d===t?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-800 dark:text-blue-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300":d===t?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-800 dark:text-blue-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-blue-300 dark:hover:border-blue-600",(0,k.jsx)("div",{className:n,onClick:()=>(e=>{y||(h(e),e!==g&&p(!1))})(t),children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsxs)("span",{className:"font-medium mr-3",children:[String.fromCharCode(65+t),"."]}),(0,k.jsx)("span",{children:e})]})},t)})}),(0,k.jsx)("div",{className:"mt-auto pt-6",children:C?(0,k.jsx)("button",{onClick:async()=>{if(null!==d&&s){p(!0);try{const e=(0,c.KR)(A.OO,"ExamCode/".concat(r,"/").concat(s.uid,"/").concat(n.questionname,"/")),t=(0,c.KR)(A.OO,"ExamSubmissions/".concat(r,"/").concat(s.uid,"/").concat(n.questionname,"/")),i=(0,c.KR)(A.OO,"Marks/".concat(r,"/").concat(s.uid,"/").concat(n.questionname,"/"));await(0,c.hZ)(e,d),await(0,c.hZ)(t,d+1===n.correctAnswer?"true":"false"),await(0,c.hZ)(i,d+1===n.correctAnswer?100:0),m(d)}catch(e){console.error("Error saving answer: ",e),p(!1)}}},className:"w-full px-6 py-3 rounded-lg font-medium text-sm bg-blue-600 hover:bg-blue-700 text-white transition-colors duration-150",children:"Submit Answer"}):f&&null!==d?(0,k.jsx)("p",{className:"text-center text-green-600 dark:text-green-400 font-medium",children:"Answer Submitted"}):null})]})})]})})};var cN=n(3441);function uN(e){return(0,cN.k5)({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:"currentColor"},child:[]}]})(e)}function dN(e){return(0,cN.k5)({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704ZM9.85358 5.14644C10.0488 5.3417 10.0488 5.65829 9.85358 5.85355L8.20713 7.49999L9.85358 9.14644C10.0488 9.3417 10.0488 9.65829 9.85358 9.85355C9.65832 10.0488 9.34173 10.0488 9.14647 9.85355L7.50002 8.2071L5.85358 9.85355C5.65832 10.0488 5.34173 10.0488 5.14647 9.85355C4.95121 9.65829 4.95121 9.3417 5.14647 9.14644L6.79292 7.49999L5.14647 5.85355C4.95121 5.65829 4.95121 5.3417 5.14647 5.14644C5.34173 4.95118 5.65832 4.95118 5.85358 5.14644L7.50002 6.79289L9.14647 5.14644C9.34173 4.95118 9.65832 4.95118 9.85358 5.14644Z",fill:"currentColor"},child:[]}]})(e)}function hN(e){return(0,cN.k5)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"},child:[]}]})(e)}const fN=function(e){var n,r,s,o;let{question:u}=e;const[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)("description"),[g,m]=(0,t.useState)(null),[y,v]=(0,t.useState)([]),[w,b]=(0,t.useState)(0),[x,C]=(0,t.useState)(!1),[B,N]=(0,t.useState)(45),[E,_]=(0,t.useState)("cpp"),{theme:S}=(0,a.D)(),[F,I]=(0,t.useState)([]),[T,j]=(0,t.useState)([]),[L,U]=(0,t.useState)(null),{testid:Q}=(0,i.g)(),{user:P}=(0,l.A)(),O=null===P||void 0===P?void 0:P.uid,[D,R]=(0,t.useState)("not_attended");(0,t.useEffect)(()=>{const e=e=>(e.preventDefault(),e.stopPropagation(),!1),t=e=>(e.preventDefault(),e.stopPropagation(),!1),n=e=>(e.preventDefault(),e.stopPropagation(),e.clipboardData&&(e.clipboardData.setData("text/plain",""),e.clipboardData.clearData()),Eh.error("Copy-paste is disabled in this environment"),!1),r=e=>(e.preventDefault(),e.stopPropagation(),!1),s={capture:!0,passive:!1};document.addEventListener("copy",e,s),document.addEventListener("cut",e,s),document.addEventListener("paste",n,s),document.addEventListener("contextmenu",t,s),document.addEventListener("drop",r,s),document.addEventListener("dragover",r,s);const i=e=>{const t=(e.ctrlKey||e.metaKey)&&["v","V","Insert"].includes(e.key),n=(e.ctrlKey||e.metaKey)&&["c","C","Insert","F3","F16","F24"].includes(e.key),r=(e.ctrlKey||e.metaKey)&&["x","X","Delete"].includes(e.key);if(t||n||r)return e.preventDefault(),e.stopPropagation(),window.getSelection().removeAllRanges(),t&&Eh.error("Pasting is disabled in this environment"),!1};document.addEventListener("keydown",i,{capture:!0});const o=e=>{if(e.target.isContentEditable)return e.preventDefault(),e.stopPropagation(),!1};document.addEventListener("paste",o,{capture:!0});const a=()=>{document.activeElement&&"IFRAME"===document.activeElement.tagName&&document.activeElement.blur()};return window.addEventListener("blur",a),()=>{document.removeEventListener("copy",e,s),document.removeEventListener("cut",e,s),document.removeEventListener("paste",n,s),document.removeEventListener("contextmenu",t,s),document.removeEventListener("drop",r,s),document.removeEventListener("dragover",r,s),document.removeEventListener("keydown",i,{capture:!0}),document.removeEventListener("paste",o,{capture:!0}),window.removeEventListener("blur",a)}},[]);const M=(0,t.useRef)(null),H=(0,t.useRef)(null),V=(0,t.useRef)(null),K=(0,t.useRef)(null),q=(0,t.useRef)(null),z=e=>{e&&(e.style.height="auto",e.style.height="".concat(Math.min(e.scrollHeight,200),"px"))};(0,t.useEffect)(()=>{const e=setTimeout(()=>{M.current&&z(M.current),H.current&&z(H.current)},100);return()=>clearTimeout(e)},[w,F,f]);const W=(0,t.useCallback)(async()=>{if(O&&Q&&u)try{const e=(0,c.KR)(A.OO,"ExamSubmissions/".concat(Q,"/").concat(O,"/").concat(u,"/")),t=await(0,c.Jt)(e);if(t.exists()){const e=t.val();R("true"===e?"correct":"wrong")}else R("not_attended")}catch(e){console.error("Error fetching submission status:",e),R("not_attended")}},[Q,u,O]);(0,t.useEffect)(()=>{console.log(u),W()},[u,W]);const G=(0,t.useCallback)(async()=>{if(O&&Q&&u)try{const e=(0,c.KR)(A.OO),t="ExamCode/".concat(Q,"/").concat(O,"/").concat(u,"/").concat(E),n=await(0,c.Jt)((0,c.jf)(e,t));if(console.log(n.val()),n.exists()){const e=n.val();h(e),console.log("Code loaded successfully!")}else h(Re[E]||""),console.log("No saved code found, using default template")}catch(e){console.error("Error loading code:",e),h(Re[E]||"")}},[E,Q,u,O]),J=(0,t.useCallback)(async e=>{if(O&&Q&&u)try{const t="ExamCode/".concat(Q,"/").concat(O,"/").concat(u,"/").concat(E),n=(0,c.KR)(A.OO,t);await(0,c.hZ)(n,e),console.log("Code auto-saved successfully!")}catch(t){console.error("Error saving code:",t)}},[E,Q,u,O]),X=(0,t.useCallback)(e=>{h(e),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>{J(e)},500)},[J]),Y=(0,t.useCallback)(e=>{const t=e.target.value;_(t)},[]);(0,t.useEffect)(()=>{L&&O&&G()},[G,L,O]),(0,t.useEffect)(()=>()=>{V.current&&clearTimeout(V.current)},[]),(0,t.useEffect)(()=>{(async()=>{try{const i=(0,c.KR)(A.OO,"questions/".concat(u)),[o]=await Promise.all([(0,c.Jt)(i)]);if(console.log(o.val()),o.exists()){var e,t,n,r,s;const i=o.val(),a=[{input:null===i||void 0===i||null===(e=i.testcases[0])||void 0===e?void 0:e.input,expectedOutput:null===i||void 0===i||null===(t=i.testcases[0])||void 0===t?void 0:t.expectedOutput},...null!==i&&void 0!==i&&null!==(n=i.testcases[1])&&void 0!==n&&n.expectedOutput?[{input:null===i||void 0===i||null===(r=i.testcases[1])||void 0===r?void 0:r.input,expectedOutput:null===i||void 0===i||null===(s=i.testcases[1])||void 0===s?void 0:s.expectedOutput}]:[]];I(a),console.log(i),U(i)}}catch(i){console.error("Error fetching data from Firebase:",i)}})(),console.log(u)},[u]),(0,t.useEffect)(()=>()=>{q.current&&q.current.disconnect()},[]),(0,t.useEffect)(()=>{K.current&&K.current.layout()},[B]);const Z=(0,t.useCallback)(e=>{C(!0),e.preventDefault()},[]),$=(0,t.useCallback)(e=>{if(!x)return;const t=document.body.getBoundingClientRect();let n=((e.touches?e.touches[0].clientX:e.clientX)-t.left)/t.width*100;n=Math.max(18,Math.min(70,n)),N(n)},[x]),ee=(0,t.useCallback)(()=>{C(!1)},[]);return(0,t.useEffect)(()=>(x?(window.addEventListener("mousemove",$),window.addEventListener("mouseup",ee),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",ee),document.body.style.cursor="",document.body.style.userSelect=""),()=>{window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",ee),document.body.style.cursor="",document.body.style.userSelect=""}),[x,$,ee]),(0,k.jsxs)("div",{className:"min-h-screen h-screen w-full flex bg-white dark:bg-dark-primary select-none",children:[(0,k.jsx)(Ph,{}),(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary border-r border-gray-200 dark:border-dark-tertiary flex flex-col overflow-hidden h-full",style:{width:"".concat(B,"%")},children:[(0,k.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-dark-tertiary",children:[(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("description"===f?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>p("description"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Pe,{}),"Description"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("testcases"===f?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>p("testcases"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Qe,{}),"Test Cases"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("output"===f?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>p("output"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Ue,{}),"Output"]})})]}),(0,k.jsxs)("div",{className:"p-6 flex-1 min-h-0 overflow-auto",style:{height:"100%"},children:["description"===f&&(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-400",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white break-words flex items-center gap-2",children:[String(null===L||void 0===L?void 0:L.questionname),"not_submitted"===D&&(0,k.jsx)(hN,{className:"text-yellow-500"}),"correct"===D&&(0,k.jsx)(uN,{className:"text-green-500"}),"wrong"===D&&(0,k.jsx)(dN,{className:"text-red-500"})]}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[(0,k.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full text-sm font-medium",children:"Easy"}),(0,k.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(je,{}),(0,k.jsx)("span",{className:"text-sm",children:"2.5K"})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(Le,{}),(0,k.jsx)("span",{className:"text-sm",children:"15 min"})]})]})]}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)("p",{className:"break-words",children:null===L||void 0===L?void 0:L.question}),(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Example 1:"}),(0,k.jsx)("pre",{className:"bg-gray-50 dark:bg-dark-secondary p-4 rounded-lg font-mono whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200",children:null===L||void 0===L?void 0:L.Example[0]})]}),(null===L||void 0===L?void 0:L.Example[1])&&(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Example 2:"}),(0,k.jsx)("pre",{className:"bg-gray-50 dark:bg-dark-secondary p-4 rounded-lg font-mono whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200",children:null===L||void 0===L?void 0:L.Example[1]})]}),(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Constraints:"}),(0,k.jsxs)("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-400",children:[(0,k.jsx)("li",{children:null===L||void 0===L?void 0:L.constraints[0]}),(0,k.jsx)("li",{children:null===L||void 0===L?void 0:L.constraints[1]})]})]}),(0,k.jsx)("div",{className:"h-10"})]})]}),"testcases"===f&&(0,k.jsx)("div",{className:"space-y-6",children:(null===L||void 0===L||null===(n=L.testcases)||void 0===n?void 0:n.length)>=3&&"regex"===(null===L||void 0===L||null===(r=L.testcases)||void 0===r?void 0:r[2].input)?(0,k.jsx)("h1",{children:"No input"}):(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:" Manual Test Cases "}),(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[F.map((e,t)=>(0,k.jsxs)("button",{className:"px-4 py-2 rounded-t-lg font-medium border-b-2 transition-colors duration-150 focus:outline-none ".concat(w===t?"border-[#4285F4] text-[#4285F4] bg-white dark:bg-dark-secondary":"border-transparent text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-dark-tertiary hover:text-[#4285F4]"),onClick:()=>b(t),children:["Case ",t+1]},t)),(0,k.jsx)("button",{className:"ml-2 px-3 py-2 rounded-full bg-[#4285F4] text-white hover:bg-[#357ae8] text-lg font-bold",onClick:()=>{I([...F,{input:"",expectedOutput:""}]),b(F.length)},children:"+"})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-dark-secondary rounded-lg p-4 mb-4",children:[(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 font-medium",children:"Input"}),(0,k.jsx)("div",{className:"relative",children:(0,k.jsx)("textarea",{ref:M,className:"w-full p-2 border border-gray-300 dark:border-dark-tertiary rounded-md bg-white dark:bg-dark-secondary text-gray-900 dark:text-white font-mono text-base min-h-[80px] resize-y whitespace-pre overflow-x-auto",value:(null===(s=F[w])||void 0===s?void 0:s.input)||"",onChange:e=>{const t=[...F];t[w].input=e.target.value,I(t),requestAnimationFrame(()=>{z(e.target)})},onInput:e=>z(e.target),placeholder:"Enter input (supports multiple lines)",rows:1,style:{minHeight:"40px",maxHeight:"200px",overflowY:"auto",overflowX:"auto",whiteSpace:"pre",width:"100%",boxSizing:"border-box",minWidth:"100%",maxWidth:"100%"}})})]}),(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 font-medium",children:"Expected Output"}),(0,k.jsx)("div",{className:"relative",children:(0,k.jsx)("textarea",{ref:H,className:"w-full p-2 border border-gray-300 dark:border-dark-tertiary rounded-md bg-white dark:bg-dark-secondary text-gray-900 dark:text-white font-mono text-base min-h-[80px] resize-y whitespace-pre overflow-x-auto",value:(null===(o=F[w])||void 0===o?void 0:o.expectedOutput)||"",onChange:e=>{const t=[...F];t[w].expectedOutput=e.target.value,I(t),requestAnimationFrame(()=>{z(e.target)})},onInput:e=>z(e.target),placeholder:"Enter expected output (supports multiple lines)",rows:1,style:{minHeight:"40px",maxHeight:"200px",overflowY:"auto",overflowX:"auto",whiteSpace:"pre",width:"100%",boxSizing:"border-box",minWidth:"100%",maxWidth:"100%"}})})]})]}),(0,k.jsx)("div",{className:"flex justify-end mt-4",children:(0,k.jsx)("button",{className:"text-red-500 hover:text-red-700 font-medium",onClick:()=>{const e=F.filter((e,t)=>t!==w);I(e.length?e:[{input:"",expectedOutput:""}]),b(e=>Math.max(0,e-1))},disabled:F.length<=1,title:"Delete this test case",children:"Delete Case"})})]})]})}),"output"===f&&(0,k.jsx)("div",{className:"py-8 px-4 flex flex-col items-center",children:g?(0,k.jsx)("pre",{className:"text-red-600 dark:text-red-400 whitespace-pre-wrap break-words",children:g}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(Me,{testResults:y})})})]})]}),(0,k.jsx)("div",{className:"w-1 bg-gray-200 dark:bg-dark-tertiary hover:bg-[#4285F4] cursor-col-resize flex items-center justify-center group transition-colors duration-150 ".concat(x?"bg-[#4285F4]":""),onMouseDown:Z,style:{zIndex:10},children:(0,k.jsx)(Oe,{size:16,className:"text-gray-400 group-hover:text-[#4285F4] opacity-0 group-hover:opacity-100"})}),(0,k.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-auto",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary border-t border-gray-200 dark:border-dark-tertiary p-2 flex justify-end gap-6",children:[(0,k.jsx)("div",{className:"flex items-center gap-4",children:(0,k.jsx)("select",{className:"bg-white dark:bg-dark-secondary text-gray-900 dark:text-white border border-gray-300 dark:border-dark-tertiary rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#4285F4] focus:border-transparent",value:E,onChange:Y,children:(0,k.jsx)("option",{value:"cpp",children:"C"})})}),(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsxs)("button",{onClick:async()=>{if(!F||0===F.length)return void console.error("No test cases available");const e=F;console.log("Running test cases:",e);try{const o=e.map(e=>({input:e.input||"",expected:e.expectedOutput||"",output:"",passed:!1,status:"running",isFirstFailure:!1}));v(o),m(null),p("output");const a=[...o];let l=!1;for(let A=0;A<e.length;A++){const{input:o,expectedOutput:c}=e[A];try{var t,n;const{run:e}=await gr(E,d,o);if("regex2"===(null===L||void 0===L||null===(t=L.testcases[2])||void 0===t?void 0:t.input)){const t=e.output.match(L.testcases[2].expectedOutput);console.log(e.output),console.log(L.testcases[2].expectedOutput);const n=new RegExp(/^PID of example\.c = \d+\n(?:[A-Za-z]{3} ){2}\d{1,2} \d{2}:\d{2}:\d{2} [A-Z]+ \d{4}\n?$/);console.log(n.test(e.output)),a[A]={input:o,expected:c,output:e.output,passed:n.test(e.output),status:"done",isFirstFailure:!t&&!l},t||l||(l=!0,b(A))}else if("regex"===(null===L||void 0===L||null===(n=L.testcases[2])||void 0===n?void 0:n.input)){var r,s;const t=e.output.match(null===L||void 0===L||null===(r=L.testcases[2])||void 0===r?void 0:r.expectedOutput);console.log(e.output),console.log(null===L||void 0===L||null===(s=L.testcases[2])||void 0===s?void 0:s.expectedOutput);const n=new RegExp(/^Child => PPID: \d+, PID: \d+\nParent => PID: \d+\nWaiting for child process to finish\.\nChild process finished\.\n?$/);console.log(n.test(e.output)),a[A]={input:o,expected:c,output:e.output,passed:n.test(e.output),status:"done",isFirstFailure:!t&&!l},t||l||(l=!0,b(A))}else{const t=e.output||"",n=t?t.split("\n").filter(e=>""!==e):[],r=c?c.split("\n").filter(e=>""!==e):[],s=n.length===r.length&&n.every((e,t)=>e.trimEnd()===r[t].trimEnd());a[A]={input:o,expected:c,output:t,passed:s,status:"done",isFirstFailure:!s&&!l},s||l||(l=!0,b(A))}}catch(i){console.error("Error executing test case ".concat(A+1,":"),i),a[A]={input:o,expected:c||"",output:i.message||"Error executing code",passed:!1,status:"done",isFirstFailure:!l},l||(l=!0,b(A))}v([...a]),await new Promise(e=>setTimeout(e,300))}}catch(i){console.error("Error during test cases:",i),v([{input:"",expected:"",output:i.message||"Error executing test cases",passed:!1,status:"done",isFirstFailure:!0}])}},className:"bg-[#4285F4] hover:bg-[#4285F4]/90 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors duration-150",children:[(0,k.jsx)(Ie,{}),"Run Code"]}),(0,k.jsxs)("button",{onClick:async()=>{if(!L||!L.testcases)return void console.error("Question data not loaded");const e=L.testcases,t=e.map(e=>({input:e.input,expected:e.expectedOutput,output:"",passed:!1,status:"running"}));v(t),m(null),p("output");const n=[...t];for(let A=0;A<e.length;A++){var r,s;const{input:t,expectedOutput:i}=e[A],{run:o}=await gr(E,d,t);if("regex2"===(null===L||void 0===L||null===(r=L.testcases[2])||void 0===r?void 0:r.input)){o.output.match(L.testcases[2].expectedOutput);console.log(o.output),console.log(L.testcases[2].expectedOutput);const e=new RegExp(/^PID of example\.c = \d+\n(?:[A-Za-z]{3} ){2}\d{1,2} \d{2}:\d{2}:\d{2} [A-Z]+ \d{4}\n?$/);console.log(e.test(o.output)),n[A]={input:t,expected:i,output:o.output,passed:e.test(o.output),status:"done"},v([...n]),await new Promise(e=>setTimeout(e,300));continue}if("regex"===(null===L||void 0===L||null===(s=L.testcases[2])||void 0===s?void 0:s.input)){o.output.match(L.testcases[2].expectedOutput);console.log(o.output),console.log(L.testcases[2].expectedOutput);const e=new RegExp(/^Child => PPID: \d+, PID: \d+\nParent => PID: \d+\nWaiting for child process to finish\.\nChild process finished\.\n?$/);console.log(e.test(o.output)),n[A]={input:t,expected:i,output:o.output,passed:e.test(o.output),status:"done"},v([...n]),await new Promise(e=>setTimeout(e,300));continue}const a=o.output?o.output.split("\n"):["No output received."];for(;""===a[a.length-1];)a.pop();const l=i.split("\n");for(;""===l[l.length-1];)l.pop();const c=a.length===l.length&&a.every((e,t)=>e.trimEnd()===l[t].trimEnd());n[A]={input:t,expected:i,output:o.output,passed:c,status:"done"},v([...n])}const i=n.every(e=>e.passed),o=n.filter(e=>e.passed).length,a=i?"true":"false",l=(0,c.KR)(A.OO,"ExamSubmissions/".concat(Q,"/").concat(P.uid,"/").concat(u,"/")),h=(0,c.KR)(A.OO,"Marks/".concat(Q,"/").concat(P.uid,"/").concat(u,"/"));await(0,c.hZ)(l,a),await(0,c.hZ)(h,o/n.length*100),R(i?"correct":"wrong"),console.log("Saved to Firebase:",a)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors duration-150",children:[(0,k.jsx)(Te,{}),"Submit"]})]})]}),(0,k.jsx)("div",{className:"flex-1 bg-white dark:bg-gray-900 min-w-0 overflow-auto",children:(0,k.jsx)(Fe,{height:"100%",defaultLanguage:"cpp",language:"cpp"===E?"cpp":E,theme:"dark"===S?"vs-dark":"vs-light",value:d,onChange:X,onMount:function(e,t){K.current=e,q.current&&q.current.disconnect(),q.current=new ResizeObserver(()=>{K.current&&K.current.layout()});const n=e.getContainerDomNode();n&&q.current.observe(n),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KeyC,()=>{if(null===Dh("copyDisabled"))return Eh.error("Copy disabled!",{position:"top-right",autoClose:3e3}),void Oh("copyDisabled",!0,5e3)}),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KeyV,()=>{if(null===Dh("pasteDisabled"))return Eh.error("Paste disabled!",{position:"top-right",autoClose:3e3}),void Oh("pasteDisabled",!0,5e3)})},options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",roundedSelection:!1,scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",tabSize:2,dragAndDrop:!0,formatOnPaste:!0,formatOnType:!0}})})]})]})},pN=e=>{let{question:n}=e;const[r,s]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{console.log(null===r||void 0===r?void 0:r.type),(async()=>{o(!0);try{const e=(0,c.KR)(A.OO,"questions/".concat(n)),[t]=await Promise.all([(0,c.Jt)(e)]);if(console.log(t.val()),t.exists()){const e=t.val();console.log(e),s(e)}}catch(e){console.error("Error fetching data from Firebase:",e)}finally{o(!1)}})()},[n]),i?(0,k.jsx)(qh.A,{message:"Loading question, please wait..."}):r?(0,k.jsxs)("div",{children:["Programming"===(null===r||void 0===r?void 0:r.type)&&(0,k.jsx)(fN,{question:n}),"MCQ"===(null===r||void 0===r?void 0:r.type)&&(0,k.jsx)(AN,{data:r})]}):(0,k.jsx)("p",{children:"No data found"})},gN=e=>{var n,r;let{Questions:s,startTime:o,onExamComplete:a,duration:u,examName:h,setviolation:f,setIsViolationReady:p,videoRef:g,detections:m,isProctoringActive:y}=e;const{testid:v}=(0,i.g)(),[w,C]=(0,t.useState)({}),[B,N]=(0,t.useState)("description"),[E,_]=(0,t.useState)(()=>{if(console.log(o),!o)return null;const e=60*u,t=new Date(o),n=new Date;console.log("Start Time:",t),console.log("Current Time:",n);const r=Math.floor((n-t)/1e3);console.log("Elapsed Seconds:",r);const s=Math.max(0,e-r);return console.log("Remaining Time:",s),s}),{user:S}=(0,l.A)();(0,t.useEffect)(()=>{if(!S||!v)return;const e=(0,c.KR)(A.OO,"ExamSubmissions/".concat(v,"/").concat(S.uid,"/"));(0,c.Zy)(e,e=>{if(e.exists()){const t=e.val();C(t||{})}},e=>{console.error("Error in real-time listener:",e)});return()=>{(0,c.AU)(e,"value")}},[v,S]);const F=(0,t.useCallback)(e=>{if(console.log(e),console.log(s.length),!s||e<0||e>=s.length)return void console.error("Invalid question index or test data not loaded");K(e);s[e];window.scrollTo({top:0,behavior:"smooth"})},[]),I=(0,t.useCallback)(e=>{F(e),N("description"),M(!1)},[F]),[T,j]=(0,t.useState)(navigator.onLine),[L,U]=(0,t.useState)(null),[Q,P]=(0,t.useState)("4g"),O=(0,t.useCallback)(async()=>{if(!navigator.onLine)return null;try{const e=1e5,t="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png?t=".concat(Date.now()),n=performance.now(),r=await fetch(t,{cache:"no-store"});await r.blob();const s=(performance.now()-n)/1e3;if(s>0){const t=8*e/s/1048576;return console.log("Measured speed:",t.toFixed(2),"Mbps"),Math.max(.1,Math.min(t,100))}return null}catch(e){return console.log("Speed test failed:",e.message),null}},[]),D=(0,t.useCallback)(async()=>{if(!navigator.onLine)return U(null),void P("offline");const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;e&&e.effectiveType&&P(e.effectiveType);const t=await O();if(null!==t)console.log("Using measured speed:",t),U(t);else if(e&&e.downlink){const t=.2*(Math.random()-.5),n=e.downlink*(1+t);console.log("Using connection.downlink:",n),U(Math.max(.1,n))}else if(e&&e.effectiveType){const t={"slow-2g":.05,"2g":.25,"3g":1.5,"4g":10}[e.effectiveType]||1,n=.3*(Math.random()-.5),r=Math.max(.1,t*(1+n));console.log("Using effectiveType estimate:",e.effectiveType,r),U(r)}else console.log("No connection API, using default 5 Mbps"),U(5)},[O]);(0,t.useEffect)(()=>{const e=()=>{j(!0),D()},t=()=>{j(!1),U(null)},n=()=>{D()};window.addEventListener("online",e),window.addEventListener("offline",t);const r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;r&&r.addEventListener("change",n),D();const s=setInterval(()=>{navigator.onLine&&D()},1e4);return()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t),r&&r.removeEventListener("change",n),clearInterval(s)}},[D]),(0,t.useEffect)(()=>{if(!o)return;const e=()=>{const e=60*u,t=new Date(o),n=new Date,r=Math.floor((n-t)/1e3),s=Math.max(0,e-r);_(s),s<=0&&a()};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[o,a]);const[R,M]=(0,t.useState)(!1),H=(0,t.useRef)(null),[V,K]=(0,t.useState)(0),[q,z]=(0,t.useState)(""),[W,G]=(0,t.useState)({}),[J,X]=(0,t.useState)(!1),[Y,Z]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=e=>{H.current&&!H.current.contains(e.target)&&M(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{console.log(s[0])},[]),(0,t.useEffect)(()=>{if(!s||0===s.length)return Object.keys(W).length>0&&G({}),void z("");const e=s[V];e&&Object.prototype.hasOwnProperty.call(W,e)?z(W[e]||""):z("")},[s,V,W]),(0,t.useEffect)(()=>{if(!s||0===s.length)return void(Object.keys(W).length>0&&G({}));const e=s.filter(e=>e&&!Object.prototype.hasOwnProperty.call(W,e));if(0===e.length)return;let t=!0;return(async()=>{try{const n=await Promise.all(e.map(async e=>{try{const t=(0,c.KR)(A.OO,"questions/".concat(e)),n=await(0,c.Jt)(t),r=n.exists()?n.val():null;return[e,(null===r||void 0===r?void 0:r.type)||""]}catch(t){return console.error("Error fetching question type:",t),[e,""]}}));if(!t)return;G(e=>{const t=(0,d.A)({},e);return n.forEach(e=>{let[n,r]=e;n&&(t[n]=r)}),t})}catch(n){console.error("Error fetching question types:",n)}})(),()=>{t=!1}},[s,W]);const $=(0,t.useCallback)(()=>{s&&V<s.length-1&&(F(V+1),N("description"))},[V,null===s||void 0===s?void 0:s.length,F]),ee=(0,t.useCallback)(()=>{V>0&&(F(V-1),N("description"))},[V,F]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden relative",children:[(0,k.jsxs)("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsx)("button",{onClick:()=>M(!R),className:"p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none hamburger-menu","aria-label":"Toggle menu",children:(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,k.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:h}),y&&g&&(0,k.jsxs)("div",{className:"relative w-16 h-16 bg-gray-900 rounded-lg overflow-hidden shadow-md border border-red-500",children:[(0,k.jsx)("video",{ref:g,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,k.jsx)(iN,{videoRef:g,detections:m,isActive:!0}),(0,k.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 flex items-center justify-center gap-1 bg-red-600/90 text-white px-1 py-0.5 text-[8px]",children:[(0,k.jsx)("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse"}),"LIVE"]})]})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,k.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full text-white font-bold text-sm shadow-md",children:(null===S||void 0===S||null===(n=S.name)||void 0===n||null===(r=n.charAt(0))||void 0===r?void 0:r.toUpperCase())||"U"}),(0,k.jsx)("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:(null===S||void 0===S?void 0:S.name)||"User"})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsx)("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:T?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(b,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,k.jsx)("div",{className:"flex flex-col",children:null!==L?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("span",{className:"text-xs font-semibold",children:L>=1?(0,k.jsxs)("span",{className:"text-green-600 dark:text-green-400",children:[L.toFixed(1)," Mbps"]}):(0,k.jsxs)("span",{className:"text-yellow-600 dark:text-yellow-400",children:[(1024*L).toFixed(0)," Kbps"]})})}):(0,k.jsx)("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Online"})})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),(0,k.jsx)("span",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Offline"})]})}),(0,k.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[(0,k.jsx)("svg",{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,k.jsx)("span",{className:"text-sm font-semibold text-yellow-700 dark:text-yellow-300",children:null!==E?(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n<10?"0":"").concat(n)})(E):"Loading..."})]}),(0,k.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,k.jsxs)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:[V+1," / ",s.length]}),(0,k.jsx)("div",{className:"w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,k.jsx)("div",{className:"h-full bg-blue-600 dark:bg-blue-500 transition-all duration-300",style:{width:"".concat((V+1)/s.length*100,"%")}})})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsxs)("button",{onClick:ee,disabled:0===V,className:"group flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-blue-500 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-gray-300 dark:disabled:hover:border-gray-600 disabled:hover:text-gray-700 dark:disabled:hover:text-gray-300 shadow-sm",title:"Previous Question",children:[(0,k.jsx)(oN.irw,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"hidden md:inline",children:"Previous"})]}),(0,k.jsxs)("button",{onClick:$,disabled:V===s.length-1,className:"group flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-blue-500 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-gray-300 dark:disabled:hover:border-gray-600 disabled:hover:text-gray-700 dark:disabled:hover:text-gray-300 shadow-sm",title:"Next Question",children:[(0,k.jsx)("span",{className:"hidden md:inline",children:"Next"}),(0,k.jsx)(oN.fOo,{className:"w-4 h-4"})]})]})]})]}),(0,k.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,k.jsx)(cy,{children:R&&(0,k.jsxs)(sN.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween"},className:"fixed top-0 left-0 z-50 h-full w-64 bg-white dark:bg-gray-800 shadow-lg border-r border-gray-200 dark:border-gray-700",ref:H,children:[(0,k.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Questions"}),(0,k.jsx)("button",{onClick:()=>M(!1),className:"absolute top-3 right-3 p-1 text-gray-400 hover:text-gray-500 dark:text-gray-400 dark:hover:text-gray-300",children:(0,k.jsx)(oN.yGN,{size:20})})]}),(0,k.jsx)("div",{className:"overflow-y-auto h-[calc(100%-9rem)]",children:null===s||void 0===s?void 0:s.map((e,t)=>{const n=W[e],r=null===n||void 0===n?void 0:n.toLowerCase(),s=null===w||void 0===w?void 0:w[e],i=!0===s||"true"===s,o=!1===s||"false"===s,a=void 0!==s&&null!==s&&""!==s;let l=null;return"mcq"===r?l=a?(0,k.jsx)(oN.A3x,{className:"ml-2 flex-shrink-0 text-green-500"}):(0,k.jsx)(oN.DQs,{className:"ml-2 flex-shrink-0 text-gray-400"}):"programming"===r&&(a?i?l=(0,k.jsx)(oN.A3x,{className:"ml-2 flex-shrink-0 text-green-500"}):o&&(l=(0,k.jsx)(oN.q_G,{className:"ml-2 flex-shrink-0 text-red-500"})):l=(0,k.jsx)(oN.DQs,{className:"ml-2 flex-shrink-0 text-gray-400"})),(0,k.jsx)("button",{onClick:()=>{I(t),M(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ".concat(V===t?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300":"text-gray-700 dark:text-gray-300"),children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("span",{className:"w-6 h-6 flex items-center justify-center rounded-full mr-2 text-sm font-medium ".concat(V===t?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-200":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"),children:t+1}),(0,k.jsxs)("div",{className:"flex flex-col flex-1 min-w-0",children:[(0,k.jsx)("span",{className:"truncate text-sm font-medium",children:e}),(0,k.jsx)("span",{className:"text-[11px] uppercase tracking-wide font-semibold text-purple-600 dark:text-purple-300",children:n||"Loading"})]}),l]})},t)})}),(0,k.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("button",{onClick:()=>{X(!0),M(!1)},className:"w-full flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white text-sm font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:Y,title:"Submit Exam",children:Y?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,k.jsx)("span",{children:"Submitting..."})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(oN.YrT,{className:"w-4 h-4"}),(0,k.jsx)("span",{children:"Submit Exam"})]})})})]})}),(0,k.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:(0,k.jsx)(pN,{question:s[V]})})]})]}),(0,k.jsx)(cy,{children:J&&(0,k.jsx)(sN.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,k.jsxs)(sN.div,{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",initial:{scale:.9},animate:{scale:1},exit:{scale:.9},transition:{duration:.2},children:[(0,k.jsxs)("div",{className:"flex items-center mb-4",children:[(0,k.jsx)(oN.eHT,{className:"w-6 h-6 text-yellow-500 mr-2"}),(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Confirm Submission"})]}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"Are you sure you want to submit your exam? Once submitted, you won't be able to make any changes."}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,k.jsx)("button",{onClick:()=>X(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:Y,children:"Cancel"}),(0,k.jsx)("button",{onClick:async()=>{Z(!0);try{const e=(0,c.KR)(A.OO,"Exam/".concat(v,"/Properties/Progress/").concat(S.uid,"/status"));await(0,c.hZ)(e,"completed"),f(0),p(!1);const t=(0,c.KR)(A.OO,"Exam/".concat(v,"/Properties2/Progress/").concat(S.uid,"/"));await(0,c.hZ)(t,0),X(!1),a&&a()}catch(e){console.error("Error submitting exam:",e),alert("There was an error submitting the exam. Please try again.")}finally{Z(!1)}},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 transition-colors flex items-center justify-center min-w-[100px]",disabled:Y,children:Y?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit"})]})]})})})]})},mN=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[i,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{s(!0);const e=await globalThis.cocoSsd.load();n(e),o(null)}catch(tp){o("Failed to load detection model"),console.error("Model loading error:",tp)}finally{s(!1)}})()},[]);const a=(0,t.useCallback)(async t=>{if(!e||!t)return[];try{return(await e.detect(t)).filter(e=>"person"===e.class).map(e=>({class:e.class,score:e.score,bbox:e.bbox}))}catch(tp){return console.error("Detection error:",tp),[]}},[e]);return{detectPersons:a,isLoading:r,error:i,modelReady:!!e}},yN=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],vN=(()=>{if("undefined"===typeof document)return!1;const e=yN[0],t={};for(const n of yN){if((null===n||void 0===n?void 0:n[1])in document){for(const[r,s]of n.entries())t[e[r]]=s;return t}}return!1})(),wN={change:vN.fullscreenchange,error:vN.fullscreenerror};let bN={request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,t=arguments.length>1?arguments[1]:void 0;return new Promise((n,r)=>{const s=()=>{bN.off("change",s),n()};bN.on("change",s);const i=e[vN.requestFullscreen](t);i instanceof Promise&&i.then(s).catch(r)})},exit:()=>new Promise((e,t)=>{if(!bN.isFullscreen)return void e();const n=()=>{bN.off("change",n),e()};bN.on("change",n);const r=document[vN.exitFullscreen]();r instanceof Promise&&r.then(n).catch(t)}),toggle:(e,t)=>bN.isFullscreen?bN.exit():bN.request(e,t),onchange(e){bN.on("change",e)},onerror(e){bN.on("error",e)},on(e,t){const n=wN[e];n&&document.addEventListener(n,t,!1)},off(e,t){const n=wN[e];n&&document.removeEventListener(n,t,!1)},raw:vN};Object.defineProperties(bN,{isFullscreen:{get:()=>Boolean(document[vN.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return null!==(e=document[vN.fullscreenElement])&&void 0!==e?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[vN.fullscreenEnabled])}}),vN||(bN={isEnabled:!1});const xN=bN,CN=e=>{let{violation:n,setviolation:r,isViolationReady:s,testid:i,enableViolationTracking:o=!0}=e;const{user:a}=(0,l.A)(),[u,d]=((0,t.useRef)(null),(0,t.useState)(!1)),[h,f]=(0,t.useState)(0),[p,g]=(0,t.useState)(0),[m,y]=(0,t.useState)(0),[v,w]=(0,t.useState)(0),[b,x]=(0,t.useState)(0),[C,B]=(0,t.useState)(0),N=(0,t.useRef)(null),E=(0,t.useRef)(null),_=(0,t.useRef)(null),S=(0,t.useRef)(!1),F=(0,t.useRef)(!1),I=(0,t.useRef)(null),T=(0,t.useRef)(null),j=(0,t.useRef)(null),L=(0,t.useRef)(null),U=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o&&i&&null!==a&&void 0!==a&&a.uid)try{const n=(0,c.KR)(A.OO,"Exam/".concat(i,"/Violations/").concat(a.uid)),r=(0,c.VC)(n);await(0,c.hZ)(r,{reason:e,timestamp:(new Date).toISOString(),details:t,userAgent:navigator.userAgent,screenSize:"".concat(window.screen.width,"x").concat(window.screen.height),windowSize:"".concat(window.innerWidth,"x").concat(window.innerHeight)}),console.log("[Violation Logged] ".concat(e),t)}catch(n){console.error("Error logging violation:",n)}},Q=()=>{S.current||(S.current=!0,g(e=>e+1),s&&(r(e=>"number"===typeof e?e+1:1),U("tab_switch_detected",{detectedAt:(new Date).toISOString(),reason:"Immediate tab/window blur"})))};(0,t.useEffect)(()=>{if(!xN.isEnabled)return;const e=()=>{const e=xN.isFullscreen;d(e),e||(_.current=Date.now(),S.current=!1,N.current=null,F.current=!0,I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{!xN.isFullscreen&&s&&(console.warn("[Violation] Fullscreen exit detected"),U("fullscreen_exit",{exitTime:(new Date).toISOString(),gracePeriod:"1000ms"}),r(e=>e+1),f(e=>e+1)),I.current=null},1e3))};return xN.on("change",e),()=>xN.off("change",e)},[s,r]),(0,t.useEffect)(()=>{const e=()=>{if(!document.hidden&&!N.current){if(F.current)return void(F.current=!1);N.current=Date.now(),Q(),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{if(!document.hasFocus()&&s){console.warn("[Violation] Window blur >2s");const e=Date.now()-N.current;U("window_blur",{duration:"".concat(e,"ms"),gracePeriod:"2000ms",hasFocus:document.hasFocus()})}T.current=null},2e3)}},t=()=>{if(N.current){const e=Date.now()-N.current;x(t=>t+e),N.current=null}S.current=!1},n=()=>{if(document.hidden)N.current=Date.now(),Q(),T.current&&(clearTimeout(T.current),T.current=null),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{if(document.hidden&&s){console.warn("[Violation] Page hidden >2s");const e=Date.now()-N.current;U("tab_switch",{duration:"".concat(e,"ms"),gracePeriod:"2000ms",pageHidden:document.hidden,visibilityState:document.visibilityState})}j.current=null},2e3);else if(N.current){const e=Date.now()-N.current;x(t=>t+e),N.current=null,S.current=!1,F.current=!1}};return window.addEventListener("blur",e),window.addEventListener("focus",t),document.addEventListener("visibilitychange",n),()=>{window.removeEventListener("blur",e),window.removeEventListener("focus",t),document.removeEventListener("visibilitychange",n),T.current&&clearTimeout(T.current),j.current&&clearTimeout(j.current)}},[s,r]),(0,t.useEffect)(()=>{const e=e=>{if(e.clientY<=0||e.clientX<=0||e.clientX>=window.innerWidth||e.clientY>=window.innerHeight){E.current=Date.now();const t={x:e.clientX,y:e.clientY};L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{if(Date.now()-E.current>2e3&&s){console.warn("[Violation] Mouse left screen >2s");const e=Date.now()-E.current;U("mouse_leave",{duration:"".concat(e,"ms"),gracePeriod:"2000ms",lastPosition:t}),r(e=>e+1),y(e=>e+1)}L.current=null},2e3)}},t=()=>{if(E.current){const e=Date.now()-E.current;B(t=>t+e),E.current=null}};return document.addEventListener("mouseleave",e),document.addEventListener("mouseenter",t),()=>{document.removeEventListener("mouseleave",e),document.removeEventListener("mouseenter",t),L.current&&clearTimeout(L.current)}},[s,r]),(0,t.useEffect)(()=>{const e=()=>{!document.hidden&&document.hasFocus()||w(e=>e+1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);return(0,k.jsx)("div",{style:{display:"none"}})},BN=()=>{const[e,n]=(0,t.useState)("loading"),[r,s]=(0,t.useState)([]),[o,a]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1),[m,y]=(0,t.useState)({}),[v,w]=(0,t.useState)(1800),b=(0,t.useRef)(null),[x,C]=(0,t.useState)(!1),[B,N]=(0,t.useState)(null),[E,_]=(0,t.useState)(null),[S,F]=(0,t.useState)(""),[I,T]=(0,t.useState)(!1),[j,L]=(0,t.useState)(0),U=(0,t.useRef)(null),Q=(0,t.useRef)(null),P=(0,t.useRef)(null),O=(0,t.useRef)(null),D=(0,t.useRef)(null),[R,M]=(0,t.useState)(!1),[H,V]=(0,t.useState)(""),[K,q]=(0,t.useState)(!1),[z,W]=(0,t.useState)([]),G=(0,t.useRef)(null),J=(0,t.useRef)(null),[X,Y]=(0,t.useState)(null),Z=(0,t.useRef)(null),$=(0,t.useRef)(null),ee=(0,t.useRef)({noPerson:!1,multiPerson:!1}),[te,ne]=(0,t.useState)([]),[re,se]=(0,t.useState)([]),[ie,oe]=(0,t.useState)(""),[ae,le]=(0,t.useState)(""),[Ae,ce]=(0,t.useState)({enableVideoProctoring:!0,enableFullscreen:!0,blockOnViolations:!1}),{detectPersons:ue,isLoading:de,error:he,modelReady:fe}=mN(),{testid:pe}=(0,i.g)(),{user:ge}=(0,l.A)(),{isStreaming:me,connectionStatus:ye,activeConnections:ve}=function(e,n,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[i,o]=(0,t.useState)("disconnected"),[a,l]=(0,t.useState)(0),u=(0,t.useRef)(new Map),d=(0,t.useRef)(new Map),h=(0,t.useRef)([]),f={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"}],iceCandidatePoolSize:10},p=()=>{console.log("[WebRTC] Cleaning up connections"),u.current.forEach((e,t)=>{console.log("[WebRTC] Closing connection with admin:",t),e.close()}),u.current.clear(),d.current.clear(),h.current.forEach(e=>{"function"===typeof e&&e()}),h.current=[],e&&n&&(0,c.TF)((0,c.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n))),o("disconnected"),l(0)};(0,t.useEffect)(()=>{if(!s||!r||!e||!n)return console.log("[WebRTC] Not initializing:",{isActive:s,hasStream:!!r,testid:e,userId:n}),void p();console.log("[WebRTC] ===== Starting WebRTC Stream for user:",n,"====="),o("initializing");const t=(0,c.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n));(0,c.hZ)(t,{active:!0,userId:n,timestamp:Date.now(),status:"available"}),(0,c.yX)(t).remove();const i=(0,c.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/viewers")),a=(0,c.Zy)(i,async e=>{const t=e.val();if(t){console.log("[WebRTC] Active viewers:",Object.keys(t));for(const[e,n]of Object.entries(t)){if(u.current.has(e)){const t=u.current.get(e);if("connected"===t.connectionState||"connecting"===t.connectionState)continue}console.log("[WebRTC] Setting up connection for viewer:",e),await g(e,r)}}});return h.current.push(a),o("ready"),p},[s,r,e,n]);const g=async(t,r)=>{try{console.log("[WebRTC] Creating peer connection for:",t);const s=u.current.get(t);s&&s.close();const i=new RTCPeerConnection(f);u.current.set(t,i),d.current.set(t,[]),r.getTracks().forEach(e=>{i.addTrack(e,r),console.log("[WebRTC] Added track:",e.kind)}),i.onicecandidate=r=>{if(r.candidate){const s=(0,c.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/ice/").concat(t,"/student/").concat(Date.now()));(0,c.hZ)(s,r.candidate.toJSON())}},i.onconnectionstatechange=()=>{console.log("[WebRTC] Connection state [".concat(t,"]:"),i.connectionState),"connected"===i.connectionState?(o("streaming"),m()):"failed"!==i.connectionState&&"closed"!==i.connectionState||(u.current.delete(t),m())},i.oniceconnectionstatechange=()=>{console.log("[WebRTC] ICE state [".concat(t,"]:"),i.iceConnectionState)};const a=await i.createOffer({offerToReceiveVideo:!1,offerToReceiveAudio:!1});await i.setLocalDescription(a),console.log("[WebRTC] Sending offer to viewer:",t),await(0,c.hZ)((0,c.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/offers/").concat(t)),{sdp:a.sdp,type:a.type,timestamp:Date.now()});const l=(0,c.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/answers/").concat(t)),p=(0,c.Zy)(l,async e=>{const n=e.val();if(n&&n.sdp&&(console.log("[WebRTC] Received answer from:",t),"have-local-offer"===i.signalingState))try{await i.setRemoteDescription(new RTCSessionDescription(n));const e=d.current.get(t)||[];for(const t of e)await i.addIceCandidate(new RTCIceCandidate(t));d.current.set(t,[]),console.log("[WebRTC] Remote description set and candidates processed")}catch(r){console.error("[WebRTC] Error setting remote description:",r)}});h.current.push(p);const g=(0,c.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/ice/").concat(t,"/viewer")),y=(0,c.Zy)(g,e=>{const n=e.val();n&&Object.values(n).forEach(async e=>{if(i.remoteDescription)try{await i.addIceCandidate(new RTCIceCandidate(e))}catch(n){console.error("[WebRTC] Error adding ICE candidate:",n)}else{const n=d.current.get(t)||[];n.push(e),d.current.set(t,n)}})});h.current.push(y)}catch(s){console.error("[WebRTC] Error setting up peer connection:",s),u.current.delete(t)}},m=()=>{let e=0;u.current.forEach(t=>{"connected"===t.connectionState&&e++}),l(e)};return{isStreaming:"streaming"===i||a>0,connectionStatus:i,activeConnections:a}}(pe,null===ge||void 0===ge?void 0:ge.uid,X,"exam"===e&&Ae.enableVideoProctoring),[we,be]=(0,t.useState)(null),[xe,Ce]=(0,t.useState)(null),[Be,ke]=(0,t.useState)(!1);(0,t.useEffect)(()=>{console.log(p)},[p]),(0,t.useEffect)(()=>{console.log("[DynamicExam] Streaming status:",{isStreaming:me,connectionStatus:ye,activeConnections:ve,hasProctorStream:!!X,stage:e,enableVideoProctoring:Ae.enableVideoProctoring})},[me,ye,ve,X,e,Ae.enableVideoProctoring]);const Ne=async()=>{try{var e,t;const r=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/Progress/").concat(ge.uid)),s=await(0,c.Jt)(r),i=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/status")),o=await(0,c.Jt)(i);console.log(o.val());const a=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties")),l=await(0,c.Jt)(a),u=l.exists()?l.val():{},h=await(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(pe,"/duration"))),f=null!==(e=null!==(t=null===u||void 0===u?void 0:u.duration)&&void 0!==t?t:h.val())&&void 0!==e?e:v,p=Number(f)||60;if("completed"===o.val().toLowerCase())return n("completed"),!0;if(s.exists()){const e=s.val(),t="string"===typeof e?e:null===e||void 0===e?void 0:e.status,r="string"===typeof t&&"completed"===t.toLowerCase(),i="object"===typeof e&&null!==e?e:{},o=i.startTime||(null===u||void 0===u?void 0:u.startTime);if(!r&&o){const e=new Date(o);if((Date.now()-e.getTime())/6e4>=p){const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/Progress/").concat(ge.uid,"/status"));return await(0,c.hZ)(e,"completed"),await Pe(),!0}}if(r||!0===i.completed)return n("completed"),!0;if("string"===typeof t&&"blocked"===t.toLowerCase())return n("blocked"),!0;if(console.log(e),i.startTime)return n("resume"),d(i.startTime),!1}return!1}catch(r){return console.error("Error checking exam status:",r),!1}},Ee=(0,t.useCallback)(e=>{V(e),q(!0),setTimeout(()=>q(!1),5e3)},[]),Se=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(pe&&null!==ge&&void 0!==ge&&ge.uid)try{const n=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Violations/").concat(ge.uid)),r=(0,c.VC)(n);await(0,c.hZ)(r,{reason:e,timestamp:(new Date).toISOString(),details:t,userAgent:navigator.userAgent,screenSize:"".concat(window.screen.width,"x").concat(window.screen.height),windowSize:"".concat(window.innerWidth,"x").concat(window.innerHeight)}),console.log("[Violation Logged] ".concat(e),t)}catch(n){console.error("Error logging violation:",n)}},[pe,ge]),Fe=(0,t.useCallback)(async()=>{if(!U.current||"exam"!==e||!J.current)return;const t=await ue(U.current);W(t);const n=t.length,r=Date.now();if(0===n){if(Z.current){const e=(r-Z.current)/1e3;e>=5&&!ee.current.noPerson&&(Ee("\u26a0\ufe0f No person detected for 5 seconds - Violation recorded"),f(e=>(e||0)+1),Se("No Person Detected",{duration:"".concat(e.toFixed(1)," seconds"),personCount:0,detectionTime:(new Date).toISOString()}),ee.current.noPerson=!0)}else Z.current=r,ee.current.noPerson=!1;$.current=null,ee.current.multiPerson=!1}else if(n>1){if($.current){const e=(r-$.current)/1e3;e>=5&&!ee.current.multiPerson&&(Ee("\u26a0\ufe0f Multiple persons detected for 5 seconds - Violation recorded"),f(e=>(e||0)+1),Se("Multiple Persons Detected",{duration:"".concat(e.toFixed(1)," seconds"),personCount:n,detectionTime:(new Date).toISOString()}),ee.current.multiPerson=!0)}else $.current=r,ee.current.multiPerson=!1;Z.current=null,ee.current.noPerson=!1}else Z.current=null,$.current=null,ee.current.noPerson=!1,ee.current.multiPerson=!1},[ue,e,Ee,f]);(0,t.useEffect)(()=>("exam"===e&&J.current&&Ae.enableVideoProctoring?(U.current&&J.current&&(U.current.srcObject=J.current),J.current&&!X&&Y(J.current),fe&&(G.current=setInterval(Fe,1e3))):(G.current&&clearInterval(G.current),Z.current=null,$.current=null,ee.current={noPerson:!1,multiPerson:!1}),()=>{G.current&&clearInterval(G.current)}),[e,fe,Fe,Ae.enableVideoProctoring,X]);const Ie=()=>{try{if(D.current&&cancelAnimationFrame(D.current),D.current=null,P.current&&P.current.disconnect&&P.current.disconnect(),P.current=null,O.current&&O.current.close&&O.current.close(),O.current=null,Q.current&&Q.current.getTracks().forEach(e=>e.stop()),Q.current=null,U.current)try{U.current.srcObject=null}catch(_e){}}catch(_e){}},Te=async()=>{try{const e=await navigator.mediaDevices.enumerateDevices(),t=e.filter(e=>"videoinput"===e.kind),n=e.filter(e=>"audioinput"===e.kind);ne(t),se(n),t.length>0&&!ie&&oe(t[0].deviceId),n.length>0&&!ae&&le(n[0].deviceId)}catch(TE){console.error("Error enumerating devices:",TE)}},je=async()=>{T(!0),F(""),N(null),_(null),L(0),Ie();try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Media devices not supported");const e={video:!ie||{deviceId:{exact:ie}},audio:!ae||{deviceId:{exact:ae}}},t=await navigator.mediaDevices.getUserMedia(e);if(Q.current=t,U.current)try{U.current.srcObject=t}catch(_e){}const n=t.getVideoTracks()[0],r=t.getAudioTracks()[0];N(Boolean(n&&"live"===n.readyState)),_(Boolean(r&&"live"===r.readyState)),await Te();const s=new(window.AudioContext||window.webkitAudioContext);O.current=s;const i=s.createMediaStreamSource(t),o=s.createAnalyser();o.fftSize=256,P.current=o,i.connect(o);const a=new Uint8Array(o.frequencyBinCount),l=()=>{o.getByteTimeDomainData(a);let e=0;for(let r=0;r<a.length;r++){const t=(a[r]-128)/128;e+=t*t}const t=Math.sqrt(e/a.length),n=Math.min(100,Math.max(0,Math.round(180*t)));L(n),D.current=requestAnimationFrame(l)};l()}catch(TE){F((null===TE||void 0===TE?void 0:TE.message)||"Failed to access camera/microphone"),N(!1),_(!1)}finally{T(!1)}},Le=async()=>{C(!0),M(!1),await Te(),je()};(0,t.useEffect)(()=>{(async()=>{if(!p)return;if(pe&&ge&&null!==h){const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties2/Progress/").concat(ge.uid));await(0,c.hZ)(e,h)}const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties2/Progress/").concat(ge.uid,"/stage")),t=await(0,c.Jt)(e);Ae.blockOnViolations&&h>=2&&"completed"!=t.val()&&(console.log(t.val()),Oe())})()},[h,p,pe,ge,Ae.blockOnViolations]);(0,t.useEffect)(()=>{pe&&(async()=>{try{await Ne();Qe();const e=await(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(pe,"/name")));be(e.val());const t=(0,c.KR)(A.OO,"Exam/".concat(pe,"/proctorSettings")),r=await(0,c.Jt)(t);if(r.exists()){const e=r.val();ce({enableVideoProctoring:void 0===e.enableVideoProctoring||e.enableVideoProctoring,enableFullscreen:void 0===e.enableFullscreen||e.enableFullscreen,blockOnViolations:!0===e.blockOnViolations})}const i=await(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(pe,"/configure/questionsPerType")));y(i.val()),console.log(i.val());const o=await(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(pe,"/myquestions/").concat(ge.uid)));if(o.exists())s(o.val());else{const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/questions")),t=await(0,c.Jt)(e);if(!t.exists())return void console.error("No questions found for this test");const n=t.val(),r=await(0,c.Jt)((0,c.KR)(A.OO,"Exam/".concat(pe,"/configure/questionsPerType")));if(!r.exists())return void console.error("No question configuration found");const i=r.val();let o=[];const a=Object.entries(n),l=new Set;let u=!1;for(const[s,A]of Object.entries(i)){const e=a.filter(e=>{let[t,n]=e;return n.toLowerCase()===s.toLowerCase()}).filter(e=>{let[t]=e;return!l.has(t)});e.length<A&&(console.warn("Warning: Not enough questions of type ".concat(s,". Requested: ").concat(A,", Available: ").concat(e.length)),u=!0)}const d=u?Object.fromEntries(Object.entries(i).map(e=>{let[t,n]=e;const r=a.filter(e=>{let[n,r]=e;return r.toLowerCase()===t.toLowerCase()}).filter(e=>{let[t]=e;return!l.has(t)});return[t,Math.min(n,r.length)]})):i;for(const[s,A]of Object.entries(d)){if(A<=0)continue;const e=a.filter(e=>{let[t,n]=e;return n.toLowerCase()===s.toLowerCase()}).filter(e=>{let[t]=e;return!l.has(t)});if(0===e.length){console.warn("No available questions of type ".concat(s," after filtering"));continue}const t=[...e].sort(()=>Math.random()-.5).slice(0,A);o=[...o,...t.map(e=>{let[t]=e;return t})],t.forEach(e=>{let[t]=e;return l.add(t)}),console.log("Selected ".concat(t.length," questions of type ").concat(s))}o.length>0?(await(0,c.hZ)((0,c.KR)(A.OO,"Exam/".concat(pe,"/myquestions/").concat(ge.uid)),o),s(o)):console.error("No questions selected based on configuration")}await(async()=>{try{const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties2/Progress/").concat(ge.uid)),t=await(0,c.Jt)(e);if(t.exists()){const e=t.val();f(e)}else f(0);g(!0)}catch(e){console.error("Error checking exam status:",e)}})(),n(e=>"loading"===e?"instructions":e)}catch(e){console.error("Error fetching data:",e),n("instructions")}})(),(async()=>{try{const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/duration")),t=await(0,c.Jt)(e);if(t.exists()){const e=t.val();w(e),console.log(e)}}catch(e){console.error("Error checking exam status:",e)}})()},[pe]),(0,t.useEffect)(()=>{const t=async()=>{if(!(null!==document.fullscreenElement)&&"exam"===e){console.log("Exited full screen, checking exam status...");await Ne()||n("warning")}};return document.addEventListener("fullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t)}},[e,pe]),(0,t.useEffect)(()=>{const t=async()=>{const e=await(async()=>{try{const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties")),t=await(0,c.Jt)(e);if(t.exists()){const e=t.val(),n=new Date(e.startTime),r=e.duration||60,s=new Date(n.getTime()+6e4*r);if(new Date>s)return await Pe(),!0}return!1}catch(e){return console.error("Error checking exam duration:",e),!1}})();if(e){const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/Progress/").concat(ge.uid));await(0,c.hZ)(e,"completed"),n("completed"),Qe()}};"exam"===e&&t()},[e]);const Ue=async()=>{try{if(Ae.enableVideoProctoring&&!R)return void Le();if(await Ne())return;b.current.requestFullscreen&&await b.current.requestFullscreen(),n("exam")}catch(e){console.error("Failed to re-enter fullscreen:",e)}},Qe=async()=>{if(null!==ge&&void 0!==ge&&ge.uid){ke(!0);try{const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/myquestions/").concat(ge.uid)),t=(await(0,c.Jt)(e)).val()||[],n=(0,c.KR)(A.OO,"ExamSubmissions/".concat(pe,"/").concat(ge.uid)),r=(await(0,c.Jt)(n)).val()||{},s=(0,c.KR)(A.OO,"Marks/".concat(pe,"/").concat(ge.uid)),i=(await(0,c.Jt)(s)).val()||{};console.log(t),console.log(r),console.log(i);let o=0;const a=[];let l=0;for(const d of t){const e="true"===r[d];e&&o++;const t=(0,c.KR)(A.OO,"questions/".concat(d,"/type")),n=(await(0,c.Jt)(t)).val()||"mcq";console.log(i[d]||0),a.push({id:d,correct:e,type:n,mark:i[d]||0}),l+=i[d]||0}const u=t.length>0?Math.round(l/t.length):0;Ce({score:u,correctCount:o,totalQuestions:t.length,questions:a,totalMarks:l})}catch(e){console.error("Error fetching results:",e)}finally{ke(!1)}}},Pe=async()=>{try{const e=(0,c.KR)(A.OO,"ExamSubmissions/".concat(pe,"/status"));await(0,c.hZ)(e,"completed"),a("completed"),n("completed"),Qe()}catch(e){console.error("Error marking exam as completed:",e)}},Oe=async()=>{try{const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/Progress/").concat(ge.uid,"/status")),t=await(0,c.Jt)(e);console.log(t.val());const r=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/status"));if("completed"===(await(0,c.Jt)(r)).val().toLowerCase()||t.exists()&&"completed"===t.val()){const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/Progress/").concat(ge.uid,"/status"));return await(0,c.hZ)(e,"completed"),n("completed"),void Qe()}console.log("2 my block"),n("blocked"),await(0,c.hZ)(e,"blocked")}catch(e){console.error("Error marking exam as blocked:",e)}};return(0,k.jsxs)("div",{ref:b,className:"h-screen bg-gray-100 dark:bg-gray-900",children:["loading"===e&&(0,k.jsx)(qh.A,{message:"Loading exam, please wait..."}),"instructions"===e&&(0,k.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"w-full max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[(0,k.jsxs)("div",{className:"bg-blue-600 dark:bg-blue-700 px-6 py-4",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Exam Instructions"}),(0,k.jsx)("p",{className:"text-blue-100",children:"Please read the instructions carefully before starting"})]}),(0,k.jsxs)("div",{className:"p-6 md:p-8",children:[(0,k.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 mb-8",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:we||"Loading Exam..."}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,k.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Duration:"})," ",v?"".concat(Math.floor(v)," minutes"):"Loading..."]})]}),(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,k.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Questions:"})," ",(null===r||void 0===r?void 0:r.length)||0," total"]})]})]}),(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Question Types:"}),m&&(0,k.jsx)("div",{className:"space-y-1",children:Object.entries(m).map(e=>{let[t,n]=e;return n>0&&(0,k.jsxs)("div",{className:"flex justify-between items-center",children:[(0,k.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:t}),(0,k.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200 rounded-full",children:[n," ",1===n?"question":"questions"]})]},t)})})]})]})]}),(0,k.jsxs)("div",{className:"mb-8",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Important Instructions"}),(0,k.jsxs)("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:[(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,k.jsx)("span",{children:"This exam must be taken in full-screen mode. The test will automatically start in full-screen."})]}),Ae.enableFullscreen&&(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,k.jsx)("span",{children:"Exiting full screen will be tracked as a violation. Multiple violations may result in exam termination."})]}),Ae.enableVideoProctoring&&(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,k.jsx)("span",{children:"Video proctoring is enabled. Your camera will monitor for multiple persons or no person during the exam."})]}),(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),(0,k.jsx)("span",{children:"Do not refresh the page or switch tabs during the exam, as this may be flagged as suspicious activity."})]}),(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,k.jsx)("span",{children:"Your progress is automatically saved. You can resume the exam if you get disconnected."})]})]})]}),(0,k.jsx)("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pt-4",children:(0,k.jsxs)("button",{onClick:Ae.enableVideoProctoring?Le:async()=>{try{if(Ae.enableVideoProctoring&&!R)return void Le();const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/Progress/").concat(ge.uid)),t=await(0,c.Jt)(e);if(t.exists()&&t.val().startTime&&!t.val().completed)return console.log("meow"),void n("resume");if(t.exists()&&("completed"===t.val().status||!0===t.val().completed))return;const r=(new Date).toISOString();await(0,c.hZ)((0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/Progress/").concat(ge.uid)),{startTime:r,status:"started"}),d(r),b.current.requestFullscreen&&await b.current.requestFullscreen(),n("exam")}catch(e){console.error("Failed to enter fullscreen:",e)}},className:"inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[(0,k.jsxs)("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Start Exam Now"]})})]})]})}),"exam"===e&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(CN,{violation:h,setviolation:f,setIsViolationReady:g,isViolationReady:p,testid:pe,enableViolationTracking:Ae.enableFullscreen}),(0,k.jsx)(gN,{setviolation:f,setIsViolationReady:g,Questions:r,onExamComplete:Pe,startTime:u,duration:v,examName:we,videoRef:U,detections:z,isProctoringActive:Ae.enableVideoProctoring&&!!J.current}),Ae.enableVideoProctoring&&(0,k.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,k.jsxs)("div",{className:"flex flex-col items-end gap-1 px-3 py-2 rounded-lg shadow-lg ".concat("streaming"===ye?"bg-green-600 text-white":"ready"===ye?"bg-blue-600 text-white":"bg-yellow-600 text-white"),children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("streaming"===ye?"bg-white animate-pulse":"bg-white opacity-50")}),(0,k.jsx)("span",{className:"text-xs font-medium",children:"streaming"===ye?"Streaming":"ready"===ye?"Ready":"Initializing..."})]}),ve>0&&(0,k.jsxs)("span",{className:"text-[10px] opacity-90",children:[ve," viewer",ve>1?"s":""]})]})})]}),"warning"===e&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(CN,{violation:h,setviolation:f,testid:pe,isViolationReady:p,enableViolationTracking:Ae.enableFullscreen}),(0,k.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-100 dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"w-full max-w-3xl mx-auto p-8 rounded-xl shadow-lg bg-white dark:bg-gray-800 text-center space-y-6",children:[(0,k.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:we}),(0,k.jsx)("p",{className:"text-sm text-gray-500",children:"You exited fullscreen mode. Please return to fullscreen to continue your test."}),(0,k.jsx)("button",{onClick:Ae.enableVideoProctoring?Le:Ue,className:"px-6 py-3 rounded-md font-semibold text-white transition-colors bg-red-600 hover:bg-red-700",children:"Return to Fullscreen"})]})})]}),"resume"===e&&(0,k.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:(0,k.jsx)("div",{className:"w-full max-w-lg mx-auto",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,k.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 px-6 py-8 border-b border-yellow-100 dark:border-yellow-900/20",children:(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"w-12 h-12 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Exam Paused"}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:we})]})]})}),(0,k.jsxs)("div",{className:"px-6 py-6 space-y-6",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:(0,k.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null===ge||void 0===ge?void 0:ge.name)||"User"})}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Your exam has been paused. Click below to resume and continue from where you left off."})]}),m&&Object.entries(m).some(e=>{let[t,n]=e;return n>0})&&(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-3",children:"Exam Information"}),(0,k.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(m).map(e=>{let[t,n]=e;return n>0&&(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-md px-3 py-2",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:t.toLowerCase()}),(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[n," ",1===n?"Q":"Qs"]})]},t)})})]}),(0,k.jsx)("div",{className:"pt-4",children:(0,k.jsxs)("button",{onClick:Ae.enableVideoProctoring?Le:Ue,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,k.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),(0,k.jsx)("span",{children:"Resume Exam"})]})})]}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"Your progress has been saved"})})]})})}),"blocked"===e&&(0,k.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:(0,k.jsxs)("div",{className:"w-full max-w-lg mx-auto",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,k.jsx)("div",{className:"bg-red-50 dark:bg-red-900/10 px-6 py-8 border-b border-red-100 dark:border-red-900/20",children:(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Access Restricted"}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:we})]})]})}),(0,k.jsxs)("div",{className:"px-6 py-6 space-y-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null===ge||void 0===ge?void 0:ge.name)||"User"}),","]}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Your access to this exam has been restricted due to violation of exam policies."})]}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 border-l-4 border-red-500",children:(0,k.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Reason:"})," Maximum allowed violations exceeded"]})}),m&&Object.entries(m).some(e=>{let[t,n]=e;return n>0})&&(0,k.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-3",children:"Exam Information"}),(0,k.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(m).map(e=>{let[t,n]=e;return n>0&&(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-md px-3 py-2",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:t.toLowerCase()}),(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[n," ",1===n?"Q":"Qs"]})]},t)})})]}),(0,k.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-2",children:"Next Steps"}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please contact your administrator or exam coordinator for assistance."})]})]}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Need help?"}),(0,k.jsx)("a",{href:"mailto:support@algocore.com",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"support@algocore.com"})]})})]}),(0,k.jsx)("div",{className:"mt-6 text-center",children:(0,k.jsx)("button",{onClick:()=>window.location.href="/",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"\u2190 Back to Dashboard"})})]})}),"completed"===e&&(0,k.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:(0,k.jsxs)("div",{className:"w-full max-w-2xl mx-auto",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,k.jsx)("div",{className:"bg-green-50 dark:bg-green-900/10 px-6 py-8 border-b border-green-100 dark:border-green-900/20",children:(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Exam Completed"}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:we})]})]})}),(0,k.jsxs)("div",{className:"px-6 py-6 space-y-6",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["Congratulations ",(0,k.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null===ge||void 0===ge?void 0:ge.name)||"User"}),"!"]}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"You have successfully completed the exam. Your results are shown below."})]}),Be?(0,k.jsxs)("div",{className:"py-8 text-center",children:[(0,k.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-green-500 border-r-transparent"}),(0,k.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Calculating your results..."})]}):xe?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-4",children:"Your Results"}),(0,k.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg px-4 py-3 text-center",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Score"}),(0,k.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[xe.score,"%"]})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg px-4 py-3 text-center",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Correct"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:xe.correctCount})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg px-4 py-3 text-center",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:xe.totalQuestions})]})]}),xe.questions&&xe.questions.length>0&&(0,k.jsxs)("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-3",children:"Question Breakdown"}),(0,k.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:xe.questions.map((e,t)=>(0,k.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Q",t+1]}),(0,k.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.type," \u2022 ",e.mark||0," pts"]})]}),(0,k.jsx)("span",{className:"ml-2 px-3 py-1 text-xs font-medium rounded-full ".concat(e.correct?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":e.mark>0?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"),children:e.correct?"\u2713":e.mark>0?"~":"\u2717"})]},t))})]})]}),m&&Object.entries(m).some(e=>{let[t,n]=e;return n>0})&&(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-3",children:"Exam Summary"}),(0,k.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(m).map(e=>{let[t,n]=e;return n>0&&(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-md px-3 py-2",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:t.toLowerCase()}),(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[n," ",1===n?"Q":"Qs"]})]},t)})})]})]}):(0,k.jsx)("div",{className:"py-8 text-center",children:(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Unable to load results. Please check your dashboard later."})})]}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"View detailed results anytime in your dashboard"})})]}),(0,k.jsx)("div",{className:"mt-6 text-center",children:(0,k.jsx)("button",{onClick:()=>window.location.href="/",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"\u2190 Back to Dashboard"})})]})}),K&&(0,k.jsx)("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 bg-red-600 text-white px-6 py-3 rounded-lg shadow-2xl animate-bounce",children:H}),x&&(0,k.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:(0,k.jsxs)("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:[(0,k.jsxs)("div",{className:"px-6 py-5 bg-blue-600 dark:bg-blue-700 border-b border-blue-700 dark:border-blue-800",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Device Verification"}),(0,k.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"Verify your camera, microphone, and AI model"})]}),(0,k.jsx)("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-center gap-8 max-w-xl mx-auto",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-semibold ".concat(B?"bg-green-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:B?"\u2713":"1"}),(0,k.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Camera"})]}),(0,k.jsx)("div",{className:"h-0.5 w-16 ".concat(B?"bg-green-500":"bg-gray-300 dark:bg-gray-600")}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-semibold ".concat(E?"bg-green-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:E?"\u2713":"2"}),(0,k.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Microphone"})]}),(0,k.jsx)("div",{className:"h-0.5 w-16 ".concat(fe?"bg-green-500":"bg-gray-300 dark:bg-gray-600")}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-semibold ".concat(fe?"bg-green-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:fe?"\u2713":"3"}),(0,k.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"AI Model"})]})]})}),(0,k.jsxs)("div",{className:"p-6",children:[(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,k.jsx)("label",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Camera"}),(0,k.jsx)("span",{className:"px-2.5 py-0.5 rounded text-xs font-medium ".concat(B?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":!1===B?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"),children:B?"\u2713 Connected":!1===B?"\u2717 Blocked":"Checking..."})]}),te.length>0&&(0,k.jsx)("select",{value:ie,onChange:e=>{oe(e.target.value),setTimeout(je,100)},className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:te.map((e,t)=>(0,k.jsx)("option",{value:e.deviceId,children:e.label||"Camera ".concat(t+1)},e.deviceId))}),(0,k.jsxs)("div",{className:"relative aspect-video w-full bg-gray-900 rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:[(0,k.jsx)("video",{ref:U,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),I&&(0,k.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:(0,k.jsxs)("div",{className:"text-white text-center",children:[(0,k.jsx)("div",{className:"w-10 h-10 border-3 border-white border-t-transparent rounded-full animate-spin mx-auto mb-2"}),(0,k.jsx)("p",{className:"text-sm",children:"Initializing..."})]})})]})]}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,k.jsx)("label",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Microphone"}),(0,k.jsx)("span",{className:"px-2.5 py-0.5 rounded text-xs font-medium ".concat(E?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":!1===E?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"),children:E?"\u2713 Connected":!1===E?"\u2717 Blocked":"Checking..."})]}),re.length>0&&(0,k.jsx)("select",{value:ae,onChange:e=>{le(e.target.value),setTimeout(je,100)},className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:re.map((e,t)=>(0,k.jsx)("option",{value:e.deviceId,children:e.label||"Microphone ".concat(t+1)},e.deviceId))}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-md p-4 border border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Audio Level"}),(0,k.jsx)("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden relative",children:(0,k.jsx)("div",{className:"absolute inset-y-0 left-0 bg-green-500 transition-all duration-150",style:{width:"".concat(j,"%")}})}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Speak to test microphone"})]}),(0,k.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md p-4 border border-blue-200 dark:border-blue-800",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"AI Proctoring Model"}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[de&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,k.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Loading model..."})]}),he&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,k.jsxs)("span",{className:"text-sm text-red-600",children:["Error: ",he]})]}),fe&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,k.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Model Ready"})]})]})]})]})]})]}),S&&(0,k.jsx)("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md text-red-700 dark:text-red-300",children:(0,k.jsx)("p",{className:"text-sm",children:S})}),B&&E&&fe&&(0,k.jsx)("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:(0,k.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"\u2713 All devices ready"})})]}),(0,k.jsxs)("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center gap-3",children:[(0,k.jsx)("button",{onClick:je,disabled:I,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:I?"Testing...":"Retest"}),(0,k.jsxs)("div",{className:"flex gap-3",children:[(0,k.jsx)("button",{onClick:()=>{C(!1),Ie()},className:"px-4 py-2 text-sm font-medium bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Cancel"}),(0,k.jsx)("button",{onClick:async()=>{if(Ae.enableVideoProctoring){if(!B||!E)return void F("Please allow both camera and microphone to continue");if(!fe)return void F("AI model is still loading. Please wait...")}if(M(!0),J.current=Q.current,Y(Q.current),C(!1),"resume"===e||"warning"===e)try{if(await Ne())return;b.current.requestFullscreen&&await b.current.requestFullscreen(),n("exam")}catch(t){console.error("Failed to re-enter fullscreen:",t)}else try{const e=(0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/Progress/").concat(ge.uid)),t=await(0,c.Jt)(e);if(t.exists()&&t.val().startTime&&!t.val().completed)return void n("resume");if(t.exists()&&("completed"===t.val().status||!0===t.val().completed))return;const r=(new Date).toISOString();await(0,c.hZ)((0,c.KR)(A.OO,"Exam/".concat(pe,"/Properties/Progress/").concat(ge.uid)),{startTime:r,status:"started"}),d(r),b.current.requestFullscreen&&await b.current.requestFullscreen(),n("exam")}catch(t){console.error("Failed to enter fullscreen:",t)}},disabled:Ae.enableVideoProctoring&&(!B||!E||!fe),className:"px-5 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Exam"})]})]})]})})]})},kN=e=>{let{activeTab:t,setActiveTab:n}=e;return(0,k.jsx)("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex-shrink-0 h-full overflow-y-auto",children:(0,k.jsxs)("div",{className:"p-4",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Test Management"}),(0,k.jsx)("nav",{className:"space-y-2",children:[{id:"available-tests",label:"Available Tests",icon:"\ud83d\udcdd"},{id:"download-results",label:"Results",icon:"\ud83d\udcca"}].map(e=>{const r=t===e.id;return(0,k.jsxs)(sN.button,{onClick:()=>n(e.id),className:"w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ".concat(r?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),whileHover:{x:4},whileTap:{scale:.98},children:[(0,k.jsx)("span",{className:"mr-3 text-lg",children:e.icon}),e.label,r&&(0,k.jsx)(sN.span,{className:"ml-auto h-2 w-2 rounded-full bg-blue-500",layoutId:"activeTab",transition:{type:"spring",stiffness:500,damping:30}})]},e.id)})})]})})},NN=e=>{var t,n;let{test:r,onStart:s}=e;console.log(r);const i=(null===r||void 0===r||null===(t=r.Properties)||void 0===t?void 0:t.status)||"Unknown";return(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-200 border border-gray-200 dark:border-dark-tertiary",children:[(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:r.name}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:["Duration: ",r.duration," minutes"]}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Questions: ",null!==r&&void 0!==r&&null!==(n=r.configure)&&void 0!==n&&n.questionsPerType?Object.values(r.configure.questionsPerType).reduce((e,t)=>e+t,0):0]}),(0,k.jsxs)("div",{className:"mt-4",children:["NotStarted"===i&&(0,k.jsx)("button",{className:"w-full bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 py-2 px-4 rounded-md cursor-not-allowed",disabled:!0,children:"Available Soon"}),"Started"===i&&(0,k.jsx)("button",{onClick:()=>s(r.id),className:"w-full bg-blue-600 dark:bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:"View"}),"Completed"===i&&(0,k.jsx)("button",{onClick:()=>s(r.id),className:"w-full bg-green-500 dark:bg-green-600 text-white py-2 px-4 rounded-md cursor-not-allowed",children:"Completed"})]})]})},EN=()=>(0,k.jsx)("div",{className:"w-full max-w-sm p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"animate-pulse",children:[(0,k.jsx)("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-3/4 mb-4"}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded"}),(0,k.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-5/6"}),(0,k.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-4/6"})]}),(0,k.jsx)("div",{className:"mt-6 h-10 bg-gray-300 dark:bg-gray-600 rounded w-1/3"})]})}),_N=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[o,a]=(0,t.useState)(!0),u=(0,i.Zp)(),{user:h}=(0,l.A)();(0,t.useEffect)(()=>{f()},[]);const f=async()=>{try{const e=(0,c.KR)(A.OO),t=await(0,c.Jt)((0,c.jf)(e,"Exam"));if(t.exists()){const e=t.val(),r=Object.values(e),i=Object.entries(e).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)});console.log(i),console.log(null===h||void 0===h?void 0:h.email);const o=i.filter(e=>{var t;return console.log("Checking test:",Object.values(e.Eligible||{})),Array.isArray(Object.values(e.Eligible||{}))&&Object.values(e.Eligible||{}).includes(null===h||void 0===h?void 0:h.email)&&"completed"!==(null===(t=e.Properties.status)||void 0===t?void 0:t.toLowerCase())});console.log(o),n(r),s(o)}else console.log("No data available")}catch(e){console.error("Error loading mock exams from Firebase:",e)}finally{a(!1)}},p=e=>{console.log("Start test with ID:",e),u("/examwindow/".concat(e))};return(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(EN,{}),(0,k.jsx)(EN,{}),(0,k.jsx)(EN,{})]}):r.length>0?r.map(e=>(0,k.jsx)(NN,{test:e,onStart:p},e.id)):(0,k.jsx)("div",{className:"col-span-3 text-center py-12",children:(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No tests found. Create a new test to get started."})})})},SN=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),o=(0,i.Zp)(),{user:a}=(0,l.A)();(0,t.useEffect)(()=>{u()},[]);const u=async()=>{try{const e=(0,c.KR)(A.OO),t=await(0,c.Jt)((0,c.jf)(e,"Exam"));if(t.exists()){const e=t.val(),r=Object.entries(e).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)});console.log("All exams:",r),console.log("User email:",null===a||void 0===a?void 0:a.email),console.log(r);const i=r.filter(e=>Array.isArray(Object.values(e.Eligible||{}))&&Object.values(e.Eligible||{}).includes(null===a||void 0===a?void 0:a.email)&&"Completed"===e.Properties.status);console.log("Eligible & Completed:",i),n(r),s(i)}else console.log("No data available")}catch(e){console.error("Error loading mock exams from Firebase:",e)}},h=e=>{console.log("Start test with ID:",e),o("/examwindow/".concat(e))};return(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(e=>(0,k.jsx)(NN,{test:e,onStart:h},e.id)):(0,k.jsx)("div",{className:"col-span-3 text-center py-12",children:(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No tests found. Create a new test to get started."})})})},FN=()=>{const[e,n]=(0,t.useState)(()=>localStorage.getItem("studentActiveTab")||"available-tests");return(0,t.useEffect)(()=>{localStorage.setItem("studentActiveTab",e)},[e]),(0,k.jsxs)("div",{className:"flex h-[calc(100vh-4rem)] bg-gray-50 dark:bg-dark-primary overflow-hidden",children:[(0,k.jsx)(kN,{activeTab:e,setActiveTab:n}),(0,k.jsxs)("main",{className:"flex-1 p-8 overflow-y-auto",children:[(0,k.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Tests"})}),"available-tests"===e&&(0,k.jsx)(_N,{}),"download-results"===e&&(0,k.jsx)(SN,{})]})]})},IN=e=>{let{activeTab:t,setActiveTab:n}=e;return(0,k.jsx)("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex-shrink-0 h-full overflow-y-auto",children:(0,k.jsxs)("div",{className:"p-4",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Test Management"}),(0,k.jsx)("nav",{className:"space-y-2",children:[{id:"available-tests",label:"Available Tests",icon:"\ud83d\udcdd"},{id:"results",label:"Results",icon:"\ud83d\udcca"},{id:"edit-tests",label:"Edit Tests",icon:"\ud83d\udc65"},{id:"add-questions",label:"Add Questions",icon:"\u2795"}].map(e=>{const r=t===e.id;return(0,k.jsxs)(sN.button,{onClick:()=>n(e.id),className:"w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ".concat(r?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),whileHover:{x:4},whileTap:{scale:.98},children:[(0,k.jsx)("span",{className:"mr-3 text-lg",children:e.icon}),e.label,r&&(0,k.jsx)(sN.span,{className:"ml-auto h-2 w-2 rounded-full bg-blue-500",layoutId:"activeTab",transition:{type:"spring",stiffness:500,damping:30}})]},e.id)})})]})})};function TN(e){var t;let{test:n,startTest:r}=e;const s=(0,i.Zp)();return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 relative border border-gray-200 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-900",children:[(0,k.jsx)("div",{className:"absolute top-3 right-3",children:(0,k.jsx)("button",{onClick:e=>{e.stopPropagation(),s("/testedit/".concat(n.id))},className:"text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-gray-700",title:"Edit test",children:(0,k.jsx)(oN.SG1,{size:18})})}),(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white pr-6",children:n.name}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:["Created: ",new Date(n.createdAt).toLocaleDateString()]}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Status: ",(0,k.jsx)("span",{className:"capitalize",children:(null===(t=n.Properties)||void 0===t?void 0:t.status)||"draft"})]}),(0,k.jsx)("div",{className:"mt-4",children:(0,k.jsx)("button",{onClick:()=>r(n.id),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:"Start Test"})})]})}function jN(e){var t;let{test:n,endTest:r}=e;const s=(0,i.Zp)();return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 relative border border-gray-200 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-900",children:[(0,k.jsx)("div",{className:"absolute top-3 right-3"}),(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white pr-6",children:n.name}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:["Created: ",new Date(n.createdAt).toLocaleDateString()]}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Status: ",(0,k.jsx)("span",{className:"capitalize",children:(null===(t=n.Properties)||void 0===t?void 0:t.status)||"draft"})]}),(0,k.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,k.jsx)("button",{onClick:()=>r(n.id),className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 text-xs",children:"End Test"}),(0,k.jsx)("button",{onClick:()=>s("/exammonitor/".concat(n.id)),className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 text-xs",children:"View Progress"})]})]})}function LN(e){var n;let{test:r}=e;const s=(0,i.Zp)(),[o,a]=t.useState(!1),[l,u]=t.useState(!1);return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 relative border border-gray-200 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-900",children:[(0,k.jsx)("div",{className:"absolute top-3 right-3",children:(0,k.jsx)("button",{onClick:e=>{e.stopPropagation(),a(!0)},className:"text-gray-400 hover:text-red-600 dark:hover:text-red-400 p-1 rounded-full hover:bg-red-50 dark:hover:bg-gray-700",title:"Delete exam",children:(0,k.jsx)(oN.IXo,{size:18})})}),(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white pr-6",children:r.name}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:["Created: ",new Date(r.createdAt).toLocaleDateString()]}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Status: ",(0,k.jsx)("span",{className:"capitalize",children:(null===(n=r.Properties)||void 0===n?void 0:n.status)||"completed"})]}),(0,k.jsx)("div",{className:"mt-4",children:(0,k.jsx)("button",{onClick:()=>s("/adminresults/".concat(r.id)),className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:"Show Results"})}),o&&(0,k.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-sm",children:[(0,k.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Delete exam?"}),(0,k.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["This action cannot be undone. Are you sure you want to delete `",r.name,"`?"]}),(0,k.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,k.jsx)("button",{onClick:()=>a(!1),className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",disabled:l,children:"Cancel"}),(0,k.jsx)("button",{onClick:async()=>{u(!0);try{await(0,c.TF)((0,c.KR)(A.OO,"Exam/".concat(r.id))),a(!1)}catch(e){console.error("Error deleting exam:",e)}finally{u(!1)}},className:"px-4 py-2 rounded-md bg-red-600 hover:bg-red-700 text-white disabled:opacity-60",disabled:l,children:l?"Deleting...":"Delete"})]})]})})]})}const UN=["title","titleId"];function QN(e,n){let{title:r,titleId:s}=e,i=(0,h.A)(e,UN);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},i),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const PN=t.forwardRef(QN),ON=e=>{let{isOpen:n,onClose:r,question:s,onAddQuestions:i}=e;const[a,l]=(0,t.useState)("create"),[u,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[g,m]=(0,t.useState)([]),[y,v]=(0,t.useState)(""),[w,b]=(0,t.useState)(!0),[x,C]=(0,t.useState)({questionname:"",question:"",difficulty:"Easy",type:"MCQ",options:["","","",""],correctAnswer:1,explanation:"",constraints:[],Example:[],testcases:[],solution:""}),B=!!s;(0,t.useEffect)(()=>{if(B){const e=s.type||"MCQ";C({questionname:s.questionname||"",question:s.question||"",difficulty:s.difficulty||"Easy",type:e,options:s.options||["","","",""],correctAnswer:s.correctAnswer||1,explanation:s.explanation||"",constraints:s.constraints||[],Example:s.Example||[],testcases:s.testcases||[],solution:s.solution||""}),l("create")}else C({questionname:"",question:"",difficulty:"Easy",type:"MCQ",options:["","","",""],correctAnswer:1,explanation:"",constraints:[],Example:[],testcases:[],solution:""})},[n,s,B]),(0,t.useEffect)(()=>{if(n){const e=async()=>{try{const e=(0,c.KR)(A.OO,"questions"),t=await(0,c.Jt)(e);if(t.exists()){const e=t.val(),n=Object.entries(e).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)});h(n),p(n)}}catch(e){console.error("Error loading questions:",e),o.Ay.error("Failed to load questions.")}finally{b(!1)}};e()}},[n]),(0,t.useEffect)(()=>{if(""===y.trim())p(u);else{const e=y.toLowerCase(),t=u.filter(t=>t.questionname&&t.questionname.toLowerCase().includes(e)||t.question&&t.question.toLowerCase().includes(e));p(t)}},[y,u]);const N=e=>{const{name:t,value:n}=e.target;C(e=>(0,d.A)((0,d.A)({},e),{},{[t]:n}))};return n?(0,k.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black/30",children:(0,k.jsx)("div",{className:"flex min-h-screen items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"relative w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl",children:[(0,k.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",onClick:r,children:(0,k.jsx)(PN,{className:"h-6 w-6"})}),(0,k.jsx)("div",{className:"flex space-x-4 mb-6"}),"create"===a?(0,k.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!x.questionname||!x.question)return void o.Ay.error("Title and Description are required.");if("MCQ"===x.type){if(x.options.some(e=>!e.trim()))return void o.Ay.error("All MCQ options are required.");if(!x.explanation.trim())return void o.Ay.error("Explanation is required for MCQ questions.")}else if("Programming"===x.type){if(0===x.constraints.length)return void o.Ay.error("At least one constraint is required for Programming questions.");if(0===x.testcases.length)return void o.Ay.error("At least one test case is required for Programming questions.")}let t={questionname:x.questionname,question:x.question,difficulty:x.difficulty,type:x.type};"MCQ"===x.type?t=(0,d.A)((0,d.A)({},t),{},{options:x.options,correctAnswer:x.correctAnswer,explanation:x.explanation}):"Programming"===x.type&&(t=(0,d.A)((0,d.A)({},t),{},{constraints:x.constraints,Example:x.Example,testcases:x.testcases,solution:x.solution}));try{if(B){const e=(0,c.KR)(A.OO,"questions/".concat(s.id));await(0,c.yo)(e,t),o.Ay.success("Question updated successfully!")}else{const e=(0,c.KR)(A.OO,"questions/".concat(x.questionname));await(0,c.hZ)(e,t),o.Ay.success("Question added successfully!")}r()}catch(n){console.error("Error saving question:",n),o.Ay.error("Failed to save question.")}},className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Title"}),(0,k.jsx)("input",{type:"text",name:"questionname",value:x.questionname,onChange:N,className:"w-full p-2 border rounded-md mt-1",placeholder:"Enter question title"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Description"}),(0,k.jsx)("textarea",{name:"question",value:x.question,onChange:N,className:"w-full p-2 border rounded-md mt-1",rows:"4",placeholder:"Enter question description"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Difficulty"}),(0,k.jsxs)("select",{name:"difficulty",value:x.difficulty,onChange:N,className:"w-full p-2 border rounded-md mt-1",children:[(0,k.jsx)("option",{children:"Easy"}),(0,k.jsx)("option",{children:"Medium"}),(0,k.jsx)("option",{children:"Hard"})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Type"}),(0,k.jsxs)("select",{name:"type",value:x.type,onChange:N,className:"w-full p-2 border rounded-md mt-1",children:[(0,k.jsx)("option",{value:"MCQ",children:"MCQ"}),(0,k.jsx)("option",{value:"Programming",children:"Programming"})]})]})]}),"MCQ"===x.type&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Options"}),x.options.map((e,t)=>(0,k.jsx)("input",{type:"text",value:e,onChange:e=>{const n=[...x.options];n[t]=e.target.value,C(e=>(0,d.A)((0,d.A)({},e),{},{options:n}))},className:"w-full p-2 border rounded-md mt-1",placeholder:"Option ".concat(t+1)},t))]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Correct Answer"}),(0,k.jsx)("select",{value:x.correctAnswer,onChange:e=>C(t=>(0,d.A)((0,d.A)({},t),{},{correctAnswer:parseInt(e.target.value)})),className:"w-full p-2 border rounded-md mt-1",children:x.options.map((e,t)=>(0,k.jsxs)("option",{value:t+1,children:["Option ",t+1]},t))})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Explanation"}),(0,k.jsx)("textarea",{value:x.explanation,onChange:e=>C(t=>(0,d.A)((0,d.A)({},t),{},{explanation:e.target.value})),className:"w-full p-2 border rounded-md mt-1",rows:"3",placeholder:"Explain why this is the correct answer"})]})]}),"Programming"===x.type&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Constraints"}),x.constraints.map((e,t)=>(0,k.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,k.jsx)("input",{type:"text",value:e,onChange:e=>{const n=[...x.constraints];n[t]=e.target.value,C(e=>(0,d.A)((0,d.A)({},e),{},{constraints:n}))},className:"flex-1 p-2 border rounded-md",placeholder:"Constraint ".concat(t+1)}),(0,k.jsx)("button",{type:"button",onClick:()=>{const e=x.constraints.filter((e,n)=>n!==t);C(t=>(0,d.A)((0,d.A)({},t),{},{constraints:e}))},className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,k.jsx)("button",{type:"button",onClick:()=>C(e=>(0,d.A)((0,d.A)({},e),{},{constraints:[...e.constraints,""]})),className:"mt-2 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Add Constraint"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Examples"}),x.Example.map((e,t)=>(0,k.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,k.jsx)("textarea",{value:e,onChange:e=>{const n=[...x.Example];n[t]=e.target.value,C(e=>(0,d.A)((0,d.A)({},e),{},{Example:n}))},className:"flex-1 p-2 border rounded-md font-mono",rows:"3",placeholder:"Example ".concat(t+1)}),(0,k.jsx)("button",{type:"button",onClick:()=>{const e=x.Example.filter((e,n)=>n!==t);C(t=>(0,d.A)((0,d.A)({},t),{},{Example:e}))},className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,k.jsx)("button",{type:"button",onClick:()=>C(e=>(0,d.A)((0,d.A)({},e),{},{Example:[...e.Example,""]})),className:"mt-2 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Add Example"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Test Cases"}),x.testcases.map((e,t)=>(0,k.jsx)("div",{className:"border rounded-md p-3 mt-2",children:(0,k.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs font-medium text-gray-600",children:"Input"}),(0,k.jsx)("textarea",{value:e.input||"",onChange:e=>{const n=[...x.testcases];n[t]=(0,d.A)((0,d.A)({},n[t]),{},{input:e.target.value}),C(e=>(0,d.A)((0,d.A)({},e),{},{testcases:n}))},className:"w-full p-2 border rounded-md font-mono text-sm",rows:"2",placeholder:"Test case input"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs font-medium text-gray-600",children:"Expected Output"}),(0,k.jsx)("textarea",{value:e.expectedOutput||"",onChange:e=>{const n=[...x.testcases];n[t]=(0,d.A)((0,d.A)({},n[t]),{},{expectedOutput:e.target.value}),C(e=>(0,d.A)((0,d.A)({},e),{},{testcases:n}))},className:"w-full p-2 border rounded-md font-mono text-sm",rows:"2",placeholder:"Expected output"})]}),(0,k.jsx)("button",{type:"button",onClick:()=>{const e=x.testcases.filter((e,n)=>n!==t);C(t=>(0,d.A)((0,d.A)({},t),{},{testcases:e}))},className:"self-start px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 text-sm",children:"Remove Test Case"})]})},t)),(0,k.jsx)("button",{type:"button",onClick:()=>C(e=>(0,d.A)((0,d.A)({},e),{},{testcases:[...e.testcases,{input:"",expectedOutput:""}]})),className:"mt-2 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Add Test Case"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Solution (Optional)"}),(0,k.jsx)("textarea",{value:x.solution,onChange:e=>C(t=>(0,d.A)((0,d.A)({},t),{},{solution:e.target.value})),className:"w-full p-2 border rounded-md mt-1 font-mono",rows:"6",placeholder:"Enter the solution code (optional)"})]})]}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,k.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium bg-gray-200 rounded-md hover:bg-gray-300",onClick:r,children:"Cancel"}),(0,k.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:B?"Save Changes":"Create Question"})]})]}):(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsx)("input",{type:"text",placeholder:"Search questions...",className:"w-full p-2 border rounded-md",value:y,onChange:e=>v(e.target.value)})}),(0,k.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-4",children:w?(0,k.jsx)("div",{children:"Loading questions..."}):0===f.length?(0,k.jsx)("p",{className:"text-center text-gray-500 py-4",children:y?"No questions match your search.":"No questions available."}):f.map(e=>(0,k.jsx)("div",{className:"p-4 rounded-lg border ".concat(g.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),onClick:()=>{return t=e.id,void m(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:(0,k.jsxs)("div",{className:"flex items-start",children:[(0,k.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:()=>{},className:"mt-1 h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),(0,k.jsxs)("div",{className:"ml-3",children:[(0,k.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.questionname}),(0,k.jsx)("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:e.question||"No description available"})]})]})},e.id))}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,k.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",onClick:r,children:"Cancel"}),(0,k.jsxs)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 ".concat(0===g.length?"opacity-50 cursor-not-allowed":""),onClick:()=>{if("function"===typeof i){const e=u.filter(e=>g.includes(e.id));i(e),r()}else o.Ay.error("Cannot add questions to test. Functionality not available.")},disabled:0===g.length,children:["Add Selected (",g.length,")"]})]})]})]})})}):null},DN=["title","titleId"];function RN(e,n){let{title:r,titleId:s}=e,i=(0,h.A)(e,DN);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},i),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const MN=t.forwardRef(RN),HN=["title","titleId"];function VN(e,n){let{title:r,titleId:s}=e,i=(0,h.A)(e,HN);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},i),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const KN=t.forwardRef(VN),qN=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=(0,c.KR)(A.OO,"questions"),t=(0,c.Zy)(e,e=>{if(e.exists()){const t=e.val(),r=Object.entries(t).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)});n(r),s(r)}else n([]),s([]);p(!1)});return()=>t()},[]),(0,t.useEffect)(()=>{if(""===i.trim())s(e);else{const t=i.toLowerCase(),n=e.filter(e=>e.questionname&&e.questionname.toLowerCase().includes(t)||e.question&&e.question.toLowerCase().includes(t));s(n)}},[i,e]);return(0,k.jsxs)("div",{className:"p-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold",children:"Manage Questions"}),(0,k.jsx)("button",{onClick:()=>{h(null),l(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add New Question"})]}),(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsx)("input",{type:"text",placeholder:"Search questions...",className:"w-full p-2 border rounded-md",value:i,onChange:e=>o(e.target.value)})}),f?(0,k.jsx)("div",{children:"Loading questions..."}):0===r.length?(0,k.jsx)("div",{className:"text-center py-4",children:i?"No questions match your search.":"No questions available."}):(0,k.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,k.jsx)("div",{className:"p-4 border rounded-md shadow-sm",children:(0,k.jsxs)("div",{className:"flex justify-between items-start",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"font-semibold",children:e.questionname}),(0,k.jsx)("p",{className:"text-gray-600 mt-1",children:e.question}),(0,k.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,k.jsx)("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.difficulty}),(0,k.jsx)("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.type})]})]}),(0,k.jsxs)("div",{className:"flex space-x-2",children:[(0,k.jsx)("button",{onClick:()=>(e=>{h(e),l(!0)})(e),className:"p-1 text-blue-600 hover:text-blue-800",children:(0,k.jsx)(MN,{className:"h-5 w-5"})}),(0,k.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this question?"))try{await(0,c.TF)((0,c.KR)(A.OO,"questions/".concat(e)))}catch(t){console.error("Error deleting question:",t)}})(e.id),className:"p-1 text-red-600 hover:text-red-800",children:(0,k.jsx)(KN,{className:"h-5 w-5"})})]})]})},e.id))}),(0,k.jsx)(ON,{isOpen:a,onClose:()=>l(!1),question:u})]})},zN=()=>{const e=(0,i.Zp)(),[n,r]=(0,t.useState)([]),[s,a]=(0,t.useState)(()=>localStorage.getItem("adminActiveTab")||"available-tests"),[l,u]=(0,t.useState)(""),[h,f]=(0,t.useState)(!0),[p,g]=(0,t.useState)(!1),[m,y]=(0,t.useState)("date"),[v,w]=(0,t.useState)("desc");(0,t.useEffect)(()=>{const e=(0,c.C3)(),t=(0,c.KR)(e,"Exam"),n=(0,c.Zy)(t,e=>{const t=e.val();if(t){const e=Object.keys(t).map(e=>(0,d.A)({id:e},t[e]));r(e)}f(!1)});return()=>n()},[]),(0,t.useEffect)(()=>{localStorage.setItem("adminActiveTab",s)},[s]);const b=async e=>{try{await(0,c.yo)((0,c.KR)(A.OO,"Exam/".concat(e,"/Properties")),{status:"Started"}),o.Ay.success("Test started successfully")}catch(t){console.error("Error starting test:",t),o.Ay.error("Failed to start test")}},x=async e=>{try{await(0,c.yo)((0,c.KR)(A.OO,"Exam/".concat(e,"/Properties")),{status:"Completed"}),o.Ay.success("Test ended successfully")}catch(t){console.error("Error starting test:",t),o.Ay.error("Failed to start test")}},C=(0,t.useMemo)(()=>Array.isArray(n)?n.filter(e=>{var t,n;const r=(null===(t=e.Properties)||void 0===t?void 0:t.status)||"NotStarted",i=null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase());return"available-tests"===s?i&&"Started"===r:"results"===s?i&&"Completed"===r:"edit-tests"===s?i&&"NotStarted"===r:i}):[],[n,l,s]),B=(0,t.useMemo)(()=>[...C].sort((e,t)=>{if("name"===m){const n=(e.name||"").toLowerCase(),r=(t.name||"").toLowerCase(),s=n.localeCompare(r);return"asc"===v?s:-s}const n=new Date(e.completedAt||e.createdAt||0).getTime()-new Date(t.completedAt||t.createdAt||0).getTime();return"asc"===v?n:-n}),[C,m,v]);return(0,k.jsxs)("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[(0,k.jsx)(IN,{activeTab:s,setActiveTab:a}),(0,k.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Tests"}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 justify-end",children:[(0,k.jsx)("input",{type:"text",placeholder:"Search tests...",className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:l,onChange:e=>u(e.target.value)}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("label",{htmlFor:"sortField",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sort"}),(0,k.jsxs)("select",{id:"sortField",value:m,onChange:e=>y(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,k.jsx)("option",{value:"date",children:"Date"}),(0,k.jsx)("option",{value:"name",children:"Name"})]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("label",{htmlFor:"sortOrder",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Order"}),(0,k.jsxs)("select",{id:"sortOrder",value:v,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,k.jsx)("option",{value:"desc",children:"Descending"}),(0,k.jsx)("option",{value:"asc",children:"Ascending"})]})]}),"edit-tests"===s&&(0,k.jsxs)("button",{onClick:async()=>{if(!p){g(!0);try{const t=(0,c.KR)(A.OO,"Exam"),n=(0,c.VC)(t);await(0,c.hZ)(n,{id:n.key,name:"Exam-".concat(n.key.slice(0,5)),createdAt:(new Date).toISOString(),questions:[],Eligible:{},duration:60,Properties:{status:"NotStarted"}}),e("/testedit/".concat(n.key))}catch(t){console.error("Error creating test:",t)}finally{g(!1)}}},disabled:p,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 disabled:opacity-50",children:[(0,k.jsx)(oN.GGD,{className:"mr-2"}),p?"Creating...":"Create Test"]})]})]}),h?(0,k.jsx)(qh.A,{message:"Loading tests, please wait..."}):"add-questions"===s?(0,k.jsx)(qN,{}):(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(e=>(0,k.jsxs)("div",{children:["edit-tests"===s&&(0,k.jsx)(TN,{test:e,startTest:b}),"available-tests"===s&&(0,k.jsx)(jN,{test:e,endTest:x}),"results"===s&&(0,k.jsx)(LN,{test:e})]},e.id))})]})]})};var WN=n(816);const GN=["title","titleId"];function JN(e,n){let{title:r,titleId:s}=e,i=(0,h.A)(e,GN);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},i),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const XN=t.forwardRef(JN),YN=e=>{let{isOpen:n,onClose:r,onAddQuestions:s,questions:i=[],existingQuestionIds:o=[]}=e;const[a,l]=(0,t.useState)("select"),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[m,y]=(0,t.useState)(!0),[v,w]=(0,t.useState)(""),[b,x]=(0,t.useState)(1),[C]=(0,t.useState)(10),[B,N]=(0,t.useState)("all"),[E,_]=(0,t.useState)("title"),[S,F]=(0,t.useState)("asc");(0,t.useEffect)(()=>{let e=[...u];if("all"!==B&&(e=e.filter(e=>e.type&&e.type.toLowerCase()===B.toLowerCase())),""!==v.trim()){const t=v.toLowerCase();e=e.filter(e=>e.title&&e.title.toLowerCase().includes(t)||e.content&&e.content.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.type&&e.type.toLowerCase().includes(t))}e.sort((e,t)=>{let n,r;return"title"===E?(n=(e.title||"").toLowerCase(),r=(t.title||"").toLowerCase()):"type"===E&&(n=(e.type||"").toLowerCase(),r=(t.type||"").toLowerCase()),"asc"===S?n.localeCompare(r):r.localeCompare(n)}),f(e),x(1)},[v,u,B,E,S]);const{totalPages:I,indexOfFirstItem:T,indexOfLastItem:j,currentItems:L,pageNumbers:U,startPage:Q,endPage:P}=t.useMemo(()=>{const e=h.length,t=Math.max(1,Math.ceil(e/C)),n=Math.min(b*C,e),r=(b-1)*C,s=h.slice(r,n),i=[];let o=Math.max(1,b-Math.floor(2.5)),a=Math.min(t,o+5-1);a-o+1<5&&(o=Math.max(1,a-5+1));for(let l=o;l<=a;l++)i.push(l);return{totalPages:t,indexOfFirstItem:r,indexOfLastItem:n,currentItems:s,pageNumbers:i,startPage:o,endPage:a,showPagination:e>0}},[h,b,C]);(0,t.useEffect)(()=>{if(i.length>0)d(i),f(i),y(!1);else{const e=async()=>{try{const e=(0,c.KR)(A.OO,"questions"),t=await(0,c.Jt)(e);if(t.exists()){const e=Object.entries(t.val()).map(e=>{let[t,n]=e;return{id:t,title:n.questionname,description:n.question,difficulty:n.difficulty,type:n.type,examples:n.Example,constraints:n.constraints,testCases:n.testcases}});console.log(e),d(e),f(e)}}catch(e){console.error("Error loading questions:",e)}finally{y(!1)}};n&&e()}},[n,i]);return n?(0,k.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,k.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,k.jsx)("div",{className:"fixed inset-0 bg-black/30",onClick:r,"aria-hidden":"true"}),(0,k.jsxs)("div",{className:"relative w-full max-w-4xl rounded-lg bg-white dark:bg-gray-800 p-6 shadow-xl",children:[(0,k.jsx)("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-500",onClick:r,children:(0,k.jsx)(PN,{className:"h-6 w-6","aria-hidden":"true"})}),(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"select"===a?"Select Questions":"Create New Question"}),(0,k.jsx)("div",{className:"mt-4",children:"select"===a?(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,k.jsx)("input",{type:"text",className:"block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 dark:text-white bg-white dark:bg-gray-700 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",placeholder:"Search by title, content, or type (MCQ, Programming, SQL)...",value:v,onChange:e=>w(e.target.value)}),(0,k.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,k.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,k.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Filter:"}),(0,k.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[(0,k.jsx)("button",{onClick:()=>N("all"),className:"px-3 py-1.5 text-xs font-medium rounded-l-md border ".concat("all"===B?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"All"}),(0,k.jsx)("button",{onClick:()=>N("mcq"),className:"px-3 py-1.5 text-xs font-medium border-t border-b ".concat("mcq"===B?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"MCQ"}),(0,k.jsx)("button",{onClick:()=>N("programming"),className:"px-3 py-1.5 text-xs font-medium border-t border-b ".concat("programming"===B?"bg-green-600 text-white border-green-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"Programming"}),(0,k.jsx)("button",{onClick:()=>N("sql"),className:"px-3 py-1.5 text-xs font-medium rounded-r-md border ".concat("sql"===B?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"SQL"})]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,k.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),(0,k.jsxs)("select",{value:E,onChange:e=>_(e.target.value),className:"text-xs px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 dark:text-white",children:[(0,k.jsx)("option",{value:"title",children:"Title"}),(0,k.jsx)("option",{value:"type",children:"Type"})]}),(0,k.jsx)("button",{onClick:()=>F(e=>"asc"===e?"desc":"asc"),className:"px-2 py-1.5 text-xs font-medium border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 bg-white dark:bg-gray-800 dark:text-white flex items-center gap-1",title:"asc"===S?"Ascending":"Descending",children:"asc"===S?"\u2191 A-Z":"\u2193 Z-A"})]})]}),h.length>0&&(0,k.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Showing ",h.length," question",1!==h.length?"s":"","all"!==B&&" (".concat(B.toUpperCase()," only)")]})]}),(0,k.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-4",children:m?(0,k.jsx)(qh.A,{message:"Loading questions, please wait..."}):0===h.length?(0,k.jsx)("p",{className:"text-center text-gray-500 py-4",children:v||"all"!==B?"No questions match your filters.":"No questions available."}):L.map(e=>{const t=o.includes(e.id),n=p.includes(e.id);return(0,k.jsx)("div",{className:"p-4 rounded-lg border transition-all cursor-pointer relative ".concat(t?"border-green-400 bg-green-50 dark:bg-green-900/20 opacity-70":n?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-500"),onClick:()=>{return t=e.id,void g(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:(0,k.jsxs)("div",{className:"flex items-start",children:[(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)("input",{type:"checkbox",checked:p.includes(e.id)||t,onChange:()=>{},disabled:t,className:"mt-1 h-4 w-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"}),t&&(0,k.jsx)("svg",{className:"absolute top-1 left-0 h-4 w-4 text-green-600 pointer-events-none",fill:"currentColor",viewBox:"0 0 20 20",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),(0,k.jsxs)("div",{className:"ml-3 flex-1",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title}),e.type&&(0,k.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ".concat("mcq"===e.type.toLowerCase()?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"programming"===e.type.toLowerCase()?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"sql"===e.type.toLowerCase()?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:e.type.toUpperCase()})]}),(0,k.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400 line-clamp-2",children:e.content||e.description||"No description available"})]})]})},e.id)})}),h.length>0&&(0,k.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,k.jsx)("button",{onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===b,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,k.jsx)("button",{onClick:()=>x(e=>Math.min(I,e+1)),disabled:b===I,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,k.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,k.jsx)("div",{children:(0,k.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",(0,k.jsx)("span",{className:"font-medium",children:T+1})," to"," ",(0,k.jsx)("span",{className:"font-medium",children:Math.min(j,h.length)})," ","of ",(0,k.jsx)("span",{className:"font-medium",children:h.length})," results"]})}),(0,k.jsx)("div",{children:(0,k.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,k.jsxs)("button",{onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===b,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,k.jsx)("span",{className:"sr-only",children:"Previous"}),(0,k.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Q>1&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("button",{onClick:()=>x(1),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium ".concat(1===b?"z-10 bg-indigo-50 dark:bg-indigo-900/50 border-indigo-500 text-indigo-600 dark:text-indigo-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:"1"}),Q>2&&(0,k.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium text-gray-700 dark:text-gray-300",children:"..."})]}),U.map(e=>(0,k.jsx)("button",{onClick:()=>x(e),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(e===b?"z-10 bg-indigo-50 dark:bg-indigo-900/50 border-indigo-500 text-indigo-600 dark:text-indigo-300":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:e},e)),P<I&&(0,k.jsxs)(k.Fragment,{children:[P<I-1&&(0,k.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium text-gray-700 dark:text-gray-300",children:"..."}),(0,k.jsx)("button",{onClick:()=>x(I),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium ".concat(I===b?"z-10 bg-indigo-50 dark:bg-indigo-900/50 border-indigo-500 text-indigo-600 dark:text-indigo-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:I})]}),(0,k.jsxs)("button",{onClick:()=>x(e=>Math.min(I,e+1)),disabled:b===I,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,k.jsx)("span",{className:"sr-only",children:"Next"}),(0,k.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}):(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Question Title"}),(0,k.jsx)("input",{type:"text",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter question title"})]}),(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),(0,k.jsx)("textarea",{rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter question description"})]})]})}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600",onClick:r,children:"Cancel"}),(0,k.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ".concat("select"===a&&0===p.length?"opacity-50 cursor-not-allowed":""),onClick:"select"===a?()=>{const e=u.filter(e=>p.includes(e.id));s(e),r()}:()=>{},disabled:"select"===a&&0===p.length,children:"select"===a?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(XN,{className:"-ml-0.5 mr-1.5 h-5 w-5 inline"}),"Add Selected (",p.length,")"]}):"Create Question"})]})]})]})]})}):null},ZN=e=>{let{test:n,setTest:r,testId:s}=e;const[i,a]=(0,t.useState)(!0),[l,u]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),[g,m]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(!s)return void a(!1);const e=(0,c.KR)(A.OO,"Exam/".concat(s,"/questions")),t=(0,c.Zy)(e,e=>{const t=e.val();if(t){const e=Array.isArray(t)?t.reduce((e,t)=>(0,d.A)((0,d.A)({},e),{},{[t]:"mcq"}),{}):t;r(t=>(0,d.A)((0,d.A)({},t),{},{questions:e}))}else r(e=>(0,d.A)((0,d.A)({},e),{},{questions:{}}));a(!1)});return()=>t()},[s,r]);const w=async e=>{try{if(!n||!n.questions)return;const t=(0,c.KR)(A.OO,"Exam/".concat(s,"/questions")),r=await(0,c.Jt)(t);let i=r.exists()?r.val():{};Array.isArray(i)&&(i=i.reduce((e,t)=>(0,d.A)((0,d.A)({},e),{},{[t]:"mcq"}),{}));const{[e]:a}=i,l=(0,h.A)(i,[e].map(WN.A));return await(0,c.hZ)(t,l),o.oR.success("Question deleted successfully"),l}catch(tp){o.oR.error("Failed to delete question"),console.error(tp)}},b=e=>{(async e=>{try{const t=(0,c.KR)(A.OO,"Exam/".concat(s,"/questions"));let n=(await(0,c.Jt)(t)).val()||{};Array.isArray(n)&&(n=n.reduce((e,t)=>(0,d.A)((0,d.A)({},e),{},{[t]:"mcq"}),{}));const r=Array.isArray(e)?e:[e],i=(0,d.A)({},n);return r.forEach(e=>{const t=e.name||e.title||e,n=e.type||"mcq";i[t]=n}),await(0,c.hZ)(t,i),o.oR.success("Added ".concat(r.length," question(s) successfully")),i}catch(tp){throw o.oR.error("Failed to add questions"),tp}})(e).then(e=>{e&&r(t=>(0,d.A)((0,d.A)({},t),{},{questions:e})),p(!1),u(null)}).catch(console.error)},x=(0,t.useCallback)(async e=>{if(n&&window.confirm("Are you sure you want to delete this question?"))try{v(!0);const t=await w(e);t&&r(e=>(0,d.A)((0,d.A)({},e),{},{questions:t})),o.oR.success("Question deleted successfully")}catch(t){console.error("Error deleting question:",t),o.oR.error("Failed to delete question")}finally{v(!1)}},[n,w]),C=(0,t.useMemo)(()=>{if(null===n||void 0===n||!n.questions)return[];const e=Object.entries(n.questions).map(e=>{let[t,n]=e;return{name:t,type:n}});if(!g)return e;const t=g.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(t)||e.type.toLowerCase().includes(t))},[null===n||void 0===n?void 0:n.questions,g]);return i?(0,k.jsx)(qh.A,{message:"Loading questions, please wait..."}):(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[null!==n&&void 0!==n&&n.questions&&0!==Object.keys(n.questions).length?(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg",children:[(0,k.jsxs)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,k.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Test Questions"}),(0,k.jsxs)("button",{onClick:()=>{u(null),p(!0)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)(oN.GGD,{className:"mr-1.5 h-4 w-4"}),"Add Question"]})]}),(0,k.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row gap-3",children:[(0,k.jsx)("div",{className:"flex-1",children:(0,k.jsx)("input",{type:"text",placeholder:"Search questions by title or description...",value:g,onChange:e=>m(e.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white p-2"})}),(0,k.jsxs)("button",{onClick:()=>{const e=C;o.oR.success("Found ".concat(e.length," matching questions"))},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]})]}),(0,k.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:C.length>0?(0,k.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,k.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Question"}),(0,k.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),(0,k.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,k.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:C.map((e,t)=>(0,k.jsxs)("tr",{className:t%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:String(e.type||"mcq").toUpperCase()}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,k.jsx)("button",{onClick:()=>x(e.name),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 mr-4",disabled:y,children:(0,k.jsx)(oN.IXo,{className:"h-5 w-5"})})})]},e.name))})]}):(0,k.jsx)("div",{className:"px-4 py-6 text-center text-gray-500 dark:text-gray-400",children:g?"No matching questions found":"No questions added yet"})})]}):(0,k.jsxs)("div",{className:"text-center py-8",children:[(0,k.jsx)("p",{className:"text-gray-500",children:"No questions found"}),(0,k.jsxs)("button",{onClick:()=>{u(null),p(!0)},className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[(0,k.jsx)(oN.GGD,{className:"mr-2"})," Add Question"]})]}),f&&(0,k.jsx)(YN,{isOpen:f,onClose:()=>{u(null),p(!1)},onAddQuestions:e=>{b(e)},questions:l?[l]:[],existingQuestionIds:null!==n&&void 0!==n&&n.questions?Object.keys(n.questions):[]})]})},$N=e=>{let{test:n,setTest:r,testId:s}=e;const[i,a]=(0,t.useState)(!0),[l,u]=(0,t.useState)({}),[h,f]=(0,t.useState)([]),[p,g]=(0,t.useState)({name:"",email:""}),[m,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(!1),[b,x]=(0,t.useState)(null),[C,B]=(0,t.useState)(!1),[N,E]=(0,t.useState)([]),[_,S]=(0,t.useState)(!1),[F,I]=(0,t.useState)(new Set),[T,j]=(0,t.useState)(!1),[L,U]=(0,t.useState)(""),[Q,P]=(0,t.useState)("name"),[O,D]=(0,t.useState)("asc"),R=(0,t.useCallback)(async()=>{try{const e=(0,c.KR)(A.OO,"Exam/".concat(s,"/Eligible")),t=await(0,c.Jt)(e);if(!t.exists())return{eligibleStudents:{},enrolledStudents:[]};const n=t.val();let r={};return n&&"object"===typeof n&&!Array.isArray(n)?r=n:Array.isArray(n)?r=n.reduce((e,t)=>(e[t.name]=t.email,e),{}):n&&"object"===typeof n&&(r=Object.entries(n).reduce((e,t)=>{let[n,r]=t;return"string"===typeof r?e[n]=r:e[r.name]=r.email,e},{})),{eligibleStudents:r,enrolledStudents:Object.keys(r)}}catch(e){return console.error("Error fetching students:",e),{eligibleStudents:{},enrolledStudents:[]}}},[s]);(0,t.useEffect)(()=>{s&&(async()=>{const{eligibleStudents:e,enrolledStudents:t}=await R();u(e),f(t),a(!1)})()},[s,R]);const M=(0,t.useCallback)(async()=>{S(!0);try{const e=(0,c.KR)(A.OO,"Students"),t=await(0,c.Jt)(e);if(!t.exists())return void o.oR.error("No students found in database");const n=t.val();if(!Array.isArray(n))return void o.oR.error("Invalid students data format");const r=(0,c.KR)(A.OO,"users"),s=await(0,c.Jt)(r),i=s.exists()?s.val():{},a=[];for(const o of n){const e=Object.entries(i).find(e=>{let[t,n]=e;return n.email===o});a.push({email:o,name:e&&e[1].name||o,uid:e?e[0]:null})}E(a),j(!0)}catch(e){console.error("Error fetching all students:",e),o.oR.error("Failed to load students from database")}finally{S(!1)}},[]),H=(0,t.useCallback)(async()=>{if(0!==F.size){w(!0);try{const e=(0,c.KR)(A.OO,"Exam/".concat(s,"/Eligible")),t=await(0,c.Jt)(e),n=t.exists()?t.val():{};let r=0,i=0;const a=(0,d.A)({},n);F.forEach(e=>{const t=N.find(t=>t.email===e);t&&(n[t.name]||Object.values(n).includes(t.email)?i++:(a[t.name]=t.email,r++))}),r>0?(await(0,c.hZ)(e,a),u(a),f(Object.keys(a)),o.oR.success("Added ".concat(r," student(s)").concat(i>0?". Skipped ".concat(i," duplicate(s)."):""))):o.oR.warning("All selected students already exist"),I(new Set),j(!1),U(""),P("name"),D("asc")}catch(e){console.error("Error adding students:",e),o.oR.error("Failed to add students")}finally{w(!1)}}else o.oR.error("Please select at least one student")},[F,N,s]),V=(0,t.useCallback)(async e=>{try{if(!e.email||!e.name)return void o.oR.error("Both email and name are required");w(!0);const t=(0,c.KR)(A.OO,"Exam/".concat(s,"/Eligible")),n=await(0,c.Jt)(t),r=n.exists()?n.val():{};if(r[e.name])return void o.oR.error("Student with this name already exists");if(Object.values(r).includes(e.email))return void o.oR.error("This email is already registered");await(0,c.yo)(t,{[e.name]:e.email}),u(t=>(0,d.A)((0,d.A)({},t),{},{[e.name]:e.email})),f(t=>[...t,e.name]),g({name:"",email:""}),o.oR.success("Student added successfully")}catch(tp){console.error("Add student error:",tp),o.oR.error("Failed to add student: ".concat(tp.message))}finally{w(!1)}},[s]),K=(0,t.useCallback)(async e=>{try{w(!0);const t={};t["Exam/".concat(s,"/Eligible/").concat(e)]=null,await(0,c.yo)((0,c.KR)(A.OO),t),u(t=>{const n=(0,d.A)({},t);return delete n[e],n}),f(t=>t.filter(t=>t!==e)),o.oR.success("Student deleted successfully")}catch(tp){o.oR.error("Failed to delete student"),console.error(tp)}finally{w(!1)}},[s]);return i?(0,k.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,k.jsxs)("div",{className:"mb-4 flex flex-col sm:flex-row gap-3",children:[(0,k.jsx)("div",{className:"flex-1",children:(0,k.jsx)("input",{type:"text",placeholder:"Search students by name or email...",value:m,onChange:e=>y(e.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white p-2"})}),(0,k.jsxs)("button",{onClick:()=>{const e=Object.entries(l).filter(e=>{let[t,n]=e;return t.toLowerCase().includes(m.toLowerCase())||n.toLowerCase().includes(m.toLowerCase())});f(e.map(e=>{let[t]=e;return t})),o.oR.success("Found ".concat(e.length," matching students"))},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)(oN.pHD,{className:"mr-1.5 h-4 w-4"}),"Search"]})]}),(0,k.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md overflow-hidden mb-4",children:(0,k.jsx)("div",{className:"max-h-96 overflow-y-auto",children:h.length>0?(0,k.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h.map(e=>{const t=l[e];return t?(0,k.jsxs)("li",{className:"px-4 py-3 flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e}),(0,k.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]}),(0,k.jsx)("button",{onClick:()=>K(e),className:"text-red-600 hover:text-red-800 dark:hover:text-red-400",children:(0,k.jsx)(oN.IXo,{className:"h-5 w-5"})})]},e):null})}):(0,k.jsx)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No students found"})})}),(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Add Students"}),(0,k.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,k.jsxs)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[(0,k.jsx)(oN.vq3,{className:"mr-2 h-4 w-4"}),"Select from Student Database"]}),(0,k.jsxs)("div",{className:"flex gap-3",children:[(0,k.jsx)("button",{onClick:M,disabled:_,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:_?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Loading..."]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(oN.cfS,{className:"mr-2 h-4 w-4"}),"Browse Students"]})}),T&&(0,k.jsx)("button",{onClick:()=>{j(!1),I(new Set),U(""),P("name"),D("asc")},className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"})]}),T&&(0,k.jsxs)("div",{className:"mt-4 border border-gray-200 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800",children:[(0,k.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,k.jsxs)("h6",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Select Students (",F.size," selected)"]}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)("button",{onClick:()=>{const e=new Set(N.filter(e=>e.name.toLowerCase().includes(L.toLowerCase())||e.email.toLowerCase().includes(L.toLowerCase())).sort((e,t)=>{const n=e[Q].toLowerCase(),r=t[Q].toLowerCase();return"asc"===O?n.localeCompare(r):r.localeCompare(n)}).map(e=>e.email));I(e)},className:"text-xs px-2 py-1 text-blue-600 dark:text-blue-400 hover:underline",children:"Select All"}),(0,k.jsx)("button",{onClick:()=>I(new Set),className:"text-xs px-2 py-1 text-gray-600 dark:text-gray-400 hover:underline",children:"Clear All"})]})]}),(0,k.jsxs)("div",{className:"relative mb-3",children:[(0,k.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:L,onChange:e=>U(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),L&&(0,k.jsx)("button",{onClick:()=>U(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,k.jsx)(oN.yGN,{className:"h-4 w-4"})})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sort by:"}),(0,k.jsxs)("select",{value:Q,onChange:e=>P(e.target.value),className:"text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,k.jsx)("option",{value:"name",children:"Name"}),(0,k.jsx)("option",{value:"email",children:"Email"})]}),(0,k.jsx)("button",{onClick:()=>D(e=>"asc"===e?"desc":"asc"),className:"text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white flex items-center gap-1",title:"asc"===O?"Ascending":"Descending",children:"asc"===O?"\u2191 A-Z":"\u2193 Z-A"})]})]}),(0,k.jsx)("div",{className:"max-h-64 overflow-y-auto",children:N.filter(e=>e.name.toLowerCase().includes(L.toLowerCase())||e.email.toLowerCase().includes(L.toLowerCase())).sort((e,t)=>{const n=e[Q].toLowerCase(),r=t[Q].toLowerCase();return"asc"===O?n.localeCompare(r):r.localeCompare(n)}).length>0?(0,k.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:N.filter(e=>e.name.toLowerCase().includes(L.toLowerCase())||e.email.toLowerCase().includes(L.toLowerCase())).sort((e,t)=>{const n=e[Q].toLowerCase(),r=t[Q].toLowerCase();return"asc"===O?n.localeCompare(r):r.localeCompare(n)}).map(e=>(0,k.jsx)("li",{className:"p-3 hover:bg-gray-50 dark:hover:bg-gray-700",children:(0,k.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,k.jsx)("input",{type:"checkbox",checked:F.has(e.email),onChange:()=>{return t=e.email,void I(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,k.jsxs)("div",{className:"ml-3 flex-1",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]})]})},e.email))}):(0,k.jsx)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No students found"})}),F.size>0&&(0,k.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:(0,k.jsx)("button",{onClick:H,disabled:v,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:v?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Adding..."]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(oN.YrT,{className:"mr-2 h-4 w-4"}),"Add Selected Students"]})})})]})]}),(0,k.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,k.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Bulk Upload from CSV"}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-start",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("input",{type:"file",accept:".csv",onChange:e=>x(e.target.files[0]),className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-600 dark:file:text-gray-200"}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"CSV format: Name, Email (one student per line)"})]}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsxs)("button",{onClick:()=>{const e=new Blob(["Name,Email\nJohn Doe,john.doe@example.com\nJane Smith,jane.smith@example.com"],{type:"text/csv"}),t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="students_template.csv",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t),o.oR.success("CSV template downloaded")},className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)(oN.a4x,{className:"mr-1.5 h-4 w-4"}),"Template"]}),(0,k.jsx)("button",{onClick:async()=>{if(b){B(!0);try{const e=(e=>{const t=e.split("\n").filter(e=>e.trim()),n=[];for(let r=t[0].toLowerCase().includes("name")||t[0].toLowerCase().includes("email")?1:0;r<t.length;r++){const e=t[r].trim();if(!e)continue;const[s,i]=e.split(",").map(e=>e.trim().replace(/"/g,""));s&&i&&i.includes("@")&&n.push({name:s,email:i})}return n})(await b.text());if(0===e.length)return void o.oR.error("No valid students found in CSV file");const t=(0,c.KR)(A.OO,"Exam/".concat(s,"/Eligible")),n=await(0,c.Jt)(t),r=n.exists()?n.val():{};let i=0,a=0;const l=(0,d.A)({},r);for(const s of e)r[s.name]||Object.values(r).includes(s.email)?a++:(l[s.name]=s.email,i++);i>0?(await(0,c.hZ)(t,l),console.log(l),console.log(l),console.log(a),u(l),f(Object.keys(l)),o.oR.success("Added ".concat(i," students successfully").concat(a>0?". Skipped ".concat(a," duplicates."):""))):o.oR.warning("All students in the CSV already exist"),x(null)}catch(e){console.error("CSV upload error:",e),o.oR.error("Failed to process CSV file")}finally{B(!1)}}else o.oR.error("Please select a CSV file")},disabled:!b||C,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:C?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-1.5"}),"Uploading..."]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(oN.B88,{className:"mr-1.5 h-4 w-4"}),"Upload CSV"]})})]})]})]}),(0,k.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Add Individual Student"}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-3",children:[(0,k.jsx)("input",{type:"text",placeholder:"Name",value:p.name,onChange:e=>g((0,d.A)((0,d.A)({},p),{},{name:e.target.value})),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white p-2"}),(0,k.jsx)("input",{type:"email",placeholder:"Email",value:p.email,onChange:e=>g((0,d.A)((0,d.A)({},p),{},{email:e.target.value})),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white p-2"}),(0,k.jsxs)("button",{onClick:async()=>{if(p.name&&p.email)try{await V(p)}catch(tp){console.error(tp)}},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)(oN.vq3,{className:"mr-1.5 h-4 w-4"}),"Add Student"]})]})]})]})},eE=e=>{var n,r;let{test:s,testId:i,duration:a}=e;const[l,u]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[p,g]=(0,t.useState)(!0),[m,y]=(0,t.useState)(0),[v,w]=(0,t.useState)(!1),[b,x]=(0,t.useState)(!1),C=t.useRef(null);if((0,t.useEffect)(()=>{(async()=>{if(null!==s&&void 0!==s&&s.questions)try{var e;const t=Object.keys(s.questions),n=[];for(const e of t){const t=(0,c.KR)(A.OO,"questions/".concat(e)),r=await(0,c.Jt)(t);r.exists()&&n.push((0,d.A)({id:e},r.val()))}const r=(null===s||void 0===s||null===(e=s.configure)||void 0===e?void 0:e.questionsPerType)||{},i=parseInt(r.mcq)||0,o=parseInt(r.programming)||0,a=parseInt(r.sql)||0,l=parseInt(r.other)||0,h={mcq:[],programming:[],sql:[],other:[]};n.forEach(e=>{var t;const n=(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())||"other";"mcq"===n?h.mcq.push(e):"programming"===n?h.programming.push(e):"sql"===n?h.sql.push(e):h.other.push(e)});const p=[],g=[],m=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t};if(i>0){const e=m(h.mcq).slice(0,i);p.push(...e),g.push(...e.map(e=>e.id))}if(o>0){const e=m(h.programming).slice(0,o);p.push(...e),g.push(...e.map(e=>e.id))}if(a>0){const e=m(h.sql).slice(0,a);p.push(...e),g.push(...e.map(e=>e.id))}if(l>0){const e=m(h.other).slice(0,l);p.push(...e),g.push(...e.map(e=>e.id))}0===p.length?(f(t),u(n)):(f(g),u(p))}catch(t){console.error("Error fetching preview questions:",t),o.oR.error("Failed to load preview")}finally{g(!1)}else g(!1)})()},[null===s||void 0===s?void 0:s.questions,null===s||void 0===s||null===(n=s.configure)||void 0===n?void 0:n.questionsPerType]),(0,t.useEffect)(()=>{const e=()=>{x(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),p)return(0,k.jsx)(qh.A,{message:"Loading exam preview..."});if(0===l.length)return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-8 text-center",children:[(0,k.jsx)(oN.Vap,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,k.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-white",children:"No Questions Added"}),(0,k.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Add questions to this exam to see the preview."})]});return(0,k.jsx)("div",{ref:C,className:"h-screen bg-gray-50 dark:bg-gray-900",children:b?(0,k.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[(0,k.jsxs)("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsx)("button",{onClick:()=>w(!v),className:"p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none",children:(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,k.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null===s||void 0===s?void 0:s.name)||"Exam Preview"}),(0,k.jsx)("span",{className:"px-3 py-1 text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full",children:"PREVIEW MODE"})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,k.jsx)("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,k.jsxs)("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:[a," min"]})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,k.jsxs)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:[m+1," / ",l.length]}),(0,k.jsx)("div",{className:"w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,k.jsx)("div",{className:"h-full bg-blue-600 dark:bg-blue-500 transition-all duration-300",style:{width:"".concat((m+1)/l.length*100,"%")}})})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsxs)("button",{onClick:()=>{m>0&&y(m-1)},disabled:0===m,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-blue-500 hover:text-blue-600 transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:[(0,k.jsx)(oN.irw,{className:"w-4 h-4"}),(0,k.jsx)("span",{children:"Previous"})]}),(0,k.jsxs)("button",{onClick:()=>{m<l.length-1&&y(m+1)},disabled:m===l.length-1,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-blue-500 hover:text-blue-600 transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:[(0,k.jsx)("span",{children:"Next"}),(0,k.jsx)(oN.fOo,{className:"w-4 h-4"})]})]})]})]}),(0,k.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[v&&(0,k.jsxs)("div",{className:"w-64 bg-white dark:bg-gray-800 shadow-lg border-r border-gray-200 dark:border-gray-700 overflow-y-auto",children:[(0,k.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,k.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Questions"}),(0,k.jsx)("button",{onClick:()=>w(!1),className:"p-1 text-gray-400 hover:text-gray-500",children:(0,k.jsx)(oN.yGN,{size:20})})]}),(0,k.jsx)("div",{children:l.map((e,t)=>(0,k.jsx)("button",{onClick:()=>{(e=>{y(e)})(t),w(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ".concat(m===t?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300":"text-gray-700 dark:text-gray-300"),children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("span",{className:"w-6 h-6 flex items-center justify-center rounded-full mr-2 text-sm font-medium ".concat(m===t?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-200":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"),children:t+1}),(0,k.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,k.jsx)("span",{className:"truncate text-sm font-medium",children:e.title||"Question ".concat(t+1)}),(0,k.jsx)("span",{className:"text-[11px] uppercase tracking-wide font-semibold text-purple-600 dark:text-purple-300",children:e.type})]})]})},t))})]}),(0,k.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:(0,k.jsx)(pN,{question:h[m]})})]})]}):(0,k.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,k.jsxs)("div",{className:"max-w-2xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-xl shadow-2xl text-center",children:[(0,k.jsx)("div",{className:"mb-6",children:(0,k.jsx)(oN.Vap,{className:"mx-auto h-16 w-16 text-blue-600 dark:text-blue-400"})}),(0,k.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Exam Preview Mode"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Experience the exam exactly as students will see it. The preview will open in fullscreen mode to simulate the real exam environment."}),(0,k.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6",children:[(0,k.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Preview Details:"}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,k.jsxs)("div",{className:"text-left",children:[(0,k.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Exam:"})," ",(null===s||void 0===s?void 0:s.name)||"Loading..."]}),(0,k.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Total Questions:"})," ",l.length]})]}),(0,k.jsxs)("div",{className:"text-left",children:[(0,k.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Duration:"})," ",a," minutes"]}),(0,k.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Mode:"})," Read-only preview"]})]})]}),(null===s||void 0===s||null===(r=s.configure)||void 0===r?void 0:r.questionsPerType)&&(0,k.jsxs)("div",{className:"pt-2 border-t border-blue-200 dark:border-blue-700",children:[(0,k.jsx)("p",{className:"text-xs font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Question Distribution:"}),(0,k.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[parseInt(s.configure.questionsPerType.mcq)>0&&(0,k.jsx)("div",{className:"bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:(0,k.jsxs)("span",{className:"font-medium text-green-700 dark:text-green-300",children:["MCQ: ",s.configure.questionsPerType.mcq]})}),parseInt(s.configure.questionsPerType.programming)>0&&(0,k.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded",children:(0,k.jsxs)("span",{className:"font-medium text-purple-700 dark:text-purple-300",children:["Programming: ",s.configure.questionsPerType.programming]})}),parseInt(s.configure.questionsPerType.sql)>0&&(0,k.jsx)("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 px-2 py-1 rounded",children:(0,k.jsxs)("span",{className:"font-medium text-yellow-700 dark:text-yellow-300",children:["SQL: ",s.configure.questionsPerType.sql]})}),parseInt(s.configure.questionsPerType.other)>0&&(0,k.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:(0,k.jsxs)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Other: ",s.configure.questionsPerType.other]})})]})]})]})]}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("button",{onClick:async()=>{try{C.current&&(await C.current.requestFullscreen(),x(!0))}catch(e){console.error("Failed to enter fullscreen:",e),o.oR.error("Failed to enter fullscreen mode")}},className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all flex items-center justify-center gap-2",children:[(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),"Start Fullscreen Preview"]}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Press ESC to exit fullscreen at any time"})]})]})})})},tE=()=>{var e;const{testId:n}=(0,i.g)(),r=(0,i.Zp)(),[s,a]=(0,t.useState)(null),[l,u]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),[p,g]=(0,t.useState)(()=>localStorage.getItem("testManageActiveTab")||"questions"),[m,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(""),[b,x]=(0,t.useState)(60),[C,B]=(0,t.useState)(!1),[N,E]=(0,t.useState)(!0),[_,S]=(0,t.useState)(!1),[F,I]=(0,t.useState)({mcq:0,programming:0,sql:0,other:0}),T=(0,t.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={mcq:{name:"MCQ",count:0,selected:0},programming:{name:"programming",count:0,selected:0},sql:{name:"SQL",count:0,selected:0},other:{name:"Other",count:0,selected:0}};if(!e||"object"!==typeof e)return t;if(Object.values(e).forEach(e=>{const n=String(e||"").toLowerCase();"mcq"===n?t.mcq.count++:"programming"===n||"programming"===n?t.programming.count++:"sql"===n?t.sql.count++:n&&t.other.count++}),null!==s&&void 0!==s&&s.selectedQuestions){const e=Object.values(s.selectedQuestions).map(e=>String(e.type||"").toLowerCase());e.forEach(e=>{"mcq"===e?t.mcq.selected++:"programming"===e||"programming"===e?t.programming.selected++:"sql"===e?t.sql.selected++:e&&t.other.selected++})}return t},[]),j=(0,t.useMemo)(()=>{if(null===s||void 0===s||!s.questions)return{total:0,categories:{}};const e=T(s.questions),t=Object.values(e).reduce((e,t)=>e+t.count,0);return{total:t,categories:e}},[null===s||void 0===s?void 0:s.questions,T]);(0,t.useEffect)(()=>{var e;if(null!==s&&void 0!==s&&null!==(e=s.configure)&&void 0!==e&&e.questionsPerType){const e=s.configure.questionsPerType;I({mcq:Number(e.mcq)||0,programming:Number(e.programming)||0,sql:Number(e.sql)||0,other:Number(e.other)||0})}else if(null!==s&&void 0!==s&&s.questions){const e={mcq:0,programming:0,sql:0,other:0};I(e);const t=async()=>{try{await(0,c.hZ)((0,c.KR)(A.OO,"Exam/".concat(n,"/configure")),{questionsPerType:e,updatedAt:Date.now()})}catch(h){console.error("Error saving default config:",h)}};t()}},[null===s||void 0===s?void 0:s.questions,null===s||void 0===s||null===(e=s.configure)||void 0===e?void 0:e.questionsPerType,n]),(0,t.useEffect)(()=>{n&&(async()=>{try{const e=(0,c.KR)(A.OO,"Exam/".concat(n)),t=await(0,c.Jt)(e);if(t.exists()){const e=t.val();a(e),e.name&&w(e.name);const r=T(e.questions);setQuestionStats(r),e.duration&&x(e.duration),e.proctorSettings&&(E(void 0===e.proctorSettings.enableVideoProctoring||e.proctorSettings.enableVideoProctoring),S(!0===e.proctorSettings.blockOnViolations));const s=(0,c.KR)(A.OO,"Exam/".concat(n,"/configure")),i=await(0,c.Jt)(s);if(i.exists()&&i.val().questionsPerType){const e=i.val().questionsPerType,t={mcq:Number(e.mcq)||0,programming:Number(e.programming)||0,sql:Number(e.sql)||0,other:Number(e.other)||0};I(t),a(e=>(0,d.A)((0,d.A)({},e),{},{configure:{questionsPerType:t,updatedAt:i.val().updatedAt||Date.now()}}))}}else console.error("Test not found"),a(null)}catch(h){console.error("Error fetching test data:",h)}finally{u(!1)}})()},[n,T]),(0,t.useEffect)(()=>{localStorage.setItem("testManageActiveTab",p)},[p]);const L=async e=>{try{await(0,c.yo)((0,c.KR)(A.OO,"Exam/".concat(n)),e),o.oR.success("Test updated successfully")}catch(tp){throw o.oR.error("Failed to update test"),tp}},U=(0,t.useCallback)(async e=>{if(s)try{return B(!0),await L(e),o.oR.success("Test updated successfully"),!0}catch(h){return console.error("Error updating test:",h),o.oR.error("Failed to update test"),!1}finally{B(!1)}},[s,L]),Q=(0,t.useCallback)(async()=>{if(!v.trim())return void o.oR.error("Test title cannot be empty");await U((0,d.A)((0,d.A)({},s),{},{name:v}))&&y(!1)},[s,v,U]),P=(0,t.useCallback)(async()=>{if(!v.trim())return o.oR.error("Test title cannot be empty"),void w((null===s||void 0===s?void 0:s.name)||"");v!==(null===s||void 0===s?void 0:s.name)&&(await U({name:v}),a(e=>(0,d.A)((0,d.A)({},e),{},{name:v})))},[v,s,U]),O=(0,t.useCallback)(async(e,t,r)=>{const s=Math.min(parseInt(t)||0,r);I(t=>{const r=(0,d.A)((0,d.A)({},t),{},{[e]:s});return(async()=>{try{await(0,c.hZ)((0,c.KR)(A.OO,"Exam/".concat(n,"/configure")),{questionsPerType:r,updatedAt:Date.now()}),a(e=>(0,d.A)((0,d.A)({},e),{},{configure:(0,d.A)((0,d.A)({},null===e||void 0===e?void 0:e.configure),{},{questionsPerType:r,updatedAt:Date.now()})}))}catch(h){console.error("Error updating question configuration:",h),o.oR.error("Failed to update configuration"),I(t=>(0,d.A)((0,d.A)({},t),{},{[e]:t[e]}))}})(),r})},[n]);return l?(0,k.jsx)(qh.A,{message:"Loading test, please wait..."}):s?(0,k.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm",children:(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,k.jsx)("div",{className:"flex items-center justify-between",children:(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsx)("button",{onClick:()=>r(-1),className:"p-1.5 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Back to tests",children:(0,k.jsx)(oN.irw,{className:"h-5 w-5"})}),(0,k.jsx)("div",{className:"flex items-center",children:m?(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),className:"text-xl font-semibold bg-transparent border-b border-blue-500 focus:outline-none focus:ring-0 px-1 py-0.5",autoFocus:!0}),(0,k.jsxs)("div",{className:"flex space-x-1",children:[(0,k.jsx)("button",{onClick:Q,className:"p-1 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded",disabled:C,children:(0,k.jsx)(oN.YrT,{className:"h-4 w-4"})}),(0,k.jsx)("button",{onClick:()=>{y(!1),w(s.name||"")},className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",disabled:C,children:(0,k.jsx)(oN.yGN,{className:"h-4 w-4"})})]})]}):(0,k.jsxs)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[s.name,(0,k.jsx)("button",{onClick:()=>y(!0),className:"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Edit title",children:(0,k.jsx)(oN.WXf,{className:"h-4 w-4"})})]})}),(0,k.jsx)("div",{className:"hidden md:flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:(0,k.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200",children:[Object.keys((null===s||void 0===s?void 0:s.questions)||{}).length," Questions"]})})]})}),(0,k.jsx)("div",{className:"mt-4 border-b border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,k.jsx)("button",{onClick:()=>g("questions"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("questions"===p?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Questions"}),(0,k.jsx)("button",{onClick:()=>g("students"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("students"===p?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Manage Students"}),(0,k.jsxs)("button",{onClick:()=>g("preview"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("preview"===p?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:[(0,k.jsx)(oN.Vap,{className:"inline mr-1.5 h-4 w-4"}),"Preview"]}),(0,k.jsxs)("button",{onClick:()=>g("settings"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("settings"===p?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:[(0,k.jsx)(oN.VSk,{className:"inline mr-1.5 h-4 w-4"}),"Settings"]})]})})]})}),(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:["questions"===p&&(0,k.jsx)(ZN,{test:s,setTest:a,testId:n}),"students"===p&&(0,k.jsx)($N,{test:s,testId:n}),"preview"===p&&(0,k.jsx)(eE,{test:s,testId:n,duration:b}),"settings"===p&&(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg",children:[(0,k.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,k.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Test Settings"}),(0,k.jsxs)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Configure the test settings and rules.",(0,k.jsx)("br",{}),"Future Updates"]})]}),(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-5 sm:p-6",children:[(0,k.jsxs)("div",{className:"mb-8",children:[(0,k.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Question Summary"}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Questions"}),(0,k.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:Object.keys((null===s||void 0===s?void 0:s.questions)||{}).length})]}),Object.entries(j.categories).map(e=>{let[t,n]=e;return n.count>0&&(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:[n.name," Questions",n.selected>0&&(0,k.jsxs)("span",{className:"ml-2 px-2 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200",children:[n.selected," selected"]})]}),(0,k.jsxs)("div",{className:"mt-1",children:[(0,k.jsxs)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[n.count,(0,k.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-1",children:["(",(()=>{const e=Object.keys((null===s||void 0===s?void 0:s.questions)||{}).length||1,t=n.count/e*100;return Math.round(t)+"%"})(),")"]})]}),n.selected>0&&(0,k.jsxs)("div",{className:"mt-1",children:[(0,k.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-600",children:(0,k.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(n.selected/n.count*100,"%")}})}),(0,k.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[n.selected," of ",n.count," selected (",Math.round(n.selected/n.count*100),"%)"]})]})]})]},t)})]})})]}),(0,k.jsxs)("div",{className:"mb-8",children:[(0,k.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Question Configuration"}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,k.jsx)("div",{className:"space-y-4",children:Object.entries(j.categories).map(e=>{let[t,n]=e;return n.count>0&&(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[n.name," Questions",(0,k.jsxs)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:["(Max: ",n.count," available)"]})]}),n.selected>0&&(0,k.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n.selected," currently selected"]})]}),(0,k.jsx)("select",{value:F[t]||0,onChange:e=>O(t,e.target.value,n.count),className:"mt-1 block w-24 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:Array.from({length:n.count+1},(e,t)=>t).map(e=>(0,k.jsx)("option",{value:e,children:e},e))})]},t)})}),(0,k.jsx)("div",{className:"mt-4 flex justify-end",children:(0,k.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:C?(0,k.jsxs)("span",{className:"flex items-center",children:[(0,k.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,k.jsxs)("span",{className:"text-green-500",children:[(0,k.jsx)("svg",{className:"h-4 w-4 inline-block mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Changes saved"]})})})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{htmlFor:"test-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Test Name"}),(0,k.jsx)("div",{className:"mt-1",children:(0,k.jsx)("input",{type:"text",id:"test-name",value:v,onChange:e=>w(e.target.value),onBlur:P,className:"flex-1 min-w-0 block w-full sm:text-sm border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white rounded-md p-2",placeholder:"Enter test name"})})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Duration (minutes)"}),(0,k.jsx)("div",{className:"mt-1",children:(0,k.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,k.jsx)("input",{type:"number",id:"duration",min:"1",value:b,onChange:e=>{const t=Math.max(1,parseInt(e.target.value)||0);x(t)},onBlur:()=>U({duration:b}),className:"focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white pr-16 p-2"}),(0,k.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,k.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"minutes"})})]})})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Proctoring Settings"}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Video Proctoring"}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Enable AI-powered video monitoring to detect multiple persons or no person during the exam"})]}),(0,k.jsx)("button",{type:"button",onClick:async()=>{const e=!N;E(e),await U({proctorSettings:{enableVideoProctoring:e,enableFullscreen:!0,blockOnViolations:_}})},className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ".concat(N?"bg-indigo-600":"bg-gray-200 dark:bg-gray-600"),children:(0,k.jsx)("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(N?"translate-x-5":"translate-x-0")})})]}),(0,k.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Block on Excessive Violations"}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Automatically block students from continuing the exam when they exceed the violation threshold."})]}),(0,k.jsx)("button",{type:"button",onClick:async()=>{const e=!_;S(e),await U({proctorSettings:{enableVideoProctoring:N,enableFullscreen:!0,blockOnViolations:e}})},className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ".concat(_?"bg-indigo-600":"bg-gray-200 dark:bg-gray-600"),children:(0,k.jsx)("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(_?"translate-x-5":"translate-x-0")})})]})]})]})]}),(0,k.jsx)("div",{className:"mt-4 flex justify-end",children:(0,k.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:C?(0,k.jsxs)("span",{className:"flex items-center",children:[(0,k.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,k.jsxs)("span",{className:"text-green-500",children:[(0,k.jsx)("svg",{className:"h-4 w-4 inline-block mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Changes saved"]})})})]})]})]})]}):(0,k.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,k.jsxs)("div",{className:"text-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,k.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Test not found"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"The requested test could not be found."}),(0,k.jsx)("button",{onClick:()=>r("/tests"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:"Back to Tests"})]})})},nE=e=>{let{testid:n,userId:r,userName:s,userEmail:i}=e;const o=(0,t.useRef)(null),a=(0,t.useRef)(null),[l,u]=(0,t.useState)("new"),[d,h]=(0,t.useState)(!0),[f,p]=(0,t.useState)(null),g=(0,t.useRef)([]),m=(0,t.useRef)("viewer_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))),y=(0,t.useRef)([]),v=(0,t.useRef)(!1),w={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"}],iceCandidatePoolSize:10},b=(0,t.useCallback)(()=>{console.log("[Viewer ".concat(m.current,"] Cleaning up")),v.current=!1,a.current&&(a.current.close(),a.current=null),g.current.forEach(e=>{"function"===typeof e&&e()}),g.current=[],o.current&&(o.current.srcObject=null),(0,c.TF)((0,c.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/viewers/").concat(m.current))),u("closed")},[n,r]),x=(0,t.useCallback)(async()=>{if(v.current)console.log("[Viewer ".concat(m.current,"] Already setting up"));else{v.current=!0,p(null),u("connecting");try{console.log("[Viewer ".concat(m.current,"] Setting up connection for student:"),r);const e=new RTCPeerConnection(w);a.current=e,e.ontrack=e=>{console.log("[Viewer ".concat(m.current,"] Received track:"),e.track.kind),o.current&&e.streams[0]&&(o.current.srcObject=e.streams[0])},e.onicecandidate=e=>{if(e.candidate){const t=(0,c.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/ice/").concat(m.current,"/viewer/").concat(Date.now()));(0,c.hZ)(t,e.candidate.toJSON())}},e.onconnectionstatechange=()=>{console.log("[Viewer ".concat(m.current,"] Connection state:"),e.connectionState),u(e.connectionState),"connected"===e.connectionState?p(null):"failed"===e.connectionState&&(p("Connection failed"),v.current=!1)},e.oniceconnectionstatechange=()=>{console.log("[Viewer ".concat(m.current,"] ICE state:"),e.iceConnectionState)};const t=(0,c.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/viewers/").concat(m.current));await(0,c.hZ)(t,{connected:!0,timestamp:Date.now()}),(0,c.yX)(t).remove();const s=(0,c.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/offers/").concat(m.current)),i=(0,c.Zy)(s,async t=>{const s=t.val();if(s&&s.sdp)if(console.log("[Viewer ".concat(m.current,"] Received offer")),"stable"===e.signalingState)try{await e.setRemoteDescription(new RTCSessionDescription(s));for(const n of y.current)await e.addIceCandidate(new RTCIceCandidate(n));y.current=[];const t=await e.createAnswer();await e.setLocalDescription(t),console.log("[Viewer ".concat(m.current,"] Sending answer")),await(0,c.hZ)((0,c.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/answers/").concat(m.current)),{sdp:t.sdp,type:t.type,timestamp:Date.now()})}catch(f){console.error("[Viewer ".concat(m.current,"] Error handling offer:"),f),p("Failed to establish connection"),v.current=!1}else console.log("[Viewer ".concat(m.current,"] Skipping offer, wrong signaling state:"),e.signalingState)});g.current.push(i);const l=(0,c.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/ice/").concat(m.current,"/student")),d=(0,c.Zy)(l,t=>{const n=t.val();n&&Object.values(n).forEach(async t=>{if(e.remoteDescription)try{await e.addIceCandidate(new RTCIceCandidate(t))}catch(f){"connected"!==e.connectionState&&console.error("[Viewer ".concat(m.current,"] Error adding ICE candidate:"),f)}else y.current.push(t)})});g.current.push(d)}catch(f){console.error("[Viewer ".concat(m.current,"] Setup error:"),f),p("Failed to initialize"),v.current=!1}}},[n,r]);(0,t.useEffect)(()=>{const e=setTimeout(()=>{x()},500);return()=>{clearTimeout(e),b()}},[x,b]);return(0,k.jsxs)("div",{id:"stream-".concat(r),className:"relative bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 transition-colors scroll-mt-4",children:[(0,k.jsxs)("div",{className:"relative aspect-video bg-gray-100 dark:bg-black transition-colors",children:[(0,k.jsx)("video",{ref:o,autoPlay:!0,playsInline:!0,muted:d,className:"w-full h-full object-cover"}),"connected"!==l&&(0,k.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-800 bg-opacity-95 transition-colors",children:(0,k.jsxs)("div",{className:"flex flex-col items-center",children:[(0,k.jsx)("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mb-3 transition-colors",children:(0,k.jsx)(oN.JXP,{className:"text-gray-400 dark:text-gray-500 text-2xl"})}),f?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(oN.q4P,{className:"text-red-400 text-3xl mb-2"}),(0,k.jsx)("p",{className:"text-red-400 text-sm mb-3",children:f}),(0,k.jsxs)("button",{onClick:()=>{b(),setTimeout(()=>{x()},1e3)},className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm transition-colors",children:[(0,k.jsx)(oN.jTZ,{size:14}),"Retry"]})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-3"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:(()=>{switch(l){case"connected":return"Connected";case"connecting":return"Connecting...";case"failed":return"Failed";case"closed":return"Closed";default:return"Initializing..."}})()})]})]})}),(0,k.jsx)("div",{className:"absolute top-3 right-3 w-3 h-3 rounded-full ".concat((()=>{switch(l){case"connected":return"bg-green-500";case"connecting":return"bg-yellow-500 animate-pulse";case"failed":case"closed":return"bg-red-500";default:return"bg-gray-500"}})())})]}),(0,k.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 transition-colors",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsx)("p",{className:"text-gray-900 dark:text-white font-medium text-sm truncate",children:s}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs truncate",children:i})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,k.jsx)("button",{onClick:()=>{o.current&&(o.current.muted=!o.current.muted,h(o.current.muted))},className:"p-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-white rounded-md transition-colors",title:d?"Unmute":"Mute",children:d?(0,k.jsx)(oN.cKW,{size:16}):(0,k.jsx)(oN.o77,{size:16})}),(0,k.jsx)("button",{onClick:()=>{o.current&&o.current.requestFullscreen&&o.current.requestFullscreen()},className:"p-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-white rounded-md transition-colors",title:"Fullscreen",children:(0,k.jsx)(oN.mkN,{size:16})})]})]})})]})},rE=e=>{let{testid:n}=e;const[r,s]=(0,t.useState)([]),[i,o]=(0,t.useState)({}),[a,l]=(0,t.useState)(!0),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)("name"),[p,g]=(0,t.useState)("grid");(0,t.useEffect)(()=>{if(!n)return;const e=(0,c.KR)(A.OO,"LiveStreams/".concat(n)),t=(0,c.Zy)(e,e=>{const t=e.val();if(t){const e=Object.keys(t).filter(e=>{var n;return!0===(null===(n=t[e])||void 0===n?void 0:n.active)});s(e),console.log("[LiveStreamViewer] Active streams:",e)}else s([]);l(!1)}),r=(0,c.KR)(A.OO,"users"),i=(0,c.Zy)(r,e=>{const t=e.val();t&&o(t)});return()=>{t(),i()}},[n]);const m=(0,t.useMemo)(()=>{let e=r.filter(e=>{var t,n;const r=i[e];if(!r)return!1;const s=u.toLowerCase(),o=null===(t=r.name)||void 0===t?void 0:t.toLowerCase().includes(s),a=null===(n=r.email)||void 0===n?void 0:n.toLowerCase().includes(s);return o||a});return e.sort((e,t)=>{const n=i[e],r=i[t];if(!n||!r)return 0;switch(h){case"name":return(n.name||"").localeCompare(r.name||"");case"email":return(n.email||"").localeCompare(r.email||"");default:return 0}}),e},[r,i,u,h]);return a?(0,k.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):0===r.length?(0,k.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 transition-colors",children:[(0,k.jsx)(oN.q4P,{className:"text-gray-400 dark:text-gray-500 text-5xl mx-auto mb-4"}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-400 text-lg font-medium",children:"No active livestreams"}),(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:"Students will appear here when they start their exam"})]}):(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 transition-colors",children:[(0,k.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Live Camera Feeds"})]}),(0,k.jsxs)("span",{className:"px-2.5 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-full",children:[m.length," / ",r.length]})]}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[(0,k.jsxs)("div",{className:"relative flex-1 sm:w-64",children:[(0,k.jsx)(oN.CKj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:16}),(0,k.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:u,onChange:e=>d(e.target.value),className:"w-full pl-9 pr-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 transition-colors"})]}),(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)(oN.K7R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:16}),(0,k.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"pl-9 pr-8 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 appearance-none cursor-pointer transition-colors",children:[(0,k.jsx)("option",{value:"name",children:"Sort by Name"}),(0,k.jsx)("option",{value:"email",children:"Sort by Email"})]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-900 p-1 rounded-lg border border-gray-300 dark:border-gray-600",children:[(0,k.jsx)("button",{onClick:()=>g("grid"),className:"p-2 rounded transition-colors ".concat("grid"===p?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),title:"Grid View",children:(0,k.jsx)(oN.QPV,{size:16})}),(0,k.jsx)("button",{onClick:()=>g("list"),className:"p-2 rounded transition-colors ".concat("list"===p?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),title:"List View",children:(0,k.jsx)(oN.Wm,{size:16})})]})]})]}),u&&(0,k.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:0===m.length?(0,k.jsxs)("span",{children:['No students found matching "',(0,k.jsx)("span",{className:"font-medium",children:u}),'"']}):(0,k.jsxs)("span",{children:["Showing ",m.length," of ",r.length," students"]})})})]}),0===m.length?(0,k.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,k.jsx)(oN.CKj,{className:"text-gray-400 dark:text-gray-500 text-5xl mx-auto mb-4"}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-400 text-lg font-medium",children:"No students found"}),(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:"Try adjusting your search query"})]}):"grid"===p?(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:m.map(e=>{const t=i[e];return(0,k.jsx)(nE,{testid:n,userId:e,userName:(null===t||void 0===t?void 0:t.name)||"Unknown Student",userEmail:(null===t||void 0===t?void 0:t.email)||"No email"},e)})}):(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors",children:(0,k.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:m.map((e,t)=>{const n=i[e];return(0,k.jsx)("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center font-semibold text-sm",children:t+1}),(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,k.jsx)(oN.JXP,{className:"text-gray-400 dark:text-gray-500",size:14}),(0,k.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(null===n||void 0===n?void 0:n.name)||"Unknown Student"})]}),(0,k.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:(null===n||void 0===n?void 0:n.email)||"No email"})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-green-100 dark:bg-green-900 rounded-full",children:[(0,k.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),(0,k.jsx)("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Live"})]}),(0,k.jsx)("button",{onClick:()=>{g("grid"),setTimeout(()=>{const t=document.getElementById("stream-".concat(e));t&&t.scrollIntoView({behavior:"smooth",block:"center"})},100)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded transition-colors",children:"View Stream"})]})]})},e)})})})]})},sE=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),[f,p]=(0,t.useState)({}),[g,m]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),[w,b]=(0,t.useState)({}),[x,C]=(0,t.useState)({}),[B,N]=(0,t.useState)({}),[E,_]=(0,t.useState)({}),[S,F]=(0,t.useState)([]),[I,T]=(0,t.useState)({}),[j,L]=(0,t.useState)("status"),{testid:U}=(0,i.g)(),Q=async e=>{const t=f[e];t||await(async e=>{if(!g[e]){v(t=>(0,d.A)((0,d.A)({},t),{},{[e]:!0}));try{const t=(0,c.KR)(A.OO,"Exam/".concat(U,"/Violations/").concat(e)),n=await(0,c.Jt)(t);if(n.exists()){const t=n.val(),r=Object.entries(t).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)}).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp));m(t=>(0,d.A)((0,d.A)({},t),{},{[e]:r}))}else m(t=>(0,d.A)((0,d.A)({},t),{},{[e]:[]}))}catch(u){console.error("Error fetching violation details:",u),o.Ay.error("Failed to load violation details."),m(t=>(0,d.A)((0,d.A)({},t),{},{[e]:[]}))}finally{v(t=>(0,d.A)((0,d.A)({},t),{},{[e]:!1}))}}})(e),p(n=>(0,d.A)((0,d.A)({},n),{},{[e]:!t}))},P=async e=>{if(!x[e]){N(t=>(0,d.A)((0,d.A)({},t),{},{[e]:!0}));try{const t=(0,c.KR)(A.OO,"Exam/".concat(U,"/myquestions/").concat(e)),n=(0,c.KR)(A.OO,"questions"),[r,s]=await Promise.all([(0,c.Jt)(t),(0,c.Jt)(n)]);if(r.exists()&&s.exists()){const t=r.val(),n=s.val(),i=Object.entries(t).map(e=>{let[t,r]=e;const s=n[r];return{order:parseInt(t),id:r,title:(null===s||void 0===s?void 0:s.questionname)||"Unknown Question",type:(null===s||void 0===s?void 0:s.type)||"N/A",difficulty:(null===s||void 0===s?void 0:s.difficulty)||"N/A"}}).sort((e,t)=>e.order-t.order);C(t=>(0,d.A)((0,d.A)({},t),{},{[e]:i}))}else C(t=>(0,d.A)((0,d.A)({},t),{},{[e]:[]}))}catch(u){console.error("Error fetching question details:",u),o.Ay.error("Failed to load question details."),C(t=>(0,d.A)((0,d.A)({},t),{},{[e]:[]}))}finally{N(t=>(0,d.A)((0,d.A)({},t),{},{[e]:!1}))}}},O=()=>{_({})},D=e=>({fullscreen_exit:"Exited Fullscreen",window_blur:"Window Lost Focus",tab_switch:"Tab Switch / Page Hidden",mouse_leave:"Mouse Left Screen"}[e]||e);if((0,t.useEffect)(()=>{if(!U)return h("No Test ID provided in the URL."),void l(!1);const e=(0,c.KR)(A.OO,"Exam/".concat(U)),t=(0,c.Zy)(e,async e=>{try{var t,r;const a=e.val();if(!a)return h("The specified test does not exist."),n([]),void l(!1);console.log(a);const u=a.name||"Untitled Test";s(u),T({name:u,duration:a.duration||"N/A",totalQuestions:a.questions?Object.keys(a.questions).length:0});const f=a.questions?Object.keys(a.questions):[];if(f.length>0){const e=(0,c.KR)(A.OO,"questions"),t=await(0,c.Jt)(e);if(t.exists()){const e=t.val(),n=f.map(t=>{const n=e[t];return{id:t,title:(null===n||void 0===n?void 0:n.questionname)||"Unknown Question",type:(null===n||void 0===n?void 0:n.type)||"N/A",difficulty:(null===n||void 0===n?void 0:n.difficulty)||"N/A"}});F(n)}}const p=Object.values(a.Eligible||{}),g=(0,c.KR)(A.OO,"users"),m=(await(0,c.Jt)(g)).val()||{},y={};Object.entries(m).forEach(e=>{let[t,n]=e;n.email&&(y[n.email]=(0,d.A)({uid:t},n))});const v=[],w=(null===(t=a.Properties)||void 0===t?void 0:t.Progress)||{},b=(null===(r=a.Properties2)||void 0===r?void 0:r.Progress)||{},x=a.myquestions||{};for(const e of p){var i,o;const t=y[e];if(!t)continue;const n=t.uid,r=w[n],s=null!==(i=b[n])&&void 0!==i?i:0,l=x[n]?Object.keys(x[n]).length:0;if("started"===(null===r||void 0===r||null===(o=r.status)||void 0===o?void 0:o.toLowerCase())){const e=new Date((null===r||void 0===r?void 0:r.startTime)||""),t=(new Date-e)/6e4;if(t>a.duration){console.log("More than ".concat(a.duration," minutes have passed.")),r.status="completed";const e=(0,c.KR)(A.OO,"Exam/".concat(U,"/Properties/Progress/").concat(n,"/status"));await(0,c.hZ)(e,"completed")}else console.log("Less than or equal to 60 minutes have passed.");console.log("Difference (minutes):",t)}v.push({id:"".concat(U,"-").concat(n),userId:n,userName:t.name||"Unknown User",email:e,status:(null===r||void 0===r?void 0:r.status)||"not_started",startTime:(null===r||void 0===r?void 0:r.startTime)||null,violations:s,allocatedQuestions:l})}v.sort((e,t)=>{switch(j){case"name":return e.userName.localeCompare(t.userName);case"email":return e.email.localeCompare(t.email);case"blocked_first":return"blocked"===e.status&&"blocked"!==t.status?-1:"blocked"!==e.status&&"blocked"===t.status?1:e.userName.localeCompare(t.userName);case"completed_first":return"completed"===e.status&&"completed"!==t.status?-1:"completed"!==e.status&&"completed"===t.status?1:e.userName.localeCompare(t.userName);default:const n={started:1,blocked:2,completed:3,not_started:4},r=n[e.status]||5,s=n[t.status]||5;return r!==s?r-s:e.userName.localeCompare(t.userName)}}),n(v)}catch(tp){console.error("Error processing exam data:",tp),h("Failed to load and process exam data.")}finally{l(!1)}},e=>{console.error("Firebase onValue error:",e),h("Failed to connect to the database."),l(!1)});return()=>t()},[U,j]),a)return(0,k.jsx)(qh.A,{message:"Loading Exam Data, please wait..."});if(u)return(0,k.jsxs)("div",{className:"text-center text-red-500 mt-10",children:["Error: ",u]});const R=e=>{const t={started:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",completed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",blocked:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",not_started:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return t[e]||t.not_started},M=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,k.jsxs)("div",{className:"container mx-auto p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-3xl font-bold mb-2 text-gray-900 dark:text-white",children:"Real-Time Exam Monitor"}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,k.jsx)("div",{className:"flex items-center gap-2",children:(0,k.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:I.name})}),(0,k.jsxs)("div",{className:"flex items-center gap-1",children:[(0,k.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,k.jsxs)("span",{children:["Duration: ",I.duration," min"]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-1",children:[(0,k.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,k.jsxs)("span",{children:["Total Questions: ",I.totalQuestions]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-1",children:[(0,k.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,k.jsxs)("span",{children:["Total Students: ",e.length]})]})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"In Progress"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.filter(e=>"started"===e.status).length})]}),(0,k.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-full",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Completed"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:e.filter(e=>"completed"===e.status).length})]}),(0,k.jsx)("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-full",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Blocked"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.filter(e=>"blocked"===e.status).length})]}),(0,k.jsx)("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-full",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})})]})}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Not Started"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:e.filter(e=>"not_started"===e.status).length})]}),(0,k.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-full",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),(0,k.jsxs)("div",{className:"mb-4 flex items-center justify-between bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("div",{className:"flex items-center gap-4",children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sort by:"}),(0,k.jsxs)("select",{value:j,onChange:e=>L(e.target.value),className:"text-sm px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[(0,k.jsx)("option",{value:"status",children:"Status (Priority)"}),(0,k.jsx)("option",{value:"name",children:"Student Name (A-Z)"}),(0,k.jsx)("option",{value:"email",children:"Student Email (A-Z)"}),(0,k.jsx)("option",{value:"blocked_first",children:"Blocked Students First"}),(0,k.jsx)("option",{value:"completed_first",children:"Completed Students First"})]})]})}),(0,k.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.length," students total"]})]}),(0,k.jsx)("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 shadow-md rounded-lg border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,k.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"#"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Start Time"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Questions"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Violations"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,k.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.length>0?e.map((e,n)=>{var r,s,i;return(0,k.jsxs)(t.Fragment,{children:[(0,k.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:n+1}),(0,k.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,k.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.userName}),(0,k.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,k.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(R(e.status)),children:(i=e.status,{started:"In Progress",completed:"Completed",blocked:"Blocked",not_started:"Not Started"}[i]||i)})}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:M(e.startTime)}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"font-medium",children:e.allocatedQuestions})," / ",I.totalQuestions,e.allocatedQuestions>0&&(0,k.jsx)("button",{onClick:()=>(async e=>{const t=w[e];t||await P(e),b(n=>(0,d.A)((0,d.A)({},n),{},{[e]:!t}))})(e.userId),className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 text-xs underline",children:w[e.userId]?"Hide":"View"})]})}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"font-bold ".concat(e.violations>=2?"text-red-600 dark:text-red-400":e.violations>0?"text-orange-600 dark:text-orange-400":"text-gray-700 dark:text-gray-300"),children:e.violations}),e.violations>0&&(0,k.jsx)("button",{onClick:()=>Q(e.userId),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-xs underline",children:f[e.userId]?"Hide":"View"})]})}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:"blocked"===e.status&&(0,k.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to unblock this user and reset their violations to 0?"))try{const t=(0,c.KR)(A.OO,"Exam/".concat(U,"/Properties/Progress/").concat(e)),n=(0,c.KR)(A.OO,"Exam/".concat(U,"/Properties2/Progress/").concat(e));await(0,c.yo)(t,{status:"started"}),await(0,c.hZ)(n,0),o.Ay.success("User has been unblocked.")}catch(u){console.error("Error unblocking user:",u),o.Ay.error("Failed to unblock user.")}})(e.userId),className:"px-3 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition-colors duration-200 text-xs",children:"Unblock"})})]}),w[e.userId]&&(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"7",className:"px-6 py-4 bg-blue-50 dark:bg-blue-900/10",children:B[e.userId]?(0,k.jsx)("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"Loading questions..."}):(null===(r=x[e.userId])||void 0===r?void 0:r.length)>0?(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Allocated Questions (",x[e.userId].length," total)"]}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x[e.userId].map((t,n)=>(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,k.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,k.jsxs)("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:["Q",n+1]}),(0,k.jsxs)("div",{className:"flex gap-1",children:[(0,k.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded ".concat("mcq"===t.type.toLowerCase()?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"programming"===t.type.toLowerCase()?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"sql"===t.type.toLowerCase()?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:t.type}),(0,k.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded ".concat("easy"===t.difficulty.toLowerCase()?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"medium"===t.difficulty.toLowerCase()?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"hard"===t.difficulty.toLowerCase()?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:t.difficulty})]})]}),(0,k.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2",children:t.title}),(0,k.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 font-mono truncate",children:["ID: ",t.id]}),E.userId===e.userId&&E.questionOrder===t.order?(0,k.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,k.jsxs)("select",{className:"w-full text-xs px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",onChange:n=>(async(e,t,n)=>{try{const r=(0,c.KR)(A.OO,"Exam/".concat(U,"/myquestions/").concat(e,"/").concat(t));await(0,c.hZ)(r,n),o.Ay.success("Question changed successfully!"),C(t=>(0,d.A)((0,d.A)({},t),{},{[e]:null})),await P(e),_({})}catch(u){console.error("Error changing question:",u),o.Ay.error("Failed to change question.")}})(e.userId,t.order,n.target.value),defaultValue:"",children:[(0,k.jsx)("option",{value:"",disabled:!0,children:"Select new question..."}),S.filter(n=>{var r;const s=n.type.toLowerCase()===t.type.toLowerCase(),i=null===(r=x[e.userId])||void 0===r?void 0:r.some(e=>e.id===n.id);return s&&!i}).map(e=>(0,k.jsxs)("option",{value:e.id,children:[e.title," (",e.difficulty,")"]},e.id)),0===S.filter(n=>{var r;const s=n.type.toLowerCase()===t.type.toLowerCase(),i=null===(r=x[e.userId])||void 0===r?void 0:r.some(e=>e.id===n.id);return s&&!i}).length&&(0,k.jsx)("option",{value:"",disabled:!0,children:"No available questions of same type"})]}),(0,k.jsx)("button",{onClick:O,className:"w-full text-xs px-2 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}):(()=>{const n=S.filter(n=>{var r;const s=n.type.toLowerCase()===t.type.toLowerCase(),i=null===(r=x[e.userId])||void 0===r?void 0:r.some(e=>e.id===n.id);return s&&!i}),r=n.length>0;return(0,k.jsx)("button",{onClick:()=>{return r&&(n=e.userId,s=t.order,void _({userId:n,questionOrder:s}));var n,s},disabled:!r,className:"mt-2 text-[10px] px-2 py-0.5 rounded transition-colors inline-flex items-center gap-1 ".concat(r?"bg-indigo-500 hover:bg-indigo-600 text-white cursor-pointer":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"),title:r?"".concat(n.length," replacement(s) available"):"No available replacements of same type",children:r?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Change (",n.length,")"]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),"None"]})})})()]},t.id))})]}):(0,k.jsx)("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No questions allocated."})})}),f[e.userId]&&(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"7",className:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50",children:y[e.userId]?(0,k.jsx)("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"Loading violations..."}):(null===(s=g[e.userId])||void 0===s?void 0:s.length)>0?(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Violation History (",g[e.userId].length," total)"]}),(0,k.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:g[e.userId].map((e,t)=>{var n,r,s,i;return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,k.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 text-xs font-mono",children:["#",t+1]}),(0,k.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded ".concat((i=e.reason,{fullscreen_exit:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",window_blur:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",tab_switch:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",mouse_leave:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}[i]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300")),children:D(e.reason)})]}),(0,k.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(s=e.timestamp,new Date(s).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs mt-2",children:[(null===(n=e.details)||void 0===n?void 0:n.duration)&&(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Duration: "}),(0,k.jsx)("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:e.details.duration})]}),(null===(r=e.details)||void 0===r?void 0:r.gracePeriod)&&(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Grace Period: "}),(0,k.jsx)("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:e.details.gracePeriod})]}),e.windowSize&&(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Window: "}),(0,k.jsx)("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:e.windowSize})]}),e.screenSize&&(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Screen: "}),(0,k.jsx)("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:e.screenSize})]})]}),e.userAgent&&(0,k.jsxs)("div",{className:"mt-2 text-xs",children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Browser: "}),(0,k.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 font-mono text-[10px]",children:[e.userAgent.substring(0,80),"..."]})]})]},e.id)})})]}):(0,k.jsx)("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No violation details found."})})})]},e.id)}):(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No students found for this exam."})})})]})}),(0,k.jsx)("div",{className:"mt-8",children:(0,k.jsx)(rE,{testid:U})})]})};var iE=n(1129);const oE=()=>{const e=(0,i.Zp)();return(0,k.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 text-center px-4",children:(0,k.jsxs)("div",{className:"w-full max-w-md",children:[(0,k.jsx)("div",{className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-red-100 dark:bg-red-900/30",children:(0,k.jsx)(oN.F5$,{className:"h-12 w-12 text-red-600 dark:text-red-400"})}),(0,k.jsx)("h1",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Access Denied"}),(0,k.jsx)("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"You do not have the necessary permissions to view this page."}),(0,k.jsx)("div",{className:"mt-8",children:(0,k.jsx)("button",{onClick:()=>e("/"),className:"bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300 shadow-md",children:"Go to Home"})})]})})},aE=e=>{let{children:n,requireAdmin:r=!1,requireUser:s=!1}=e;const[i,o]=(0,t.useState)("loading"),{user:a}=(0,l.A)();return(0,t.useEffect)(()=>{const e=(0,S.hg)(A.j2,async e=>{if(e)try{const t=(0,c.KR)(A.OO,"Admins/".concat(e.uid)),n=await(0,c.Jt)(t);let s=!1;n.exists()&&(s=!0),r&&!s?(o("unauthorized"),console.log("meow1")):o("authenticated");const i=await(0,c.Jt)((0,c.KR)(A.OO,"Students"));i.exists()&&(-1!==i.val().indexOf(e.email)||s||o("unauthorized"))}catch(t){console.error("Error fetching user data:",t),o("unauthorized")}else o("unauthenticated")});return()=>e()},[r,s,a]),"loading"===i?(0,k.jsx)(qh.A,{message:"Loading page, please wait..."}):"unauthenticated"===i?(0,k.jsx)(iE.A,{}):"unauthorized"===i?(0,k.jsx)(oE,{}):n},lE=()=>{const{theme:e}=(0,a.D)(),[n,r]=(0,t.useState)(""),[s,i]=(0,t.useState)({stdout:"Your output will appear here.",stderr:null,time:null,memory:null}),[o,l]=(0,t.useState)("cpp"),[A,c]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=localStorage.getItem("compiler-code"),t=localStorage.getItem("compiler-language");r(e||Re.cpp),t&&l(t)},[]),(0,t.useEffect)(()=>{n&&localStorage.setItem("compiler-code",n)},[n]),(0,t.useEffect)(()=>{localStorage.setItem("compiler-language",o)},[o]);return(0,k.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 p-4 md:p-6 bg-gray-100 dark:bg-gray-900 h-[calc(100vh-4rem)] overflow-hidden",children:[(0,k.jsxs)("div",{className:"flex flex-col w-full md:w-3/5 h-full bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("h2",{className:"text-gray-800 dark:text-white font-semibold",children:"Code Editor"}),(0,k.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,k.jsxs)("select",{value:o,onChange:e=>{const t=e.target.value;l(t)},className:"bg-white dark:bg-gray-700 text-sm rounded-md px-2 py-1 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white",children:[(0,k.jsx)("option",{value:"cpp",children:"C++"}),(0,k.jsx)("option",{value:"javascript",children:"JavaScript"}),(0,k.jsx)("option",{value:"python",children:"Python"}),(0,k.jsx)("option",{value:"java",children:"Java"})]}),(0,k.jsx)("button",{onClick:()=>{r(Re[o])},className:"text-xs bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 px-2 py-1 rounded transition",title:"Reset to template",children:"Reset"})]})]}),(0,k.jsx)("div",{className:"flex-grow overflow-hidden",style:{height:"100%"},children:(0,k.jsx)(Fe,{height:"100%",language:o,theme:"dark"===e?"vs-dark":"light",value:n,onChange:e=>r(e||""),options:{fontSize:14,wordWrap:"on",automaticLayout:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,overviewRulerLanes:0,hideCursorInOverviewRuler:!0,overviewRulerBorder:!1}})}),(0,k.jsx)("div",{className:"flex justify-end px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("button",{onClick:async()=>{c(!0),i({stdout:"Executing...",stderr:null,time:null,memory:null});try{const e=await gr(o,n,"");i({stdout:e.run.stdout||"",stderr:e.run.stderr||"",time:"".concat(e.run.cpuTime," ms"),memory:"".concat(e.run.memory," KB")})}catch(e){i({stdout:"",stderr:e.message||"Execution failed.",time:null,memory:null})}c(!1)},className:"bg-[#4285F4] hover:bg-[#357ae8] text-white px-4 py-2 rounded-md font-medium transition disabled:bg-gray-400",disabled:A,children:A?"Running...":"Run Code"})})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full md:w-2/5 h-full bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[(0,k.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("h2",{className:"text-gray-800 dark:text-white font-semibold",children:"Output"})}),(0,k.jsx)("div",{className:"flex-grow overflow-auto px-4 py-4",children:s.stderr?(0,k.jsx)("pre",{className:"text-red-500 font-mono whitespace-pre-wrap",children:s.stderr}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("pre",{className:"text-gray-800 dark:text-gray-100 font-mono whitespace-pre-wrap",children:s.stdout})})})]})]})};function AE(e){const t=e.replace(/_/g,":").replace(/:(\d{3})Z$/,".$1Z"),n=new Date(t),r=n.getDate(),s=function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(r),i=n.toLocaleString("en-US",{month:"long"}),o=n.getFullYear(),a=n.toLocaleTimeString("en-US",{hour12:!0});return"".concat(r).concat(s," ").concat(i,", ").concat(o," ").concat(a)}const cE=()=>{var e;const[n,r]=(0,t.useState)({}),[s,i]=(0,t.useState)({}),[o,a]=(0,t.useState)({}),[l,u]=(0,t.useState)({}),[h,f]=(0,t.useState)({}),[p,g]=(0,t.useState)(!0),[m,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(null),[b,x]=(0,t.useState)(null),[C,B]=(0,t.useState)([]),[N,E]=(0,t.useState)({submissions:!0,userProgress:!0,users:!0,courses:!0,activityTime:!0,students:!0}),[_,S]=(0,t.useState)({search:"",sortBy:"name",sortOrder:"asc"}),F=(0,t.useCallback)(async()=>{try{const[e,t,n,s,o,l]=await Promise.all([(0,c.Jt)((0,c.KR)(A.OO,"Submissions")),(0,c.Jt)((0,c.KR)(A.OO,"userprogress")),(0,c.Jt)((0,c.KR)(A.OO,"users")),(0,c.Jt)((0,c.KR)(A.OO,"AlgoCore")),(0,c.Jt)((0,c.KR)(A.OO,"Students")),(0,c.Jt)((0,c.KR)(A.OO,"Activitytime"))]);r(e.val()||{}),i(t.val()||{}),a(n.val()||{}),u(s.val()||{}),B(o.val()||[]),f(l.val()||{}),E({submissions:!1,userProgress:!1,users:!1,courses:!1,students:!1,activityTime:!1}),y(!1)}catch(e){console.error("Error fetching data:",e),g(!1),y(!1)}},[]);(0,t.useEffect)(()=>{F()},[]),(0,t.useEffect)(()=>{Object.values(N).every(e=>!1===e)&&g(!1)},[N]);const I=e=>{if(!l||!l[e]||!l[e].lessons)return 0;let t=0;const n=l[e].lessons;return n&&"object"===typeof n&&Object.values(n).forEach(e=>{e&&e.questions&&Array.isArray(e.questions)&&(t+=e.questions.length)}),t},T=t.useMemo(()=>{if(!o||0===Object.keys(o).length)return{users:[],courses:[]};const e={},t=new Set,r=new Set(C);l&&Object.keys(l).forEach(e=>{var n;null!==(n=l[e])&&void 0!==n&&n.lessons&&t.add(e)});const i={};return t.forEach(e=>{i[e]=I(e)}),Object.entries(o).forEach(n=>{let[s,o]=n;r.has(o.email)&&(e[s]={id:s,name:o.name||"Anonymous",email:o.email||"No email",photo:o.profilePhoto||"",submissions:{},stats:{attempted:0},courseProgress:{},overallProgress:{completed:0,total:0,percentage:"0.0"},lastActivity:null,activeTime:h[s]||0},t.forEach(t=>{e[s].courseProgress[t]={completed:0,total:i[t],percentage:"0.0"}}))}),Object.entries(n).forEach(n=>{let[r,s]=n;e[r]&&Object.entries(s).forEach(n=>{let[s,o]=n;t.add(s),e[r].submissions[s]||(e[r].submissions[s]={},e[r].courseProgress[s]||(e[r].courseProgress[s]={completed:0,total:i[s]||I(s),percentage:"0.0"})),Object.entries(o).forEach(t=>{let[n,i]=t;e[r].submissions[s][n]||(e[r].submissions[s][n]={}),Object.entries(i).forEach(t=>{let[i,o]=t;const a=Object.entries(o).map(e=>{let[t,n]=e;return(0,d.A)((0,d.A)({timestamp:t},n),{},{question:i,type:"code"})});e[r].submissions[s][n][i]=a;const l=a[a.length-1];e[r].stats.attempted++;const A=new Date(l.timestamp.replace(/_/g,":").replace(/:(\d{3})Z$/,".$1Z"));(!e[r].lastActivity||A>e[r].lastActivity)&&(e[r].lastActivity=A)})})})}),Object.entries(s).forEach(t=>{let[n,r]=t;e[n]&&Object.entries(r).forEach(t=>{let[r,s]=t;s&&"object"===typeof s&&Object.entries(s).forEach(t=>{let[s,i]=t;i&&"object"===typeof i&&Object.entries(i).forEach(t=>{let[i,o]=t;e[n].submissions[r]||(e[n].submissions[r]={}),e[n].submissions[r][s]||(e[n].submissions[r][s]={}),e[n].submissions[r][s][i]||(e[n].submissions[r][s][i]=[{timestamp:"mcq-entry",status:!0===o?"correct":!1===o?"wrong":"not-started",question:i,type:"mcq",code:null}],!0!==o&&!1!==o||e[n].stats.attempted++)})})})}),Object.entries(s).forEach(t=>{let[n,r]=t;if(e[n]){Object.entries(r).forEach(t=>{let[r,s]=t;const i=I(r);let o=0;s&&"object"===typeof s&&Object.values(s).forEach(e=>{e&&"object"===typeof e&&Object.values(e).forEach(e=>{!0===e&&o++})}),e[n].courseProgress[r]=i>0?{completed:o,total:i,percentage:(o/i*100).toFixed(1)}:{completed:0,total:0,percentage:"0.0"}});let t=0,s=0;Object.values(e[n].courseProgress).forEach(e=>{e&&"object"===typeof e&&(t+=e.completed||0,s+=e.total||0)}),e[n].overallProgress=s>0?{completed:t,total:s,percentage:(t/s*100).toFixed(1)}:{completed:0,total:0,percentage:"0.0"}}}),{users:Object.values(e),courses:Array.from(t)}},[n,s,o,l,h]),j=e=>{const t=Number(e);return isNaN(t)||!isFinite(t)?"0.0%":t.toFixed(1)+"%"},L=(0,t.useCallback)(e=>[...e].sort((e,t)=>{let n=0;switch(_.sortBy){case"name":n=e.name.localeCompare(t.name);break;case"attempted":n=e.stats.attempted-t.stats.attempted;break;case"overall":n=parseFloat(e.overallProgress.percentage)-parseFloat(t.overallProgress.percentage);break;case"activity":n=(e.lastActivity?new Date(e.lastActivity).getTime():0)-(t.lastActivity?new Date(t.lastActivity).getTime():0);break;case"activeTime":n=(e.activeTime||0)-(t.activeTime||0);break;default:if(_.sortBy.startsWith("course_")){var r,s;const i=_.sortBy.replace("course_",""),o=(null===(r=e.courseProgress[i])||void 0===r?void 0:r.percentage)||"0.0",a=(null===(s=t.courseProgress[i])||void 0===s?void 0:s.percentage)||"0.0";n=parseFloat(o)-parseFloat(a)}}return"asc"===_.sortOrder?n:-n}),[_.sortBy,_.sortOrder]),U=t.useMemo(()=>{if(!T.users||0===T.users.length)return[];const e=_.search.toLowerCase(),t=e?T.users.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)):T.users;return L(t)},[T.users,_.search,L]),Q=t.useMemo(()=>[...T.courses].sort(),[T.courses]),P=e=>{const t=[];return Object.entries(e.submissions).forEach(e=>{let[n,r]=e;Object.entries(r).forEach(e=>{let[r,s]=e;Object.entries(s).forEach(e=>{let[s,i]=e;i.forEach(e=>{t.push((0,d.A)((0,d.A)({},e),{},{course:n,subcourse:r,question:e.question||s}))})})})}),t.sort((e,t)=>"mcq-entry"===e.timestamp&&"mcq-entry"===t.timestamp?0:"mcq-entry"===e.timestamp?1:"mcq-entry"===t.timestamp?-1:new Date(t.timestamp)-new Date(e.timestamp))},O=Object.values(N).filter(e=>!e).length,D=Object.keys(N).length,R=Math.round(O/D*100),M=(null===(e=Object.entries(N).find(e=>{let[t,n]=e;return n}))||void 0===e?void 0:e[0])||"Complete";return(0,k.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(p||m)&&(0,k.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50 group",children:[(0,k.jsxs)("div",{className:"h-1 bg-gray-200 dark:bg-gray-700 relative overflow-hidden",children:[(0,k.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 transition-all duration-300 ease-out relative",style:{width:"".concat(R,"%")},children:(0,k.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-shimmer"})}),(0,k.jsxs)("div",{className:"absolute top-0 h-full flex items-center text-[10px] font-bold text-white transition-all duration-300 px-1",style:{left:"".concat(Math.max(2,Math.min(95,R)),"%")},children:[R,"%"]})]}),(0,k.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-gray-900 text-white text-xs px-3 py-1 text-center",children:R<100?"Loading ".concat(M.replace(/([A-Z])/g," $1").trim(),"..."):"Complete"})]}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-zinc-300",children:"Admin Dashboard"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Track student submissions and progress"})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsxs)("button",{onClick:async()=>{y(!0),await F()},disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors",children:[(0,k.jsx)(oN.jTZ,{className:"".concat(m?"animate-spin":"")}),m?"Refreshing...":"Refresh Data"]}),(0,k.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/30 px-4 py-2 rounded-lg",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(oN.cfS,{className:"mr-2 text-blue-600 dark:text-blue-400"}),(0,k.jsxs)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:[U.length," Students"]})]})})]})]})})}),(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,k.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(oN.K7R,{className:"mr-2 text-gray-600 dark:text-zinc-400"}),(0,k.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-zinc-300",children:"Filters & Sort"})]})}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-zinc-300",children:"Search"}),(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)(oN.CKj,{className:"absolute left-3 top-3 text-gray-400"}),(0,k.jsx)("input",{type:"text",placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:_.search,onChange:e=>S((0,d.A)((0,d.A)({},_),{},{search:e.target.value}))})]})]}),(0,k.jsxs)("div",{className:"flex space-x-4",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-zinc-300",children:"Sort By"}),(0,k.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:_.sortBy,onChange:e=>S((0,d.A)((0,d.A)({},_),{},{sortBy:e.target.value})),children:[(0,k.jsx)("option",{value:"name",children:"Name"}),(0,k.jsx)("option",{value:"attempted",children:"Total Attempted"}),(0,k.jsx)("option",{value:"overall",children:"Overall Progress"}),(0,k.jsx)("option",{value:"activity",children:"Last Activity"}),(0,k.jsx)("option",{value:"activeTime",children:"Time Spent"}),T.courses.map(e=>(0,k.jsxs)("option",{value:"course_".concat(e),children:[e," Progress"]},e))]})]}),(0,k.jsxs)("div",{className:"flex-none",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-zinc-300",children:"Order"}),(0,k.jsx)("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300",onClick:()=>S(e=>(0,d.A)((0,d.A)({},e),{},{sortOrder:"asc"===e.sortOrder?"desc":"asc"})),children:"asc"===_.sortOrder?"\u2191 Ascending":"\u2193 Descending"})]})]})]})]}),(0,k.jsx)(sN.div,{layout:!0,className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 ".concat(p?"opacity-50 pointer-events-none":""),children:(0,k.jsx)(cy,{children:p&&0===U.length?Array.from({length:6}).map((e,t)=>(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 animate-pulse",children:[(0,k.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("div",{className:"w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-full"}),(0,k.jsxs)("div",{className:"ml-3",children:[(0,k.jsx)("div",{className:"h-4 w-32 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),(0,k.jsx)("div",{className:"h-3 w-48 bg-gray-200 dark:bg-gray-700 rounded"})]})]})}),(0,k.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:Array.from({length:3}).map((e,t)=>(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"h-8 w-12 bg-gray-300 dark:bg-gray-600 rounded mx-auto mb-2"}),(0,k.jsx)("div",{className:"h-3 w-16 bg-gray-200 dark:bg-gray-700 rounded mx-auto"})]},t))}),(0,k.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full mb-4"}),(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"}),(0,k.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"})]})]},"skeleton-".concat(t))):U.map(e=>(0,k.jsx)(sN.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:(0,k.jsxs)("div",{className:"p-6",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center overflow-hidden",children:null!==e&&void 0!==e&&e.photo?(0,k.jsx)("img",{src:e.photo,alt:e.name||"User",className:"w-full h-full object-cover"}):(0,k.jsx)(oN.JXP,{className:"text-blue-600"})}),(0,k.jsxs)("div",{className:"ml-3",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-zinc-300",children:e.name}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:e.email})]})]}),(0,k.jsx)("button",{onClick:()=>w(e),className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:(0,k.jsx)(oN.Vap,{size:20})})]}),(0,k.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.stats.attempted}),(0,k.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Attempted"})]}),(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"text-base font-semibold text-blue-600 dark:text-blue-400",children:e.lastActivity?(0,k.jsxs)("div",{className:"flex flex-col items-center",children:[(0,k.jsx)(oN.z1n,{className:"text-blue-600 dark:text-blue-400 mb-1",size:18}),(0,k.jsx)("span",{className:"text-[10px]",children:new Date(e.lastActivity).toLocaleDateString()}),(0,k.jsx)("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:new Date(e.lastActivity).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):(0,k.jsx)("span",{className:"text-xs text-gray-400",children:"No activity"})}),(0,k.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:"Last Active"})]}),(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"text-base font-semibold text-green-600 dark:text-green-400",children:e.activeTime>0?(0,k.jsxs)("div",{className:"flex flex-col items-center",children:[(0,k.jsx)(oN.Ohp,{className:"text-green-600 dark:text-green-400 mb-1",size:18}),(0,k.jsxs)("span",{className:"text-xs font-bold",children:[Math.floor(e.activeTime/36e5),"h ",Math.floor(e.activeTime%36e5/6e4),"m"]})]}):(0,k.jsx)("span",{className:"text-xs text-gray-400",children:"0h 0m"})}),(0,k.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:"Time Spent"})]})]}),(0,k.jsxs)("div",{className:"mt-4 mb-6",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,k.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Progress"}),(0,k.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:e.overallProgress?j(e.overallProgress.percentage):"0.0%"})]}),(0,k.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,k.jsx)("div",{className:"bg-blue-600 dark:bg-blue-500 h-3 rounded-full transition-all duration-300",style:{width:"".concat(e.overallProgress?Math.min(100,Math.max(0,parseFloat(e.overallProgress.percentage)||0)):0,"%")}})})]}),(0,k.jsx)("div",{className:"space-y-2",children:Q.map(t=>{const n=e.courseProgress&&e.courseProgress[t]?e.courseProgress[t]:{percentage:"0.0",completed:0,total:0};return(0,k.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,k.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:t}),(0,k.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:j(n.percentage)})]},t)})})]})},e.id))})})]}),v&&(0,k.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,k.jsx)("div",{className:"sticky top-0 bg-white border-b px-6 py-4",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[v.name," - Submissions"]}),(0,k.jsx)("button",{onClick:()=>w(null),className:"text-gray-400 hover:text-gray-600",children:(0,k.jsx)(oN.q_G,{size:24})})]})}),(0,k.jsx)("div",{className:"p-6",children:(0,k.jsx)("div",{className:"space-y-4",children:P(v).length>0?P(v).map((e,t)=>(0,k.jsx)("div",{className:"border rounded-lg p-4",children:(0,k.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,k.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("correct"===e.status?"bg-green-500":"wrong"===e.status?"bg-red-500":"bg-gray-400")}),(0,k.jsxs)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:[e.course," - ",e.subcourse," - ",e.question]}),(0,k.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("mcq"===e.type?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:"mcq"===e.type?"MCQ":e.language||"CODE"})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:["mcq-entry"!==e.timestamp&&(0,k.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:AE(e.timestamp)}),"mcq"!==e.type&&e.code&&(0,k.jsx)("button",{onClick:()=>x(e),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:(0,k.jsx)(oN.PjK,{})}),"mcq"===e.type&&(0,k.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"MCQ Answer"})]})]})},t)):(0,k.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No submissions or progress found for this user."})})})]})}),b&&"mcq"!==b.type&&b.code&&(0,k.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,k.jsx)("div",{className:"sticky top-0 bg-white border-b px-6 py-4",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:b.question}),(0,k.jsxs)("p",{className:"text-sm text-gray-600",children:[b.language," - ",b.status]})]}),(0,k.jsx)("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:(0,k.jsx)(oN.q_G,{size:24})})]})}),(0,k.jsx)("div",{className:"p-6",children:(0,k.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:(0,k.jsx)("pre",{className:"text-green-400 text-sm font-mono whitespace-pre-wrap",children:b.code})})})]})})]})},uE=w("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),dE=w("camera-off",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),hE=w("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),fE=w("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),pE=w("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),gE=w("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),mE=w("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),yE=e=>{let{alerts:t,personCount:n}=e;const r=()=>0===n?"text-red-500":n>1?"text-orange-500":"text-green-500";return(0,k.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,k.jsx)("div",{className:r(),children:0===n?(0,k.jsx)(pE,{className:"w-6 h-6"}):n>1?(0,k.jsx)(gE,{className:"w-6 h-6"}):(0,k.jsx)(uf,{className:"w-6 h-6"})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"font-semibold text-gray-800",children:"Detection Status"}),(0,k.jsx)("p",{className:"text-sm font-medium ".concat(r()),children:0===n?"No person detected":n>1?"".concat(n," persons detected"):"Single person detected"})]})]}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Recent Alerts"}),(0,k.jsxs)("div",{className:"max-h-48 overflow-y-auto space-y-2",children:[t.slice(-5).map((e,t)=>(0,k.jsx)("div",{className:"p-3 rounded-lg border-l-4 ".concat("error"===e.type?"bg-red-50 border-red-400 text-red-800":"warning"===e.type?"bg-orange-50 border-orange-400 text-orange-800":"bg-green-50 border-green-400 text-green-800"),children:(0,k.jsxs)("div",{className:"flex items-start gap-2",children:[(0,k.jsx)(mE,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("p",{className:"text-sm font-medium",children:e.message}),(0,k.jsx)("p",{className:"text-xs mt-1 opacity-75",children:new Date(e.timestamp).toLocaleTimeString()})]})]})},t)),0===t.length&&(0,k.jsx)("p",{className:"text-gray-500 text-sm text-center py-4",children:"No alerts yet"})]})]})]})},vE=w("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),wE=e=>{let{status:t}=e;const n=[{label:"Session Duration",value:(()=>{const e=new Date,n=new Date(t.sessionStartTime),r=e.getTime()-n.getTime(),s=Math.floor(r/6e4),i=Math.floor(r%6e4/1e3);return"".concat(s,":").concat(i.toString().padStart(2,"0"))})(),icon:Xh,color:"text-blue-600 bg-blue-100"},{label:"Total Violations",value:t.violations.total,icon:mE,color:t.violations.total>0?"text-red-600 bg-red-100":"text-green-600 bg-green-100"},{label:"Multiple Person",value:t.violations.multiplePerson,icon:gE,color:"text-orange-600 bg-orange-100"},{label:"No Person",value:t.violations.noPerson,icon:vE,color:"text-purple-600 bg-purple-100"}];return(0,k.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Session Statistics"}),(0,k.jsx)("div",{className:"grid grid-cols-2 gap-4",children:n.map((e,t)=>(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full ".concat(e.color," mb-2"),children:(0,k.jsx)(e.icon,{className:"w-6 h-6"})}),(0,k.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:e.value}),(0,k.jsx)("p",{className:"text-sm text-gray-600",children:e.label})]},t))})]})},bE=()=>{const e=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useRef)(null),{detectPersons:s,isLoading:i,error:o,modelReady:a}=mN(),[l,A]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[m,y]=(0,t.useState)({personCount:0,violations:{multiplePerson:0,noPerson:0,total:0},sessionStartTime:new Date,isActive:!1}),v=(0,t.useCallback)((e,t)=>{const n={type:e,message:t,timestamp:new Date};g(e=>[...e,n])},[]),w=()=>{n.current&&(n.current.getTracks().forEach(e=>e.stop()),n.current=null),e.current&&(e.current.srcObject=null),A(!1),u(!1),v("warning","Camera stopped")},b=(0,t.useCallback)(async()=>{if(!e.current||!c)return;const t=await s(e.current);f(t);const n=t.length;y(e=>{const t=(0,d.A)({},e.violations);let r=!1;return 0===n&&0!==e.personCount?(t.noPerson++,t.total++,v("error","No person detected in frame"),r=!0):n>1&&e.personCount<=1?(t.multiplePerson++,t.total++,v("warning","Multiple persons detected (".concat(n,")")),r=!0):1!==n||1===e.personCount||r||v("success","Single person detected - compliant"),(0,d.A)((0,d.A)({},e),{},{personCount:n,violations:t})})},[s,c,v]);return(0,t.useEffect)(()=>(c?r.current=setInterval(b,1e3):r.current&&clearInterval(r.current),()=>{r.current&&clearInterval(r.current)}),[c,b]),(0,t.useEffect)(()=>()=>{w()},[]),(0,k.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:(0,k.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,k.jsxs)("div",{className:"text-center mb-8",children:[(0,k.jsx)("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Video Proctoring System"}),(0,k.jsx)("p",{className:"text-slate-600",children:"Advanced person detection for secure online examinations"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,k.jsx)("div",{className:"lg:col-span-2",children:(0,k.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-slate-800",children:"Live Feed"}),(0,k.jsxs)("div",{className:"flex gap-2",children:[l?(0,k.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,k.jsx)(dE,{className:"w-4 h-4"}),"Stop Camera"]}):(0,k.jsxs)("button",{onClick:async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});e.current&&(e.current.srcObject=t,n.current=t,A(!0),v("success","Camera started successfully"))}catch(tp){console.error("Camera access error:",tp),v("error","Failed to access camera")}},disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,k.jsx)(uE,{className:"w-4 h-4"}),"Start Camera"]}),l&&(0,k.jsxs)(k.Fragment,{children:[c?(0,k.jsxs)("button",{onClick:()=>{u(!1),y(e=>(0,d.A)((0,d.A)({},e),{},{isActive:!1})),r.current&&clearInterval(r.current),v("warning","Proctoring session stopped")},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[(0,k.jsx)(fE,{className:"w-4 h-4"}),"Stop Proctoring"]}):(0,k.jsxs)("button",{onClick:()=>{l&&a&&(u(!0),y(e=>(0,d.A)((0,d.A)({},e),{},{isActive:!0,sessionStartTime:new Date})),v("success","Proctoring session started"))},disabled:!a,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,k.jsx)(hE,{className:"w-4 h-4"}),"Start Proctoring"]}),(0,k.jsxs)("button",{onClick:()=>{g([]),f([]),y({personCount:0,violations:{multiplePerson:0,noPerson:0,total:0},sessionStartTime:new Date,isActive:c}),v("success","Session data reset")},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[(0,k.jsx)($h,{className:"w-4 h-4"}),"Reset"]})]})]})]}),(0,k.jsxs)("div",{className:"relative bg-slate-900 rounded-lg overflow-hidden aspect-video",children:[(0,k.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,k.jsx)(iN,{videoRef:e,detections:h,isActive:c}),(i||!l)&&(0,k.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 bg-opacity-75",children:(0,k.jsx)("div",{className:"text-center text-white",children:i?(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,k.jsx)("p",{children:"Loading AI model..."})]}):l?null:(0,k.jsx)("p",{children:"Camera not active"})})}),c&&(0,k.jsxs)("div",{className:"absolute top-4 left-4 flex items-center gap-2 bg-red-600 text-white px-3 py-1 rounded-full text-sm",children:[(0,k.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"MONITORING"]})]}),o&&(0,k.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:o})]})}),(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsx)(wE,{status:m}),(0,k.jsx)(yE,{alerts:p,personCount:m.personCount})]})]})]})})},xE=(0,t.lazy)(()=>Promise.all([n.e(677),n.e(547)]).then(n.bind(n,547))),CE=(0,t.lazy)(()=>n.e(409).then(n.bind(n,4409))),BE=(0,t.lazy)(()=>Promise.all([n.e(58),n.e(604)]).then(n.bind(n,2604))),kE=(0,t.lazy)(()=>Promise.all([n.e(355),n.e(50)]).then(n.bind(n,2050))),NE=(0,t.lazy)(()=>n.e(495).then(n.bind(n,495))),EE=(0,t.lazy)(()=>n.e(599).then(n.bind(n,9599))),_E=(0,t.lazy)(()=>n.e(256).then(n.bind(n,5256))),SE=(0,t.lazy)(()=>n.e(31).then(n.bind(n,7031)));const FE=function(){return(0,k.jsx)(s.Kd,{basename:"/",children:(0,k.jsxs)(I,{children:[" ",(0,k.jsx)(o.l$,{position:"top-center",reverseOrder:!1}),(0,k.jsx)(_,{children:(0,k.jsx)(t.Suspense,{fallback:(0,k.jsx)(qh.A,{message:"Loading page, please wait..."}),children:(0,k.jsxs)(i.BV,{children:[(0,k.jsx)(i.qh,{path:"/",element:(0,k.jsx)(xE,{})}),(0,k.jsx)(i.qh,{path:"/admin",element:(0,k.jsx)(aE,{requireAdmin:!0,children:(0,k.jsx)(zN,{})})}),(0,k.jsx)(i.qh,{path:"/adminmonitor",element:(0,k.jsx)(aE,{requireAdmin:!0,children:(0,k.jsx)(cE,{})})}),(0,k.jsx)(i.qh,{path:"/testedit/:testId",element:(0,k.jsx)(aE,{requireAdmin:!0,children:(0,k.jsx)(tE,{})})}),(0,k.jsx)(i.qh,{path:"/problem/:course/:subcourse/:questionId",element:(0,k.jsxs)(aE,{children:[" ",(0,k.jsx)(Bf,{})]})}),(0,k.jsx)(i.qh,{path:"/profile",element:(0,k.jsx)(BE,{})}),(0,k.jsx)(i.qh,{path:"/compiler",element:(0,k.jsx)(lE,{})}),(0,k.jsx)(i.qh,{path:"/courses",element:(0,k.jsx)(kE,{})}),(0,k.jsx)(i.qh,{path:"/course/:course",element:(0,k.jsx)(NE,{})}),(0,k.jsx)(i.qh,{path:"/about",element:(0,k.jsx)(EE,{})}),(0,k.jsx)(i.qh,{path:"/contact",element:(0,k.jsx)(_E,{})}),(0,k.jsx)(i.qh,{path:"/login",element:(0,k.jsx)(SE,{})}),(0,k.jsx)(i.qh,{path:"*",element:(0,k.jsx)(CE,{})}),(0,k.jsx)(i.qh,{path:"/proctoring",element:(0,k.jsx)(bE,{})}),(0,k.jsx)(i.qh,{path:"/test",element:(0,k.jsx)(aE,{requireUser:!0,children:(0,k.jsx)(FN,{})})}),(0,k.jsx)(i.qh,{path:"/examwindow/:testid",element:(0,k.jsx)(aE,{requireUser:!0,children:(0,k.jsx)(BN,{})})}),(0,k.jsx)(i.qh,{path:"/exammonitor/:testid",element:(0,k.jsx)(aE,{requireAdmin:!0,children:(0,k.jsx)(sE,{})})}),(0,k.jsx)(i.qh,{path:"/adminresults/:testid",element:(0,k.jsx)(aE,{requireAdmin:!0,children:(0,k.jsx)(Gm,{})})}),(0,k.jsx)(i.qh,{path:"/studentresults/:testid",element:(0,k.jsx)(aE,{requireUser:!0,children:(0,k.jsx)(Hm,{})})})]})})})]})})};window.__REACT_DEVTOOLS_GLOBAL_HOOK__={isDisabled:!0,supportsFiber:!0,inject:()=>{},onCommitFiberRoot:()=>{},onCommitFiberUnmount:()=>{}};const IE=e=>{let{children:t}=e;const{loading:n}=(0,l.A)();return n?(0,k.jsx)(LoadingPage,{message:"Loading page, please wait..."}):t};document.addEventListener("contextmenu",e=>e.preventDefault()),document.addEventListener("copy",e=>e.preventDefault()),document.addEventListener("cut",e=>e.preventDefault()),document.addEventListener("paste",e=>e.preventDefault()),document.addEventListener("selectstart",e=>e.preventDefault()),document.addEventListener("dragstart",e=>e.preventDefault());r.createRoot(document.getElementById("root")).render((0,k.jsx)(t.StrictMode,{children:(0,k.jsx)(a.N,{children:(0,k.jsx)(l.O,{children:(0,k.jsx)(IE,{children:(0,k.jsx)(FE,{})})})})}))})()})();
//# sourceMappingURL=main.337e11ae.js.map