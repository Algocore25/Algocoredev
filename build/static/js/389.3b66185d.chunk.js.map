{"version":3,"file":"static/js/389.3b66185d.chunk.js","mappings":"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","sources":["hooks/useUserActivityTime.jsx","pages/ActivityCalendar.jsx","pages/ProfilePage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { getDatabase, ref, onValue } from 'firebase/database';\r\nimport { getAuth } from 'firebase/auth';\r\n\r\nconst useUserActivityTime = () => {\r\n  const [totalTime, setTotalTime] = useState(0);\r\n  const auth = getAuth();\r\n  const db = getDatabase();\r\n\r\n  useEffect(() => {\r\n    if (auth.currentUser) {\r\n      const userId = auth.currentUser.uid;\r\n      const timeRef = ref(db, `Activitytime/${userId}/`);\r\n      \r\n      const unsubscribe = onValue(timeRef, (snapshot) => {\r\n        if (snapshot.exists()) {\r\n          setTotalTime(snapshot.val());\r\n        }\r\n      });\r\n\r\n      return () => unsubscribe();\r\n    }\r\n  }, [auth.currentUser]);\r\n\r\n  const formatTime = (milliseconds) => {\r\n    const totalSeconds = Math.floor(milliseconds / 1000);\r\n    const hours = Math.floor(totalSeconds / 3600);\r\n    const minutes = Math.floor((totalSeconds % 3600) / 60);\r\n    \r\n    if (hours > 0) {\r\n      return `${hours}h ${minutes}m`;\r\n    } else if (minutes > 0) {\r\n      return `${minutes}m`;\r\n    } else {\r\n      return `${totalSeconds}s`;\r\n    }\r\n  };\r\n\r\n  return { totalTime, formatTime };\r\n};\r\n\r\nexport default useUserActivityTime;\r\n","import React, { useMemo } from \"react\";\r\n\r\nconst ActivityCalendar = ({ submissions }) => {\r\n  if (!submissions || submissions.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-8 text-[#656d76] dark:text-[#7d8590] bg-white dark:bg-[#0d1117] rounded-lg border border-[#d0d7de] dark:border-[#30363d]\">\r\n        No submission activity in the last 6 months.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const today = new Date();\r\n  const startDate = new Date();\r\n  startDate.setMonth(today.getMonth() - 6);\r\n\r\n  // Align grid start to Sunday before startDate\r\n  const gridStart = new Date(startDate);\r\n  gridStart.setDate(gridStart.getDate() - gridStart.getDay());\r\n\r\n  // Align grid end to Saturday after today\r\n  const gridEnd = new Date(today);\r\n  gridEnd.setDate(gridEnd.getDate() + (6 - gridEnd.getDay()));\r\n\r\n  // Map submission counts per date\r\n  const countsMap = useMemo(() => {\r\n    const map = new Map();\r\n    submissions.forEach((s) => {\r\n      const d = new Date(s.timestamp);\r\n      const dateStr = d.toISOString().split(\"T\")[0];\r\n      map.set(dateStr, (map.get(dateStr) || 0) + 1);\r\n    });\r\n    return map;\r\n  }, [submissions]);\r\n\r\n  // Build all days from start to end\r\n  const allDays = useMemo(() => {\r\n    const days = [];\r\n    const cur = new Date(gridStart);\r\n    while (cur <= gridEnd) {\r\n      const dateStr = cur.toISOString().split(\"T\")[0];\r\n      days.push({\r\n        date: new Date(cur),\r\n        dateStr,\r\n        count: countsMap.get(dateStr) || 0,\r\n        dayOfMonth: cur.getDate(),\r\n      });\r\n      cur.setDate(cur.getDate() + 1);\r\n    }\r\n    return days;\r\n  }, [gridStart, gridEnd, countsMap]);\r\n\r\n  // Group into weeks\r\n  const weeks = useMemo(() => {\r\n    const arr = [];\r\n    for (let i = 0; i < allDays.length; i += 7) {\r\n      arr.push(allDays.slice(i, i + 7));\r\n    }\r\n    return arr;\r\n  }, [allDays]);\r\n\r\n  // Month labels - show label on the first week of each month\r\n  const monthLabels = useMemo(() => {\r\n    const labels = [];\r\n    const seenMonths = new Set();\r\n    \r\n    weeks.forEach((week, weekIndex) => {\r\n      for (const day of week) {\r\n        const monthYear = `${day.date.getFullYear()}-${day.date.getMonth()}`;\r\n        if (!seenMonths.has(monthYear)) {\r\n          seenMonths.add(monthYear);\r\n          labels.push({\r\n            weekIndex: weekIndex,\r\n            label: day.date.toLocaleString(\"default\", { month: \"short\" }),\r\n          });\r\n          break;\r\n        }\r\n      }\r\n    });\r\n    \r\n    return labels;\r\n  }, [weeks]);\r\n\r\n  // Color scale matching GitHub's exact colors\r\n  const getColor = (count) => {\r\n    if (count === 0) return \"bg-[#ebedf0] dark:bg-[#161b22]\";\r\n    if (count <= 2) return \"bg-[#9be9a8] dark:bg-[#0e4429]\";\r\n    if (count <= 4) return \"bg-[#40c463] dark:bg-[#006d32]\";\r\n    if (count <= 6) return \"bg-[#30a14e] dark:bg-[#26a641]\";\r\n    return \"bg-[#216e39] dark:bg-[#39d353]\";\r\n  };\r\n\r\n  const cellSize = 32;\r\n  const cellGap = 4;\r\n  const weekWidth = cellSize + cellGap;\r\n\r\n  return (\r\n    <div className=\"w-full overflow-x-auto bg-white dark:bg-[#0d1117] rounded-lg border border-[#d0d7de] dark:border-[#30363d] p-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center mb-6 flex-wrap gap-3\">\r\n        <h3 className=\"text-lg font-semibold text-[#1f2328] dark:text-[#e6edf3]\">\r\n          {submissions.length} submissions in the last 6 months\r\n        </h3>\r\n        <div className=\"flex items-center gap-2 text-sm text-[#656d76] dark:text-[#7d8590]\">\r\n          <span>Less</span>\r\n          {[0, 2, 4, 6, 8].map((v, i) => (\r\n            <div key={i} className={`w-3 h-3 rounded-sm ${getColor(v)} border border-[rgba(27,31,36,0.06)] dark:border-transparent`} />\r\n          ))}\r\n          <span>More</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex gap-4\">\r\n        {/* Day labels */}\r\n        <div \r\n          className=\"hidden sm:flex flex-col text-xs text-[#656d76] dark:text-[#7d8590]\" \r\n          style={{ \r\n            paddingTop: '24px',\r\n            gap: `${cellGap}px`\r\n          }}\r\n        >\r\n          <div style={{ height: `${cellSize}px` }} className=\"flex items-center leading-none\">Sun</div>\r\n          <div style={{ height: `${cellSize}px` }} className=\"flex items-center leading-none\">Mon</div>\r\n          <div style={{ height: `${cellSize}px` }} className=\"flex items-center leading-none\">Tue</div>\r\n          <div style={{ height: `${cellSize}px` }} className=\"flex items-center leading-none\">Wed</div>\r\n          <div style={{ height: `${cellSize}px` }} className=\"flex items-center leading-none\">Thu</div>\r\n          <div style={{ height: `${cellSize}px` }} className=\"flex items-center leading-none\">Fri</div>\r\n          <div style={{ height: `${cellSize}px` }} className=\"flex items-center leading-none\">Sat</div>\r\n        </div>\r\n\r\n        {/* Grid section */}\r\n        <div className=\"flex-1 min-w-0\">\r\n          {/* Month labels */}\r\n          <div \r\n            className=\"relative text-xs font-medium text-[#656d76] dark:text-[#7d8590] mb-2\" \r\n            style={{ height: '20px' }}\r\n          >\r\n            {monthLabels.map(({ weekIndex, label }) => (\r\n              <span\r\n                key={`${weekIndex}-${label}`}\r\n                className=\"absolute whitespace-nowrap\"\r\n                style={{\r\n                  left: `${weekIndex * weekWidth}px`,\r\n                }}\r\n              >\r\n                {label}\r\n              </span>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Weekly columns */}\r\n          <div \r\n            className=\"flex overflow-x-auto pb-2\" \r\n            style={{ gap: `${cellGap}px` }}\r\n          >\r\n            {weeks.map((week, i) => (\r\n              <div \r\n                key={i} \r\n                className=\"flex flex-col flex-shrink-0\" \r\n                style={{ gap: `${cellGap}px` }}\r\n              >\r\n                {week.map((day, j) => {\r\n                  const isToday = day.dateStr === today.toISOString().split(\"T\")[0];\r\n                  const hasSubmissions = day.count > 0;\r\n                  \r\n                  return (\r\n                    <div\r\n                      key={j}\r\n                      title={`${day.date.toLocaleDateString(\"en-US\", { \r\n                        weekday: \"short\", \r\n                        month: \"short\", \r\n                        day: \"numeric\", \r\n                        year: \"numeric\" \r\n                      })}: ${day.count} submission${day.count === 1 ? \"\" : \"s\"}`}\r\n                      className={`rounded-md ${getColor(\r\n                        day.count\r\n                      )} ${isToday ? \"ring-2 ring-[#0969da] dark:ring-[#58a6ff]\" : \"\"} cursor-pointer transition-all duration-100 hover:ring-2 hover:ring-[#656d76] dark:hover:ring-[#7d8590] hover:scale-105 border border-[rgba(27,31,36,0.06)] dark:border-transparent relative flex flex-col items-center justify-center`}\r\n                      style={{\r\n                        width: `${cellSize}px`,\r\n                        height: `${cellSize}px`,\r\n                      }}\r\n                    >\r\n                      {/* Day number */}\r\n                      <span className={`text-[10px] font-semibold leading-none ${hasSubmissions ? 'text-white' : 'text-[#656d76] dark:text-[#7d8590]'}`}>\r\n                        {day.dayOfMonth}\r\n                      </span>\r\n                      \r\n                      {/* Submission count */}\r\n                      {hasSubmissions && (\r\n                        <span className=\"text-[8px] font-bold text-white mt-0.5 leading-none\">\r\n                          ({day.count})\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <p className=\"mt-4 text-sm text-[#656d76] dark:text-[#7d8590]\">\r\n        Hover over a day to see full details\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActivityCalendar;","import React, { useState, useEffect } from \"react\";\r\nimport { useTheme } from \"../context/ThemeContext\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { ref, get, child } from \"firebase/database\";\r\nimport { database } from \"../firebase\";\r\nimport SignInRequiredPage from \"./SignInRequiredPage\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n} from 'chart.js';\r\nimport LoadingPage from \"./LoadingPage\";\r\nimport useUserActivityTime from '../hooks/useUserActivityTime';\r\nimport ActivityCalendar from './ActivityCalendar';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\n// SVG Icons\r\nconst Icons = {\r\n  Edit: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Trophy: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Star: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Calendar: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Mail: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Settings: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\r\n      />\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Moon: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Sun: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Bell: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Shield: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\r\n      />\r\n    </svg>\r\n  ),\r\n  Eye: () => (\r\n    <svg\r\n      className=\"w-5 h-5\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n    >\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n      />\r\n      <path\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        strokeWidth={2}\r\n        d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n      />\r\n    </svg>\r\n  ),\r\n};\r\n// Helper functions for timestamp conversion\r\nconst parseFirebaseTimestamp = (timestampKey) => {\r\n  if (!timestampKey) return new Date(NaN);\r\n\r\n  // Replace the last underscore before milliseconds with a dot\r\n  const fixed = timestampKey.replace(\r\n    /T(\\d{2})_(\\d{2})_(\\d{2})_(\\d{3})Z/,\r\n    'T$1:$2:$3.$4Z'\r\n  );\r\n\r\n  const date = new Date(fixed);\r\n\r\n  return isNaN(date.getTime()) ? new Date(NaN) : date;\r\n};\r\n\r\nconst getStatusColor = (status) => {\r\n  switch (status) {\r\n    case \"Accepted\":\r\n      return \"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30\";\r\n    case \"Wrong Answer\":\r\n      return \"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30\";\r\n    case \"Runtime Error\":\r\n      return \"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/30\";\r\n    default:\r\n      return \"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900/30\";\r\n  }\r\n};\r\n\r\n\r\nconst formatFirebaseTimestamp = (timestampKey) => {\r\n  const date = parseFirebaseTimestamp(timestampKey);\r\n\r\n  if (isNaN(date.getTime())) {\r\n    console.warn('Invalid date for timestamp:', timestampKey);\r\n    return 'N/A';\r\n  }\r\n\r\n  return date.toLocaleString('en-US', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n    second: '2-digit',\r\n  });\r\n};\r\n\r\n// Format join date from timestamp\r\nconst formatJoinDate = (timestamp) => {\r\n  if (!timestamp) return \"Unknown\";\r\n  const date = new Date(timestamp);\r\n  return date.toLocaleDateString(\"en-US\", { month: \"long\", year: \"numeric\" });\r\n};\r\n\r\n\r\nfunction ProfilePage() {\r\n  const { theme } = useTheme();\r\n  const { user, logout, loading } = useAuth();\r\n  const [activeTab, setActiveTab] = useState(\"overview\");\r\n  const [isDarkMode, setIsDarkMode] = useState(theme === \"dark\");\r\n  const [profileData, setProfileData] = useState(null);\r\n  const [timeFilter, setTimeFilter] = useState('hourly');\r\n  const [selectedDate, setSelectedDate] = useState(() => {\r\n    const now = new Date();\r\n    return now.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\r\n  });\r\n  // Add useState for submissionStats\r\n  const [submissionStats, setSubmissionStats] = useState({\r\n    labels: [],\r\n    data: []\r\n  });\r\n  const { totalTime, formatTime } = useUserActivityTime();\r\n\r\n  // Helper to get all dates from start of month to today\r\n  const getMonthDates = () => {\r\n    const now = new Date();\r\n    const year = now.getFullYear();\r\n    const month = now.getMonth();\r\n    const today = now.getDate();\r\n    const dates = [];\r\n    for (let d = 1; d <= today; d++) {\r\n      const dateObj = new Date(year, month, d);\r\n      dates.push(dateObj.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }));\r\n    }\r\n    return dates;\r\n  };\r\n\r\n  // Helper for yearly labels\r\n  const getYearlyLabels = () => {\r\n    const now = new Date();\r\n    const labels = [];\r\n    for (let i = 11; i >= 0; i--) {\r\n      const date = new Date();\r\n      date.setMonth(now.getMonth() - i);\r\n      labels.push(date.toLocaleDateString('en-US', { month: 'short', year: 'numeric' }));\r\n    }\r\n    return labels;\r\n  };\r\n\r\n  const processSubmissionsData = (submissions, filter) => {\r\n    const stats = new Map();\r\n    const now = new Date();\r\n\r\n    if (filter === 'hourly') {\r\n      // 0-23 hours for selectedDate\r\n      for (let h = 0; h < 24; h++) {\r\n        stats.set(h.toString().padStart(2, '0'), 0);\r\n      }\r\n      const [selMonth, selDay, selYear] = selectedDate.match(/([A-Za-z]+) (\\d+), (\\d+)/).slice(1);\r\n      for (const course in submissions) {\r\n        for (const category in submissions[course]) {\r\n          for (const question in submissions[course][category]) {\r\n            for (const timestamp in submissions[course][category][question]) {\r\n              const submission = submissions[course][category][question][timestamp];\r\n              if (submission.status === 'correct') {\r\n                const date = new Date(parseFirebaseTimestamp(timestamp));\r\n                if (\r\n                  date.getFullYear() === Number(selYear) &&\r\n                  date.toLocaleString('en-US', { month: 'short' }) === selMonth &&\r\n                  date.getDate() === Number(selDay)\r\n                ) {\r\n                  const hour = date.getHours().toString().padStart(2, '0');\r\n                  if (stats.has(hour)) {\r\n                    stats.set(hour, stats.get(hour) + 1);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else if (filter === 'weekly') {\r\n      // Last 7 days\r\n      for (let i = 6; i >= 0; i--) {\r\n        const date = new Date();\r\n        date.setDate(now.getDate() - i);\r\n        stats.set(date.toLocaleDateString(), 0);\r\n      }\r\n      for (const course in submissions) {\r\n        for (const category in submissions[course]) {\r\n          for (const question in submissions[course][category]) {\r\n            for (const timestamp in submissions[course][category][question]) {\r\n              const submission = submissions[course][category][question][timestamp];\r\n              if (submission.status === 'correct') {\r\n                const date = new Date(parseFirebaseTimestamp(timestamp));\r\n                const key = date.toLocaleDateString();\r\n                if (stats.has(key)) {\r\n                  stats.set(key, stats.get(key) + 1);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else if (filter === 'monthly') {\r\n      // Last 12 months, label as \"Aug 2024\", \"Sep 2024\", etc.\r\n      const labels = getYearlyLabels();\r\n      labels.forEach(label => stats.set(label, 0));\r\n      for (const course in submissions) {\r\n        for (const category in submissions[course]) {\r\n          for (const question in submissions[course][category]) {\r\n            for (const timestamp in submissions[course][category][question]) {\r\n              const submission = submissions[course][category][question][timestamp];\r\n              if (submission.status === 'correct') {\r\n                const date = new Date(parseFirebaseTimestamp(timestamp));\r\n                const key = date.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });\r\n                if (stats.has(key)) {\r\n                  stats.set(key, stats.get(key) + 1);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      labels: Array.from(stats.keys()),\r\n      data: Array.from(stats.values())\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      if (!user?.uid) return;\r\n\r\n      const dbRef = ref(database);\r\n      const progressPath = `userprogress/${user.uid}`;\r\n      const submissionsPath = `Submissions/${user.uid}`;\r\n\r\n      try {\r\n        const [progressSnapshot, submissionsSnapshot] = await Promise.all([\r\n          get(child(dbRef, progressPath)),\r\n          get(child(dbRef, submissionsPath)),\r\n        ]);\r\n\r\n        let acceptedCount = 0;\r\n        let totalSubmissions = 0;\r\n        let submissionsList = [];\r\n\r\n        // Process progress data (for accepted submissions)\r\n        if (progressSnapshot.exists()) {\r\n          const progressData = progressSnapshot.val();\r\n\r\n          for (const courseKey in progressData) {\r\n            for (const subKey in progressData[courseKey]) {\r\n              for (const questionId in progressData[courseKey][subKey]) {\r\n                const progress = progressData[courseKey][subKey][questionId];\r\n                const accepted =\r\n                  typeof progress === \"object\" ? progress.accepted : progress;\r\n\r\n                if (accepted === true) {\r\n                  acceptedCount++;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // Process submissions data\r\n        if (submissionsSnapshot.exists()) {\r\n          const submissionsData = submissionsSnapshot.val();\r\n          totalSubmissions = 0;\r\n\r\n          // Flatten the submissions data into an array\r\n          for (const courseKey in submissionsData) {\r\n            for (const subKey in submissionsData[courseKey]) {\r\n              for (const questionId in submissionsData[courseKey][subKey]) {\r\n                for (const timestampKey in submissionsData[courseKey][subKey][\r\n                  questionId\r\n                ]) {\r\n                  const submission =\r\n                    submissionsData[courseKey][subKey][questionId][\r\n                    timestampKey\r\n                    ];\r\n                  totalSubmissions++;\r\n\r\n                  submissionsList.push({\r\n                    problem: questionId,\r\n                    course: courseKey,\r\n                    subcourse: subKey,\r\n                    language: submission.language || \"N/A\",\r\n                    status:\r\n                      submission.status === \"correct\"\r\n                        ? \"Accepted\"\r\n                        : \"Wrong Answer\",\r\n                    runtime: \"-\", // Placeholder\r\n                    date: formatFirebaseTimestamp(timestampKey),\r\n                    timestamp: parseFirebaseTimestamp(timestampKey).getTime(),\r\n                    code: submission.code,\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          // Sort submissions by timestamp in descending order\r\n          submissionsList.sort((a, b) => b.timestamp - a.timestamp);\r\n\r\n          const stats = processSubmissionsData(submissionsData, timeFilter);\r\n          setSubmissionStats(stats);\r\n        }\r\n\r\n        setProfileData((prev) => ({\r\n          ...prev,\r\n          stats: {\r\n            ...prev.stats,\r\n            acceptedSubmissions: acceptedCount,\r\n            totalSubmissions: totalSubmissions,\r\n          },\r\n          allSubmissions: submissionsList,\r\n          recentSubmissions: submissionsList.slice(0, 10), // Show only recent 10 by default\r\n        }));\r\n      } catch (err) {\r\n        console.error(\"Error fetching user data:\", err);\r\n      }\r\n    };\r\n\r\n    if (user) {\r\n      setProfileData({\r\n        username: user.name || \"Anonymous\",\r\n        email: user.email || \"No email provided\",\r\n        joinDate: formatJoinDate(Date.now()),\r\n        photoURL: user.photoURL || \"https://via.placeholder.com/150\",\r\n        allSubmissions: [],\r\n        recentSubmissions: [],\r\n        stats: {\r\n          totalSubmissions: 0,\r\n          acceptedSubmissions: 0,\r\n          streak: 0,\r\n          rank: \"Beginner\",\r\n        },\r\n      });\r\n\r\n      fetchUserData();\r\n    }\r\n  }, [user, timeFilter, selectedDate]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <LoadingPage />\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return <SignInRequiredPage />;\r\n  }\r\n\r\n  if (!profileData) {\r\n    return (\r\n      <LoadingPage />\r\n    );\r\n  }\r\n\r\n  console.log(\"Profile Data:\", profileData);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white dark:bg-gray-900\">\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          {/* Profile Header */}\r\n          <div className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 p-8 mb-8\">\r\n            <div className=\"flex flex-col lg:flex-row items-start lg:items-center gap-8\">\r\n              {/* Profile Picture */}\r\n              <div className=\"relative\">\r\n                <div className=\"w-32 h-32 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-1\">\r\n                  <img\r\n                    src={profileData.photoURL}\r\n                    alt=\"Profile\"\r\n                    className=\"w-full h-full rounded-full border-4 border-white dark:border-gray-800\"\r\n                  />\r\n                </div>\r\n\r\n              </div>\r\n\r\n              {/* User Info */}\r\n              <div className=\"flex-1 space-y-4\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <h1 className=\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n                    {profileData.username}\r\n                  </h1>\r\n\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div className=\"flex items-center gap-3 text-gray-600 dark:text-gray-400\">\r\n                    <Icons.Calendar />\r\n                    <span>Joined {profileData.joinDate}</span>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-3 text-gray-600 dark:text-gray-400\">\r\n                    <Icons.Mail />\r\n                    <span>{profileData.email}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <p className=\"text-gray-600 dark:text-gray-400 text-lg\">\r\n                  {profileData.bio}\r\n                </p>\r\n\r\n                {/* Stats Cards */}\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6\">\r\n                  <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 rounded-xl\">\r\n                    <div className=\"text-2xl font-bold\">\r\n                      {profileData.stats.totalSubmissions}\r\n                    </div>\r\n                    <div className=\"text-sm opacity-90\">Total Submissions</div>\r\n                  </div>\r\n                  <div className=\"bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-xl\">\r\n                    <div className=\"text-2xl font-bold\">\r\n                      {profileData.stats.acceptedSubmissions}\r\n                    </div>\r\n                    <div className=\"text-sm opacity-90\">Accepted</div>\r\n                  </div>\r\n                  <div className=\"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 rounded-xl\">\r\n                    <div className=\"text-2xl font-bold\">\r\n                      {profileData.stats.rank}\r\n                    </div>\r\n                    <div className=\"text-sm opacity-90\">Rank</div>\r\n                  </div>\r\n                  <div className=\"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-4 rounded-xl\">\r\n                    <div className=\"text-2xl font-bold\">\r\n                      {formatTime(totalTime)}\r\n                    </div>\r\n                    <div className=\"text-sm opacity-90\">Time Spent</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Main Content Tabs */}\r\n          <div className=\"bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 rounded-2xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 mb-8\">\r\n            <div className=\"flex border-b border-gray-200 dark:border-gray-700\">\r\n              <button\r\n                className={`px-6 py-4 text-sm font-medium transition-all duration-200 ${activeTab === \"overview\"\r\n                    ? \"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50 dark:bg-blue-900/20\"\r\n                    : \"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400\"\r\n                  }`}\r\n                onClick={() => setActiveTab(\"overview\")}\r\n              >\r\n                Overview\r\n              </button>\r\n              <button\r\n                className={`px-6 py-4 text-sm font-medium transition-all duration-200 ${activeTab === \"submissions\"\r\n                    ? \"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50 dark:bg-blue-900/20\"\r\n                    : \"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400\"\r\n                  }`}\r\n                onClick={() => setActiveTab(\"submissions\")}\r\n              >\r\n                Submissions\r\n              </button>\r\n\r\n            </div>\r\n\r\n            <div className=\"p-8\">\r\n              {activeTab === \"overview\" && (\r\n                <div className=\"space-y-8\">\r\n                  {/* Activity Graph */}\r\n                  {/* <div>\r\n                    <div className=\"flex justify-between items-center mb-4\">\r\n                      <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\r\n                        Activity\r\n                      </h3>\r\n                      <div className=\"flex gap-2\">\r\n                        {timeFilter === \"hourly\" && (\r\n                          <select\r\n                            className=\"bg-white/70 dark:bg-gray-700/70 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-sm\"\r\n                            value={selectedDate}\r\n                            onChange={e => setSelectedDate(e.target.value)}\r\n                          >\r\n                            {getMonthDates().map(date => (\r\n                              <option key={date} value={date}>\r\n                                {date.replace(/, \\d{4}$/, '')}\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                        )}\r\n                        <select\r\n                          className=\"bg-white/70 dark:bg-gray-700/70 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-sm\"\r\n                          value={timeFilter}\r\n                          onChange={(e) => setTimeFilter(e.target.value)}\r\n                        >\r\n                          <option value=\"hourly\">Hourly</option>\r\n                          <option value=\"weekly\">Weekly</option>\r\n                          <option value=\"monthly\">Monthly</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"bg-white/50 dark:bg-gray-800/50 rounded-xl p-6 h-[300px] flex items-center justify-center\">\r\n                      {submissionStats.data.length === 0 ||\r\n                        submissionStats.data.every((v) => v === 0) ? (\r\n                        <div className=\"text-center w-full\">\r\n                          <div className=\"w-16 h-16 mx-auto mb-4 bg-white/50 dark:bg-gray-800/50 rounded-full flex items-center justify-center\">\r\n                            <Icons.Trophy />\r\n                          </div>\r\n                          <p className=\"text-gray-600 dark:text-gray-400 text-lg\">\r\n                            No submissions\r\n                          </p>\r\n                        </div>\r\n                      ) : (\r\n                        <Line\r\n                          data={{\r\n                            labels: submissionStats.labels,\r\n                            datasets: [\r\n                              {\r\n                                data: submissionStats.data,\r\n                                borderColor: 'rgb(59, 130, 246)',\r\n                                backgroundColor: 'rgba(59, 130, 246, 0.5)',\r\n                                tension: 0.4,\r\n                                pointRadius: 4,\r\n                                pointHoverRadius: 6,\r\n                              }\r\n                            ]\r\n                          }}\r\n                          options={{\r\n                            responsive: true,\r\n                            maintainAspectRatio: false,\r\n                            scales: {\r\n                              x: {\r\n                                title: {\r\n                                  display: true,\r\n                                  text:\r\n                                    timeFilter === \"hourly\"\r\n                                      ? \"Hours\"\r\n                                      : timeFilter === \"weekly\"\r\n                                        ? \"Date\"\r\n                                        : timeFilter === \"monthly\"\r\n                                          ? \"Month & Year\"\r\n                                          : \"Month & Year\",\r\n                                  font: { size: 14 }\r\n                                }\r\n                              },\r\n                              y: {\r\n                                beginAtZero: true,\r\n                                ticks: { stepSize: 1 },\r\n                                title: {\r\n                                  display: true,\r\n                                  text: \"No. of questions\",\r\n                                  font: { size: 14 },\r\n                                  color: \"#374151\"\r\n                                }\r\n                              }\r\n                            },\r\n                            plugins: {\r\n                              legend: { display: false },\r\n                              title: { display: false },\r\n                              tooltip: {\r\n                                callbacks: {\r\n                                  label: function (context) {\r\n                                    return `Correct submissions: ${context.parsed.y}`;\r\n                                  }\r\n                                }\r\n                              }\r\n                            }\r\n                          }}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div> */}\r\n\r\n                  {/* Activity Calendar */}\r\n                  <div>\r\n                    <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">\r\n                      Activity Calendar (Last 6 Months)\r\n                    </h3>\r\n                    <ActivityCalendar submissions={profileData.allSubmissions} />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {activeTab === \"submissions\" && (\r\n                <div>\r\n                  <div className=\"flex justify-between items-center mb-6\">\r\n                    <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\r\n                      All Submissions ({profileData.allSubmissions?.length || 0}\r\n                      )\r\n                    </h3>\r\n                    <div className=\"flex gap-3\">\r\n                      <select\r\n                        className=\"bg-white/70 dark:bg-gray-700/70 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-sm backdrop-blur-sm\"\r\n                        onChange={(e) => {\r\n                          const filtered = profileData.allSubmissions.filter(\r\n                            (sub) =>\r\n                              e.target.value === \"All Languages\" ||\r\n                              sub.language === e.target.value\r\n                          );\r\n                          setProfileData((prev) => ({\r\n                            ...prev,\r\n                            recentSubmissions: filtered.slice(0, 10),\r\n                          }));\r\n                        }}\r\n                      >\r\n                        <option>All Languages</option>\r\n                        <option>python</option>\r\n                        <option>javascript</option>\r\n                        <option>java</option>\r\n                        <option>cpp</option>\r\n                      </select>\r\n                      <select\r\n                        className=\"bg-white/70 dark:bg-gray-700/70 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 text-sm backdrop-blur-sm\"\r\n                        onChange={(e) => {\r\n                          const filtered = profileData.allSubmissions.filter(\r\n                            (sub) =>\r\n                              e.target.value === \"All Status\" ||\r\n                              sub.status === e.target.value\r\n                          );\r\n                          setProfileData((prev) => ({\r\n                            ...prev,\r\n                            recentSubmissions: filtered.slice(0, 10),\r\n                          }));\r\n                        }}\r\n                      >\r\n                        <option>All Status</option>\r\n                        <option>Accepted</option>\r\n                        <option>Wrong Answer</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"overflow-x-auto mb-6\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n                      <thead className=\"bg-gray-50/50 dark:bg-gray-700/50\">\r\n                        <tr>\r\n                          <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                            Problem\r\n                          </th>\r\n                          <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                            Course\r\n                          </th>\r\n                          <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                            Language\r\n                          </th>\r\n                          <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                            Status\r\n                          </th>\r\n                          {/*\r\n                          <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                            Runtime\r\n                          </th>\r\n                          */}\r\n                          <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                            Date\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"bg-white/30 dark:bg-gray-800/30 divide-y divide-gray-200 dark:divide-gray-700\">\r\n                        {profileData.recentSubmissions.map(\r\n                          (submission, index) => (\r\n                            <tr\r\n                              key={index}\r\n                              className=\"hover:bg-gray-50/50 dark:hover:bg-gray-700/50 transition-colors\"\r\n                            >\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                                  {submission.problem}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                  {submission.course} / {submission.subcourse}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                  {submission.language}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <span\r\n                                  className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(\r\n                                    submission.status\r\n                                  )}`}\r\n                                >\r\n                                  {submission.status}\r\n                                </span>\r\n                              </td>\r\n                              {/*\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                  {submission.runtime}\r\n                                </div>\r\n                              </td>\r\n                              */}\r\n\r\n                              <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                                  {submission.date || \"N/A\"}\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          )\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n\r\n                  {/* Pagination */}\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <button\r\n                      className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm disabled:opacity-50\"\r\n                      disabled={profileData.recentSubmissions.length <= 10}\r\n                      onClick={() => {\r\n                        const currentIndex =\r\n                          profileData.allSubmissions.findIndex(\r\n                            (sub) =>\r\n                              sub.timestamp ===\r\n                              profileData.recentSubmissions[0].timestamp\r\n                          );\r\n                        const newIndex = Math.max(0, currentIndex - 10);\r\n                        setProfileData((prev) => ({\r\n                          ...prev,\r\n                          recentSubmissions: prev.allSubmissions.slice(\r\n                            newIndex,\r\n                            newIndex + 10\r\n                          ),\r\n                        }));\r\n                      }}\r\n                    >\r\n                      Previous\r\n                    </button>\r\n                    <span className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                      (\r\n                      {profileData.allSubmissions?.length || 0})\r\n                    </span>\r\n                    <button\r\n                      className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm disabled:opacity-50\"\r\n                      disabled={\r\n                        profileData.recentSubmissions.length === 0 ||\r\n                        profileData.allSubmissions.length <=\r\n                        profileData.recentSubmissions.length ||\r\n                        profileData.recentSubmissions[\r\n                          profileData.recentSubmissions.length - 1\r\n                        ].timestamp ===\r\n                        profileData.allSubmissions[\r\n                          profileData.allSubmissions.length - 1\r\n                        ].timestamp\r\n                      }\r\n                      onClick={() => {\r\n                        const currentIndex =\r\n                          profileData.allSubmissions.findIndex(\r\n                            (sub) =>\r\n                              sub.timestamp ===\r\n                              profileData.recentSubmissions[\r\n                                profileData.recentSubmissions.length - 1\r\n                              ].timestamp\r\n                          );\r\n                        const newIndex = currentIndex + 1;\r\n                        setProfileData((prev) => ({\r\n                          ...prev,\r\n                          recentSubmissions: prev.allSubmissions.slice(\r\n                            newIndex,\r\n                            newIndex + 10\r\n                          ),\r\n                        }));\r\n                      }}\r\n                    >\r\n                      Next\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;"],"names":["useUserActivityTime","totalTime","setTotalTime","useState","auth","getAuth","db","getDatabase","useEffect","currentUser","userId","uid","timeRef","ref","concat","unsubscribe","onValue","snapshot","exists","val","formatTime","milliseconds","totalSeconds","Math","floor","hours","minutes","_ref","submissions","length","_jsx","className","children","today","Date","startDate","setMonth","getMonth","gridStart","setDate","getDate","getDay","gridEnd","countsMap","useMemo","map","Map","forEach","s","dateStr","timestamp","toISOString","split","set","get","allDays","days","cur","push","date","count","dayOfMonth","weeks","arr","i","slice","monthLabels","labels","seenMonths","Set","week","weekIndex","day","monthYear","getFullYear","has","add","label","toLocaleString","month","getColor","cellSize","_jsxs","v","style","paddingTop","gap","height","_ref2","left","j","isToday","hasSubmissions","title","toLocaleDateString","weekday","year","width","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","BarElement","Title","Tooltip","Legend","Icons","Calendar","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","Mail","parseFirebaseTimestamp","timestampKey","NaN","fixed","replace","isNaN","getTime","getStatusColor","status","formatFirebaseTimestamp","console","warn","hour","minute","second","formatJoinDate","_profileData$allSubmi","_profileData$allSubmi2","theme","useTheme","user","logout","loading","useAuth","activeTab","setActiveTab","isDarkMode","setIsDarkMode","profileData","setProfileData","timeFilter","setTimeFilter","selectedDate","setSelectedDate","submissionStats","setSubmissionStats","data","processSubmissionsData","filter","stats","now","h","toString","padStart","selMonth","selDay","selYear","match","course","category","question","Number","getHours","key","getYearlyLabels","Array","from","keys","values","username","name","email","joinDate","photoURL","allSubmissions","recentSubmissions","totalSubmissions","acceptedSubmissions","streak","rank","async","dbRef","database","progressPath","submissionsPath","progressSnapshot","submissionsSnapshot","Promise","all","child","acceptedCount","submissionsList","progressData","courseKey","subKey","questionId","progress","accepted","submissionsData","submission","problem","subcourse","language","runtime","code","sort","a","b","prev","_objectSpread","err","error","fetchUserData","LoadingPage","log","src","alt","bio","onClick","ActivityCalendar","onChange","e","filtered","sub","target","value","index","disabled","currentIndex","findIndex","newIndex","max","SignInRequiredPage"],"sourceRoot":""}