/*! For license information please see main.5c15ad0b.js.LICENSE.txt */
(()=>{var e={184:(e,t,n)=>{"use strict";n.d(t,{CMH:()=>d,Dp8:()=>s,FSj:()=>f,NBi:()=>x,QEs:()=>l,SMR:()=>v,ScZ:()=>o,V6H:()=>y,Vr3:()=>h,YNd:()=>p,YYR:()=>u,ZPX:()=>m,hL4:()=>i,ivP:()=>c,maD:()=>g,t3x:()=>a,vd0:()=>A,wQq:()=>w});var r=n(3441);function s(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 440 512"},child:[{tag:"path",attr:{d:"M344 305.5c-17.5 31.6-57.4 54.5-96 54.5-56.6 0-104-47.4-104-104s47.4-104 104-104c38.6 0 78.5 22.9 96 54.5 13.7-50.9 41.7-93.3 87-117.8C385.7 39.1 320.5 8 248 8 111 8 0 119 0 256s111 248 248 248c72.5 0 137.7-31.1 183-80.7-45.3-24.5-73.3-66.9-87-117.8z"},child:[]}]})(e)}function i(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function o(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"},child:[]}]})(e)}function a(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32v448h448V32H0zm243.8 349.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1v143.7zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6z"},child:[]}]})(e)}function l(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function c(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"},child:[]}]})(e)}function A(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function u(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function d(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function h(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function f(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function g(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function p(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function m(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function y(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function v(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function w(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function x(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>s,Vy:()=>c});const r=[];var s;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={}));const i={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},o=s.INFO,a={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),o=2;o<s;o++)i[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in s))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...t),this._logHandler(this,s.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...t),this._logHandler(this,s.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.INFO,...t),this._logHandler(this,s.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.WARN,...t),this._logHandler(this,s.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,s.ERROR,...t),this._logHandler(this,s.ERROR,...t)}}},458:(e,t,n)=>{"use strict";n.d(t,{HF:()=>Xe,xI:()=>In,hg:()=>ot,df:()=>qt,CI:()=>at});var r=n(7150),s=n(1529),i=n(443);function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var a=n(8812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,A=new s.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new i.Vy("@firebase/auth");function d(e){if(u.logLevel<=i.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];u.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function h(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw y(e,...n)}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y(e,...n)}function g(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new s.FA("auth","Firebase",r).create(t,{appName:e.name})}function p(e){return g(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&h(e,"argument-error"),g(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return A.create(e,...n)}function v(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw y(t,...r)}}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function x(e,t){e||w(t)}function b(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function C(){return"http:"===B()||"https:"===B()}function B(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,x(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.jZ)()||(0,s.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(C()||(0,s.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function E(e,t){x(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class N{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F=new k(3e4,6e4);function I(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function T(e,t,n,r){return j(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.Am)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},i);return(0,s.c1)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,s.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),N.fetch()(await U(e,e.config.apiHost,n,a),c)})}async function j(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},S),t);try{const t=new Q(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw O(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw O(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw O(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw O(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw g(e,a,o);h(e,a)}}catch(i){if(i instanceof s.g)throw i;h(e,"network-request-failed",{message:String(i)})}}async function L(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await T(e,t,n,r,s);return"mfaPendingCredential"in i&&h(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function U(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r),i=e,o=i.config.emulator?E(e.config,s):"".concat(e.config.apiScheme,"://").concat(s);if(_.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(o).toString()}return o}function P(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(f(this.auth,"network-request-failed")),F.get())})}}function O(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=f(e,t,r);return s.customData._tokenResponse=n,s}function R(e){return void 0!==e&&void 0!==e.enterprise}class D{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return P(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M(e,t){return T(e,"GET","/v2/recaptchaConfig",I(e,t))}async function H(e,t){return T(e,"POST","/v1/accounts:lookup",t)}function V(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(e){return 1e3*Number(e)}function q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.u)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(i){return d("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function z(e){const t=q(e);return v(t,"internal-error"),v("undefined"!==typeof t.exp,"internal-error"),v("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function W(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof s.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class J{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=V(this.lastLoginAt),this.creationTime=V(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function X(e){var t;const n=e.auth,r=await e.getIdToken(),s=await W(e,H(n,{idToken:r}));v(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const o=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Y(i.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const A=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!A&&u,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new J(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,h)}function Y(e){return e.map(e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v("undefined"!==typeof e.idToken,"internal-error"),v("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):z(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(0!==e.length,"internal-error");const t=z(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await j(e,{},async()=>{const n=(0,s.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await U(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:n};return e.emulatorConfig&&(0,s.zJ)(e.emulatorConfig.host)&&(l.credentials="include"),N.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Z;return n&&(v("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(v("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(v("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return w("not implemented")}}function $(e,t){v("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ee{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new J(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await W(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,s.Ku)(e),r=await n.getIdToken(t),i=q(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:V(K(i.auth_time)),issuedAtTime:V(K(i.iat)),expirationTime:V(K(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,s.Ku)(e);await X(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ee(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await X(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(p(this.auth));const e=await this.getIdToken();return await W(this,async function(e,t){return T(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,o,a,l,c;const A=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,h=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,p=null!==(l=t.createdAt)&&void 0!==l?l:void 0,m=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:x,providerData:b,stsTokenManager:C}=t;v(y&&C,e,"internal-error");const B=Z.fromJSON(this.name,C);v("string"===typeof y,e,"internal-error"),$(A,e.name),$(u,e.name),v("boolean"===typeof w,e,"internal-error"),v("boolean"===typeof x,e,"internal-error"),$(d,e.name),$(h,e.name),$(f,e.name),$(g,e.name),$(p,e.name),$(m,e.name);const k=new ee({uid:y,auth:e,email:u,emailVerified:w,displayName:A,isAnonymous:x,photoURL:h,phoneNumber:d,tenantId:f,stsTokenManager:B,createdAt:p,lastLoginAt:m});return b&&Array.isArray(b)&&(k.providerData=b.map(e=>Object.assign({},e))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Z;r.updateFromServerResponse(t);const s=new ee({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await X(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];v(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?Y(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),o=new Z;o.updateFromIdToken(n);const a=new ee({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new J(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(a,l),a}}const te=new Map;function ne(e){x(e instanceof Function,"Expected a class definition");let t=te.get(e);return t?(x(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,te.set(e,t),t)}class re{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}re.type="NONE";const se=re;function ie(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class oe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=ie(this.userKey,r.apiKey,s),this.fullPersistenceKey=ie("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await H(this.auth,{idToken:e}).catch(()=>{});return t?ee._fromGetAccountInfoResponse(this.auth,t,e):null}return ee._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new oe(ne(se),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||ne(se);const i=ie(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await H(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ee._fromGetAccountInfoResponse(e,r,t)}else n=ee._fromJSON(e,t);c!==s&&(o=n),s=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&a.length?(s=a[0],o&&await s._set(i,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(l){}})),new oe(s,e,n)):new oe(s,e,n)}}function ae(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(fe(t))return"Webos";if(ce(t))return"Safari";if((t.includes("chrome/")||Ae(t))&&!t.includes("edge/"))return"Chrome";if(de(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/firefox\//i.test(e)}function ce(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/crios\//i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/iemobile/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/blackberry/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/webos/i.test(e)}function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)();return ge(e)||de(e)||fe(e)||he(e)||/windows phone/i.test(e)||ue(e)}function me(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ae((0,s.ZQ)());break;case"Worker":t="".concat(ae((0,s.ZQ)()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(i)}class ye{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(s){r(s)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ve{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(s=a.containsUppercaseLetter)||void 0===s||s),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class we{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new be(this),this.idTokenSubscription=new be(this),this.beforeStateQueue=new ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ne(t)),this._initializationPromise=this.queue(async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await oe.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await H(this,{idToken:e}),n=await ee._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===s||void 0===s?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==r||!(null===o||void 0===o?void 0:o.user)||(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await X(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(p(this));const t=e?(0,s.Ku)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(p(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(p(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ne(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return T(e,"GET","/v2/passwordPolicy",I(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ve(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new s.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return T(e,"POST","/v2/accounts:revokeToken",I(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ne(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await oe.create(this,[ne(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(o,this,"internal-error"),o.then(()=>{i||s(this.currentUser)}),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(u.logLevel<=i.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];u.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function xe(e){return(0,s.Ku)(e)}class be{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.tD)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ce={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Be(e){return Ce.loadJS(e)}function ke(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ee{constructor(){this.enterprise=new Ne}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ne{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Se="NO_RECAPTCHA";class _e{constructor(e){this.type="recaptcha-enterprise",this.auth=xe(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;R(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Se)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ee).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{M(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new D(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&R(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ce.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Be(t).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Fe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new _e(e);let o;if(s)o=Se;else try{o=await i.verify(n)}catch(l){o=await i.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ie(e,t,n,r,s){var i,o;if("EMAIL_PASSWORD_PROVIDER"===s){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Fe(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await Fe(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}if("PHONE_PROVIDER"===s){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const s=await Fe(e,t,n);return r(e,s).catch(async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(s.code==="auth/".concat("missing-recaptcha-token")||s.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const s=await Fe(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)})}{const s=await Fe(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function Te(e){const t=xe(e),n=await M(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new D(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new _e(t).verify()}}function je(e,t,n){const r=xe(e);v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Le(t),{host:a,port:l}=function(e){const t=Le(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Ue(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ue(t)}}}(t),c=null===l?"":":".concat(l),A={url:"".concat(o,"//").concat(a).concat(c,"/")},u=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return v(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void v((0,s.bD)(A,r.config.emulator)&&(0,s.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=A,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,(0,s.zJ)(a)?((0,s.gE)("".concat(o,"//").concat(a).concat(c)),(0,s.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Le(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ue(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}async function Qe(e,t){return T(e,"POST","/v1/accounts:signUp",t)}async function Oe(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",I(e,t))}class Re extends Pe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Re(e,t,"password")}static _fromEmailAndCode(e,t){return new Re(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ie(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{email:this._email,oobCode:this._password});default:h(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ie(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:h(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function De(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",I(e,t))}class Me extends Pe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Me(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):h("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=o(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new Me(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return De(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,De(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,De(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.Am)(t)}return e}}async function He(e,t){return T(e,"POST","/v1/accounts:sendVerificationCode",I(e,t))}const Ve={USER_NOT_FOUND:"user-not-found"};class Ke extends Pe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ke({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ke({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await L(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t));if(n.temporaryProof)throw O(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ve)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new Ke({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class qe{constructor(e){var t,n,r,i,o,a;const l=(0,s.I9)((0,s.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,A=null!==(n=l.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(c&&A&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=A,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=l.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.I9)((0,s.hp)(e)).link,n=t?(0,s.I9)((0,s.hp)(t)).deep_link_id:null,r=(0,s.I9)((0,s.hp)(e)).deep_link_id;return(r?(0,s.I9)((0,s.hp)(r)).link:null)||r||n||t||e}(e);try{return new qe(t)}catch(n){return null}}}class ze{constructor(){this.providerId=ze.PROVIDER_ID}static credential(e,t){return Re._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=qe.parseLink(t);return v(n,"argument-error"),Re._fromEmailAndCode(e,n.code,n.tenantId)}}ze.PROVIDER_ID="password",ze.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ze.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class We{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ge extends We{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Je extends Ge{constructor(){super("facebook.com")}static credential(e){return Me._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Je.credential(t.oauthAccessToken)}catch(n){return null}}}Je.FACEBOOK_SIGN_IN_METHOD="facebook.com",Je.PROVIDER_ID="facebook.com";class Xe extends Ge{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Me._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xe.credentialFromTaggedObject(e)}static credentialFromError(e){return Xe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Xe.credential(n,r)}catch(s){return null}}}Xe.GOOGLE_SIGN_IN_METHOD="google.com",Xe.PROVIDER_ID="google.com";class Ye extends Ge{constructor(){super("github.com")}static credential(e){return Me._fromParams({providerId:Ye.PROVIDER_ID,signInMethod:Ye.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ye.credentialFromTaggedObject(e)}static credentialFromError(e){return Ye.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ye.credential(t.oauthAccessToken)}catch(n){return null}}}Ye.GITHUB_SIGN_IN_METHOD="github.com",Ye.PROVIDER_ID="github.com";class Ze extends Ge{constructor(){super("twitter.com")}static credential(e,t){return Me._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ze.credential(n,r)}catch(s){return null}}}Ze.TWITTER_SIGN_IN_METHOD="twitter.com",Ze.PROVIDER_ID="twitter.com";class $e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await ee._fromIdTokenResponse(e,n,r),i=et(n);return new $e({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=et(n);return new $e({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function et(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class tt extends s.g{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,tt.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tt(e,t,n,r)}}function nt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw tt._fromErrorAndOperation(e,n,t,r);throw n})}async function rt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await W(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $e._forOperation(e,"link",r)}async function st(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:s}=e;if((0,r.xZ)(s.app))return Promise.reject(p(s));const i="reauthenticate";try{const r=await W(e,nt(s,i,t,e),n);v(r.idToken,s,"internal-error");const o=q(r.idToken);v(o,s,"internal-error");const{sub:a}=o;return v(e.uid===a,s,"user-mismatch"),$e._forOperation(e,i,r)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&h(s,"user-mismatch"),o}}async function it(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(p(e));const s="signIn",i=await nt(e,s,t),o=await $e._fromIdTokenResponse(e,s,i);return n||await e._updateCurrentUser(o.user),o}function ot(e,t,n,r){return(0,s.Ku)(e).onAuthStateChanged(t,n,r)}function at(e){return(0,s.Ku)(e).signOut()}function lt(e,t){return T(e,"POST","/v2/accounts/mfaEnrollment:start",I(e,t))}new WeakMap;const ct="__sak";class At{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ct,"1"),this.storage.removeItem(ct),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ut extends At{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ut.type="LOCAL";const dt=ut;function ht(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(s))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function ft(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class gt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ft(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ht(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=ft(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=ft(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=ht(n);const s=setInterval(()=>{const e=ht(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(s))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}gt.type="COOKIE";class pt extends At{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pt.type="SESSION";const mt=pt;class yt{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new yt(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(i).map(async e=>e(t.origin,s)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yt.receivers=[];class wt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((o,a)=>{const l=vt("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(t.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function xt(){return window}function bt(){return"undefined"!==typeof xt().WorkerGlobalScope&&"function"===typeof xt().importScripts}const Ct="firebaseLocalStorageDb",Bt="firebaseLocalStorage",kt="fbase_key";class Et{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nt(e,t){return e.transaction([Bt],t?"readwrite":"readonly").objectStore(Bt)}function St(){const e=indexedDB.open(Ct,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Bt,{keyPath:kt})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Bt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ct);return new Et(e).toPromise()}(),t(await St()))})})}async function _t(e,t,n){const r=Nt(e,!0).put({[kt]:t,value:n});return new Et(r).toPromise()}function Ft(e,t){const n=Nt(e,!0).delete(t);return new Et(n).toPromise()}class It{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await St()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yt._getInstance(bt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new wt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await St();return await _t(e,ct,"1"),await Ft(e,ct),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_t(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Nt(e,!1).get(t),r=await new Et(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ft(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Nt(e,!1).getAll();return new Et(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}It.type="LOCAL";const Tt=It;function jt(e,t){return T(e,"POST","/v2/accounts/mfaSignIn:start",I(e,t))}ke("rcb"),new k(3e4,6e4);const Lt="recaptcha";async function Ut(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Te(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){v("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Ie(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Se){v((null===n||void 0===n?void 0:n.type)===Lt,e,"argument-error");return lt(e,await Pt(e,t,n))}return lt(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{v("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;v(i,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Ie(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Se){v((null===n||void 0===n?void 0:n.type)===Lt,e,"argument-error");return jt(e,await Pt(e,t,n))}return jt(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ie(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Se){v((null===n||void 0===n?void 0:n.type)===Lt,e,"argument-error");return He(e,await Pt(e,t,n))}return He(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Pt(e,t,n){v(n.type===Lt,e,"argument-error");const r=await n.verify();v("string"===typeof r,e,"argument-error");const s=Object.assign({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class Qt{constructor(e){this.providerId=Qt.PROVIDER_ID,this.auth=xe(e)}verifyPhoneNumber(e,t){return Ut(this.auth,e,(0,s.Ku)(t))}static credential(e,t){return Ke._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Qt.credentialFromTaggedObject(t)}static credentialFromError(e){return Qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ke._fromTokenResponse(n,r):null}}function Ot(e,t){return t?ne(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Qt.PROVIDER_ID="phone",Qt.PHONE_SIGN_IN_METHOD="phone";class Rt extends Pe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return De(e,this._buildIdpRequest())}_linkToIdToken(e,t){return De(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return De(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dt(e){return it(e.auth,new Rt(e),e.bypassAuthState)}function Mt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),st(n,new Rt(e),e.bypassAuthState)}async function Ht(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),rt(n,new Rt(e),e.bypassAuthState)}class Vt{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:o}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dt;case"linkViaPopup":case"linkViaRedirect":return Ht;case"reauthViaPopup":case"reauthViaRedirect":return Mt;default:h(this.auth,"internal-error")}}resolve(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kt=new k(2e3,1e4);async function qt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(f(e,"operation-not-supported-in-this-environment"));const s=xe(e);m(e,t,We);const i=Ot(s,n);return new zt(s,"signInViaPopup",t,i).executeNotNull()}class zt extends Vt{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,zt.currentPopupAction&&zt.currentPopupAction.cancel(),zt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){x(1===this.filter.length,"Popup operations only handle one event");const e=vt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Kt.get())};e()}}zt.currentPopupAction=null;const Wt=new Map;class Gt extends Vt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Wt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Yt(t),r=Xt(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Wt.set(this.auth._key(),e)}return this.bypassAuthState||Wt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Jt(e,t){Wt.set(e._key(),t)}function Xt(e){return ne(e._redirectPersistence)}function Yt(e){return ie("pendingRedirect",e.config.apiKey,e.name)}async function Zt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(p(e));const s=xe(e),i=Ot(s,t),o=new Gt(s,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,t)),a}class $t{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tn(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tn(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(f(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(en(e))}saveEventToCache(e){this.cachedEventUids.add(en(e)),this.lastProcessedEventTime=Date.now()}}function en(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tn(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const nn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rn=/^https?/;async function sn(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return T(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(on(r))return}catch(n){}h(e,"unauthorized-domain")}function on(e){const t=b(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!rn.test(n))return!1;if(nn.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const an=new k(3e4,6e4);function ln(){const e=xt().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function cn(e){return new Promise((t,n)=>{var r,s,i;function o(){ln(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ln(),n(f(e,"network-request-failed"))},timeout:an.get()})}if(null===(s=null===(r=xt().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=xt().gapi)||void 0===i?void 0:i.load)){const t=ke("iframefcb");return xt()[t]=()=>{gapi.load?o():n(f(e,"network-request-failed"))},Be("".concat(Ce.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw An=null,e})}let An=null;const un=new k(5e3,15e3),dn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?E(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),i={apiKey:t.apiKey,appName:e.name,v:r.MF},o=hn.get(e.config.apiHost);o&&(i.eid=o);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),"".concat(n,"?").concat((0,s.Am)(i).slice(1))}async function gn(e){const t=await function(e){return An=An||cn(e),An}(e),n=xt().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:fn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dn,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=f(e,"network-request-failed"),i=xt().setTimeout(()=>{r(s)},un.get());function o(){xt().clearTimeout(i),n(t)}t.ping(o).then(o,()=>{r(s)})}))}const pn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function yn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},pn),{width:r.toString(),height:i.toString(),top:o,left:a}),A=(0,s.ZQ)().toLowerCase();n&&(l=Ae(A)?"_blank":n),le(A)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ge(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(A)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new mn(null);const d=window.open(t||"",l,u);v(d,e,"popup-blocked");try{d.focus()}catch(h){}return new mn(d)}const vn="__/auth/handler",wn="emulator/auth/handler",xn=encodeURIComponent("fac");async function bn(e,t,n,i,o,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:r.MF,eventId:o};if(t instanceof We){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,s.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof Ge){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const A=await e._getAppCheckToken(),u=A?"#".concat(xn,"=").concat(encodeURIComponent(A)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(vn);return E(t,wn)}(e),"?").concat((0,s.Am)(c).slice(1)).concat(u)}const Cn="webStorageSupport";const Bn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mt,this._completeRedirectFn=Zt,this._overrideRedirectResult=Jt}async _openPopup(e,t,n,r){var s;x(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return yn(e,await bn(e,t,n,b(),r),vt())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){xt().location.href=e}(await bn(e,t,n,b(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(x(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await gn(e),n=new $t(e);return t.register("authEvent",t=>{v(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cn,{type:Cn},n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Cn];void 0!==s&&t(!!s),h(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sn(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pe()||ce()||ge()}};var kn="@firebase/auth",En="1.10.8";class Nn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sn=(0,s.XA)("authIdTokenMaxAge")||300;let _n=null;const Fn=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Sn)return;const s=null===n||void 0===n?void 0:n.token;_n!==s&&(_n=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:"Bearer ".concat(s)}:{}}))};function In(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,s.bD)(r,null!==t&&void 0!==t?t:{}))return e;h(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Bn,persistence:[Tt,dt,mt]}),i=(0,s.XA)("authTokenSyncURL");if(i&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=Fn(e.toString());!function(e,t,n){(0,s.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,s.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const o=(0,s.Tj)("auth");return o&&je(n,"http://".concat(o)),n}var Tn;Ce={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=f("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Tn="Browser",(0,r.om)(new a.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;v(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Tn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(Tn)},c=new we(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ne);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new a.uA("auth-internal",e=>(e=>new Nn(e))(xe(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(kn,En,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Tn)),(0,r.KO)(kn,En,"esm2017")},579:(e,t,n)=>{"use strict";e.exports=n(1153)},791:(e,t,n)=>{"use strict";n.d(t,{j2:()=>a,OO:()=>l});var r=n(7150);(0,r.KO)("firebase","11.10.0","app");var s=n(458),i=n(3611);const o=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyCb61YDcPFdtefpFTsnuQS3kA66IHNG128",authDomain:"algocore-80652.firebaseapp.com",databaseURL:"https://algocore-80652-default-rtdb.firebaseio.com",projectId:"algocore-80652",storageBucket:"algocore-80652.firebasestorage.app",messagingSenderId:"563824995926",appId:"1:563824995926:web:56e94c313d4bad8ea9d5f7",measurementId:"G-MF59KXSF49"}),a=(0,s.xI)(o),l=(new s.HF,(0,i.C3)(o))},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2284);function s(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=(0,r.A)(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},1129:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var r=n(3216),s=n(5200),i=n(579);const o=()=>{const e=(0,r.Zp)();return(0,i.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 text-center px-4",children:(0,i.jsxs)("div",{className:"w-full max-w-md",children:[(0,i.jsx)("div",{className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-blue-100 dark:bg-blue-900/30",children:(0,i.jsx)(s.dUr,{className:"h-12 w-12 text-blue-600 dark:text-blue-400"})}),(0,i.jsx)("h1",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Please Sign In"}),(0,i.jsx)("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"You need to be authenticated to access this page."}),(0,i.jsx)("div",{className:"mt-8",children:(0,i.jsx)("button",{onClick:()=>e("/login"),className:"bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300 shadow-md",children:"Go to Login"})})]})})}},1153:(e,t,n)=>{"use strict";var r=n(5043),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,A=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(A=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:A,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},1387:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var s;n.d(t,{AO:()=>u,B6:()=>S,Gh:()=>L,HS:()=>U,Oi:()=>a,Rr:()=>d,pX:()=>D,pb:()=>F,rc:()=>s,tH:()=>R,ue:()=>g,yD:()=>j,zR:()=>o}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const i="popstate";function o(e){return void 0===e&&(e={}),h(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return A("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,e)}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n,s){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n,o){void 0===o&&(o={});let{window:l=document.defaultView,v5Compat:d=!1}=o,h=l.history,f=s.Pop,g=null,p=m();function m(){return(h.state||{idx:null}).idx}function y(){f=s.Pop;let e=m(),t=null==e?null:e-p;p=e,g&&g({action:f,location:w.location,delta:t})}function v(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==p&&(p=0,h.replaceState(r({},h.state,{idx:p}),""));let w={get action(){return f},get location(){return e(l,h)},listen(e){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(i,y),g=e,()=>{l.removeEventListener(i,y),g=null}},createHref:e=>t(l,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=s.Push;let r=A(w.location,e,t);n&&n(r,e),p=m()+1;let i=c(r,p),o=w.createHref(r);try{h.pushState(i,"",o)}catch(a){if(a instanceof DOMException&&"DataCloneError"===a.name)throw a;l.location.assign(o)}d&&g&&g({action:f,location:w.location,delta:1})},replace:function(e,t){f=s.Replace;let r=A(w.location,e,t);n&&n(r,e),p=m();let i=c(r,p),o=w.createHref(r);h.replaceState(i,"",o),d&&g&&g({action:f,location:w.location,delta:0})},go:e=>h.go(e)};return w}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),p(e,t,n,!1)}function p(e,t,n,r){let s=F(("string"===typeof t?d(t):t).pathname||"/",n);if(null==s)return null;let i=m(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a){let e=_(s);o=N(i[a],e,r)}return o}function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let l=U([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))s(e,t,r);else s(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let o=y(r.join("/")),a=[];return a.push(...o.map(e=>""===e?i:[i,e].join("/"))),s&&a.push(...o),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const v=/^:[\w-]+$/,w=3,x=2,b=1,C=10,B=-2,k=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=B),t&&(r+=x),n.filter(e=>!k(e)).reduce((e,t)=>e+(v.test(t)?w:""===t?b:C),r)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",A=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!A&&l&&n&&!r[r.length-1].route.index&&(A=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!A)return null;Object.assign(s,A.params),o.push({params:s,pathname:U([i,A.pathname]),pathnameBase:P(U([i,A.pathnameBase])),route:u}),"/"!==A.pathnameBase&&(i=U([i,A.pathnameBase]))}return o}function S(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=a[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:o,pattern:e}}function _(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function T(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function j(e,t){let n=T(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,s){let i;void 0===s&&(s=!1),"string"===typeof e?i=d(e):(i=r({},e),a(!i.pathname||!i.pathname.includes("?"),I("?","pathname","search",i)),a(!i.pathname||!i.pathname.includes("#"),I("#","pathname","hash",i)),a(!i.search||!i.search.includes("#"),I("#","search","hash",i)));let o,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)o=n;else{let e=t.length-1;if(!s&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let A=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?d(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Q(r),hash:O(s)}}(i,o),u=c&&"/"!==c&&c.endsWith("/"),h=(l||"."===c)&&n.endsWith("/");return A.pathname.endsWith("/")||!u&&!h||(A.pathname+="/"),A}const U=e=>e.join("/").replace(/\/\/+/g,"/"),P=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",O=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class R extends Error{}function D(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const M=["post","put","patch","delete"],H=(new Set(M),["get",...M]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},1529:(e,t,n)=>{"use strict";n.d(t,{cY:()=>x,FA:()=>M,g:()=>D,gz:()=>re,vA:()=>s,Hk:()=>i,K3:()=>a,u:()=>u,KA:()=>c,Uj:()=>A,gR:()=>G,Fy:()=>B,tD:()=>se,A4:()=>d,bD:()=>Z,dI:()=>ae,hp:()=>ne,T9:()=>v,Tj:()=>m,yU:()=>y,XA:()=>w,mS:()=>g,Ku:()=>Ae,ZQ:()=>S,qc:()=>W,sr:()=>T,zJ:()=>b,c1:()=>I,Im:()=>X,lT:()=>L,zW:()=>O,jZ:()=>_,$g:()=>U,lV:()=>j,nr:()=>P,Ov:()=>Q,Cv:()=>z,$L:()=>V,kH:()=>Y,gE:()=>C,Am:()=>ee,I9:()=>te,yw:()=>J,OE:()=>ce,kj:()=>le,As:()=>K,P1:()=>N,eX:()=>R});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,o=i?e[s+1]:0,a=s+2<e.length,l=a?e[s+2]:0,c=t>>2,A=(3&t)<<4|o>>4;let u=(15&o)<<2|l>>6,d=63&l;a||(d=64,i||(u=64)),r.push(n[c],n[A],n[u],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const o=s<e.length?n[e.charAt(s)]:64;++s;const a=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==o||null==a)throw new l;const c=t<<2|i>>4;if(r.push(c),64!==o){const e=i<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c=function(e){const t=o(e);return a.encodeByteArray(t,!0)},A=function(e){return c(e).replace(/\./g,"")},u=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&f(n)&&(e[n]=h(e[n],t[n]));return e}function f(e){return"__proto__"!==e}function g(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const p=()=>{try{return g().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},m=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},y=e=>{const t=m(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},v=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},w=e=>{var t;return null===(t=p())||void 0===t?void 0:t["_".concat(e)]};class x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function b(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function C(e){return(await fetch(e,{credentials:"include"})).ok}function B(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[A(JSON.stringify({alg:"none",type:"JWT"})),A(JSON.stringify(i)),""].join(".")}const k={};let E=!1;function N(e,t){if("undefined"===typeof window||"undefined"===typeof document||!b(window.location.host)||k[e]===t||k[e]||E)return;function n(e){return"__firebase__banner__".concat(e)}k[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(k))k[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{E=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),A=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(A,c),t.append(A,o,l,n),document.body.appendChild(t)}s?(o.innerText="Preview backend disconnected.",A.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(A.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function S(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function F(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function I(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function T(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function L(){const e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function U(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN}function P(){return!F()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){return!F()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function O(){try{return"object"===typeof indexedDB}catch(e){return!1}}function R(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class D extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M.prototype.create)}}class M{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(H,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new D(n,i,t)}}const H=/\{\$([^}]+)}/g;function V(e){return JSON.parse(e)}function K(e){return JSON.stringify(e)}const q=function(e){let t={},n={},r={},s="";try{const i=e.split(".");t=V(u(i[0])||""),n=V(u(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch(i){}return{header:t,claims:n,data:r,signature:s}},z=function(e){const t=q(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},W=function(e){const t=q(e).claims;return"object"===typeof t&&!0===t.admin};function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function J(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function X(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Y(e,t,n){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=t.call(n,e[s],s,e));return r}function Z(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if($(n)&&$(i)){if(!Z(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $(e){return null!==e&&"object"===typeof e}function ee(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function te(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ne(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class re{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let A=0;A<16;A++)n[A]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let A=0;A<16;A++)n[A]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let A=16;A<80;A++){const e=n[A-3]^n[A-8]^n[A-14]^n[A-16];n[A]=4294967295&(e<<1|e>>>31)}let r,s,i=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let A=0;A<80;A++){A<40?A<20?(r=l^o&(a^l),s=1518500249):(r=o^a^l,s=1859775393):A<60?(r=o&a|l&(o|a),s=2400959708):(r=o^a^l,s=3395469782);const e=(i<<5|i>>>27)+r+c+s+n[A]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const s=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(s[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}else for(;r<t;)if(s[i]=e[r],++i,++r,i===this.blockSize){this.compress_(s),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function se(e,t){const n=new ie(e,t);return n.subscribe.bind(n)}class ie{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=oe),void 0===r.error&&(r.error=oe),void 0===r.complete&&(r.complete=oe);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oe(){}function ae(e,t){return"".concat(e," failed: ").concat(t," argument ")}const le=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ce=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ae(e){return e&&e._delegate?e._delegate:e}},1537:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZRSURBVHgB7Z2NdeI4FIUv28CQDqCDbAVjOshWMKSCIRWEVMCkApIKkg4gFYSpAHcQtoK3esie9TCOrZ8nYWN957zjycQQW9dXkp9kGUgkEolEInERjNADiOhabcr4UmzHlahyKCIvtj9V7Pjn0Wi0Q8fppCBKgExtvqrgbVn4UmyhRXpVAm2RqIdFUPFDxQfFY69iXVwACVUQYxX3kUX4jL2KuYoJhgZ1S4g61jQEYaj7QpyyoksVRp3YgvojRJW9ijkiEbyXRfoKW0P3mPrMVsWt6pnlCMhfCIgSY6E27+i/GEym4r04p35Buq1Y0eWyQiDEqyzSVdQL9A3dJZOrmElXYaKCFGJsVEwwDHIIiyLWhpDONw1JDGaiYlOcuwgiDqmIIZlz6hOcxJxJJC+9BRlgNfUZOQSqLy9Bkhh/kMNTFF9B9khinMLVFotygAPOjXrRF58gcQq3p/dwxEkQ0ner/btjjceCHO/orausot3gdMhQe1SmcJX1t2174uIQThQmMdrhMlrDEitBSKehMyRMyWyrLuMqK3VxneGqa2ra67JxyHckMVzgqsvYJUYOKdyxR8IVY5eYOmSJhA/GLml1SHKHGEYuMXFIhoQERi4xcUjKV8lxUA65atqh0SGkp1hOEJk8z7HdbhGCw+GAx8dH3N7eYjqd4urqCqqQjsH/ns1muLu7w9vbGwIwJp9pq+rDT3QG5vM5ZVlGkiiBj9/Jp2Uak8mEnp7Ei+AHXCE9SSwq+/3+V4FsNhvy5ePjgxaLhZUQdcJIHEt5SHCB9Gz06LA7yoLwdQmLy4XpI0Y1lsslCZHBFtKPBkSl6g54ukRajDKEqrAlbFEf2lBkqu6Ah0tCiXF9fX2sAgXYwBaKTJ074OiSjovB2LUj6gPXFJk6d8DBJVzPd1yMEvO5XGrnG4pIkztg4ZIQVVUgMZg5TFE7i3UnjI6swR2wcMl6ve6LGIz5/Yja+ZUiYeIOGLpE0h2BxWDWMIUi9rBM3AEDl7y/v/dJjOMhwxS1c04RsHEHWlziUl2Nx2O6v7+nl5eX4+fZYZHEOJ4+TKFIzwLauAMtLnFJj7CrTokkxvFPwRSKgIs70OASW3FvbqJ2JGupK/ugzxg28fDwAFc4dX4Kp9VtUFUTushZBOGxBpUTgis8XvL8/Pzb/6n2ADbsdp1fh+Z/KDC24xJ1wQ1wFak2JCYwhQI26jxQ5CtGGdXMq2svi4XkY+Lv4guF26JIWDXqwbq9Eu5AjUt8OgmnEUmUPUxROwfxsqQ7UOMSyTv1CKJsYQoFGkuXdAdqXCKd6Q0syitMoQCjhSHcgROX8E0dtws9EWUJC0HEjyKEO1DjktVqJf79gUS5gYUgogNULu6wvdKrbUkI8QOIYndnSoJdX9sC4pO3bQ9Oe1whhnElRYEtJJSCd3EHF6hLe1B1SShRXl9Fhoq2cBBEZNTQxR0lPi5hWBROp/sIUAZfHNw+CWE/e5EEJsq5uqPE1yUlPObhIwZfVNXjEiCDC+TZjvi4o8TXJSVcoPz9NtUYH7/gFNJfh9JU5o2PI5C21ndcGDyznjPOnPHltD1njxkl1jE4Nf/t2zfrDLIhT6PR6PazX7YJkkE/eZuQY9a0xLnJAzuclUwLBcjALwSYNu1gMkD1iIQUrcOkJg5hd3BDlFziz7Rt7ZNWhxRPjSaX+PNkshCN6cIBySX+TE0EMZrkkFzizaPpMk02i88kl7iRw2IdRuNpQIVL3CdTDZcHm0XMXFaU4xvFDAkT3pQYmc0H0hJ/4YizxF/xB1LV1c7DyGH9Xud1ey818SgE96qslvYr8RGEqyxuT7o5a/l8tOarmnCebF30uv6B7tYlNLmKGTxIi/HLkePci/GXUHpdhdjrKkSeDykOhK2aY3jkEBKDSa888iNHV195xBQHNhSnlK+lyCGI+CNtfIBFt++Ss8N8buJiBIf6+7rVz+BzcbrhM0W0DamDLufVq7wq5rx3rvgM0o847Kl/BHfF2VAnxtMKoy8d6AgLwfObL//eirQwQR6bE2A4QpxCWpiuVGXDFaIO0rPt2TV7igeLwFVoho4QvJflQlFA/Awe58i+Qg7OOf2Efln9tmmO7bnopCCnkE5eTqAF4hgXP3/BnwlNLvR/i+2ust1J5ZsSiUQikUgkWvkPnTsHvFu46WcAAAAASUVORK5CYII="},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2339:(e,t,n)=>{"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{l$:()=>ye,Ay:()=>ve,oR:()=>z});var s=n(9379),i=n(5043);let o={data:""},a=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||o,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c=/\/\*[^]*?\*\/|  +/g,A=/\n+/g,u=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+o+";":r+="f"==i[1]?u(o,i):i+"{"+u(o,"k"==i[1]?"":t)+"}":"object"==typeof o?r+=u(o,t?t.replace(/([^,])+/g,e=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):i):null!=o&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=u.p?u.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},d={},h=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+h(e[n]);return t}return e},f=(e,t,n,r,s)=>{let i=h(e),o=d[i]||(d[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!d[o]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=l.exec(e.replace(c,""));)t[4]?r.shift():t[3]?(n=t[3].replace(A," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(A," ").trim();return r[0]})(e);d[o]=u(s?{["@keyframes "+o]:t}:t,n?"":"."+o)}let a=n&&d.g?d.g:null;return n&&(d.g=d[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(d[o],t,r,a),o};function g(e){let t=this||{},n=e.call?e(t.p):e;return f(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,s)=>{let i=t[s];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":u(e,""):!1===e?"":e}return e+r+(null==i?"":i)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,a(t.target),t.g,t.o,t.k)}g.bind({g:1});let p,m,y,v=g.bind({k:1});function w(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:m&&m()},a),n.o=/ *go\d+/.test(l),a.className=g.apply(n,r)+(l?" "+l:""),t&&(a.ref=o);let c=e;return e[0]&&(c=a.as||e,delete a.as),y&&c[0]&&y(a),p(c,a)}return t?t(s):s}}var x,b,C,B,k,E,N,S,_,F,I,T,j,L,U,P,Q=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,O=(()=>{let e=0;return()=>(++e).toString()})(),R=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),D=(e,t)=>{switch(t.type){case 0:return(0,s.A)((0,s.A)({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return(0,s.A)((0,s.A)({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?(0,s.A)((0,s.A)({},e),t.toast):e)});case 2:let{toast:n}=t;return D(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return(0,s.A)((0,s.A)({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?(0,s.A)((0,s.A)({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?(0,s.A)((0,s.A)({},e),{},{toasts:[]}):(0,s.A)((0,s.A)({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return(0,s.A)((0,s.A)({},e),{},{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return(0,s.A)((0,s.A)({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>(0,s.A)((0,s.A)({},e),{},{pauseDuration:e.pauseDuration+i}))})}},M=[],H={toasts:[],pausedAt:void 0},V=e=>{H=D(H,e),M.forEach(e=>{e(H)})},K={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},q=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return(0,s.A)((0,s.A)({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||O()})}(t,e,n);return V({type:2,toast:r}),r.id},z=(e,t)=>q("blank")(e,t);z.error=q("error"),z.success=q("success"),z.loading=q("loading"),z.custom=q("custom"),z.dismiss=e=>{V({type:3,toastId:e})},z.remove=e=>V({type:4,toastId:e}),z.promise=(e,t,n)=>{let r=z.loading(t.loading,(0,s.A)((0,s.A)({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?Q(t.success,e):void 0;return i?z.success(i,(0,s.A)((0,s.A)({id:r},n),null==n?void 0:n.success)):z.dismiss(r),e}).catch(e=>{let i=t.error?Q(t.error,e):void 0;i?z.error(i,(0,s.A)((0,s.A)({id:r},n),null==n?void 0:n.error)):z.dismiss(r)}),e};var W=(e,t)=>{V({type:1,toast:{id:e,height:t}})},G=()=>{V({type:5,time:Date.now()})},J=new Map,X=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,i.useState)(H),r=(0,i.useRef)(H);(0,i.useEffect)(()=>(r.current!==H&&n(H),M.push(n),()=>{let e=M.indexOf(n);e>-1&&M.splice(e,1)}),[]);let o=t.toasts.map(t=>{var n,r,i;return(0,s.A)((0,s.A)((0,s.A)((0,s.A)({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||K[t.type],style:(0,s.A)((0,s.A)((0,s.A)({},e.style),null==(i=e[t.type])?void 0:i.style),t.style)})});return(0,s.A)((0,s.A)({},t),{},{toasts:o})}(e);(0,i.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>z.dismiss(t.id),n);t.visible&&z.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=(0,i.useCallback)(()=>{n&&V({type:6,time:Date.now()})},[n]),o=(0,i.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:s=8,defaultPosition:i}=n||{},o=t.filter(t=>(t.position||i)===(e.position||i)&&t.height),a=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<a&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+s,0)},[t]);return(0,i.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(J.has(e))return;let n=setTimeout(()=>{J.delete(e),V({type:4,toastId:e})},t);J.set(e,n)}(e.id,e.removeDelay);else{let t=J.get(e.id);t&&(clearTimeout(t),J.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:W,startPause:G,endPause:r,calculateOffset:o}}},Y=v(x||(x=r(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Z=v(b||(b=r(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$=v(C||(C=r(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),ee=w("div")(B||(B=r(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Y,Z,e=>e.secondary||"#fff",$),te=v(k||(k=r(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ne=w("div")(E||(E=r(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",te),re=v(N||(N=r(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),se=v(S||(S=r(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),ie=w("div")(_||(_=r(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",re,se,e=>e.secondary||"#fff"),oe=w("div")(F||(F=r(["\n  position: absolute;\n"]))),ae=w("div")(I||(I=r(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),le=v(T||(T=r(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ce=w("div")(j||(j=r(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),le),Ae=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:o}=t;return void 0!==n?"string"==typeof n?i.createElement(ce,null,n):n:"blank"===r?null:i.createElement(ae,null,i.createElement(ne,(0,s.A)({},o)),"loading"!==r&&i.createElement(oe,null,"error"===r?i.createElement(ee,(0,s.A)({},o)):i.createElement(ie,(0,s.A)({},o))))},ue=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),de=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),he=w("div")(L||(L=r(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),fe=w("div")(U||(U=r(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),ge=i.memo(e=>{let{toast:t,position:n,style:r,children:o}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,s]=R()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ue(n),de(n)];return{animation:t?"".concat(v(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(v(s)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},l=i.createElement(Ae,{toast:t}),c=i.createElement(fe,(0,s.A)({},t.ariaProps),Q(t.message,t));return i.createElement(he,{className:t.className,style:(0,s.A)((0,s.A)((0,s.A)({},a),r),t.style)},"function"==typeof o?o({icon:l,message:c}):i.createElement(i.Fragment,null,l,c))});!function(e,t,n,r){u.p=t,p=e,m=n,y=r}(i.createElement);var pe=e=>{let{id:t,className:n,style:r,onHeightUpdate:s,children:o}=e,a=i.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;s(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return i.createElement("div",{ref:a,className:n,style:r},o)},me=g(P||(P=r(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),ye=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:o,children:a,containerStyle:l,containerClassName:c}=e,{toasts:A,handlers:u}=X(r);return i.createElement("div",{id:"_rht_toaster",style:(0,s.A)({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},A.map(e=>{let r=e.position||n,l=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return(0,s.A)((0,s.A)({left:0,right:0,display:"flex",position:"absolute",transition:R()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)})(r,u.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return i.createElement(pe,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?me:"",style:l},"custom"===e.type?Q(e.message,e):a?a(e):i.createElement(ge,{toast:e,position:r}))}))},ve=z},2730:(e,t,n)=>{"use strict";var r=n(5043),s=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var A=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(e,t,n,r,s,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var s=p.hasOwnProperty(t)?p[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(f,e)||!u.call(h,e)&&(d.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,y);p[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,y);p[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,y);p[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var P,Q=Object.assign;function O(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var R=!1;function D(e,t){if(!e||R)return"";R=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==i[a]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{R=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function M(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case b:return"Portal";case k:return"Profiler";case B:return"StrictMode";case _:return"Suspense";case F:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ie(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,Ae,ue=(Ae=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Ae(e,t)})}:Ae);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var me=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,Ce=null,Be=null;function ke(e){if(e=vs(e)){if("function"!==typeof be)throw Error(i(280));var t=e.stateNode;t&&(t=xs(t),be(e.stateNode,e.type,t))}}function Ee(e){Ce?Be?Be.push(e):Be=[e]:Ce=e}function Ne(){if(Ce){var e=Ce,t=Be;if(Be=Ce=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Se(e,t){return e(t)}function _e(){}var Fe=!1;function Ie(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Se(e,t,n)}finally{Fe=!1,(null!==Ce||null!==Be)&&(_e(),Ne())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=xs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var je=!1;if(A)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){je=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(Ae){je=!1}function Ue(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(A){this.onError(A)}}var Pe=!1,Qe=null,Oe=!1,Re=null,De={onError:function(e){Pe=!0,Qe=e}};function Me(e,t,n,r,s,i,o,a,l){Pe=!1,Qe=null,Ue.apply(De,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(He(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ke(s),e;if(o===r)return Ke(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var We=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Je=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Ye=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,$e=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,At=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~s;0!==a?r=ut(a):0!==(i&=o)&&(r=ut(i))}else 0!==(o=n&~s)?r=ut(o):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ot(t)),r|=e[n],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,bt,Ct,Bt,kt,Et=!1,Nt=[],St=null,_t=null,Ft=null,It=new Map,Tt=new Map,jt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Pt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=vs(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Qt(e){var t=ys(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,function(){Ct(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vs(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Rt(e,t,n){Ot(e)&&n.delete(t)}function Dt(){Et=!1,null!==St&&Ot(St)&&(St=null),null!==_t&&Ot(_t)&&(_t=null),null!==Ft&&Ot(Ft)&&(Ft=null),It.forEach(Rt),Tt.forEach(Rt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Dt)))}function Ht(e){function t(t){return Mt(t,e)}if(0<Nt.length){Mt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&Mt(St,e),null!==_t&&Mt(_t,e),null!==Ft&&Mt(Ft,e),It.forEach(t),Tt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Qt(n),null===n.blockedOn&&jt.shift()}var Vt=w.ReactCurrentBatchConfig,Kt=!0;function qt(e,t,n,r){var s=vt,i=Vt.transition;Vt.transition=null;try{vt=1,Wt(e,t,n,r)}finally{vt=s,Vt.transition=i}}function zt(e,t,n,r){var s=vt,i=Vt.transition;Vt.transition=null;try{vt=4,Wt(e,t,n,r)}finally{vt=s,Vt.transition=i}}function Wt(e,t,n,r){if(Kt){var s=Jt(e,t,n,r);if(null===s)Kr(e,t,r,Gt,n),Ut(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return St=Pt(St,e,t,n,r,s),!0;case"dragenter":return _t=Pt(_t,e,t,n,r,s),!0;case"mouseover":return Ft=Pt(Ft,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return It.set(i,Pt(It.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Tt.set(i,Pt(Tt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==s;){var i=vs(s);if(null!==i&&xt(i),null===(i=Jt(e,t,n,r))&&Kr(e,t,r,Gt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=ys(e=xe(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[i-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},An=sn(cn),un=Q({},cn,{view:0,detail:0}),dn=sn(un),hn=Q({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(hn),gn=sn(Q({},hn,{dataTransfer:0})),pn=sn(Q({},un,{relatedTarget:0})),mn=sn(Q({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=Q({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(yn),wn=sn(Q({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function kn(){return Bn}var En=Q({},un,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(En),Sn=sn(Q({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=sn(Q({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Fn=sn(Q({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=Q({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=sn(In),jn=[9,13,27,32],Ln=A&&"CompositionEvent"in window,Un=null;A&&"documentMode"in document&&(Un=document.documentMode);var Pn=A&&"TextEvent"in window&&!Un,Qn=A&&(!Ln||Un&&8<Un&&11>=Un),On=String.fromCharCode(32),Rn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=zr(t,"onChange")).length&&(n=new An("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Wn=null;function Gn(e){Or(e,0)}function Jn(e){if(W(ws(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(A){var Zn;if(A){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),Wn=zn=null)}function nr(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];qn(t,Wn,e,xe(e)),Ie(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function ir(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ar(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ar(n,i);var o=Ar(n,r);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=A&&"documentMode"in document&&11>=document.documentMode,pr=null,mr=null,yr=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==pr||pr!==G(r)||("selectionStart"in(r=pr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=zr(mr,"onSelect")).length&&(t=new An("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Cr={},Br={};function kr(e){if(Cr[e])return Cr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Br)return Cr[e]=n[t];return e}A&&(Br=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Er=kr("animationend"),Nr=kr("animationiteration"),Sr=kr("animationstart"),_r=kr("transitionend"),Fr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Fr.set(e,t),l(t,[e])}for(var jr=0;jr<Ir.length;jr++){var Lr=Ir[jr];Tr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Tr(Er,"onAnimationEnd"),Tr(Nr,"onAnimationIteration"),Tr(Sr,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Qr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,o,a,l,c){if(Me.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var A=Qe;Pe=!1,Qe=null,Oe||(Oe=!0,Re=A)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Qr(s,a,c),i=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Qr(s,a,c),i=l}}}if(Oe)throw e=Re,Oe=!1,Re=null,e}function Rr(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Dr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Mr]){e[Mr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Pr.has(t)||Dr(t,!1,e),Dr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Dr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var s=qt;break;case 4:s=zt;break;default:s=Wt}n=s.bind(null,t,n,e),s=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=ys(a)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}a=a.parentNode}}r=r.return}Ie(function(){var r=i,s=xe(n),o=[];e:{var a=Fr.get(e);if(void 0!==a){var l=An,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Er:case Nr:case Sr:l=mn;break;case _r:l=Fn;break;case"scroll":l=dn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sn}var A=0!==(4&t),u=!A&&"scroll"===e,d=A?null!==a?a+"Capture":null:a;A=[];for(var h,f=r;null!==f;){var g=(h=f).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=Te(f,d))&&A.push(qr(f,g,h)))),u)break;f=f.return}0<A.length&&(a=new l(a,c,null,n,s),o.push({event:a,listeners:A}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[fs])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(u=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(A=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(A=Sn,g="onPointerLeave",d="onPointerEnter",f="pointer"),u=null==l?a:ws(l),h=null==c?a:ws(c),(a=new A(g,f+"leave",l,n,s)).target=u,a.relatedTarget=h,g=null,ys(s)===r&&((A=new A(d,f+"enter",c,n,s)).target=h,A.relatedTarget=u,g=A),u=g,l&&c)e:{for(d=c,f=0,h=A=l;h;h=Wr(h))f++;for(h=0,g=d;g;g=Wr(g))h++;for(;0<f-h;)A=Wr(A),f--;for(;0<h-f;)d=Wr(d),h--;for(;f--;){if(A===d||null!==d&&A===d.alternate)break e;A=Wr(A),d=Wr(d)}A=null}else A=null;null!==l&&Gr(o,a,l,A,!1),null!==c&&null!==u&&Gr(o,u,c,A,!0)}if("select"===(l=(a=r?ws(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var p=Xn;else if(Kn(a))if(Yn)p=or;else{p=sr;var m=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(p=ir);switch(p&&(p=p(e,r))?qn(o,p,n,s):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?ws(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(pr=m,mr=r,yr=null);break;case"focusout":yr=mr=pr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(o,n,s);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,s)}var y;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Dn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Qn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(y=en()):(Zt="value"in(Yt=s)?Yt.value:Yt.textContent,Hn=!0)),0<(m=zr(r,v)).length&&(v=new wn(v,e,null,n,s),o.push({event:v,listeners:m}),y?v.data=y:null!==(y=Mn(n))&&(v.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Rn=!0,On);case"textInput":return(e=t.data)===On&&Rn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Dn(e,t)?(e=en(),$t=Zt=Yt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:r}),s.data=y))}Or(o,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Te(e,n))&&r.unshift(qr(e,i,s)),null!=(i=Te(e,t))&&r.push(qr(e,i,s))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var i=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,s?null!=(l=Te(n,i))&&o.unshift(qr(n,l,a)):s||null!=(l=Te(n,i))&&o.push(qr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function $r(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(as)}:rs;function as(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Ht(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function As(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ds="__reactFiber$"+us,hs="__reactProps$"+us,fs="__reactContainer$"+us,gs="__reactEvents$"+us,ps="__reactListeners$"+us,ms="__reactHandles$"+us;function ys(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=As(e);null!==e;){if(n=e[ds])return n;e=As(e)}return t}n=(e=n).parentNode}return null}function vs(e){return!(e=e[ds]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xs(e){return e[hs]||null}var bs=[],Cs=-1;function Bs(e){return{current:e}}function ks(e){0>Cs||(e.current=bs[Cs],bs[Cs]=null,Cs--)}function Es(e,t){Cs++,bs[Cs]=e.current,e.current=t}var Ns={},Ss=Bs(Ns),_s=Bs(!1),Fs=Ns;function Is(e,t){var n=e.type.contextTypes;if(!n)return Ns;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ts(e){return null!==(e=e.childContextTypes)&&void 0!==e}function js(){ks(_s),ks(Ss)}function Ls(e,t,n){if(Ss.current!==Ns)throw Error(i(168));Es(Ss,t),Es(_s,n)}function Us(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,V(e)||"Unknown",s));return Q({},n,r)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,Fs=Ss.current,Es(Ss,e),Es(_s,_s.current),!0}function Qs(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Us(e,t,Fs),r.__reactInternalMemoizedMergedChildContext=e,ks(_s),ks(Ss),Es(Ss,e)):ks(_s),Es(_s,n)}var Os=null,Rs=!1,Ds=!1;function Ms(e){null===Os?Os=[e]:Os.push(e)}function Hs(){if(!Ds&&null!==Os){Ds=!0;var e=0,t=vt;try{var n=Os;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Os=null,Rs=!1}catch(s){throw null!==Os&&(Os=Os.slice(e+1)),We($e,Hs),s}finally{vt=t,Ds=!1}}return null}var Vs=[],Ks=0,qs=null,zs=0,Ws=[],Gs=0,Js=null,Xs=1,Ys="";function Zs(e,t){Vs[Ks++]=zs,Vs[Ks++]=qs,qs=e,zs=t}function $s(e,t,n){Ws[Gs++]=Xs,Ws[Gs++]=Ys,Ws[Gs++]=Js,Js=e;var r=Xs;e=Ys;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xs=1<<32-ot(t)+s|n<<s|r,Ys=i+e}else Xs=1<<i|n<<s|r,Ys=e}function ei(e){null!==e.return&&(Zs(e,1),$s(e,1,0))}function ti(e){for(;e===qs;)qs=Vs[--Ks],Vs[Ks]=null,zs=Vs[--Ks],Vs[Ks]=null;for(;e===Js;)Js=Ws[--Gs],Ws[Gs]=null,Ys=Ws[--Gs],Ws[Gs]=null,Xs=Ws[--Gs],Ws[Gs]=null}var ni=null,ri=null,si=!1,ii=null;function oi(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Js?{id:Xs,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!ai(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&ai(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function Ai(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!si)return Ai(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw di(),Error(i(418));for(;t;)oi(e,t),t=cs(t.nextSibling)}if(Ai(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ri;e;)e=cs(e.nextSibling)}function hi(){ri=ni=null,si=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var gi=w.ReactCurrentBatchConfig;function pi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function mi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function vi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Qc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===C?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&yi(i)===t.type)?((r=s(t,n.props)).ref=pi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=pi(e,t,n),r.return=e,r)}function A(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=pi(e,null,t),n.return=e,n;case b:return(t=Oc(t,e.mode,n)).return=e,t;case T:return d(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=Uc(t,e.mode,n,null)).return=e,t;mi(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?c(e,t,n,r):null;case b:return n.key===s?A(e,t,n,r):null;case T:return h(e,t,(s=n._init)(n._payload),r)}if(te(n)||U(n))return null!==s?null:u(e,t,n,r,null);mi(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case b:return A(t,e=e.get(null===r.key?n:r.key)||null,r,s);case T:return f(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||U(r))return u(t,e=e.get(n)||null,r,s,null);mi(t,r)}return null}function g(s,i,a,l){for(var c=null,A=null,u=i,g=i=0,p=null;null!==u&&g<a.length;g++){u.index>g?(p=u,u=null):p=u.sibling;var m=h(s,u,a[g],l);if(null===m){null===u&&(u=p);break}e&&u&&null===m.alternate&&t(s,u),i=o(m,i,g),null===A?c=m:A.sibling=m,A=m,u=p}if(g===a.length)return n(s,u),si&&Zs(s,g),c;if(null===u){for(;g<a.length;g++)null!==(u=d(s,a[g],l))&&(i=o(u,i,g),null===A?c=u:A.sibling=u,A=u);return si&&Zs(s,g),c}for(u=r(s,u);g<a.length;g++)null!==(p=f(u,s,g,a[g],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?g:p.key),i=o(p,i,g),null===A?c=p:A.sibling=p,A=p);return e&&u.forEach(function(e){return t(s,e)}),si&&Zs(s,g),c}function p(s,a,l,c){var A=U(l);if("function"!==typeof A)throw Error(i(150));if(null==(l=A.call(l)))throw Error(i(151));for(var u=A=null,g=a,p=a=0,m=null,y=l.next();null!==g&&!y.done;p++,y=l.next()){g.index>p?(m=g,g=null):m=g.sibling;var v=h(s,g,y.value,c);if(null===v){null===g&&(g=m);break}e&&g&&null===v.alternate&&t(s,g),a=o(v,a,p),null===u?A=v:u.sibling=v,u=v,g=m}if(y.done)return n(s,g),si&&Zs(s,p),A;if(null===g){for(;!y.done;p++,y=l.next())null!==(y=d(s,y.value,c))&&(a=o(y,a,p),null===u?A=y:u.sibling=y,u=y);return si&&Zs(s,p),A}for(g=r(s,g);!y.done;p++,y=l.next())null!==(y=f(g,s,p,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?p:y.key),a=o(y,a,p),null===u?A=y:u.sibling=y,u=y);return e&&g.forEach(function(e){return t(s,e)}),si&&Zs(s,p),A}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,A=i;null!==A;){if(A.key===c){if((c=o.type)===C){if(7===A.tag){n(r,A.sibling),(i=s(A,o.props.children)).return=r,r=i;break e}}else if(A.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&yi(c)===A.type){n(r,A.sibling),(i=s(A,o.props)).ref=pi(r,A,o),i.return=r,r=i;break e}n(r,A);break}t(r,A),A=A.sibling}o.type===C?((i=Uc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=pi(r,i,o),l.return=r,r=l)}return a(r);case b:e:{for(A=o.key;null!==i;){if(i.key===A){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=s(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Oc(o,r.mode,l)).return=r,r=i}return a(r);case T:return e(r,i,(A=o._init)(o._payload),l)}if(te(o))return g(r,i,o,l);if(U(o))return p(r,i,o,l);mi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,o)).return=r,r=i):(n(r,i),(i=Qc(o,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var wi=vi(!0),xi=vi(!1),bi=Bs(null),Ci=null,Bi=null,ki=null;function Ei(){ki=Bi=Ci=null}function Ni(e){var t=bi.current;ks(bi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t){Ci=e,ki=Bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(va=!0),e.firstContext=null)}function Fi(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Bi){if(null===Ci)throw Error(i(308));Bi=e,Ci.dependencies={lanes:0,firstContext:e}}else Bi=Bi.next=e;return t}var Ii=null;function Ti(e){null===Ii?Ii=[e]:Ii.push(e)}function ji(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ti(t)):(n.next=s.next,s.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ui=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ri(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Sl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Li(e,n)}return null===(s=r.interleaved)?(t.next=t,Ti(r)):(t.next=s.next,s.next=t),r.interleaved=t,Li(e,n)}function Di(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Mi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var s=e.updateQueue;Ui=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var A=e.alternate;null!==A&&((a=(A=A.updateQueue).lastBaseUpdate)!==o&&(null===a?A.firstBaseUpdate=c:a.next=c,A.lastBaseUpdate=l))}if(null!==i){var u=s.baseState;for(o=0,A=c=l=null,a=i;;){var d=a.lane,h=a.eventTime;if((r&d)===d){null!==A&&(A=A.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,g=a;switch(d=t,h=n,g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(h,u,d);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(h,u,d):f)||void 0===d)break e;u=Q({},u,d);break e;case 2:Ui=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===A?(c=A=h,l=u):A=A.next=h,o|=d;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(d=a).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===A&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=A,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Pl|=o,e.lanes=o,e.memoizedState=u}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Ki={},qi=Bs(Ki),zi=Bs(Ki),Wi=Bs(Ki);function Gi(e){if(e===Ki)throw Error(i(174));return e}function Ji(e,t){switch(Es(Wi,t),Es(zi,e),Es(qi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ks(qi),Es(qi,t)}function Xi(){ks(qi),ks(zi),ks(Wi)}function Yi(e){Gi(Wi.current);var t=Gi(qi.current),n=le(t,e.type);t!==n&&(Es(zi,e),Es(qi,n))}function Zi(e){zi.current===e&&(ks(qi),ks(zi))}var $i=Bs(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,so=w.ReactCurrentBatchConfig,io=0,oo=null,ao=null,lo=null,co=!1,Ao=!1,uo=0,ho=0;function fo(){throw Error(i(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function po(e,t,n,r,s,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?$o:ea,e=n(r,s),Ao){o=0;do{if(Ao=!1,uo=0,25<=o)throw Error(i(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,s)}while(Ao)}if(ro.current=Zo,t=null!==ao&&null!==ao.next,io=0,lo=ao=oo=null,co=!1,t)throw Error(i(300));return e}function mo(){var e=0!==uo;return uo=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=vo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ao,s=r.baseQueue,o=n.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,r=r.baseState;var l=a=null,c=null,A=o;do{var u=A.lane;if((io&u)===u)null!==c&&(c=c.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),r=A.hasEagerState?A.eagerState:e(r,A.action);else{var d={lane:u,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=u,Pl|=u}A=A.next}while(null!==A&&A!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(va=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Pl|=o,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bo(e){var t=vo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);ar(o,t.memoizedState)||(va=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function Bo(e,t){var n=oo,r=vo(),s=t(),o=!ar(r.memoizedState,s);if(o&&(r.memoizedState=s,va=!0),r=r.queue,Po(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Io(9,Eo.bind(null,n,r,s,t),void 0,null),null===_l)throw Error(i(349));0!==(30&io)||ko(n,t,s)}return s}function ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Eo(e,t,n,r){t.value=n,t.getSnapshot=r,So(t)&&_o(e)}function No(e,t,n){return n(function(){So(t)&&_o(e)})}function So(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function _o(e){var t=Li(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function To(){return vo().memoizedState}function jo(e,t,n,r){var s=yo();oo.flags|=e,s.memoizedState=Io(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var s=vo();r=void 0===r?null:r;var i=void 0;if(null!==ao){var o=ao.memoizedState;if(i=o.destroy,null!==r&&go(r,o.deps))return void(s.memoizedState=Io(t,n,i,r))}oo.flags|=e,s.memoizedState=Io(1|t,n,i,r)}function Uo(e,t){return jo(8390656,8,e,t)}function Po(e,t){return Lo(2048,8,e,t)}function Qo(e,t){return Lo(4,2,e,t)}function Oo(e,t){return Lo(4,4,e,t)}function Ro(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Do(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Ro.bind(null,t,e),n)}function Mo(){}function Ho(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vo(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),oo.lanes|=n,Pl|=n,e.baseState=!0),t)}function qo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{vt=n,so.transition=r}}function zo(){return vo().memoizedState}function Wo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e))Xo(t,n);else if(null!==(n=ji(e,t,n,r))){nc(n,e,r,ec()),Yo(n,t,r)}}function Go(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Xo(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(s.next=s,Ti(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=ji(e,t,s,r))&&(nc(n,e,r,s=ec()),Yo(n,t,r))}}function Jo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){Ao=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zo={readContext:Fi,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},$o={readContext:Fi,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Fi,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Ro.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Fo,useDebugValue:Mo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=qo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,s=yo();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===_l)throw Error(i(349));0!==(30&io)||ko(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Uo(No.bind(null,r,o,e),[e]),r.flags|=2048,Io(9,Eo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=_l.identifierPrefix;if(si){var n=Ys;t=":"+t+"R"+(n=(Xs&~(1<<32-ot(Xs)-1)).toString(32)+n),0<(n=uo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Fi,useCallback:Ho,useContext:Fi,useEffect:Po,useImperativeHandle:Do,useInsertionEffect:Qo,useLayoutEffect:Oo,useMemo:Vo,useReducer:xo,useRef:To,useState:function(){return xo(wo)},useDebugValue:Mo,useDeferredValue:function(e){return Ko(vo(),ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],vo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Bo,useId:zo,unstable_isNewReconciler:!1},ta={readContext:Fi,useCallback:Ho,useContext:Fi,useEffect:Po,useImperativeHandle:Do,useInsertionEffect:Qo,useLayoutEffect:Oo,useMemo:Vo,useReducer:bo,useRef:To,useState:function(){return bo(wo)},useDebugValue:Mo,useDeferredValue:function(e){var t=vo();return null===ao?t.memoizedState=e:Ko(t,ao.memoizedState,e)},useTransition:function(){return[bo(wo)[0],vo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Bo,useId:zo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=Q({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:Q({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Oi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ri(e,i,s))&&(nc(t,e,s,r),Di(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Oi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ri(e,i,s))&&(nc(t,e,s,r),Di(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Oi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ri(e,s,r))&&(nc(t,e,r,n),Di(t,e,r))}};function ia(e,t,n,r,s,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function oa(e,t,n){var r=!1,s=Ns,i=t.contextType;return"object"===typeof i&&null!==i?i=Fi(i):(s=Ts(t)?Fs:Ss.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Is(e,s):Ns),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Pi(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Fi(i):(i=Ts(t)?Fs:Ss.current,s.context=Is(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Hi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=M(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function Aa(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var da="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Oi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,ql=r),ua(0,t)},n}function fa(e,t,n){(n=Oi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ua(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof r&&(null===zl?zl=new Set([this]):zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function pa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oi(-1,1)).tag=2,Ri(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var ya=w.ReactCurrentOwner,va=!1;function wa(e,t,n,r){t.child=null===e?xi(t,null,n,r):wi(t,e.child,n,r)}function xa(e,t,n,r,s){n=n.render;var i=t.ref;return _i(t,s),r=po(e,t,n,r,i,s),n=mo(),null===e||va?(si&&n&&ei(t),t.flags|=1,wa(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ka(e,t,s))}function ba(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Tc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ca(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ka(e,t,s)}return t.flags|=1,(e=jc(i,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(va=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Ka(e,t,s);0!==(131072&e.flags)&&(va=!0)}}return Ea(e,t,n,r,s)}function Ba(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Es(jl,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Es(jl,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Es(jl,Tl),Tl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Es(jl,Tl),Tl|=r;return wa(e,t,s,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,s){var i=Ts(n)?Fs:Ss.current;return i=Is(t,i),_i(t,s),n=po(e,t,n,r,i,s),r=mo(),null===e||va?(si&&r&&ei(t),t.flags|=1,wa(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ka(e,t,s))}function Na(e,t,n,r,s){if(Ts(n)){var i=!0;Ps(t)}else i=!1;if(_i(t,s),null===t.stateNode)Va(e,t),oa(t,n,r),la(t,n,r,s),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fi(c):c=Is(t,c=Ts(n)?Fs:Ss.current);var A=n.getDerivedStateFromProps,u="function"===typeof A||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Ui=!1;var d=t.memoizedState;o.state=d,Hi(t,r,o,s),l=t.memoizedState,a!==r||d!==l||_s.current||Ui?("function"===typeof A&&(ra(t,n,A,r),l=t.memoizedState),(a=Ui||ia(t,n,a,r,d,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Qi(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,u=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fi(l):l=Is(t,l=Ts(n)?Fs:Ss.current);var h=n.getDerivedStateFromProps;(A="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==l)&&aa(t,o,r,l),Ui=!1,d=t.memoizedState,o.state=d,Hi(t,r,o,s);var f=t.memoizedState;a!==u||d!==f||_s.current||Ui?("function"===typeof h&&(ra(t,n,h,r),f=t.memoizedState),(c=Ui||ia(t,n,c,r,d,f,l)||!1)?(A||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Sa(e,t,n,r,i,s)}function Sa(e,t,n,r,s,i){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return s&&Qs(t,n,!1),Ka(e,t,i);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,s&&Qs(t,n,!0),t.child}function _a(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),Ji(e,t.containerInfo)}function Fa(e,t,n,r,s){return hi(),fi(s),t.flags|=256,wa(e,t,n,r),t.child}var Ia,Ta,ja,La,Ua={dehydrated:null,treeContext:null,retryLane:0};function Pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qa(e,t,n){var r,s=t.pendingProps,o=$i.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Es($i,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Pc(l,s,0,null),e=Uc(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Pa(n),t.memoizedState=Ua,e):Oa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,s,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ra(e,t,a,r=Aa(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Pc({mode:"visible",children:r.children},s,0,null),(o=Uc(o,s,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,a),t.child.memoizedState=Pa(a),t.memoizedState=Ua,o);if(0===(1&t.mode))return Ra(e,t,a,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Ra(e,t,a,r=Aa(o=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),va||l){if(null!==(r=_l)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|a))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Li(e,s),nc(r,e,s,-1))}return gc(),Ra(e,t,a,r=Aa(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ws[Gs++]=Xs,Ws[Gs++]=Ys,Ws[Gs++]=Js,Xs=e.id,Ys=e.overflow,Js=t),t=Oa(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,o,n);if(a){a=s.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=jc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=jc(r,a):(a=Uc(a,l,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?Pa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ua,s}return e=(a=e.child).sibling,s=jc(a,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Oa(e,t){return(t=Pc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ra(e,t,n,r){return null!==r&&fi(r),wi(t,e.child,null,n),(e=Oa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Da(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Ma(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ha(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=$i.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Da(e,n,t);else if(19===e.tag)Da(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Es($i,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ma(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ma(t,!0,n,null,i);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function za(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return za(t),null;case 1:case 17:return Ts(t.type)&&js(),za(t),null;case 3:return r=t.stateNode,Xi(),ks(_s),ks(Ss),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Ta(e,t),za(t),null;case 5:Zi(t);var s=Gi(Wi.current);if(n=t.type,null!==e&&null!=t.stateNode)ja(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return za(t),null}if(e=Gi(qi.current),ui(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ds]=t,r[hs]=o,e=0!==(1&t.mode),n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(s=0;s<Ur.length;s++)Rr(Ur[s],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":X(r,o),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Rr("invalid",r);break;case"textarea":se(r,o),Rr("invalid",r)}for(var l in ye(n,o),s=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),s=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Rr("scroll",r)}switch(n){case"input":z(r),$(r,o,!0);break;case"textarea":z(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ds]=t,e[hs]=r,Ia(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),s=r;break;case"iframe":case"object":case"embed":Rr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ur.length;s++)Rr(Ur[s],e);s=r;break;case"source":Rr("error",e),s=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),s=r;break;case"details":Rr("toggle",e),s=r;break;case"input":X(e,r),s=J(e,r),Rr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Q({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Rr("invalid",e)}for(o in ye(n,s),c=s)if(c.hasOwnProperty(o)){var A=c[o];"style"===o?pe(e,A):"dangerouslySetInnerHTML"===o?null!=(A=A?A.__html:void 0)&&ue(e,A):"children"===o?"string"===typeof A?("textarea"!==n||""!==A)&&de(e,A):"number"===typeof A&&de(e,""+A):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=A&&"onScroll"===o&&Rr("scroll",e):null!=A&&v(e,o,A,l))}switch(n){case"input":z(e),$(e,r,!1);break;case"textarea":z(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return za(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi(Wi.current),Gi(qi.current),ui(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return za(t),null;case 13:if(ks($i),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))di(),hi(),t.flags|=98560,o=!1;else if(o=ui(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[ds]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;za(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$i.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),za(t),null);case 4:return Xi(),Ta(e,t),null===e&&Hr(t.stateNode.containerInfo),za(t),null;case 10:return Ni(t.type._context),za(t),null;case 19:if(ks($i),null===(o=t.memoizedState))return za(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qa(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Es($i,1&$i.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Hl&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!si)return za(t),null}else 2*Ye()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=$i.current,Es($i,r?1&n|2:1&n),t):(za(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(za(t),6&t.subtreeFlags&&(t.flags|=8192)):za(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ga(e,t){switch(ti(t),t.tag){case 1:return Ts(t.type)&&js(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),ks(_s),ks(Ss),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(ks($i),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ks($i),null;case 4:return Xi(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ta=function(){},ja=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Gi(qi.current);var i,o=null;switch(n){case"input":s=J(e,s),r=J(e,r),o=[];break;case"select":s=Q({},s,{value:void 0}),r=Q({},r,{value:void 0}),o=[];break;case"textarea":s=re(e,s),r=re(e,r),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(A in ye(n,r),n=null,s)if(!r.hasOwnProperty(A)&&s.hasOwnProperty(A)&&null!=s[A])if("style"===A){var l=s[A];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==A&&"children"!==A&&"suppressContentEditableWarning"!==A&&"suppressHydrationWarning"!==A&&"autoFocus"!==A&&(a.hasOwnProperty(A)?o||(o=[]):(o=o||[]).push(A,null));for(A in r){var c=r[A];if(l=null!=s?s[A]:void 0,r.hasOwnProperty(A)&&c!==l&&(null!=c||null!=l))if("style"===A)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(A,n)),n=c;else"dangerouslySetInnerHTML"===A?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(A,c)):"children"===A?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(A,""+c):"suppressContentEditableWarning"!==A&&"suppressHydrationWarning"!==A&&(a.hasOwnProperty(A)?(null!=c&&"onScroll"===A&&Rr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(A,c))}n&&(o=o||[]).push("style",n);var A=o;(t.updateQueue=A)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Xa=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Za=null;function $a(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Bc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Bc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[hs],delete t[gs],delete t[ps],delete t[ms])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var Al=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:Xa||$a(n,t);case 6:var r=Al,s=ul;Al=null,dl(e,t,n),ul=s,null!==(Al=r)&&(ul?(e=Al,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Al.removeChild(n.stateNode));break;case 18:null!==Al&&(ul?(e=Al,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Ht(e)):ls(Al,n.stateNode));break;case 4:r=Al,s=ul,Al=n.stateNode.containerInfo,ul=!0,dl(e,t,n),Al=r,ul=s;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),s=s.next}while(s!==r)}dl(e,t,n);break;case 1:if(!Xa&&($a(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Bc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(e,t,n),Xa=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach(function(t){var r=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:Al=l.stateNode,ul=!1;break e;case 3:case 4:Al=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===Al)throw Error(i(160));hl(o,a,s),Al=null,ul=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(A){Bc(s,t,A)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(p){Bc(e,e.return,p)}try{nl(5,e,e.return)}catch(p){Bc(e,e.return,p)}}break;case 1:gl(t,e),ml(e),512&r&&null!==n&&$a(n,n.return);break;case 5:if(gl(t,e),ml(e),512&r&&null!==n&&$a(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(p){Bc(e,e.return,p)}}if(4&r&&null!=(s=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(s,o),ve(l,a);var A=ve(l,o);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];"style"===u?pe(s,d):"dangerouslySetInnerHTML"===u?ue(s,d):"children"===u?de(s,d):v(s,u,d,A)}switch(l){case"input":Z(s,o);break;case"textarea":ie(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(s,!!o.multiple,f,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(s,!!o.multiple,o.defaultValue,!0):ne(s,!!o.multiple,o.multiple?[]:"",!1))}s[hs]=o}catch(p){Bc(e,e.return,p)}}break;case 6:if(gl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(p){Bc(e,e.return,p)}}break;case 3:if(gl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(p){Bc(e,e.return,p)}break;case 4:default:gl(t,e),ml(e);break;case 13:gl(t,e),ml(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Ml=Ye())),4&r&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(A=Xa)||u,gl(t,e),Xa=A):gl(t,e),ml(e),8192&r){if(A=null!==e.memoizedState,(e.stateNode.isHidden=A)&&!u&&0!==(1&e.mode))for(Za=e,u=e.child;null!==u;){for(d=Za=u;null!==Za;){switch(f=(h=Za).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:$a(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Bc(r,n,p)}}break;case 5:$a(h,h.return);break;case 22:if(null!==h.memoizedState){xl(d);continue}}null!==f?(f.return=h,Za=f):xl(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{s=d.stateNode,A?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(p){Bc(e,e.return,p)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=A?"":d.memoizedProps}catch(p){Bc(e,e.return,p)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),ml(e),4&r&&fl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),cl(e,al(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(i(161))}}catch(a){Bc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Za=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var s=Za,i=s.child;if(22===s.tag&&r){var o=null!==s.memoizedState||Ja;if(!o){var a=s.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ja;var c=Xa;if(Ja=o,(Xa=l)&&!c)for(Za=s;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?bl(s):null!==l?(l.return=o,Za=l):bl(s);for(;null!==i;)Za=i,vl(i,t,n),i=i.sibling;Za=s,Ja=a,Xa=c}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Za=i):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vi(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var A=t.alternate;if(null!==A){var u=A.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(i(163))}Xa||512&t.flags&&sl(t)}catch(h){Bc(t,t.return,h)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function xl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function bl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Bc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Bc(t,s,l)}}var i=t.return;try{sl(t)}catch(l){Bc(t,i,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Bc(t,o,l)}}}catch(l){Bc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Cl,Bl=Math.ceil,kl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,Sl=0,_l=null,Fl=null,Il=0,Tl=0,jl=Bs(0),Ll=0,Ul=null,Pl=0,Ql=0,Ol=0,Rl=null,Dl=null,Ml=0,Hl=1/0,Vl=null,Kl=!1,ql=null,zl=null,Wl=!1,Gl=null,Jl=0,Xl=0,Yl=null,Zl=-1,$l=0;function ec(){return 0!==(6&Sl)?Ye():-1!==Zl?Zl:Zl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Il?Il&-Il:null!==gi.transition?(0===$l&&($l=gt()),$l):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Yl=null,Error(i(185));mt(e,n,r),0!==(2&Sl)&&e===_l||(e===_l&&(0===(2&Sl)&&(Ql|=n),4===Ll&&ac(e,Il)),rc(e,r),1===n&&0===Sl&&0===(1&t.mode)&&(Hl=Ye()+500,Rs&&Hs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),a=1<<o,l=s[o];-1===l?0!==(a&n)&&0===(a&r)||(s[o]=ht(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=dt(e,e===_l?Il:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Rs=!0,Ms(e)}(lc.bind(null,e)):Ms(lc.bind(null,e)),os(function(){0===(6&Sl)&&Hs()}),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,$l=0,0!==(6&Sl))throw Error(i(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=dt(e,e===_l?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=pc(e,r);else{t=r;var s=Sl;Sl|=2;var o=fc();for(_l===e&&Il===t||(Vl=null,Hl=Ye()+500,dc(e,t));;)try{yc();break}catch(l){hc(e,l)}Ei(),kl.current=o,Sl=s,null!==Fl?t=0:(_l=null,Il=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t)throw n=Ul,dc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=pc(e,r))&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ul,dc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Dl,Vl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Ml+500-Ye())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(xc.bind(null,e,Dl,Vl),t);break}xc(e,Dl,Vl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>s&&(s=a),r&=~o}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bl(r/1960))-r)){e.timeoutHandle=rs(xc.bind(null,e,Dl,Vl),r);break}xc(e,Dl,Vl);break;default:throw Error(i(329))}}}return rc(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=Rl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Dl,Dl=n,null!==t&&oc(t)),e}function oc(e){null===Dl?Dl=e:Dl.push.apply(Dl,e)}function ac(e,t){for(t&=~Ol,t&=~Ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Sl))throw Error(i(327));bc();var t=dt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=pc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ul,dc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Dl,Vl),rc(e,Ye()),null}function cc(e,t){var n=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=n)&&(Hl=Ye()+500,Rs&&Hs())}}function Ac(e){null!==Gl&&0===Gl.tag&&0===(6&Sl)&&bc();var t=Sl;Sl|=1;var n=Nl.transition,r=vt;try{if(Nl.transition=null,vt=1,e)return e()}finally{vt=r,Nl.transition=n,0===(6&(Sl=t))&&Hs()}}function uc(){Tl=jl.current,ks(jl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&js();break;case 3:Xi(),ks(_s),ks(Ss),no();break;case 5:Zi(r);break;case 4:Xi();break;case 13:case 19:ks($i);break;case 10:Ni(r.type._context);break;case 22:case 23:uc()}n=n.return}if(_l=e,Fl=e=jc(e.current,null),Il=Tl=t,Ll=0,Ul=null,Ol=Ql=Pl=0,Dl=Rl=null,null!==Ii){for(t=0;t<Ii.length;t++)if(null!==(r=(n=Ii[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=s,r.next=o}n.pending=r}Ii=null}return e}function hc(e,t){for(;;){var n=Fl;try{if(Ei(),ro.current=Zo,co){for(var r=oo.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}co=!1}if(io=0,lo=ao=oo=null,Ao=!1,uo=0,El.current=null,null===n||null===n.return){Ll=1,Ul=t,Fl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var A=c,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=pa(a);if(null!==f){f.flags&=-257,ma(f,a,l,0,t),1&f.mode&&ga(o,A,t),c=A;var g=(t=f).updateQueue;if(null===g){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}if(0===(1&t)){ga(o,A,t),gc();break e}c=Error(i(426))}else if(si&&1&l.mode){var m=pa(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,l,0,t),fi(ca(c,l));break e}}o=c=ca(c,l),4!==Ll&&(Ll=2),null===Rl?Rl=[o]:Rl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Mi(o,ha(0,c,t));break e;case 1:l=c;var y=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===zl||!zl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Mi(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function fc(){var e=kl.current;return kl.current=Zo,null===e?Zo:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===_l||0===(268435455&Pl)&&0===(268435455&Ql)||ac(_l,Il)}function pc(e,t){var n=Sl;Sl|=2;var r=fc();for(_l===e&&Il===t||(Vl=null,dc(e,t));;)try{mc();break}catch(s){hc(e,s)}if(Ei(),Sl=n,kl.current=r,null!==Fl)throw Error(i(261));return _l=null,Il=0,Ll}function mc(){for(;null!==Fl;)vc(Fl)}function yc(){for(;null!==Fl&&!Je();)vc(Fl)}function vc(e){var t=Cl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?wc(e):Fl=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wa(n,t,Tl)))return void(Fl=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Ll=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var r=vt,s=Nl.transition;try{Nl.transition=null,vt=1,function(e,t,n,r){do{bc()}while(null!==Gl);if(0!==(6&Sl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,o),e===_l&&(Fl=_l=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,_c(tt,function(){return bc(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nl.transition,Nl.transition=null;var a=vt;vt=1;var l=Sl;Sl|=4,El.current=null,function(e,t){if(es=Kt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,A=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==s&&3!==d.nodeType||(l=a+s),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++A===s&&(l=a),h===o&&++u===r&&(c=a),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Kt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var p=g.memoizedProps,m=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:na(t.type,p),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){Bc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=tl,tl=!1}(e,n),pl(n,e),fr(ts),Kt=!!es,ts=es=null,e.current=n,yl(n,e,s),Xe(),Sl=l,vt=a,Nl.transition=o}else e.current=n;if(Wl&&(Wl=!1,Gl=e,Jl=s),o=e.pendingLanes,0===o&&(zl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=ql,ql=null,e;0!==(1&Jl)&&0!==e.tag&&bc(),o=e.pendingLanes,0!==(1&o)?e===Yl?Xl++:(Xl=0,Yl=e):Xl=0,Hs()}(e,t,n,r)}finally{Nl.transition=s,vt=r}return null}function bc(){if(null!==Gl){var e=wt(Jl),t=Nl.transition,n=vt;try{if(Nl.transition=null,vt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Jl=0,0!==(6&Sl))throw Error(i(331));var s=Sl;for(Sl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var A=l[c];for(Za=A;null!==Za;){var u=Za;switch(u.tag){case 0:case 11:case 15:nl(8,u,o)}var d=u.child;if(null!==d)d.return=u,Za=d;else for(;null!==Za;){var h=(u=Za).sibling,f=u.return;if(il(u),u===A){Za=null;break}if(null!==h){h.return=f,Za=h;break}Za=f}}}var g=o.alternate;if(null!==g){var p=g.child;if(null!==p){g.child=null;do{var m=p.sibling;p.sibling=null,p=m}while(null!==p)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var v=e.current;for(Za=v;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=v;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(b){Bc(l,l.return,b)}if(l===a){Za=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Za=x;break e}Za=l.return}}if(Sl=s,Hs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(b){}r=!0}return r}finally{vt=n,Nl.transition=t}}return!1}function Cc(e,t,n){e=Ri(e,t=ha(0,t=ca(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Bc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zl||!zl.has(r))){t=Ri(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Il&n)===n&&(4===Ll||3===Ll&&(130023424&Il)===Il&&500>Ye()-Ml?dc(e,0):Ol|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=At,0===(130023424&(At<<=1))&&(At=4194304)));var n=ec();null!==(e=Li(e,t))&&(mt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ec(e,n)}function _c(e,t){return We(e,t)}function Fc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Fc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,o){var a=2;if(r=e,"function"===typeof e)Tc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Uc(n.children,s,o,t);case B:a=8,s|=8;break;case k:return(e=Ic(12,n,t,2|s)).elementType=k,e.lanes=o,e;case _:return(e=Ic(13,n,t,s)).elementType=_,e.lanes=o,e;case F:return(e=Ic(19,n,t,s)).elementType=F,e.lanes=o,e;case j:return Pc(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case N:a=9;break e;case S:a=11;break e;case I:a=14;break e;case T:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ic(a,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function Uc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Pc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Qc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dc(e,t,n,r,s,i,o,a,l){return e=new Rc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ic(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function Mc(e){if(!e)return Ns;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ts(n))return Us(e,n,t)}return t}function Hc(e,t,n,r,s,i,o,a,l){return(e=Dc(n,r,!0,e,0,i,0,a,l)).context=Mc(null),n=e.current,(i=Oi(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Ri(n,i,s),e.current.lanes=s,mt(e,s,r),rc(e,r),e}function Vc(e,t,n,r){var s=t.current,i=ec(),o=tc(s);return n=Mc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ri(s,t,o))&&(nc(e,s,o,i),Di(e,s,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function zc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_s.current)va=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return va=!1,function(e,t,n){switch(t.tag){case 3:_a(t),hi();break;case 5:Yi(t);break;case 1:Ts(t.type)&&Ps(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Es(bi,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Es($i,1&$i.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Qa(e,t,n):(Es($i,1&$i.current),null!==(e=Ka(e,t,n))?e.sibling:null);Es($i,1&$i.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Es($i,$i.current),r)break;return null;case 22:case 23:return t.lanes=0,Ba(e,t,n)}return Ka(e,t,n)}(e,t,n);va=0!==(131072&e.flags)}else va=!1,si&&0!==(1048576&t.flags)&&$s(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var s=Is(t,Ss.current);_i(t,n),s=po(null,t,r,e,s,n);var o=mo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ts(r)?(o=!0,Ps(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Pi(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,la(t,r,e,n),t=Sa(null,t,r,!0,o,n)):(t.tag=0,si&&o&&ei(t),wa(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===I)return 14}return 2}(r),e=na(r,e),s){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Na(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=ba(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Ea(e,t,r,s=t.elementType===r?s:na(r,s),n);case 1:return r=t.type,s=t.pendingProps,Na(e,t,r,s=t.elementType===r?s:na(r,s),n);case 3:e:{if(_a(t),null===e)throw Error(i(387));r=t.pendingProps,s=(o=t.memoizedState).element,Qi(e,t),Hi(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fa(e,t,r,n,s=ca(Error(i(423)),t));break e}if(r!==s){t=Fa(e,t,r,n,s=ca(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===s){t=Ka(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Yi(t),null===e&&ci(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,ns(r,s)?a=null:null!==o&&ns(r,o)&&(t.flags|=32),ka(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Qa(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,xa(e,t,r,s=t.elementType===r?s:na(r,s),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Es(bi,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===s.children&&!_s.current){t=Ka(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oi(-1,n&-n)).tag=2;var A=o.updateQueue;if(null!==A){var u=(A=A.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),A.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Si(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Si(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,_i(t,n),r=r(s=Fi(s)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return s=na(r=t.type,t.pendingProps),ba(e,t,r,s=na(r.type,s),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:na(r,s),Va(e,t),t.tag=1,Ts(r)?(e=!0,Ps(t)):e=!1,_i(t,n),oa(t,r,s),la(t,r,s,n),Sa(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return Ba(e,t,n)}throw Error(i(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof s){var a=s;s=function(){var e=Kc(o);a.call(e)}}Vc(t,o,e,s)}else o=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Kc(o);i.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[fs]=o.current,Hr(8===e.nodeType?e.parentNode:e),Ac(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var a=r;r=function(){var e=Kc(l);a.call(e)}}var l=Dc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fs]=l.current,Hr(8===e.nodeType?e.parentNode:e),Ac(function(){Vc(t,l,n,r)}),l}(n,t,e,s,r);return Kc(o)}Jc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Jc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Ac(function(){Vc(null,e,null,null)}),t[fs]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Qt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Sl)&&(Hl=Ye()+500,Hs()))}break;case 13:Ac(function(){var t=Li(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),zc(e,1)}},bt=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)nc(t,e,134217728,ec());zc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Li(e,t);if(null!==n)nc(n,e,t,ec());zc(e,t)}},Bt=function(){return vt},kt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},be=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=xs(r);if(!s)throw Error(i(90));W(r),Z(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cc,_e=Ac;var eA={usingClientEntryPoint:!1,Events:[vs,ws,xs,Ee,Ne,cc]},tA={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nA={bundleType:tA.bundleType,version:tA.version,rendererPackageName:tA.rendererPackageName,rendererConfig:tA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tA.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rA.isDisabled&&rA.supportsFiber)try{st=rA.inject(nA),it=rA}catch(Ae){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",s=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Dc(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return Ac(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,o="",a=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,s,0,o,a),e[fs]=t.current,Hr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Jc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(Ac(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[fs]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},3216:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>h,BV:()=>P,Ix:()=>U,V8:()=>j,Zp:()=>m,g:()=>y,jb:()=>c,qh:()=>L,x$:()=>v,zy:()=>g});var s=n(5043),i=n(1387);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const a=s.createContext(null);const l=s.createContext(null);const c=s.createContext(null);const A=s.createContext(null);const u=s.createContext({outlet:null,matches:[],isDataRoute:!1});const d=s.createContext(null);function h(e,t){let{relative:n}=void 0===t?{}:t;f()||(0,i.Oi)(!1);let{basename:r,navigator:o}=s.useContext(c),{hash:a,pathname:l,search:A}=v(e,{relative:n}),u=l;return"/"!==r&&(u="/"===l?r:(0,i.HS)([r,l])),o.createHref({pathname:u,search:A,hash:a})}function f(){return null!=s.useContext(A)}function g(){return f()||(0,i.Oi)(!1),s.useContext(A).location}function p(e){s.useContext(c).static||s.useLayoutEffect(e)}function m(){let{isDataRoute:e}=s.useContext(u);return e?function(){let{router:e}=S(E.UseNavigateStable),t=F(N.UseNavigateStable),n=s.useRef(!1);return p(()=>{n.current=!0}),s.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,o({fromRouteId:t},s)))},[e,t])}():function(){f()||(0,i.Oi)(!1);let e=s.useContext(a),{basename:t,future:n,navigator:r}=s.useContext(c),{matches:o}=s.useContext(u),{pathname:l}=g(),A=JSON.stringify((0,i.yD)(o,n.v7_relativeSplatPath)),d=s.useRef(!1);return p(()=>{d.current=!0}),s.useCallback(function(n,s){if(void 0===s&&(s={}),!d.current)return;if("number"===typeof n)return void r.go(n);let o=(0,i.Gh)(n,JSON.parse(A),l,"path"===s.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:(0,i.HS)([t,o.pathname])),(s.replace?r.replace:r.push)(o,s.state,s)},[t,r,A,l,e])}()}function y(){let{matches:e}=s.useContext(u),t=e[e.length-1];return t?t.params:{}}function v(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(c),{matches:o}=s.useContext(u),{pathname:a}=g(),l=JSON.stringify((0,i.yD)(o,r.v7_relativeSplatPath));return s.useMemo(()=>(0,i.Gh)(e,JSON.parse(l),a,"path"===n),[e,l,a,n])}function w(e,t,n,r){f()||(0,i.Oi)(!1);let{navigator:a}=s.useContext(c),{matches:l}=s.useContext(u),d=l[l.length-1],h=d?d.params:{},p=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let m,y=g();if(t){var v;let e="string"===typeof t?(0,i.Rr)(t):t;"/"===p||(null==(v=e.pathname)?void 0:v.startsWith(p))||(0,i.Oi)(!1),m=e}else m=y;let w=m.pathname||"/",x=w;if("/"!==p){let e=p.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=(0,i.ue)(e,{pathname:x});let C=k(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:(0,i.HS)([p,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:(0,i.HS)([p,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r);return t&&C?s.createElement(A.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:i.rc.Pop}},C):C}function x(){let e=function(){var e;let t=s.useContext(d),n=_(N.UseRouteError),r=F(N.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,i.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:o},n):null,null)}const b=s.createElement(x,null);class C extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(u.Provider,{value:this.props.routeContext},s.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(a);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(u.Provider,{value:t},r)}function k(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||(0,i.Oi)(!1),l=l.slice(0,Math.min(l.length,e+1))}let A=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<l.length;s++){let e=l[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){A=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,r,i)=>{let o,a=!1,d=null,h=null;var f;n&&(o=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||b,A&&(u<0&&0===i?(f="route-fallback",!1||I[f]||(I[f]=!0),a=!0,h=null):u===i&&(a=!0,h=r.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,i+1)),p=()=>{let t;return t=o?d:a?h:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(B,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(C,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var E=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(E||{}),N=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(N||{});function S(e){let t=s.useContext(a);return t||(0,i.Oi)(!1),t}function _(e){let t=s.useContext(l);return t||(0,i.Oi)(!1),t}function F(e){let t=function(){let e=s.useContext(u);return e||(0,i.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,i.Oi)(!1),n.route.id}const I={};const T=(e,t,n)=>{};function j(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&T("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&void 0!==t.v7_relativeSplatPath||T("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&T("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&T("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&T("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&T("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(r||(r=n.t(s,2))).startTransition;function L(e){(0,i.Oi)(!1)}function U(e){let{basename:t="/",children:n=null,location:r,navigationType:a=i.rc.Pop,navigator:l,static:u=!1,future:d}=e;f()&&(0,i.Oi)(!1);let h=t.replace(/^\/*/,"/"),g=s.useMemo(()=>({basename:h,navigator:l,static:u,future:o({v7_relativeSplatPath:!1},d)}),[h,d,l,u]);"string"===typeof r&&(r=(0,i.Rr)(r));let{pathname:p="/",search:m="",hash:y="",state:v=null,key:w="default"}=r,x=s.useMemo(()=>{let e=(0,i.pb)(p,h);return null==e?null:{location:{pathname:e,search:m,hash:y,state:v,key:w},navigationType:a}},[h,p,m,y,v,w,a]);return null==x?null:s.createElement(c.Provider,{value:g},s.createElement(A.Provider,{children:n,value:x}))}function P(e){let{children:t,location:n}=e;return w(Q(t),n)}new Promise(()=>{});s.Component;function Q(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let o=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,Q(e.props.children,o));e.type!==L&&(0,i.Oi)(!1),e.props.index&&e.props.children&&(0,i.Oi)(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Q(e.props.children,o)),n.push(a)}),n}},3441:(e,t,n)=>{"use strict";n.d(t,{k5:()=>h});var r=n(5043),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(s),o=["attr","size","title"];function a(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return e&&e.map((e,t)=>r.createElement(e.tag,A({key:t},e.attr),d(e.child)))}function h(e){return t=>r.createElement(f,l({attr:A({},e.attr)},t),d(e.child))}function f(e){var t=t=>{var n,{attr:s,size:i,title:c}=e,u=a(e,o),d=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,u,{className:n,style:A(A({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==i?r.createElement(i.Consumer,null,e=>t(e)):t(s)}},3611:(e,t,n)=>{"use strict";n.d(t,{jf:()=>Ls,Jt:()=>Ds,C3:()=>Xs,AU:()=>qs,yX:()=>Us,Zy:()=>Ks,VC:()=>Ps,KR:()=>js,TF:()=>Qs,hZ:()=>Os,yo:()=>Rs});var r=n(7150),s=n(8812),i=n(1529),o=n(443);const a="@firebase/database",l="1.0.20";let c="";function A(e){c=e}class u{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,i.As)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,i.$L)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class d{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,i.gR)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const h=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(t){}return new d},f=h("localStorage"),g=h("sessionStorage"),p=new o.Vy("@firebase/database"),m=function(){let e=1;return function(){return e++}}(),y=function(e){const t=(0,i.kj)(e),n=new i.gz;n.update(t);const r=n.digest();return i.K3.encodeByteArray(r)},v=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=v.apply(null,n):e+="object"===typeof n?(0,i.As)(n):n,e+=" "}return e};let w=null,x=!0;const b=function(e,t){(0,i.vA)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(p.logLevel=o.$b.VERBOSE,w=p.log.bind(p),t&&g.set("logging_enabled",!0)):"function"===typeof e?w=e:(w=null,g.remove("logging_enabled"))},C=function(){if(!0===x&&(x=!1,null===w&&!0===g.get("logging_enabled")&&b(!0)),w){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=v.apply(null,t);w(r)}},B=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];C(e,...n)}},k=function(){const e="FIREBASE INTERNAL ERROR: "+v(...arguments);p.error(e)},E=function(){const e="FIREBASE FATAL ERROR: ".concat(v(...arguments));throw p.error(e),new Error(e)},N=function(){const e="FIREBASE WARNING: "+v(...arguments);p.warn(e)},S=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},_="[MIN_NAME]",F="[MAX_NAME]",I=function(e,t){if(e===t)return 0;if(e===_||t===F)return-1;if(t===_||e===F)return 1;{const n=R(e),r=R(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},T=function(e,t){return e===t?0:e<t?-1:1},j=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,i.As)(t))},L=function(e){if("object"!==typeof e||null===e)return(0,i.As)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,i.As)(t[r]),n+=":",n+=L(e[t[r]]);return n+="}",n},U=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let s=0;s<n;s+=t)s+t>n?r.push(e.substring(s,n)):r.push(e.substring(s,s+t));return r};function P(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Q=function(e){(0,i.vA)(!S(e),"Invalid JSON number");const t=1023;let n,r,s,o,a;0===e?(r=0,s=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,s=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,s=Math.round(e/Math.pow(2,-1074))));const l=[];for(a=52;a;a-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(a=11;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);l.push(n?1:0),l.reverse();const c=l.join("");let A="";for(a=0;a<64;a+=8){let e=parseInt(c.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),A+=e}return A.toLowerCase()};const O=new RegExp("^-?(0*)\\d{1,10}$"),R=function(e){if(O.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},D=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw N("Exception was thrown by user callback.",e),t},Math.floor(0))}},M=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class H{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,(0,r.xZ)(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){N('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class V{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',N(e)}}class K{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}K.OWNER="owner";const q="5",z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W="ac",G="websocket",J="long_polling";class X{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Y(e,t,n){let r;if((0,i.vA)("string"===typeof t,"typeof type must == string"),(0,i.vA)("object"===typeof n,"typeof params must == object"),t===G)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==J)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const s=[];return P(n,(e,t)=>{s.push(e+"="+t)}),r+s.join("&")}class Z{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,i.gR)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,i.A4)(this.counters_)}}const $={},ee={};function te(e){const t=e.toString();return $[t]||($[t]=new Z),$[t]}class ne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&D(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const re="start";class se{constructor(e,t,n,r,s,i,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.transportSessionId=i,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=B(e),this.stats_=te(t),this.urlFn=e=>(this.appCheckToken&&(e[W]=this.appCheckToken),Y(t,J,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,i.$g)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ie(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[s,i,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,s===re)n.id=i,n.password=o;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[s,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(s,i)},()=>{this.onClosed_()},this.urlFn);const e={};e[re]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=q,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[W]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&z.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){se.forceAllow_=!0}static forceDisallow(){se.forceDisallow_=!0}static isAvailable(){return!(0,i.$g)()&&(!!se.forceAllow_||!se.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,i.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,i.KA)(t),r=U(n,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,i.$g)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,i.As)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ie{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,i.$g)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ie.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(s){C("frame writing exception"),s.stack&&C(s.stack),C(s)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||C("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,i.$g)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{C("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let oe=null;"undefined"!==typeof MozWebSocket?oe=MozWebSocket:"undefined"!==typeof WebSocket&&(oe=WebSocket);class ae{constructor(e,t,n,r,s,i,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=B(this.connId),this.stats_=te(t),this.connURL=ae.connectionURL_(t,i,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,s){const o={};return o.v=q,!(0,i.$g)()&&"undefined"!==typeof location&&location.hostname&&z.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[W]=r),s&&(o.p=s),Y(e,G,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{let e;if((0,i.$g)()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(q,"/").concat(c,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new oe(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ae.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==oe&&!ae.forceDisallow_}static previouslyFailed(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")}markConnectionHealthy(){f.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,i.$L)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,i.vA)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,i.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=U(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ae.responsesRequiredToBeHealthy=2,ae.healthyTimeout=3e4;class le{static get ALL_TRANSPORTS(){return[se,ae]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=ae&&ae.isAvailable();let n=t&&!ae.previouslyFailed();if(e.webSocketOnly&&(t||N("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ae];else{const e=this.transports_=[];for(const t of le.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);le.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}le.globalTransportInitialized_=!1;class ce{constructor(e,t,n,r,s,i,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=i,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=B("c:"+this.id+":"),this.transportManager_=new le(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=M(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=j("t",e),n=j("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=j("t",e),n=j("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=j("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?k("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),q!==n&&N("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),M(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):M(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ae{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class ue{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,i.vA)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<s.length;e++)s[e].callback.apply(s[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!n||n===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,i.vA)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class de extends ue{static getInstance(){return new de}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,i.jZ)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return(0,i.vA)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class he{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function fe(){return new he("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pe(e){return e.pieces_.length-e.pieceNum_}function me(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new he(e.pieces_,t)}function ye(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new he(t,0)}function xe(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof he)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new he(n,0)}function be(e){return e.pieceNum_>=e.pieces_.length}function Ce(e,t){const n=ge(e),r=ge(t);if(null===n)return t;if(n===r)return Ce(me(e),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Be(e,t){const n=ve(e,0),r=ve(t,0);for(let s=0;s<n.length&&s<r.length;s++){const e=I(n[s],r[s]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function ke(e,t){if(pe(e)!==pe(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ee(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(pe(e)>pe(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Ne{constructor(e,t){this.errorPrefix_=t,this.parts_=ve(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,i.OE)(this.parts_[n]);Se(this)}}function Se(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_e(e))}function _e(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Fe extends ue{static getInstance(){return new Fe}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return(0,i.vA)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ie=1e3;class Te extends Ae{constructor(e,t,n,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Te.nextPersistentConnectionId_++,this.log_=B("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ie,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,i.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Fe.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&de.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,s={r:r,a:e,b:t};this.log_((0,i.As)(s)),(0,i.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new i.cY,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),(0,i.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,i.vA)(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const s={p:n};e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,s=>{const i=s.d,o=s.s;Te.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",s),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,i))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&(0,i.gR)(e,"w")){const n=(0,i.yw)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();N("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,i.qc)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,i.Cv)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,i.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const s={p:e};r&&(s.q=n,s.t=r),this.sendRequest("n",s)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const s={p:t,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,s){this.initConnection_();const i={p:t,d:n};void 0!==s&&(i.h=s),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,i.As)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+(0,i.As)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,i.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ie,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ie,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ie),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Te.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,n())},c=function(e){(0,i.vA)(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const A=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[i,l]=await Promise.all([this.authTokenProvider_.getToken(A),this.appCheckTokenProvider_.getToken(A)]);o?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=i&&i.accessToken,this.appCheckToken_=l&&l.token,a=new ce(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{N(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},s))}catch(k){this.log_("Failed to get token: "+k),o||(this.repoInfo_.nodeAdmin&&N(k),l())}}}interrupt(e){C("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){C("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,i.Im)(this.interruptReasons_)&&(this.reconnectDelay_=Ie,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>L(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new he(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){C("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){C("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,i.$g)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,(0,i.jZ)()?e["framework.cordova"]=1:(0,i.lV)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=de.getInstance().currentlyOnline();return(0,i.Im)(this.interruptReasons_)&&e}}Te.nextPersistentConnectionId_=0,Te.nextConnectionId_=0;class je{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new je(e,t)}}class Le{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new je(_,e),r=new je(_,t);return 0!==this.compare(n,r)}minPost(){return je.MIN}}let Ue;class Pe extends Le{static get __EMPTY_NODE(){return Ue}static set __EMPTY_NODE(e){Ue=e}compare(e,t){return I(e.name,t.name)}isDefinedOn(e){throw(0,i.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return je.MIN}maxPost(){return new je(F,Ue)}makePost(e,t){return(0,i.vA)("string"===typeof e,"KeyIndex indexValue must always be a string."),new je(e,Ue)}toString(){return".key"}}const Qe=new Pe;class Oe{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Re{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Re.RED,this.left=null!=r?r:De.EMPTY_NODE,this.right=null!=s?s:De.EMPTY_NODE}copy(e,t,n,r,s){return new Re(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return De.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return De.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Re.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Re.RED=!0,Re.BLACK=!1;class De{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new De(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Re.BLACK,null,null))}remove(e){return new De(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Re.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oe(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Oe(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Oe(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Oe(this.root_,null,this.comparator_,!0,e)}}function Me(e,t){return I(e.name,t.name)}function He(e,t){return I(e,t)}let Ve;De.EMPTY_NODE=new class{copy(e,t,n,r,s){return this}insert(e,t,n){return new Re(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ke=function(e){return"number"===typeof e?"number:"+Q(e):"string:"+e},qe=function(e){if(e.isLeafNode()){const t=e.val();(0,i.vA)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,i.gR)(t,".sv"),"Priority must be a string or number.")}else(0,i.vA)(e===Ve||e.isEmpty(),"priority of unexpected type.");(0,i.vA)(e===Ve||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ze,We,Ge;class Je{static set __childrenNodeConstructor(e){ze=e}static get __childrenNodeConstructor(){return ze}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,i.vA)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),qe(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Je(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:".priority"===ge(e)?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ge(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,i.vA)(".priority"!==n||1===pe(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ke(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Q(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Je.__childrenNodeConstructor?-1:((0,i.vA)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Je.VALUE_TYPE_ORDER.indexOf(t),s=Je.VALUE_TYPE_ORDER.indexOf(n);return(0,i.vA)(r>=0,"Unknown leaf type: "+t),(0,i.vA)(s>=0,"Unknown leaf type: "+n),r===s?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Xe=new class extends Le{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),s=n.compareTo(r);return 0===s?I(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return je.MIN}maxPost(){return new je(F,new Je("[PRIORITY-POST]",Ge))}makePost(e,t){const n=We(e);return new je(t,new Je("[PRIORITY-POST]",n))}toString(){return".priority"}},Ye=Math.log(2);class Ze{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ye,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $e=function(e,t,n,r){e.sort(t);const s=function(t,r){const i=r-t;let o,a;if(0===i)return null;if(1===i)return o=e[t],a=n?n(o):o,new Re(a,o.node,Re.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=s(t,l),A=s(l+1,r);return o=e[l],a=n?n(o):o,new Re(a,o.node,Re.BLACK,c,A)}},i=function(t){let r=null,i=null,o=e.length;const a=function(t,r){const i=o-t,a=o;o-=t;const c=s(i+1,a),A=e[i],u=n?n(A):A;l(new Re(u,A.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Re.BLACK):(a(r,Re.BLACK),a(r,Re.RED))}return i}(new Ze(e.length));return new De(r||t,i)};let et;const tt={};class nt{static get Default(){return(0,i.vA)(tt&&Xe,"ChildrenNode.ts has not been loaded"),et=et||new nt({".priority":tt},{".priority":Xe}),et}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=(0,i.yw)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof De?t:null}hasIndex(e){return(0,i.gR)(this.indexSet_,e.toString())}addIndex(e,t){(0,i.vA)(e!==Qe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const s=t.getIterator(je.Wrap);let o,a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=s.getNext();o=r?$e(n,e.getCompare()):tt;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const A=Object.assign({},this.indexes_);return A[l]=o,new nt(A,c)}addToIndexes(e,t){const n=(0,i.kH)(this.indexes_,(n,r)=>{const s=(0,i.yw)(this.indexSet_,r);if((0,i.vA)(s,"Missing index implementation for "+r),n===tt){if(s.isDefinedOn(e.node)){const n=[],r=t.getIterator(je.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),$e(n,s.getCompare())}return tt}{const r=t.get(e.name);let s=n;return r&&(s=s.remove(new je(e.name,r))),s.insert(e,e.node)}});return new nt(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,i.kH)(this.indexes_,n=>{if(n===tt)return n;{const r=t.get(e.name);return r?n.remove(new je(e.name,r)):n}});return new nt(n,this.indexSet_)}}let rt;class st{static get EMPTY_NODE(){return rt||(rt=new st(new De(He),null,nt.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&qe(this.priorityNode_),this.children_.isEmpty()&&(0,i.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||rt}updatePriority(e){return this.children_.isEmpty()?this:new st(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?rt:t}}getChild(e){const t=ge(e);return null===t?this:this.getImmediateChild(t).getChild(me(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,i.vA)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new je(e,t);let r,s;t.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?rt:this.priorityNode_;return new st(r,i,s)}}updateChild(e,t){const n=ge(e);if(null===n)return t;{(0,i.vA)(".priority"!==ge(e)||1===pe(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(me(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,s=!0;if(this.forEachChild(Xe,(i,o)=>{t[i]=o.val(e),n++,s&&st.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):s=!1}),!e&&s&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ke(this.getPriority().val())+":"),this.forEachChild(Xe,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new je(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new je(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new je(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,je.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,je.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===it?-1:0}withIndex(e){if(e===Qe||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new st(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Qe||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Xe),n=t.getIterator(Xe);let r=e.getNext(),s=n.getNext();for(;r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=e.getNext(),s=n.getNext()}return null===r&&null===s}return!1}return!1}}resolveIndex_(e){return e===Qe?null:this.indexMap_.get(e.toString())}}st.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const it=new class extends st{constructor(){super(new De(He),st.EMPTY_NODE,nt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return st.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(je,{MIN:{value:new je(_,st.EMPTY_NODE)},MAX:{value:new je(F,it)}}),Pe.__EMPTY_NODE=st.EMPTY_NODE,Je.__childrenNodeConstructor=st,Ve=it,function(e){Ge=e}(it);const ot=!0;function at(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,i.vA)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Je(e,at(t))}if(e instanceof Array||!ot){let n=st.EMPTY_NODE;return P(e,(t,r)=>{if((0,i.gR)(e,t)&&"."!==t.substring(0,1)){const e=at(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(at(t))}{const n=[];let r=!1;if(P(e,(e,t)=>{if("."!==e.substring(0,1)){const s=at(t);s.isEmpty()||(r=r||!s.getPriority().isEmpty(),n.push(new je(e,s)))}}),0===n.length)return st.EMPTY_NODE;const s=$e(n,Me,e=>e.name,He);if(r){const e=$e(n,Xe.getCompare());return new st(s,at(t),new nt({".priority":e},{".priority":Xe}))}return new st(s,at(t),nt.Default)}}!function(e){We=e}(at);class lt extends Le{constructor(e){super(),this.indexPath_=e,(0,i.vA)(!be(e)&&".priority"!==ge(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),s=n.compareTo(r);return 0===s?I(e.name,t.name):s}makePost(e,t){const n=at(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new je(t,r)}maxPost(){const e=st.EMPTY_NODE.updateChild(this.indexPath_,it);return new je(F,e)}toString(){return ve(this.indexPath_,0).join("/")}}const ct=new class extends Le{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?I(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return je.MIN}maxPost(){return je.MAX}makePost(e,t){const n=at(e);return new je(t,n)}toString(){return".value"}};function At(e){return{type:"value",snapshotNode:e}}function ut(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function dt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ht(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class ft{constructor(e){this.index_=e}updateChild(e,t,n,r,s,o){(0,i.vA)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(dt(t,a)):(0,i.vA)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ut(t,n)):o.trackChildChange(ht(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Xe,(e,r)=>{t.hasChild(e)||n.trackChildChange(dt(e,r))}),t.isLeafNode()||t.forEachChild(Xe,(t,r)=>{if(e.hasChild(t)){const s=e.getImmediateChild(t);s.equals(r)||n.trackChildChange(ht(t,r,s))}else n.trackChildChange(ut(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gt{constructor(e){this.indexedFilter_=new ft(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gt.getStartPost_(e),this.endPost_=gt.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,s,i){return this.matches(new je(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,s,i)}updateFullNode(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);const s=this;return t.forEachChild(Xe,(e,t)=>{s.matches(new je(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class pt{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new gt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,s,i){return this.rangedFilter_.matches(new je(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,s,i):this.fullLimitUpdateChild_(e,t,n,s,i)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=st.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(st.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,s){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;(0,i.vA)(a.numChildren()===this.limit_,"");const l=new je(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),A=this.rangedFilter_.matches(l);if(a.hasChild(t)){const e=a.getImmediateChild(t);let i=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=i&&(i.name===t||a.hasChild(i.name));)i=r.getChildAfterChild(this.index_,i,this.reverse_);const u=null==i?1:o(i,l);if(A&&!n.isEmpty()&&u>=0)return null!=s&&s.trackChildChange(ht(t,n,e)),a.updateImmediateChild(t,n);{null!=s&&s.trackChildChange(dt(t,e));const n=a.updateImmediateChild(t,st.EMPTY_NODE);return null!=i&&this.rangedFilter_.matches(i)?(null!=s&&s.trackChildChange(ut(i.name,i.node)),n.updateImmediateChild(i.name,i.node)):n}}return n.isEmpty()?e:A&&o(c,l)>=0?(null!=s&&(s.trackChildChange(dt(c.name,c.node)),s.trackChildChange(ut(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,st.EMPTY_NODE)):e}}class mt{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,i.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,i.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,i.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,i.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:F}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,i.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const e=new mt;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yt(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Xe?n="$priority":e.index_===ct?n="$value":e.index_===Qe?n="$key":((0,i.vA)(e.index_ instanceof lt,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,i.As)(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=(0,i.As)(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+(0,i.As)(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=(0,i.As)(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+(0,i.As)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function vt(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Xe&&(t.i=e.index_.toString()),t}class wt extends Ae{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,i.vA)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=B("p:rest:"),this.listens_={}}listen(e,t,n,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=wt.getListenId_(e,n),a={};this.listens_[o]=a;const l=yt(e._queryParams);this.restRequest_(s+".json",l,(e,t)=>{let l=t;if(404===e&&(l=null,e=null),null===e&&this.onDataUpdate_(s,l,!1,n),(0,i.yw)(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=wt.getListenId_(e,t);delete this.listens_[n]}get(e){const t=yt(e._queryParams),n=e._path.toString(),r=new i.cY;return this.restRequest_(n+".json",t,(e,t)=>{let s=t;404===e&&(s=null,e=null),null===e?(this.onDataUpdate_(n,s,!1,null),r.resolve(s)):r.reject(new Error(s))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[s,o]=r;s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,i.Am)(t);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(n&&4===l.readyState){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let t=null;if(l.status>=200&&l.status<300){try{t=(0,i.$L)(l.responseText)}catch(e){N("Failed to parse JSON response for "+a+": "+l.responseText)}n(null,t)}else 401!==l.status&&404!==l.status&&N("Got unsuccessful REST response for "+a+" Status: "+l.status),n(l.status);n=null}},l.open("GET",a,!0),l.send()})}}class xt{constructor(){this.rootNode_=st.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function bt(){return{value:null,children:new Map}}function Ct(e,t,n){if(be(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=ge(t);e.children.has(r)||e.children.set(r,bt());Ct(e.children.get(r),t=me(t),n)}}function Bt(e,t){if(be(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Xe,(t,n)=>{Ct(e,new he(t),n)}),Bt(e,t)}}if(e.children.size>0){const n=ge(t);if(t=me(t),e.children.has(n)){Bt(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function kt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{kt(r,new he(t.toString()+"/"+e),n)})}class Et{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&P(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Nt{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Et(e);const n=1e4+2e4*Math.random();M(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;P(e,(e,r)=>{r>0&&(0,i.gR)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),M(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var St;function _t(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(St||(St={}));class Ft{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=St.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(be(this.path)){if(null!=this.affectedTree.value)return(0,i.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new he(e));return new Ft(fe(),t,this.revert)}}return(0,i.vA)(ge(this.path)===e,"operationForChild called for unrelated child."),new Ft(me(this.path),this.affectedTree,this.revert)}}class It{constructor(e,t){this.source=e,this.path=t,this.type=St.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new It(this.source,fe()):new It(this.source,me(this.path))}}class Tt{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=St.OVERWRITE}operationForChild(e){return be(this.path)?new Tt(this.source,fe(),this.snap.getImmediateChild(e)):new Tt(this.source,me(this.path),this.snap)}}class jt{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=St.MERGE}operationForChild(e){if(be(this.path)){const t=this.children.subtree(new he(e));return t.isEmpty()?null:t.value?new Tt(this.source,fe(),t.value):new jt(this.source,fe(),t)}return(0,i.vA)(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jt(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Lt{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const t=ge(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ut{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Pt(e,t,n,r,s,o){const a=r.filter(e=>e.type===n);a.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,i.Hk)("Should only compare child_ events.");const r=new je(t.childName,t.snapshotNode),s=new je(n.childName,n.snapshotNode);return e.index_.compare(r,s)}(e,t,n)),a.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);s.forEach(s=>{s.respondsTo(n.type)&&t.push(s.createEvent(r,e.query_))})})}function Qt(e,t){return{eventCache:e,serverCache:t}}function Ot(e,t,n,r){return Qt(new Lt(t,n,r),e.serverCache)}function Rt(e,t,n,r){return Qt(e.eventCache,new Lt(t,n,r))}function Dt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Mt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ht;class Vt{static fromObject(e){let t=new Vt(null);return P(e,(e,n)=>{t=t.set(new he(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ht||(Ht=new De(T)),Ht);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:fe(),value:this.value};if(be(e))return null;{const n=ge(e),r=this.children.get(n);if(null!==r){const s=r.findRootMostMatchingPathAndValue(me(e),t);if(null!=s){return{path:xe(new he(n),s.path),value:s.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const t=ge(e),n=this.children.get(t);return null!==n?n.subtree(me(e)):new Vt(null)}}set(e,t){if(be(e))return new Vt(t,this.children);{const n=ge(e),r=(this.children.get(n)||new Vt(null)).set(me(e),t),s=this.children.insert(n,r);return new Vt(this.value,s)}}remove(e){if(be(e))return this.children.isEmpty()?new Vt(null):new Vt(null,this.children);{const t=ge(e),n=this.children.get(t);if(n){const r=n.remove(me(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Vt(null):new Vt(this.value,s)}return this}}get(e){if(be(e))return this.value;{const t=ge(e),n=this.children.get(t);return n?n.get(me(e)):null}}setTree(e,t){if(be(e))return t;{const n=ge(e),r=(this.children.get(n)||new Vt(null)).setTree(me(e),t);let s;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Vt(this.value,s)}}fold(e){return this.fold_(fe(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,s)=>{n[r]=s.fold_(xe(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,fe(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(be(e))return null;{const r=ge(e),s=this.children.get(r);return s?s.findOnPath_(me(e),xe(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,fe(),t)}foreachOnPath_(e,t,n){if(be(e))return this;{this.value&&n(t,this.value);const r=ge(e),s=this.children.get(r);return s?s.foreachOnPath_(me(e),xe(t,r),n):new Vt(null)}}foreach(e){this.foreach_(fe(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(xe(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Kt{constructor(e){this.writeTree_=e}static empty(){return new Kt(new Vt(null))}}function qt(e,t,n){if(be(t))return new Kt(new Vt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const s=r.path;let i=r.value;const o=Ce(s,t);return i=i.updateChild(o,n),new Kt(e.writeTree_.set(s,i))}{const r=new Vt(n),s=e.writeTree_.setTree(t,r);return new Kt(s)}}}function zt(e,t,n){let r=e;return P(n,(e,n)=>{r=qt(r,xe(t,e),n)}),r}function Wt(e,t){if(be(t))return Kt.empty();{const n=e.writeTree_.setTree(t,new Vt(null));return new Kt(n)}}function Gt(e,t){return null!=Jt(e,t)}function Jt(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ce(n.path,t)):null}function Xt(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Xe,(e,n)=>{t.push(new je(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new je(e,n.value))}),t}function Yt(e,t){if(be(t))return e;{const n=Jt(e,t);return new Kt(null!=n?new Vt(n):e.writeTree_.subtree(t))}}function Zt(e){return e.writeTree_.isEmpty()}function $t(e,t){return en(fe(),e.writeTree_,t)}function en(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,s)=>{".priority"===t?((0,i.vA)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=en(xe(e,t),s,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(xe(e,".priority"),r)),n}}function tn(e,t){return gn(t,e)}function nn(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,i.vA)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let s=r.visible,o=!1,a=e.allWrites.length-1;for(;s&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&rn(t,r.path)?s=!1:Ee(r.path,t.path)&&(o=!0)),a--}if(s){if(o)return function(e){e.visibleWrites=on(e.allWrites,sn,fe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Wt(e.visibleWrites,r.path);else{P(r.children,t=>{e.visibleWrites=Wt(e.visibleWrites,xe(r.path,t))})}return!0}return!1}function rn(e,t){if(e.snap)return Ee(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ee(xe(e.path,n),t))return!0;return!1}function sn(e){return e.visible}function on(e,t,n){let r=Kt.empty();for(let s=0;s<e.length;++s){const o=e[s];if(t(o)){const e=o.path;let t;if(o.snap)Ee(n,e)?(t=Ce(n,e),r=qt(r,t,o.snap)):Ee(e,n)&&(t=Ce(e,n),r=qt(r,fe(),o.snap.getChild(t)));else{if(!o.children)throw(0,i.Hk)("WriteRecord should have .snap or .children");if(Ee(n,e))t=Ce(n,e),r=zt(r,t,o.children);else if(Ee(e,n))if(t=Ce(e,n),be(t))r=zt(r,fe(),o.children);else{const e=(0,i.yw)(o.children,ge(t));if(e){const n=e.getChild(me(t));r=qt(r,fe(),n)}}}}}return r}function an(e,t,n,r,s){if(r||s){const i=Yt(e.visibleWrites,t);if(!s&&Zt(i))return n;if(s||null!=n||Gt(i,fe())){const i=function(e){return(e.visible||s)&&(!r||!~r.indexOf(e.writeId))&&(Ee(e.path,t)||Ee(t,e.path))};return $t(on(e.allWrites,i,t),n||st.EMPTY_NODE)}return null}{const r=Jt(e.visibleWrites,t);if(null!=r)return r;{const r=Yt(e.visibleWrites,t);if(Zt(r))return n;if(null!=n||Gt(r,fe())){return $t(r,n||st.EMPTY_NODE)}return null}}}function ln(e,t,n,r){return an(e.writeTree,e.treePath,t,n,r)}function cn(e,t){return function(e,t,n){let r=st.EMPTY_NODE;const s=Jt(e.visibleWrites,t);if(s)return s.isLeafNode()||s.forEachChild(Xe,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const s=Yt(e.visibleWrites,t);return n.forEachChild(Xe,(e,t)=>{const n=$t(Yt(s,new he(e)),t);r=r.updateImmediateChild(e,n)}),Xt(s).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Xt(Yt(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function An(e,t,n,r){return function(e,t,n,r,s){(0,i.vA)(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=xe(t,n);if(Gt(e.visibleWrites,o))return null;{const t=Yt(e.visibleWrites,o);return Zt(t)?s.getChild(n):$t(t,s.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function un(e,t){return function(e,t){return Jt(e.visibleWrites,t)}(e.writeTree,xe(e.treePath,t))}function dn(e,t,n,r,s,i){return function(e,t,n,r,s,i,o){let a;const l=Yt(e.visibleWrites,t),c=Jt(l,fe());if(null!=c)a=c;else{if(null==n)return[];a=$t(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<s;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,s,i)}function hn(e,t,n){return function(e,t,n,r){const s=xe(t,n),i=Jt(e.visibleWrites,s);if(null!=i)return i;if(r.isCompleteForChild(n))return $t(Yt(e.visibleWrites,s),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function fn(e,t){return gn(xe(e.treePath,t),e.writeTree)}function gn(e,t){return{treePath:e,writeTree:t}}class pn{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,i.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,i.vA)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(n,ht(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(n,dt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(n,ut(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,i.Hk)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ht(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const mn=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class yn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Lt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hn(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mt(this.viewCache_),s=dn(this.writes_,r,t,1,n,e);return 0===s.length?null:s[0]}}function vn(e,t,n,r,s){const o=new pn;let a,l;if(n.type===St.OVERWRITE){const c=n;c.source.fromUser?a=bn(e,t,c.path,c.snap,r,s,o):((0,i.vA)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!be(c.path),a=xn(e,t,c.path,c.snap,r,s,l,o))}else if(n.type===St.MERGE){const c=n;c.source.fromUser?a=function(e,t,n,r,s,i,o){let a=t;return r.foreach((r,l)=>{const c=xe(n,r);Cn(t,ge(c))&&(a=bn(e,a,c,l,s,i,o))}),r.foreach((r,l)=>{const c=xe(n,r);Cn(t,ge(c))||(a=bn(e,a,c,l,s,i,o))}),a}(e,t,c.path,c.children,r,s,o):((0,i.vA)(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered(),a=kn(e,t,c.path,c.children,r,s,l,o))}else if(n.type===St.ACK_USER_WRITE){const l=n;a=l.revert?function(e,t,n,r,s,o){let a;if(null!=un(r,n))return t;{const l=new yn(r,t,s),c=t.eventCache.getNode();let A;if(be(n)||".priority"===ge(n)){let n;if(t.serverCache.isFullyInitialized())n=ln(r,Mt(t));else{const e=t.serverCache.getNode();(0,i.vA)(e instanceof st,"serverChildren would be complete if leaf node"),n=cn(r,e)}A=e.filter.updateFullNode(c,n,o)}else{const s=ge(n);let i=hn(r,s,t.serverCache);null==i&&t.serverCache.isCompleteForChild(s)&&(i=c.getImmediateChild(s)),A=null!=i?e.filter.updateChild(c,s,i,me(n),l,o):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(c,s,st.EMPTY_NODE,me(n),l,o):c,A.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=ln(r,Mt(t)),a.isLeafNode()&&(A=e.filter.updateFullNode(A,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=un(r,fe()),Ot(t,A,a,e.filter.filtersNodes())}}(e,t,l.path,r,s,o):function(e,t,n,r,s,i,o){if(null!=un(s,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return xn(e,t,n,l.getNode().getChild(n),s,i,a,o);if(be(n)){let r=new Vt(null);return l.getNode().forEachChild(Qe,(e,t)=>{r=r.set(new he(e),t)}),kn(e,t,n,r,s,i,a,o)}return t}{let c=new Vt(null);return r.foreach((e,t)=>{const r=xe(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),kn(e,t,n,c,s,i,a,o)}}(e,t,l.path,l.affectedTree,r,s,o)}else{if(n.type!==St.LISTEN_COMPLETE)throw(0,i.Hk)("Unknown operation type: "+n.type);a=function(e,t,n,r,s){const i=t.serverCache,o=Rt(t,i.getNode(),i.isFullyInitialized()||be(n),i.isFiltered());return wn(e,o,n,r,mn,s)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Dt(e);(n.length>0||!e.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(At(Dt(t)))}}(t,a,c),{viewCache:a,changes:c}}function wn(e,t,n,r,s,o){const a=t.eventCache;if(null!=un(r,n))return t;{let l,c;if(be(n))if((0,i.vA)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Mt(t),s=cn(r,n instanceof st?n:st.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),s,o)}else{const n=ln(r,Mt(t));l=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const A=ge(n);if(".priority"===A){(0,i.vA)(1===pe(n),"Can't have a priority with additional path components");const s=a.getNode();c=t.serverCache.getNode();const o=An(r,n,s,c);l=null!=o?e.filter.updatePriority(s,o):a.getNode()}else{const i=me(n);let u;if(a.isCompleteForChild(A)){c=t.serverCache.getNode();const e=An(r,n,a.getNode(),c);u=null!=e?a.getNode().getImmediateChild(A).updateChild(i,e):a.getNode().getImmediateChild(A)}else u=hn(r,A,t.serverCache);l=null!=u?e.filter.updateChild(a.getNode(),A,u,i,s,o):a.getNode()}}return Ot(t,l,a.isFullyInitialized()||be(n),e.filter.filtersNodes())}}function xn(e,t,n,r,s,i,o,a){const l=t.serverCache;let c;const A=o?e.filter:e.filter.getIndexedFilter();if(be(n))c=A.updateFullNode(l.getNode(),r,null);else if(A.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=A.updateFullNode(l.getNode(),e,null)}else{const e=ge(n);if(!l.isCompleteForPath(n)&&pe(n)>1)return t;const s=me(n),i=l.getNode().getImmediateChild(e).updateChild(s,r);c=".priority"===e?A.updatePriority(l.getNode(),i):A.updateChild(l.getNode(),e,i,s,mn,null)}const u=Rt(t,c,l.isFullyInitialized()||be(n),A.filtersNodes());return wn(e,u,n,s,new yn(s,u,i),a)}function bn(e,t,n,r,s,i,o){const a=t.eventCache;let l,c;const A=new yn(s,t,i);if(be(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Ot(t,c,!0,e.filter.filtersNodes());else{const s=ge(n);if(".priority"===s)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ot(t,c,a.isFullyInitialized(),a.isFiltered());else{const i=me(n),c=a.getNode().getImmediateChild(s);let u;if(be(i))u=r;else{const e=A.getCompleteChild(s);u=null!=e?".priority"===ye(i)&&e.getChild(we(i)).isEmpty()?e:e.updateChild(i,r):st.EMPTY_NODE}if(c.equals(u))l=t;else{l=Ot(t,e.filter.updateChild(a.getNode(),s,u,i,A,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Cn(e,t){return e.eventCache.isCompleteForChild(t)}function Bn(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function kn(e,t,n,r,s,i,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=be(n)?r:new Vt(null).setTree(n,r);const A=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(A.hasChild(n)){const l=Bn(0,t.serverCache.getNode().getImmediateChild(n),r);c=xn(e,c,new he(n),l,s,i,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!A.hasChild(n)&&!l){const l=Bn(0,t.serverCache.getNode().getImmediateChild(n),r);c=xn(e,c,new he(n),l,s,i,o,a)}}),c}class En{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new ft(n.getIndex()),s=(i=n).loadsAllData()?new ft(i.getIndex()):i.hasLimit()?new pt(i):new gt(i);var i;this.processor_=function(e){return{filter:e}}(s);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(st.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(st.EMPTY_NODE,a.getNode(),null),A=new Lt(l,o.isFullyInitialized(),r.filtersNodes()),u=new Lt(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Qt(u,A),this.eventGenerator_=new Ut(this.query_)}get query(){return this.query_}}function Nn(e,t){const n=Mt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!be(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function Sn(e){return 0===e.eventRegistrations_.length}function _n(e,t,n){const r=[];if(n){(0,i.vA)(null==t,"A cancel should cancel all event registrations.");const s=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,s);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const s=e.eventRegistrations_[r];if(s.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(s)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Fn(e,t,n,r){t.type===St.MERGE&&null!==t.source.queryId&&((0,i.vA)(Mt(e.viewCache_),"We should always have a full cache before handling merges"),(0,i.vA)(Dt(e.viewCache_),"Missing event cache, even though we have a server cache"));const s=e.viewCache_,o=vn(e.processor_,s,t,n,r);var a,l;return a=e.processor_,l=o.viewCache,(0,i.vA)(l.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,i.vA)(l.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),(0,i.vA)(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,In(e,o.changes,o.viewCache.eventCache.getNode(),null)}function In(e,t,n,r){const s=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const s=[],i=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Pt(e,s,"child_removed",t,r,n),Pt(e,s,"child_added",t,r,n),Pt(e,s,"child_moved",i,r,n),Pt(e,s,"child_changed",t,r,n),Pt(e,s,"value",t,r,n),s}(e.eventGenerator_,t,n,s)}let Tn,jn;class Ln{constructor(){this.views=new Map}}function Un(e,t,n,r){const s=t.source.queryId;if(null!==s){const o=e.views.get(s);return(0,i.vA)(null!=o,"SyncTree gave us an op for an invalid query."),Fn(o,t,n,r)}{let s=[];for(const i of e.views.values())s=s.concat(Fn(i,t,n,r));return s}}function Pn(e,t,n,r,s){const i=t._queryIdentifier,o=e.views.get(i);if(!o){let e=ln(n,s?r:null),i=!1;e?i=!0:r instanceof st?(e=cn(n,r),i=!1):(e=st.EMPTY_NODE,i=!1);const o=Qt(new Lt(e,i,!1),new Lt(r,s,!1));return new En(t,o)}return o}function Qn(e,t,n,r,s,i){const o=Pn(e,t,r,s,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Xe,(e,t)=>{r.push(ut(e,t))});return n.isFullyInitialized()&&r.push(At(n.getNode())),In(e,r,n.getNode(),t)}(o,n)}function On(e,t,n,r){const s=t._queryIdentifier,o=[];let a=[];const l=Vn(e);if("default"===s)for(const[i,c]of e.views.entries())a=a.concat(_n(c,n,r)),Sn(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(s);t&&(a=a.concat(_n(t,n,r)),Sn(t)&&(e.views.delete(s),t.query._queryParams.loadsAllData()||o.push(t.query)))}return l&&!Vn(e)&&o.push(new((0,i.vA)(Tn,"Reference.ts has not been loaded"),Tn)(t._repo,t._path)),{removed:o,events:a}}function Rn(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Dn(e,t){let n=null;for(const r of e.views.values())n=n||Nn(r,t);return n}function Mn(e,t){if(t._queryParams.loadsAllData())return Kn(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Hn(e,t){return null!=Mn(e,t)}function Vn(e){return null!=Kn(e)}function Kn(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let qn=1;class zn{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Vt(null),this.pendingWriteTree_={visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wn(e,t,n,r,s){return function(e,t,n,r,s){(0,i.vA)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(e.visibleWrites=qt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,s),s?nr(e,new Tt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Gn(e,t,n,r){!function(e,t,n,r){(0,i.vA)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=zt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const s=Vt.fromObject(n);return nr(e,new jt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,s))}function Jn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(nn(e.pendingWriteTree_,t)){let t=new Vt(null);return null!=r.snap?t=t.set(fe(),!0):P(r.children,e=>{t=t.set(new he(e),!0)}),nr(e,new Ft(r.path,t,n))}return[]}function Xn(e,t,n){return nr(e,new Tt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Yn(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=t._path,o=e.syncPointTree_.get(i);let a=[];if(o&&("default"===t._queryIdentifier||Hn(o,t))){const l=On(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),s=e.syncPointTree_.findOnPath(i,(e,t)=>Vn(t));if(n&&!s){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Vn(t)){return[Kn(t)]}{let e=[];return t&&(e=Rn(t)),P(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],s=r.query,i=ir(e,r);e.listenProvider_.startListening(ur(s),or(e,s),i.hashFn,i.onComplete)}}}if(!s&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(ur(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(ar(t));e.listenProvider_.stopListening(ur(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=ar(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Zn(e,t,n,r){const s=lr(e,r);if(null!=s){const r=cr(s),i=r.path,o=r.queryId,a=Ce(i,t);return Ar(e,i,new Tt(_t(o),a,n))}return[]}function $n(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(s,(e,t)=>{const n=Ce(e,s);o=o||Dn(t,n),a=a||Vn(t)});let l,c=e.syncPointTree_.get(s);if(c?(a=a||Vn(c),o=o||Dn(c,fe())):(c=new Ln,e.syncPointTree_=e.syncPointTree_.set(s,c)),null!=o)l=!0;else{l=!1,o=st.EMPTY_NODE;e.syncPointTree_.subtree(s).foreachChild((e,t)=>{const n=Dn(t,fe());n&&(o=o.updateImmediateChild(e,n))})}const A=Hn(c,t);if(!A&&!t._queryParams.loadsAllData()){const n=ar(t);(0,i.vA)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=qn++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Qn(c,t,n,tn(e.pendingWriteTree_,s),o,l);if(!A&&!a&&!r){const n=Mn(c,t);u=u.concat(function(e,t,n){const r=t._path,s=or(e,t),o=ir(e,n),a=e.listenProvider_.startListening(ur(t),s,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(r);if(s)(0,i.vA)(!Vn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const t=l.fold((e,t,n)=>{if(!be(e)&&t&&Vn(t))return[Kn(t).query];{let e=[];return t&&(e=e.concat(Rn(t).map(e=>e.query))),P(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(ur(r),or(e,r))}}return a}(e,t,n))}return u}function er(e,t,n){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Dn(n,Ce(e,t));if(r)return r});return an(r,t,s,n,!0)}function tr(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const s=Ce(e,n);r=r||Dn(t,s)});let s=e.syncPointTree_.get(n);s?r=r||Dn(s,fe()):(s=new Ln,e.syncPointTree_=e.syncPointTree_.set(n,s));const i=null!=r,o=i?new Lt(r,!0,!1):null;return function(e){return Dt(e.viewCache_)}(Pn(s,t,tn(e.pendingWriteTree_,t._path),i?o.getNode():st.EMPTY_NODE,i))}function nr(e,t){return rr(t,e.syncPointTree_,null,tn(e.pendingWriteTree_,fe()))}function rr(e,t,n,r){if(be(e.path))return sr(e,t,n,r);{const s=t.get(fe());null==n&&null!=s&&(n=Dn(s,fe()));let i=[];const o=ge(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=fn(r,o);i=i.concat(rr(a,l,e,t))}return s&&(i=i.concat(Un(s,e,r,n))),i}}function sr(e,t,n,r){const s=t.get(fe());null==n&&null!=s&&(n=Dn(s,fe()));let i=[];return t.children.inorderTraversal((t,s)=>{const o=n?n.getImmediateChild(t):null,a=fn(r,t),l=e.operationForChild(t);l&&(i=i.concat(sr(l,s,o,a)))}),s&&(i=i.concat(Un(s,e,r,n))),i}function ir(e,t){const n=t.query,r=or(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=lr(e,n);if(r){const n=cr(r),s=n.path,i=n.queryId,o=Ce(s,t);return Ar(e,s,new It(_t(i),o))}return[]}(e,n._path,r):function(e,t){return nr(e,new It({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Yn(e,n,null,r)}}}}function or(e,t){const n=ar(t);return e.queryToTagMap.get(n)}function ar(e){return e._path.toString()+"$"+e._queryIdentifier}function lr(e,t){return e.tagToQueryMap.get(t)}function cr(e){const t=e.indexOf("$");return(0,i.vA)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new he(e.substr(0,t))}}function Ar(e,t,n){const r=e.syncPointTree_.get(t);(0,i.vA)(r,"Missing sync point for query tag that we're tracking");return Un(r,n,tn(e.pendingWriteTree_,t),null)}function ur(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,i.vA)(jn,"Reference.ts has not been loaded"),jn)(e._repo,e._path):e}class dr{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new dr(t)}node(){return this.node_}}class hr{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=xe(this.path_,e);return new hr(this.syncTree_,t)}node(){return er(this.syncTree_,this.path_)}}const fr=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},gr=function(e,t,n){return e&&"object"===typeof e?((0,i.vA)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?pr(e[".sv"],t,n):"object"===typeof e[".sv"]?mr(e[".sv"],t):void(0,i.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},pr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,i.vA)(!1,"Unexpected server value: "+e)},mr=function(e,t,n){e.hasOwnProperty("increment")||(0,i.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&(0,i.vA)(!1,"Unexpected increment value: "+r);const s=t.node();if((0,i.vA)(null!==s&&"undefined"!==typeof s,"Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return"number"!==typeof o?r:o+r},yr=function(e,t,n,r){return wr(t,new hr(n,e),r)},vr=function(e,t,n){return wr(e,new dr(t),n)};function wr(e,t,n){const r=e.getPriority().val(),s=gr(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=gr(r.getValue(),t,n);return i!==r.getValue()||s!==r.getPriority().val()?new Je(i,at(s)):e}{const r=e;return i=r,s!==r.getPriority().val()&&(i=i.updatePriority(new Je(s))),r.forEachChild(Xe,(e,r)=>{const s=wr(r,t.getImmediateChild(e),n);s!==r&&(i=i.updateImmediateChild(e,s))}),i}}class xr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function br(e,t){let n=t instanceof he?t:new he(t),r=e,s=ge(n);for(;null!==s;){const e=(0,i.yw)(r.node.children,s)||{children:{},childCount:0};r=new xr(s,r,e),n=me(n),s=ge(n)}return r}function Cr(e){return e.node.value}function Br(e,t){e.node.value=t,_r(e)}function kr(e){return e.node.childCount>0}function Er(e,t){P(e.node.children,(n,r)=>{t(new xr(n,e,r))})}function Nr(e,t,n,r){n&&!r&&t(e),Er(e,e=>{Nr(e,t,!0,r)}),n&&r&&t(e)}function Sr(e){return new he(null===e.parent?e.name:Sr(e.parent)+"/"+e.name)}function _r(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Cr(e)&&!kr(e)}(n),s=(0,i.gR)(e.node.children,t);r&&s?(delete e.node.children[t],e.node.childCount--,_r(e)):r||s||(e.node.children[t]=n.node,e.node.childCount++,_r(e))}(e.parent,e.name,e)}const Fr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ir=/[\[\].#$\u0000-\u001F\u007F]/,Tr=10485760,jr=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},Lr=function(e){return"string"===typeof e&&0!==e.length&&!Ir.test(e)},Ur=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!S(e)||e&&"object"===typeof e&&(0,i.gR)(e,".sv")},Pr=function(e,t,n,r){r&&void 0===t||Qr((0,i.dI)(e,"value"),t,n)},Qr=function(e,t,n){const r=n instanceof he?new Ne(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+_e(r));if("function"===typeof t)throw new Error(e+"contains a function "+_e(r)+" with contents = "+t.toString());if(S(t))throw new Error(e+"contains "+t.toString()+" "+_e(r));if("string"===typeof t&&t.length>Tr/3&&(0,i.OE)(t)>Tr)throw new Error(e+"contains a string greater than "+Tr+" utf8 bytes "+_e(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,s=!1;if(P(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(s=!0,!jr(t)))throw new Error(e+" contains an invalid key ("+t+") "+_e(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,i.OE)(t),Se(e)}(r,t),Qr(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,i.OE)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&s)throw new Error(e+' contains ".value" child '+_e(r)+" in addition to actual children.")}},Or=function(e,t,n,r){if(r&&void 0===t)return;const s=(0,i.dI)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(s+" must be an object containing the children to replace.");const o=[];P(t,(e,t)=>{const r=new he(e);if(Qr(s,t,xe(n,r)),".priority"===ye(r)&&!Ur(t))throw new Error(s+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=ve(r);for(let t=0;t<s.length;t++)if(".priority"===s[t]&&t===s.length-1);else if(!jr(s[t]))throw new Error(e+"contains an invalid key ("+s[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Be);let s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&Ee(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,o)},Rr=function(e,t,n){if(!n||void 0!==t){if(S(t))throw new Error((0,i.dI)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ur(t))throw new Error((0,i.dI)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dr=function(e,t,n,r){if((!r||void 0!==n)&&!Lr(n))throw new Error((0,i.dI)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Mr=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Dr(e,t,n,r)},Hr=function(e,t){if(".info"===ge(t))throw new Error(e+" failed = Can't modify data under /.info/")},Vr=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!jr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Lr(e)}(n))throw new Error((0,i.dI)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Kr{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qr(e,t){let n=null;for(let r=0;r<t.length;r++){const s=t[r],i=s.getPath();null===n||ke(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(s)}n&&e.eventLists_.push(n)}function zr(e,t,n){qr(e,n),Gr(e,e=>ke(e,t))}function Wr(e,t,n){qr(e,n),Gr(e,e=>Ee(e,t)||Ee(t,e))}function Gr(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const s=e.eventLists_[r];if(s){t(s.path)?(Jr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Jr(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();w&&C("event: "+n.toString()),D(r)}}}const Xr="repo_interrupt",Yr=25;class Zr{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bt(),this.transactionQueueTree_=new xr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $r(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new wt(e.repoInfo_,(t,n,r,s)=>{ns(e,t,n,r,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>rs(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,i.As)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Te(e.repoInfo_,t,(t,n,r,s)=>{ns(e,t,n,r,s)},t=>{rs(e,t)},t=>{!function(e,t){P(t,(t,n)=>{ss(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,()=>new Nt(e.stats_,e.server_)),e.infoData_=new xt,e.infoSyncTree_=new zn({startListening:(t,n,r,s)=>{let i=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(i=Xn(e.infoSyncTree_,t._path,o),setTimeout(()=>{s("ok")},0)),i},stopListening:()=>{}}),ss(e,"connected",!1),e.serverSyncTree_=new zn({startListening:(t,n,r,s)=>(e.server_.listen(t,r,n,(n,r)=>{const i=s(n,r);Wr(e.eventQueue_,t._path,i)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function es(e){const t=e.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ts(e){return fr({timestamp:es(e)})}function ns(e,t,n,r,s){e.dataUpdateCount++;const o=new he(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(s)if(r){const t=(0,i.kH)(n,e=>at(e));a=function(e,t,n,r){const s=lr(e,r);if(s){const r=cr(s),i=r.path,o=r.queryId,a=Ce(i,t),l=Vt.fromObject(n);return Ar(e,i,new jt(_t(o),a,l))}return[]}(e.serverSyncTree_,o,t,s)}else{const t=at(n);a=Zn(e.serverSyncTree_,o,t,s)}else if(r){const t=(0,i.kH)(n,e=>at(e));a=function(e,t,n){const r=Vt.fromObject(n);return nr(e,new jt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=at(n);a=Xn(e.serverSyncTree_,o,t)}let l=o;a.length>0&&(l=gs(e,o)),Wr(e.eventQueue_,l,a)}function rs(e,t){ss(e,"connected",t),!1===t&&function(e){us(e,"onDisconnectEvents");const t=ts(e),n=bt();kt(e.onDisconnect_,fe(),(r,s)=>{const i=yr(r,s,e.serverSyncTree_,t);Ct(n,r,i)});let r=[];kt(n,fe(),(t,n)=>{r=r.concat(Xn(e.serverSyncTree_,t,n));const s=ws(e,t);gs(e,s)}),e.onDisconnect_=bt(),Wr(e.eventQueue_,fe(),r)}(e)}function ss(e,t,n){const r=new he("/.info/"+t),s=at(n);e.infoData_.updateSnapshot(r,s);const i=Xn(e.infoSyncTree_,r,s);Wr(e.eventQueue_,r,i)}function is(e){return e.nextWriteId_++}function os(e,t,n,r,s){us(e,"set",{path:t.toString(),value:n,priority:r});const i=ts(e),o=at(n,r),a=er(e.serverSyncTree_,t),l=vr(o,a,i),c=is(e),A=Wn(e.serverSyncTree_,t,l,c,!0);qr(e.eventQueue_,A),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const i="ok"===n;i||N("set at "+t+" failed: "+n);const o=Jn(e.serverSyncTree_,c,!i);Wr(e.eventQueue_,t,o),ds(e,s,n,r)});const u=ws(e,t);gs(e,u),Wr(e.eventQueue_,u,[])}function as(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,s)=>{"ok"===r&&Bt(e.onDisconnect_,t),ds(e,n,r,s)})}function ls(e,t,n,r){const s=at(n);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,i)=>{"ok"===n&&Ct(e.onDisconnect_,t,s),ds(e,r,n,i)})}function cs(e,t,n){let r;r=".info"===ge(t._path)?Yn(e.infoSyncTree_,t,n):Yn(e.serverSyncTree_,t,n),zr(e.eventQueue_,t._path,r)}function As(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Xr)}function us(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];C(t,...r)}function ds(e,t,n,r){t&&D(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let s=e;r&&(s+=": "+r);const i=new Error(s);i.code=e,t(i)}})}function hs(e,t,n){return er(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function fs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||vs(e,t),Cr(t)){const n=ms(e,t);(0,i.vA)(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),s=hs(e,t,r);let o=s;const a=s.hash();for(let A=0;A<n.length;A++){const e=n[A];(0,i.vA)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Ce(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const l=o.val(!0),c=t;e.server_.put(c.toString(),l,r=>{us(e,"transaction put response",{path:c.toString(),status:r});let s=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,s=s.concat(Jn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();vs(e,br(e.transactionQueueTree_,t)),fs(e,e.transactionQueueTree_),Wr(e.eventQueue_,t,s);for(let e=0;e<r.length;e++)D(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{N("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}gs(e,t)}},a)}(e,Sr(t),n)}else kr(t)&&Er(t,t=>{fs(e,t)})}function gs(e,t){const n=ps(e,t),r=Sr(n);return function(e,t,n){if(0===t.length)return;const r=[];let s=[];const o=t.filter(e=>0===e.status),a=o.map(e=>e.currentWriteId);for(let l=0;l<t.length;l++){const o=t[l],c=Ce(n,o.path);let A,u=!1;if((0,i.vA)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,A=o.abortReason,s=s.concat(Jn(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=Yr)u=!0,A="maxretry",s=s.concat(Jn(e.serverSyncTree_,o.currentWriteId,!0));else{const n=hs(e,o.path,a);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Qr("transaction failed: Data returned ",r,o.path);let t=at(r);"object"===typeof r&&null!=r&&(0,i.gR)(r,".priority")||(t=t.updatePriority(n.getPriority()));const l=o.currentWriteId,c=ts(e),A=vr(t,n,c);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=A,o.currentWriteId=is(e),a.splice(a.indexOf(l),1),s=s.concat(Wn(e.serverSyncTree_,o.path,A,o.currentWriteId,o.applyLocally)),s=s.concat(Jn(e.serverSyncTree_,l,!0))}else u=!0,A="nodata",s=s.concat(Jn(e.serverSyncTree_,o.currentWriteId,!0))}Wr(e.eventQueue_,n,s),s=[],u&&(t[l].status=2,function(e){setTimeout(e,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&("nodata"===A?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(A),!1,null))))}vs(e,e.transactionQueueTree_);for(let i=0;i<r.length;i++)D(r[i]);fs(e,e.transactionQueueTree_)}(e,ms(e,n),r),r}function ps(e,t){let n,r=e.transactionQueueTree_;for(n=ge(t);null!==n&&void 0===Cr(r);)r=br(r,n),n=ge(t=me(t));return r}function ms(e,t){const n=[];return ys(e,t,n),n.sort((e,t)=>e.order-t.order),n}function ys(e,t,n){const r=Cr(t);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Er(t,t=>{ys(e,t,n)})}function vs(e,t){const n=Cr(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Br(t,n.length>0?n:void 0)}Er(t,t=>{vs(e,t)})}function ws(e,t){const n=Sr(ps(e,t)),r=br(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{xs(e,t)}),xs(e,r),Nr(r,t=>{xs(e,t)}),n}function xs(e,t){const n=Cr(t);if(n){const r=[];let s=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,i.vA)(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):((0,i.vA)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),s=s.concat(Jn(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Br(t,void 0):n.length=o+1,Wr(e.eventQueue_,Sr(t),s);for(let e=0;e<r.length;e++)D(r[e])}}const bs=function(e,t){const n=Cs(e),r=n.namespace;"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&N("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const s="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,s,t,"",r!==n.subdomain),path:new he(n.pathString)}},Cs=function(e){let t="",n="",r="",s="",i="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let A=e.indexOf("/");-1===A&&(A=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(A,u)),A<u&&(s=function(e){let t="";const n=e.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let e=n[s];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(A,u)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):N("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,u)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in d&&(i=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}},Bs="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ks=function(){let e=0;const t=[];return function(n){const r=n===e;let s;e=n;const o=new Array(8);for(s=7;s>=0;s--)o[s]=Bs.charAt(n%64),n=Math.floor(n/64);(0,i.vA)(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(s=11;s>=0&&63===t[s];s--)t[s]=0;t[s]++}else for(s=0;s<12;s++)t[s]=Math.floor(64*Math.random());for(s=0;s<12;s++)a+=Bs.charAt(t[s]);return(0,i.vA)(20===a.length,"nextPushId: Length should be 20."),a}}();class Es{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,i.As)(this.snapshot.exportVal())}}class Ns{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ss{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,i.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class _s{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new i.cY;return as(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Hr("OnDisconnect.remove",this._path);const e=new i.cY;return ls(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Hr("OnDisconnect.set",this._path),Pr("OnDisconnect.set",e,this._path,!1);const t=new i.cY;return ls(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Hr("OnDisconnect.setWithPriority",this._path),Pr("OnDisconnect.setWithPriority",e,this._path,!1),Rr("OnDisconnect.setWithPriority",t,!1);const n=new i.cY;return function(e,t,n,r,s){const i=at(n,r);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,r)=>{"ok"===n&&Ct(e.onDisconnect_,t,i),ds(0,s,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){Hr("OnDisconnect.update",this._path),Or("OnDisconnect.update",e,this._path,!1);const t=new i.cY;return function(e,t,n,r){if((0,i.Im)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void ds(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(s,i)=>{"ok"===s&&P(n,(n,r)=>{const s=at(r);Ct(e.onDisconnect_,xe(t,n),s)}),ds(0,r,s,i)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Fs{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return be(this._path)?null:ye(this._path)}get ref(){return new Is(this._repo,this._path)}get _queryIdentifier(){const e=vt(this._queryParams),t=L(e);return"{}"===t?"default":t}get _queryObject(){return vt(this._queryParams)}isEqual(e){if(!((e=(0,i.Ku)(e))instanceof Fs))return!1;const t=this._repo===e._repo,n=ke(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Is extends Fs{constructor(e,t){super(e,t,new mt,!1)}get parent(){const e=we(this._path);return null===e?null:new Is(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ts{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new he(e),n=Ls(this.ref,e);return new Ts(this._node.getChild(t),n,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Ts(n,Ls(this.ref,t),Xe)))}hasChild(e){const t=new he(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function js(e,t){return(e=(0,i.Ku)(e))._checkNotDeleted("ref"),void 0!==t?Ls(e._root,t):e._root}function Ls(e,t){return null===ge((e=(0,i.Ku)(e))._path)?Mr("child","path",t,!1):Dr("child","path",t,!1),new Is(e._repo,xe(e._path,t))}function Us(e){return e=(0,i.Ku)(e),new _s(e._repo,e._path)}function Ps(e,t){e=(0,i.Ku)(e),Hr("push",e._path),Pr("push",t,e._path,!0);const n=es(e._repo),r=ks(n),s=Ls(e,r),o=Ls(e,r);let a;return a=null!=t?Os(o,t).then(()=>o):Promise.resolve(o),s.then=a.then.bind(a),s.catch=a.then.bind(a,void 0),s}function Qs(e){return Hr("remove",e._path),Os(e,null)}function Os(e,t){e=(0,i.Ku)(e),Hr("set",e._path),Pr("set",t,e._path,!1);const n=new i.cY;return os(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Rs(e,t){Or("update",t,e._path,!1);const n=new i.cY;return function(e,t,n,r){us(e,"update",{path:t.toString(),value:n});let s=!0;const i=ts(e),o={};if(P(n,(n,r)=>{s=!1,o[n]=yr(xe(t,n),at(r),e.serverSyncTree_,i)}),s)C("update() called with empty data.  Don't do anything."),ds(0,r,"ok",void 0);else{const s=is(e),i=Gn(e.serverSyncTree_,t,o,s);qr(e.eventQueue_,i),e.server_.merge(t.toString(),n,(n,i)=>{const o="ok"===n;o||N("update at "+t+" failed: "+n);const a=Jn(e.serverSyncTree_,s,!o),l=a.length>0?gs(e,t):t;Wr(e.eventQueue_,l,a),ds(0,r,n,i)}),P(n,n=>{const r=ws(e,xe(t,n));gs(e,r)}),Wr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Ds(e){e=(0,i.Ku)(e);const t=new Ss(()=>{}),n=new Ms(t);return function(e,t,n){const r=tr(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const s=at(r).withIndex(t._queryParams.getIndex());let i;if($n(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Xn(e.serverSyncTree_,t._path,s);else{const n=or(e.serverSyncTree_,t);i=Zn(e.serverSyncTree_,t._path,s,n)}return Wr(e.eventQueue_,t._path,i),Yn(e.serverSyncTree_,t,n,null,!0),s},n=>(us(e,"get for query "+(0,i.As)(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new Ts(t,new Is(e._repo,e._path),e._queryParams.getIndex()))}class Ms{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Es("value",this,new Ts(e.snapshotNode,new Is(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ns(this,e,t):null}matches(e){return e instanceof Ms&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Hs{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Ns(this,e,t):null}createEvent(e,t){(0,i.vA)(null!=e.childName,"Child events should have a childName.");const n=Ls(new Is(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Es(e.type,this,new Ts(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Hs&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Vs(e,t,n,r,s){let i;if("object"===typeof r&&(i=void 0,s=r),"function"===typeof r&&(i=r),s&&s.onlyOnce){const t=n,r=(n,r)=>{cs(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Ss(n,i||void 0),a="value"===t?new Ms(o):new Hs(t,o);return function(e,t,n){let r;r=".info"===ge(t._path)?$n(e.infoSyncTree_,t,n):$n(e.serverSyncTree_,t,n),zr(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>cs(e._repo,e,a)}function Ks(e,t,n,r){return Vs(e,"value",t,n,r)}function qs(e,t,n){let r=null;const s=n?new Ss(n):null;"value"===t?r=new Ms(s):t&&(r=new Hs(t,s)),cs(e._repo,e,r)}!function(e){(0,i.vA)(!Tn,"__referenceConstructor has already been defined"),Tn=e}(Is),function(e){(0,i.vA)(!jn,"__referenceConstructor has already been defined"),jn=e}(Is);const zs={};let Ws=!1;function Gs(e,t,n,r,s){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",e.options.projectId),i="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=bs(i,s),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,i="http://".concat(a,"?ns=").concat(c.namespace),l=bs(i,s),c=l.repoInfo):o=!l.repoInfo.secure;const A=s&&o?new K(K.OWNER):new V(e.name,e.options,t);Vr("Invalid Firebase Database URL",l),be(l.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,n,r){let s=zs[t.name];s||(s={},zs[t.name]=s);let i=s[e.toURLString()];i&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new Zr(e,Ws,n,r),s[e.toURLString()]=i,i}(c,e,A,new H(e,n));return new Js(u,e)}class Js{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($r(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Is(this._repo,fe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=zs[t];n&&n[e.key]===e||E("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),As(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&E("Cannot call "+e+" on a deleted database.")}}function Xs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;const n=(0,r.j6)(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=(0,i.yU)("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=(0,i.Ku)(e),e._checkNotDeleted("useEmulator");const s="".concat(t,":").concat(n),o=e._repoInternal;if(e._instanceStarted){if(s===e._repoInternal.repoInfo_.host&&(0,i.bD)(r,o.repoInfo_.emulatorOptions))return;E("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new K(K.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:(0,i.Fy)(r.mockUserToken,e.app.options.projectId);a=new K(t)}(0,i.zJ)(t)&&((0,i.gE)(t),(0,i.P1)("Database",!0));!function(e,t,n,r){const s=t.lastIndexOf(":"),o=t.substring(0,s),a=(0,i.zJ)(o);e.repoInfo_=new X(t,a,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,s,r,a)}(n,...e)}return n}Te.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Te.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ys;A(r.MF),(0,r.om)(new s.uA("database",(e,t)=>{let{instanceIdentifier:n}=t;return Gs(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(a,l,Ys),(0,r.KO)(a,l,"esm2017")},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,p={};function m(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=v.prototype=new y;w.constructor=v,g(w,m.prototype),w.isPureReactComponent=!0;var x=Array.isArray,b=Object.prototype.hasOwnProperty,C={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var s,i={},o=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,s)&&!B.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),A=0;A<l;A++)c[A]=arguments[A+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:a,props:i,_owner:C.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(e,t,s,i,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+S(l,0):i,x(o)?(s="",null!=e&&(s=e.replace(N,"$&/")+"/"),_(o,t,s,"",function(e){return e})):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var A=i+S(a=e[c],c);l+=_(a,t,s,A,o)}else if(A=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof A)for(e=A.call(e),c=0;!(a=e.next()).done;)l+=_(a=a.value,t,s,A=i+S(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function F(e,t,n){if(null==e)return e;var r=[],s=0;return _(e,r,"","",function(e){return t.call(n,e,s++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},j={transition:null},L={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:j,ReactCurrentOwner:C};function U(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:F,forEach:function(e,t,n){F(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return F(e,function(){t++}),t},toArray:function(e){return F(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=s,t.Profiler=o,t.PureComponent=v,t.StrictMode=i,t.Suspense=A,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=U,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=g({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)b.call(t,c)&&!B.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var A=0;A<c;A++)l[A]=arguments[A+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=U,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(816);function s(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5187:(e,t,n)=>{"use strict";n.d(t,{A:()=>f,O:()=>h});var r=n(5043),s=n(2339),i=n(458),o=n(791),a=n(3611),l=n(579);const c=(0,r.createContext)(null),A=["99220041106@klu.ac.in"],u=3e4,d=2e3,h=e=>{let{children:t}=e;const[n,h]=(0,r.useState)(null),[f,g]=(0,r.useState)(!0),[p,m]=(0,r.useState)(!0),y=r.useRef(null),v=r.useRef(null),w=r.useRef(null),x=r.useRef(null),b=r.useRef(!1),C=r.useRef(!1),B=r.useRef(null),k=r.useRef(navigator.onLine),E=(0,r.useCallback)(()=>{if(console.log("Cleaning up session listeners"),w.current&&(clearInterval(w.current),w.current=null),B.current&&(clearTimeout(B.current),B.current=null),v.current){try{v.current()}catch(e){console.warn("Error unsubscribing from session listener:",e)}v.current=null}y.current=null,x.current=null,b.current=!1,C.current=!1},[]),N=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manual";try{var r;console.log("Logging out - Auto: ".concat(e,", Reason: ").concat(t)),e||(b.current=!0),E();const l=(null===(r=o.j2.currentUser)||void 0===r?void 0:r.uid)||(null===n||void 0===n?void 0:n.uid);if(l&&x.current)try{await(0,a.TF)((0,a.KR)(o.OO,"sessions/".concat(l))),console.log("Session record removed from database")}catch(s){console.warn("Failed to remove session record:",s)}await(0,i.CI)(o.j2),h(null),e&&"manual"!==t&&S(t)}catch(s){console.error("Logout error:",s)}},[null===n||void 0===n?void 0:n.uid,E]),S=e=>{const t=document.querySelector(".session-logout-modal");t&&t.remove();const n=document.createElement("div");n.className="session-logout-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4";const r="new-login"===e?"You have been logged out because your account was signed in from another device or browser.":"session-removed"===e?"Your session was terminated by another login.":"Your session has ended.";n.innerHTML='\n      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6 relative">\n        <div class="flex items-center gap-3 mb-4">\n          <span class="text-yellow-500 text-2xl">\u26a0\ufe0f</span>\n          <h3 class="text-lg font-medium text-gray-900 dark:text-white">Session Ended</h3>\n        </div>\n        <p class="text-gray-600 dark:text-gray-300 mb-6">\n          '.concat(r,'\n        </p>\n        <div class="flex justify-end gap-2">\n          <button \n            id="modal-ok-btn"\n            class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500"\n          >\n            OK\n          </button>\n        </div>\n      </div>\n    '),document.body.appendChild(n);const s=()=>{document.body.contains(n)&&document.body.removeChild(n)},i=n.querySelector("#modal-ok-btn");null===i||void 0===i||i.addEventListener("click",s),setTimeout(s,15e3),n.addEventListener("click",e=>{e.target===n&&s()})},_=(0,r.useCallback)(async e=>{if(C.current)console.log("Session initialization already in progress");else try{C.current=!0,console.log("Initializing single session for user:",e);const t=(()=>{var e;return null!==(e=window.crypto)&&void 0!==e&&e.randomUUID?window.crypto.randomUUID():"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)})();y.current=t,x.current="sessions/".concat(e);const n=(0,a.KR)(o.OO,x.current),r={sessionId:t,createdAt:Date.now(),updatedAt:Date.now(),lastActive:Date.now(),userAgent:"undefined"!==typeof navigator?navigator.userAgent:"unknown",platform:"undefined"!==typeof navigator?navigator.platform:"unknown",language:"undefined"!==typeof navigator?navigator.language:"unknown"},s=(await(0,a.Jt)(n)).val();s&&console.log("Existing session found:",s.sessionId),await(0,a.hZ)(n,r),console.log("New session created:",t),console.log("Session will persist through network disconnections"),v.current=(0,a.Zy)(n,e=>{const t=e.val();if(!t)return console.log("Session removed from database"),void(!b.current&&k.current?(console.log("Session genuinely removed while online - logging out"),N(!0,"session-removed")):k.current||console.log("Session removed but offline - keeping user logged in"));if(t.sessionId&&t.sessionId!==y.current){console.log("Session ID changed - new login detected"),console.log("Current session:",y.current),console.log("New session:",t.sessionId);const e=Date.now()-(t.createdAt||t.updatedAt)<=d;b.current||(e||t.sessionId!==y.current?(console.log("Terminating current session due to new login"),N(!0,"new-login")):(console.log("Updating session ID to match database"),y.current=t.sessionId))}console.log("Session heartbeat received, session remains active")},e=>{console.error("Session listener error:",e),"PERMISSION_DENIED"===e.code&&(console.log("Permission denied - user may have been signed out"),N(!0,"permission-denied"))});const i=async()=>{if(!b.current&&x.current)try{await(0,a.yo)((0,a.KR)(o.OO,x.current),{lastActive:Date.now(),updatedAt:Date.now()})}catch(e){console.warn("Failed to send heartbeat:",e),"PERMISSION_DENIED"===e.code&&(console.log("Permission denied on heartbeat - logging out"),N(!0,"permission-denied"))}};await i(),w.current=setInterval(i,u),console.log("Session initialized with heartbeat. No timeout - session persists until new login detected.")}catch(t){console.error("Failed to initialize session:",t)}finally{C.current=!1}},[N]);(0,r.useEffect)(()=>{const e=()=>{console.log("Network: ONLINE"),k.current=!0},t=()=>{console.log("Network: OFFLINE"),k.current=!1};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),(0,r.useEffect)(()=>{console.log("Setting up auth state listener");const e=(0,i.hg)(o.j2,e=>{if(console.log("Auth state changed:",(null===e||void 0===e?void 0:e.uid)||"null"),e){const t={uid:e.uid,email:e.email,name:e.displayName,photoURL:e.photoURL};h(t)}else console.log("No user found, cleaning up"),h(null),E();g(!1)});return()=>{console.log("Cleaning up auth state listener"),e(),E()}},[E]),(0,r.useEffect)(()=>{if(null===n||void 0===n||!n.uid||!p||f)return;if(A.includes(n.email))return void console.log("Multi-session allowed for ".concat(n.email,". Skipping single-session enforcement."));console.log("Starting session enforcement for user:",n.uid);const e=setTimeout(()=>{_(n.uid)},100);return()=>{clearTimeout(e),E()}},[null===n||void 0===n?void 0:n.uid,p,f,_,E]);(0,r.useEffect)(()=>()=>{E()},[E]);const F={user:n,loading:f,googleSignIn:async()=>{try{console.log("Starting Google sign-in");const e=new i.HF;e.addScope("profile"),e.addScope("email");const t=await(0,i.df)(o.j2,e);return await(0,a.hZ)((0,a.KR)(o.OO,"users/".concat(t.user.uid)),{email:t.user.email,name:t.user.displayName,profilePhoto:t.user.photoURL,lastLogin:Date.now(),provider:"google"}),console.log("Google sign-in successful"),s.oR.success("Signed in successfully!"),t.user}catch(e){throw console.error("Google sign-in error:",e),"auth/popup-closed-by-user"===e.code?s.oR.error("Sign-in was cancelled"):"auth/popup-blocked"===e.code?s.oR.error("Pop-up was blocked. Please allow pop-ups and try again."):s.oR.error("Failed to sign in. Please try again."),e}},logout:function(){return N(arguments.length>0&&void 0!==arguments[0]&&arguments[0],"manual")},login:async e=>{let{email:t,password:n}=e;throw new Error("Email/password login not implemented yet")},sessionEnforced:p,setSessionEnforced:m};return(0,l.jsx)(c.Provider,{value:F,children:!f&&t})},f=()=>{const e=(0,r.useContext)(c);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}},5200:(e,t,n)=>{"use strict";n.d(t,{A3x:()=>o,B88:()=>L,CKj:()=>F,DQs:()=>S,F5$:()=>v,GGD:()=>N,IXo:()=>j,JXP:()=>P,K7R:()=>p,Ohp:()=>A,PjK:()=>u,QPV:()=>m,Qnk:()=>C,Rrl:()=>B,SG1:()=>f,VSk:()=>I,Vap:()=>g,WXf:()=>h,Wh$:()=>T,Wm:()=>y,YrT:()=>a,a4x:()=>d,cKW:()=>M,cfS:()=>Q,dUr:()=>w,eHT:()=>i,fOo:()=>c,hkc:()=>E,irw:()=>l,jTZ:()=>_,mkN:()=>b,o77:()=>D,pHD:()=>x,pVQ:()=>R,q4P:()=>O,q_G:()=>H,ufi:()=>k,vq3:()=>U,yGN:()=>V,z1n:()=>s});var r=n(3441);function s(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function i(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function o(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function a(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function l(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function c(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function A(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function u(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(e)}function d(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function h(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function f(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function g(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function p(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function m(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function y(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function v(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function w(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function x(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function b(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"polyline",attr:{points:"9 21 3 21 3 15"},child:[]},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(e)}function C(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]},{tag:"path",attr:{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"},child:[]},{tag:"path",attr:{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(e)}function B(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"8",y1:"23",x2:"16",y2:"23"},child:[]}]})(e)}function k(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(e)}function E(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function N(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function S(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]},{tag:"path",attr:{d:"M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"},child:[]}]})(e)}function _(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function F(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function I(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function T(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function j(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function L(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function U(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function P(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Q(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function O(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function R(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(e)}function D(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"path",attr:{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"},child:[]}]})(e)}function M(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"},child:[]},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"},child:[]},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"},child:[]}]})(e)}function H(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function V(e){return(0,r.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};function r(e,t,n,r){function s(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function o(e){try{l(r.next(e))}catch(Qt){i(Qt)}}function a(e){try{l(r.throw(e))}catch(Qt){i(Qt)}}function l(e){e.done?n(e.value):s(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(Qt){i=[6,Qt],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function i(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),a=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,s)},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&s)<<10)+(1023&i)+65536):(t.push(s),n--)}else t.push(s)}return t},A=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=e[s];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"===typeof Uint8Array?[]:new Uint8Array(256),p=0;p<f.length;p++)g[f.charCodeAt(p)]=p;for(var m=function(e){var t,n,r,s,i,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),A=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<a;t+=4)n=g[e.charCodeAt(t)],r=g[e.charCodeAt(t+1)],s=g[e.charCodeAt(t+2)],i=g[e.charCodeAt(t+3)],A[l++]=n<<2|r>>4,A[l++]=(15&r)<<4|s>>2,A[l++]=(3&s)<<6|63&i;return c},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},w=5,x=11,b=2,C=65536>>w,B=(1<<w)-1,k=C+(1024>>w)+32,E=65536>>x,N=(1<<x-w)-1,S=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},_=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},F=function(e,t){var n=m(e),r=Array.isArray(n)?v(n):new Uint32Array(n),s=Array.isArray(n)?y(n):new Uint16Array(n),i=24,o=S(s,i/2,r[4]/2),a=2===r[5]?S(s,(i+r[4])/2):_(r,Math.ceil((i+r[4])/4));return new I(r[0],r[1],r[2],r[3],o,a)},I=function(){function e(e,t,n,r,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>w])<<b)+(e&B),this.data[t];if(e<=65535)return t=((t=this.index[C+(e-55296>>w)])<<b)+(e&B),this.data[t];if(e<this.highStart)return t=k-E+(e>>x),t=this.index[t],t+=e>>w&N,t=((t=this.index[t])<<b)+(e&B),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j="undefined"===typeof Uint8Array?[]:new Uint8Array(256),L=0;L<T.length;L++)j[T.charCodeAt(L)]=L;var U=50,P=1,Q=2,O=3,R=4,D=5,M=7,H=8,V=9,K=10,q=11,z=12,W=13,G=14,J=15,X=16,Y=17,Z=18,$=19,ee=20,te=21,ne=22,re=23,se=24,ie=25,oe=26,ae=27,le=28,ce=29,Ae=30,ue=31,de=32,he=33,fe=34,ge=35,pe=36,me=37,ye=38,ve=39,we=40,xe=41,be=42,Ce=43,Be=[9001,65288],ke="!",Ee="\xd7",Ne="\xf7",Se=F("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),_e=[Ae,pe],Fe=[P,Q,O,D],Ie=[K,H],Te=[ae,oe],je=Fe.concat(Ie),Le=[ye,ve,we,fe,ge],Ue=[J,W],Pe=function(e,t){void 0===t&&(t="strict");var n=[],r=[],s=[];return e.forEach(function(e,i){var o=Se.get(e);if(o>U?(s.push(!0),o-=U):s.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(i),n.push(X);if(o===R||o===q){if(0===i)return r.push(i),n.push(Ae);var a=n[i-1];return-1===je.indexOf(a)?(r.push(r[i-1]),n.push(a)):(r.push(i),n.push(Ae))}return r.push(i),o===ue?n.push("strict"===t?te:me):o===be||o===ce?n.push(Ae):o===Ce?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(Ae):void n.push(o)}),[r,n,s]},Qe=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var i=n;i<=r.length;){if((l=r[++i])===t)return!0;if(l!==K)break}if(s===K)for(i=n;i>0;){var o=r[--i];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var a=n;a<=r.length;){var l;if((l=r[++a])===t)return!0;if(l!==K)break}if(o!==K)break}return!1},Oe=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==K)return r;n--}return 0},Re=function(e,t,n,r,s){if(0===n[r])return Ee;var i=r-1;if(Array.isArray(s)&&!0===s[i])return Ee;var o=i-1,a=i+1,l=t[i],c=o>=0?t[o]:0,A=t[a];if(l===Q&&A===O)return Ee;if(-1!==Fe.indexOf(l))return ke;if(-1!==Fe.indexOf(A))return Ee;if(-1!==Ie.indexOf(A))return Ee;if(Oe(i,t)===H)return Ne;if(Se.get(e[i])===q)return Ee;if((l===de||l===he)&&Se.get(e[a])===q)return Ee;if(l===M||A===M)return Ee;if(l===V)return Ee;if(-1===[K,W,J].indexOf(l)&&A===V)return Ee;if(-1!==[Y,Z,$,se,le].indexOf(A))return Ee;if(Oe(i,t)===ne)return Ee;if(Qe(re,ne,i,t))return Ee;if(Qe([Y,Z],te,i,t))return Ee;if(Qe(z,z,i,t))return Ee;if(l===K)return Ne;if(l===re||A===re)return Ee;if(A===X||l===X)return Ne;if(-1!==[W,J,te].indexOf(A)||l===G)return Ee;if(c===pe&&-1!==Ue.indexOf(l))return Ee;if(l===le&&A===pe)return Ee;if(A===ee)return Ee;if(-1!==_e.indexOf(A)&&l===ie||-1!==_e.indexOf(l)&&A===ie)return Ee;if(l===ae&&-1!==[me,de,he].indexOf(A)||-1!==[me,de,he].indexOf(l)&&A===oe)return Ee;if(-1!==_e.indexOf(l)&&-1!==Te.indexOf(A)||-1!==Te.indexOf(l)&&-1!==_e.indexOf(A))return Ee;if(-1!==[ae,oe].indexOf(l)&&(A===ie||-1!==[ne,J].indexOf(A)&&t[a+1]===ie)||-1!==[ne,J].indexOf(l)&&A===ie||l===ie&&-1!==[ie,le,se].indexOf(A))return Ee;if(-1!==[ie,le,se,Y,Z].indexOf(A))for(var u=i;u>=0;){if((d=t[u])===ie)return Ee;if(-1===[le,se].indexOf(d))break;u--}if(-1!==[ae,oe].indexOf(A))for(u=-1!==[Y,Z].indexOf(l)?o:i;u>=0;){var d;if((d=t[u])===ie)return Ee;if(-1===[le,se].indexOf(d))break;u--}if(ye===l&&-1!==[ye,ve,fe,ge].indexOf(A)||-1!==[ve,fe].indexOf(l)&&-1!==[ve,we].indexOf(A)||-1!==[we,ge].indexOf(l)&&A===we)return Ee;if(-1!==Le.indexOf(l)&&-1!==[ee,oe].indexOf(A)||-1!==Le.indexOf(A)&&l===ae)return Ee;if(-1!==_e.indexOf(l)&&-1!==_e.indexOf(A))return Ee;if(l===se&&-1!==_e.indexOf(A))return Ee;if(-1!==_e.concat(ie).indexOf(l)&&A===ne&&-1===Be.indexOf(e[a])||-1!==_e.concat(ie).indexOf(A)&&l===Z)return Ee;if(l===xe&&A===xe){for(var h=n[i],f=1;h>0&&t[--h]===xe;)f++;if(f%2!==0)return Ee}return l===de&&A===he?Ee:Ne},De=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Pe(e,t.lineBreak),r=n[0],s=n[1],i=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map(function(e){return-1!==[ie,Ae,be].indexOf(e)?me:e}));var o="keep-all"===t.wordBreak?i.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,s,o]},Me=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===ke,this.start=n,this.end=r}return e.prototype.slice=function(){return A.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),He=function(e,t){var n=c(e),r=De(n,t),s=r[0],i=r[1],o=r[2],a=n.length,l=0,A=0;return{next:function(){if(A>=a)return{done:!0,value:null};for(var e=Ee;A<a&&(e=Re(n,i,s,++A,o))===Ee;);if(e!==Ee||A===a){var t=new Me(n,e,l,A);return l=A,{value:t,done:!1}}return{done:!0,value:null}}}},Ve=1,Ke=2,qe=4,ze=8,We=10,Ge=47,Je=92,Xe=9,Ye=32,Ze=34,$e=61,et=35,tt=36,nt=37,rt=39,st=40,it=41,ot=95,at=45,lt=33,ct=60,At=62,ut=64,dt=91,ht=93,ft=61,gt=123,pt=63,mt=125,yt=124,vt=126,wt=128,xt=65533,bt=42,Ct=43,Bt=44,kt=58,Et=59,Nt=46,St=0,_t=8,Ft=11,It=14,Tt=31,jt=127,Lt=-1,Ut=48,Pt=97,Qt=101,Ot=102,Rt=117,Dt=122,Mt=65,Ht=69,Vt=70,Kt=85,qt=90,zt=function(e){return e>=Ut&&e<=57},Wt=function(e){return e>=55296&&e<=57343},Gt=function(e){return zt(e)||e>=Mt&&e<=Vt||e>=Pt&&e<=Ot},Jt=function(e){return e>=Pt&&e<=Dt},Xt=function(e){return e>=Mt&&e<=qt},Yt=function(e){return Jt(e)||Xt(e)},Zt=function(e){return e>=wt},$t=function(e){return e===We||e===Xe||e===Ye},en=function(e){return Yt(e)||Zt(e)||e===ot},tn=function(e){return en(e)||zt(e)||e===at},nn=function(e){return e>=St&&e<=_t||e===Ft||e>=It&&e<=Tt||e===jt},rn=function(e,t){return e===Je&&t!==We},sn=function(e,t,n){return e===at?en(t)||rn(t,n):!!en(e)||!(e!==Je||!rn(e,t))},on=function(e,t,n){return e===Ct||e===at?!!zt(t)||t===Nt&&zt(n):zt(e===Nt?t:e)},an=function(e){var t=0,n=1;e[t]!==Ct&&e[t]!==at||(e[t]===at&&(n=-1),t++);for(var r=[];zt(e[t]);)r.push(e[t++]);var s=r.length?parseInt(A.apply(void 0,r),10):0;e[t]===Nt&&t++;for(var i=[];zt(e[t]);)i.push(e[t++]);var o=i.length,a=o?parseInt(A.apply(void 0,i),10):0;e[t]!==Ht&&e[t]!==Qt||t++;var l=1;e[t]!==Ct&&e[t]!==at||(e[t]===at&&(l=-1),t++);for(var c=[];zt(e[t]);)c.push(e[t++]);var u=c.length?parseInt(A.apply(void 0,c),10):0;return n*(s+a*Math.pow(10,-o))*Math.pow(10,l*u)},ln={type:2},cn={type:3},An={type:4},un={type:13},dn={type:8},hn={type:21},fn={type:9},gn={type:10},pn={type:11},mn={type:12},yn={type:14},vn={type:23},wn={type:1},xn={type:25},bn={type:24},Cn={type:26},Bn={type:27},kn={type:28},En={type:29},Nn={type:31},Sn={type:32},_n=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Sn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var s=sn(t,n,r)?Ke:Ve;return{type:5,value:this.consumeName(),flags:s}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case st:return ln;case it:return cn;case bt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),yn;break;case Ct:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bt:return An;case at:var i=e,o=this.peekCodePoint(0),a=this.peekCodePoint(1);if(on(i,o,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(i,o,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===at&&a===At)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case Nt:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ge:if(this.peekCodePoint(0)===bt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===bt&&(l=this.consumeCodePoint())===Ge)return this.consumeToken();if(l===Lt)return this.consumeToken()}break;case kt:return Cn;case Et:return Bn;case ct:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===at&&this.peekCodePoint(2)===at)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case ut:var c=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(sn(c,u,d))return{type:7,value:this.consumeName()};break;case dt:return kn;case Je:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return En;case ft:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case gt:return pn;case mt:return mn;case Rt:case Kt:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==Ct||!Gt(f)&&f!==pt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===yt)return this.consumeCodePoint(),hn;break;case vt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),gn;break;case Lt:return Sn}return $t(e)?(this.consumeWhiteSpace(),Nn):zt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:A(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Gt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===pt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(A.apply(void 0,e.map(function(e){return e===pt?Ut:e})),16),end:parseInt(A.apply(void 0,e.map(function(e){return e===pt?Vt:e})),16)};var r=parseInt(A.apply(void 0,e),16);if(this.peekCodePoint(0)===at&&Gt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];Gt(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(A.apply(void 0,s),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===st?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===it)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vn)}for(;;){var r=this.consumeCodePoint();if(r===Lt||r===it)return{type:22,value:A.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:22,value:A.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vn);if(r===Ze||r===rt||r===st||nn(r))return this.consumeBadUrlRemnants(),vn;if(r===Je){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),vn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===it||e===Lt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=A.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Lt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===We)return this._value.splice(0,n),wn;if(r===Je){var s=this._value[n+1];s!==Lt&&void 0!==s&&(s===We?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,s)&&(t+=this.consumeStringSlice(n),t+=A(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=qe,n=this.peekCodePoint(0);for(n!==Ct&&n!==at||e.push(this.consumeCodePoint());zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Nt&&zt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Ht||n===Qt)&&((r===Ct||r===at)&&zt(s)||zt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[an(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);return sn(r,s,i)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Gt(e)){for(var t=A(e);Gt(this.peekCodePoint(0))&&t.length<6;)t+=A(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Wt(n)||n>1114111?xt:n}return e===Lt?xt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=A(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=A(this.consumeEscapedCodePoint())}}},e}(),Fn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new _n;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Rn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Sn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),In=function(e){return 15===e.type},Tn=function(e){return 17===e.type},jn=function(e){return 20===e.type},Ln=function(e){return 0===e.type},Un=function(e,t){return jn(e)&&e.value===t},Pn=function(e){return 31!==e.type},Qn=function(e){return 31!==e.type&&4!==e.type},On=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Rn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Dn=function(e){return 17===e.type||15===e.type},Mn=function(e){return 16===e.type||Dn(e)},Hn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Vn={type:17,number:0,flags:qe},Kn={type:16,number:50,flags:qe},qn={type:16,number:100,flags:qe},zn=function(e,t,n){var r=e[0],s=e[1];return[Wn(r,t),Wn("undefined"!==typeof s?s:r,n)]},Wn=function(e,t){if(16===e.type)return e.number/100*t;if(In(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Gn="deg",Jn="grad",Xn="rad",Yn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Gn:return Math.PI*t.number/180;case Jn:return Math.PI/200*t.number;case Xn:return t.number;case Yn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===Gn||e.unit===Jn||e.unit===Xn||e.unit===Yn)},er=function(e){switch(e.filter(jn).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vn,Vn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vn,qn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qn,qn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qn,Vn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=Ar[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return ir(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(4===t.value.length){r=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);var o=t.value.substring(3,4);return ir(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),ir(parseInt(r,16),parseInt(s,16),parseInt(i,16),1);if(8===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8),ir(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}if(20===t.type){var a=dr[t.value.toUpperCase()];if("undefined"!==typeof a)return a}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},sr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},ir=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},or=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ar=function(e,t){var n=t.filter(Qn);if(3===n.length){var r=n.map(or),s=r[0],i=r[1],o=r[2];return ir(s,i,o,1)}if(4===n.length){var a=n.map(or),l=(s=a[0],i=a[1],o=a[2],a[3]);return ir(s,i,o,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var cr=function(e,t){var n=t.filter(Qn),r=n[0],s=n[1],i=n[2],o=n[3],a=(17===r.type?tr(r.number):Zn.parse(e,r))/(2*Math.PI),l=Mn(s)?s.number/100:0,c=Mn(i)?i.number/100:0,A="undefined"!==typeof o&&Mn(o)?Wn(o,1):1;if(0===l)return ir(255*c,255*c,255*c,1);var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u,h=lr(d,u,a+1/3),f=lr(d,u,a),g=lr(d,u,a-1/3);return ir(255*h,255*f,255*g,A)},Ar={hsl:cr,hsla:cr,rgb:ar,rgba:ar},ur=function(e,t){return nr.parse(e,Fn.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(jn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Mn(r)?{color:n,stop:r}:{color:n,stop:null}},pr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Vn),null===r.stop&&(r.stop=qn);for(var s=[],i=0,o=0;o<e.length;o++){var a=e[o].stop;if(null!==a){var l=Wn(a,t);l>i?s.push(l):s.push(i),i=l}else s.push(null)}var c=null;for(o=0;o<s.length;o++){var A=s[o];if(null===A)null===c&&(c=o);else if(null!==c){for(var u=o-c,d=(A-s[c-1])/(u+1),h=1;h<=u;h++)s[c+h-1]=d*h;c=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,s[n]/t),0)}})},mr=function(e,t,n){var r=t/2,s=n/2,i=Wn(e[0],t)-r,o=s-Wn(e[1],n);return(Math.atan2(o,i)+2*Math.PI)%(2*Math.PI)},yr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),i=t/2,o=n/2,a=s/2,l=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[s,i-c,i+c,o-l,o+l]},vr=function(e,t){return Math.sqrt(e*e+t*t)},wr=function(e,t,n,r,s){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var i=t[0],o=t[1],a=vr(n-i,r-o);return(s?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},xr=function(e,t,n,r,s){var i=0,o=0;switch(e.size){case 0:0===e.shape?i=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(i=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(0===e.shape)i=o=Math.min(vr(t,n),vr(t,n-s),vr(t-r,n),vr(t-r,n-s));else if(1===e.shape){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),l=wr(r,s,t,n,!0),c=l[0],A=l[1];o=a*(i=vr(c-t,(A-n)/a))}break;case 1:0===e.shape?i=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(i=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(0===e.shape)i=o=Math.max(vr(t,n),vr(t,n-s),vr(t-r,n),vr(t-r,n-s));else if(1===e.shape){a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r));var u=wr(r,s,t,n,!1);c=u[0],A=u[1],o=a*(i=vr(c-t,(A-n)/a))}}return Array.isArray(e.size)&&(i=Wn(e.size[0],r),o=2===e.size.length?Wn(e.size[1],s):i),[i,o]},br=function(e,t){var n=tr(180),r=[];return On(t).forEach(function(t,s){if(0===s){var i=t[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(n=er(t));if($n(i))return void(n=(Zn.parse(e,i)+tr(270))%tr(360))}var o=gr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},Cr="closest-side",Br="farthest-side",kr="closest-corner",Er="farthest-corner",Nr="circle",Sr="ellipse",_r="cover",Fr="contain",Ir=function(e,t){var n=0,r=3,s=[],i=[];return On(t).forEach(function(t,o){var a=!0;if(0===o?a=t.reduce(function(e,t){if(jn(t))switch(t.value){case"center":return i.push(Kn),!1;case"top":case"left":return i.push(Vn),!1;case"right":case"bottom":return i.push(qn),!1}else if(Mn(t)||Dn(t))return i.push(t),!1;return e},a):1===o&&(a=t.reduce(function(e,t){if(jn(t))switch(t.value){case Nr:return n=0,!1;case Sr:return n=1,!1;case Fr:case Cr:return r=0,!1;case Br:return r=1,!1;case kr:return r=2,!1;case _r:case Er:return r=3,!1}else if(Dn(t)||Mn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},a)),a){var l=gr(e,t);s.push(l)}}),{size:r,shape:n,stops:s,position:i,type:2}},Tr=function(e){return 1===e.type},jr=function(e){return 2===e.type},Lr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Qr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ur(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Qr[e.name])}var Pr,Qr={"linear-gradient":function(e,t){var n=tr(180),r=[];return On(t).forEach(function(t,s){if(0===s){var i=t[0];if(20===i.type&&"to"===i.value)return void(n=er(t));if($n(i))return void(n=Zn.parse(e,i))}var o=gr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},"-moz-linear-gradient":br,"-ms-linear-gradient":br,"-o-linear-gradient":br,"-webkit-linear-gradient":br,"radial-gradient":function(e,t){var n=0,r=3,s=[],i=[];return On(t).forEach(function(t,o){var a=!0;if(0===o){var l=!1;a=t.reduce(function(e,t){if(l)if(jn(t))switch(t.value){case"center":return i.push(Kn),e;case"top":case"left":return i.push(Vn),e;case"right":case"bottom":return i.push(qn),e}else(Mn(t)||Dn(t))&&i.push(t);else if(jn(t))switch(t.value){case Nr:return n=0,!1;case Sr:return n=1,!1;case"at":return l=!0,!1;case Cr:return r=0,!1;case _r:case Br:return r=1,!1;case Fr:case kr:return r=2,!1;case Er:return r=3,!1}else if(Dn(t)||Mn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},a)}if(a){var c=gr(e,t);s.push(c)}}),{size:r,shape:n,stops:s,position:i,type:2}},"-moz-radial-gradient":Ir,"-ms-radial-gradient":Ir,"-o-radial-gradient":Ir,"-webkit-radial-gradient":Ir,"-webkit-gradient":function(e,t){var n=tr(180),r=[],s=1,i=0,o=3,a=[];return On(t).forEach(function(t,n){var i=t[0];if(0===n){if(jn(i)&&"linear"===i.value)return void(s=1);if(jn(i)&&"radial"===i.value)return void(s=2)}if(18===i.type)if("from"===i.name){var o=nr.parse(e,i.values[0]);r.push({stop:Vn,color:o})}else if("to"===i.name)o=nr.parse(e,i.values[0]),r.push({stop:qn,color:o});else if("color-stop"===i.name){var a=i.values.filter(Qn);if(2===a.length){o=nr.parse(e,a[1]);var l=a[0];Tn(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:o})}}}),1===s?{angle:(n+tr(180))%tr(360),stops:r,type:s}:{size:o,shape:i,stops:r,position:a,type:s}}},Or={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return Qn(e)&&Ur(e)}).map(function(t){return Lr.parse(e,t)})}},Rr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(jn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Dr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return On(t).map(function(e){return e.filter(Mn)}).map(Hn)}},Mr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return On(t).map(function(e){return e.filter(jn).map(function(e){return e.value}).join(" ")}).map(Hr)}},Hr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Pr||(Pr={}));var Vr,Kr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return On(t).map(function(e){return e.filter(qr)})}},qr=function(e){return jn(e)||Mn(e)},zr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wr=zr("top"),Gr=zr("right"),Jr=zr("bottom"),Xr=zr("left"),Yr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Hn(t.filter(Mn))}}},Zr=Yr("top-left"),$r=Yr("top-right"),es=Yr("bottom-right"),ts=Yr("bottom-left"),ns=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rs=ns("top"),ss=ns("right"),is=ns("bottom"),os=ns("left"),as=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}}},ls=as("top"),cs=as("right"),As=as("bottom"),us=as("left"),ds={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hs={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fs={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(jn).reduce(function(e,t){return e|gs(t.value)},0)}},gs=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ps={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ms={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Vr||(Vr={}));var ys,vs={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Vr.STRICT:Vr.NORMAL}},ws={name:"line-height",initialValue:"normal",prefix:!1,type:4},xs=function(e,t){return jn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Mn(e)?Wn(e,t):t},bs={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Lr.parse(e,t)}},Cs={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Bs={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},ks=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Es=ks("top"),Ns=ks("right"),Ss=ks("bottom"),_s=ks("left"),Fs={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(jn).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Is={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ts=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},js=Ts("top"),Ls=Ts("right"),Us=Ts("bottom"),Ps=Ts("left"),Qs={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Os={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Rs={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Un(t[0],"none")?[]:On(t).map(function(t){for(var n={color:dr.TRANSPARENT,offsetX:Vn,offsetY:Vn,blur:Vn},r=0,s=0;s<t.length;s++){var i=t[s];Dn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:n.blur=i,r++):n.color=nr.parse(e,i)}return n})}},Ds={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ms={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Hs[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Hs={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],a=t[13];return t[14],t[15],16===t.length?[n,r,s,i,o,a]:null}},Vs={type:16,number:50,flags:qe},Ks=[Vs,Vs],qs={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Mn);return 2!==n.length?Ks:[n[0],n[1]]}},zs={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(ys||(ys={}));for(var Ws={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return ys.BREAK_ALL;case"keep-all":return ys.KEEP_ALL;default:return ys.NORMAL}}},Gs={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Tn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Js={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Xs={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:1}},Ys={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zs={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(jn).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$s={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},ei={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ti={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Tn(t)?t.number:jn(t)&&"bold"===t.value?700:400}},ni={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(jn).map(function(e){return e.value})}},ri={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},si=function(e,t){return 0!==(e&t)},ii={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},oi={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],s=t.filter(Pn),i=0;i<s.length;i++){var o=s[i],a=s[i+1];if(20===o.type){var l=a&&Tn(a)?a.number:1;r.push({counter:o.value,increment:l})}}return r}},ai={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Pn),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(jn(i)&&"none"!==i.value){var a=o&&Tn(o)?o.number:0;n.push({counter:i.value,reset:a})}}return n}},li={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(In).map(function(t){return Js.parse(e,t)})}},ci={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],s=t.filter(Ln);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,a=s[i+1].value;r.push({open:o,close:a})}return r}},Ai=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ui={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Un(t[0],"none")?[]:On(t).map(function(t){for(var n={color:255,offsetX:Vn,offsetY:Vn,blur:Vn,spread:Vn,inset:!1},r=0,s=0;s<t.length;s++){var i=t[s];Un(i,"inset")?n.inset=!0:Dn(i)?(0===r?n.offsetX=i:1===r?n.offsetY=i:2===r?n.blur=i:n.spread=i,r++):n.color=nr.parse(e,i)}return n})}},di={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(jn).forEach(function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}}),n.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r}},hi={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}},gi=function(){function e(e,t){var n,r;this.animationDuration=yi(e,li,t.animationDuration),this.backgroundClip=yi(e,hr,t.backgroundClip),this.backgroundColor=yi(e,fr,t.backgroundColor),this.backgroundImage=yi(e,Or,t.backgroundImage),this.backgroundOrigin=yi(e,Rr,t.backgroundOrigin),this.backgroundPosition=yi(e,Dr,t.backgroundPosition),this.backgroundRepeat=yi(e,Mr,t.backgroundRepeat),this.backgroundSize=yi(e,Kr,t.backgroundSize),this.borderTopColor=yi(e,Wr,t.borderTopColor),this.borderRightColor=yi(e,Gr,t.borderRightColor),this.borderBottomColor=yi(e,Jr,t.borderBottomColor),this.borderLeftColor=yi(e,Xr,t.borderLeftColor),this.borderTopLeftRadius=yi(e,Zr,t.borderTopLeftRadius),this.borderTopRightRadius=yi(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=yi(e,es,t.borderBottomRightRadius),this.borderBottomLeftRadius=yi(e,ts,t.borderBottomLeftRadius),this.borderTopStyle=yi(e,rs,t.borderTopStyle),this.borderRightStyle=yi(e,ss,t.borderRightStyle),this.borderBottomStyle=yi(e,is,t.borderBottomStyle),this.borderLeftStyle=yi(e,os,t.borderLeftStyle),this.borderTopWidth=yi(e,ls,t.borderTopWidth),this.borderRightWidth=yi(e,cs,t.borderRightWidth),this.borderBottomWidth=yi(e,As,t.borderBottomWidth),this.borderLeftWidth=yi(e,us,t.borderLeftWidth),this.boxShadow=yi(e,ui,t.boxShadow),this.color=yi(e,ds,t.color),this.direction=yi(e,hs,t.direction),this.display=yi(e,fs,t.display),this.float=yi(e,ps,t.cssFloat),this.fontFamily=yi(e,$s,t.fontFamily),this.fontSize=yi(e,ei,t.fontSize),this.fontStyle=yi(e,ri,t.fontStyle),this.fontVariant=yi(e,ni,t.fontVariant),this.fontWeight=yi(e,ti,t.fontWeight),this.letterSpacing=yi(e,ms,t.letterSpacing),this.lineBreak=yi(e,vs,t.lineBreak),this.lineHeight=yi(e,ws,t.lineHeight),this.listStyleImage=yi(e,bs,t.listStyleImage),this.listStylePosition=yi(e,Cs,t.listStylePosition),this.listStyleType=yi(e,Bs,t.listStyleType),this.marginTop=yi(e,Es,t.marginTop),this.marginRight=yi(e,Ns,t.marginRight),this.marginBottom=yi(e,Ss,t.marginBottom),this.marginLeft=yi(e,_s,t.marginLeft),this.opacity=yi(e,Xs,t.opacity);var s=yi(e,Fs,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=yi(e,Is,t.overflowWrap),this.paddingTop=yi(e,js,t.paddingTop),this.paddingRight=yi(e,Ls,t.paddingRight),this.paddingBottom=yi(e,Us,t.paddingBottom),this.paddingLeft=yi(e,Ps,t.paddingLeft),this.paintOrder=yi(e,di,t.paintOrder),this.position=yi(e,Os,t.position),this.textAlign=yi(e,Qs,t.textAlign),this.textDecorationColor=yi(e,Ys,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=yi(e,Zs,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=yi(e,Rs,t.textShadow),this.textTransform=yi(e,Ds,t.textTransform),this.transform=yi(e,Ms,t.transform),this.transformOrigin=yi(e,qs,t.transformOrigin),this.visibility=yi(e,zs,t.visibility),this.webkitTextStrokeColor=yi(e,hi,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=yi(e,fi,t.webkitTextStrokeWidth),this.wordBreak=yi(e,Ws,t.wordBreak),this.zIndex=yi(e,Gs,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return si(this.display,4)||si(this.display,33554432)||si(this.display,268435456)||si(this.display,536870912)||si(this.display,67108864)||si(this.display,134217728)},e}(),pi=function(){function e(e,t){this.content=yi(e,ii,t.content),this.quotes=yi(e,ci,t.quotes)}return e}(),mi=function(){function e(e,t){this.counterIncrement=yi(e,oi,t.counterIncrement),this.counterReset=yi(e,ai,t.counterReset)}return e}(),yi=function(e,t,n){var r=new _n,s=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(s);var i=new Fn(r.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,jn(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,i.parseComponentValue());case"color":return nr.parse(e,i.parseComponentValue());case"image":return Lr.parse(e,i.parseComponentValue());case"length":var a=i.parseComponentValue();return Dn(a)?a:Vn;case"length-percentage":var l=i.parseComponentValue();return Mn(l)?l:Vn;case"time":return Js.parse(e,i.parseComponentValue())}}},vi="data-html2canvas-debug",wi=function(e){switch(e.getAttribute(vi)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},xi=function(e,t){var n=wi(e);return 1===n||t===n},bi=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,xi(t,3),this.styles=new gi(e,window.getComputedStyle(t,null)),Aa(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=a(this.context,t),xi(t,4)&&(this.flags|=16)}return e}(),Ci="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ki="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ei=0;Ei<Bi.length;Ei++)ki[Bi.charCodeAt(Ei)]=Ei;for(var Ni=function(e){var t,n,r,s,i,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),A=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<a;t+=4)n=ki[e.charCodeAt(t)],r=ki[e.charCodeAt(t+1)],s=ki[e.charCodeAt(t+2)],i=ki[e.charCodeAt(t+3)],A[l++]=n<<2|r>>4,A[l++]=(15&r)<<4|s>>2,A[l++]=(3&s)<<6|63&i;return c},Si=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},_i=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Fi=5,Ii=11,Ti=2,ji=65536>>Fi,Li=(1<<Fi)-1,Ui=ji+(1024>>Fi)+32,Pi=65536>>Ii,Qi=(1<<Ii-Fi)-1,Oi=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Ri=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Di=function(e,t){var n=Ni(e),r=Array.isArray(n)?_i(n):new Uint32Array(n),s=Array.isArray(n)?Si(n):new Uint16Array(n),i=24,o=Oi(s,i/2,r[4]/2),a=2===r[5]?Oi(s,(i+r[4])/2):Ri(r,Math.ceil((i+r[4])/4));return new Mi(r[0],r[1],r[2],r[3],o,a)},Mi=function(){function e(e,t,n,r,s,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Fi])<<Ti)+(e&Li),this.data[t];if(e<=65535)return t=((t=this.index[ji+(e-55296>>Fi)])<<Ti)+(e&Li),this.data[t];if(e<this.highStart)return t=Ui-Pi+(e>>Ii),t=this.index[t],t+=e>>Fi&Qi,t=((t=this.index[t])<<Ti)+(e&Li),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ki=0;Ki<Hi.length;Ki++)Vi[Hi.charCodeAt(Ki)]=Ki;var qi,zi=1,Wi=2,Gi=3,Ji=4,Xi=5,Yi=7,Zi=8,$i=9,eo=10,to=11,no=12,ro=13,so=14,io=15,oo=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=e.charCodeAt(n++);56320===(64512&i)?t.push(((1023&s)<<10)+(1023&i)+65536):(t.push(s),n--)}else t.push(s)}return t},ao=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=e[s];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},lo=Di(Ci),co="\xd7",Ao="\xf7",uo=function(e){return lo.get(e)},ho=function(e,t,n){var r=n-2,s=t[r],i=t[n-1],o=t[n];if(i===Wi&&o===Gi)return co;if(i===Wi||i===Gi||i===Ji)return Ao;if(o===Wi||o===Gi||o===Ji)return Ao;if(i===Zi&&-1!==[Zi,$i,to,no].indexOf(o))return co;if((i===to||i===$i)&&(o===$i||o===eo))return co;if((i===no||i===eo)&&o===eo)return co;if(o===ro||o===Xi)return co;if(o===Yi)return co;if(i===zi)return co;if(i===ro&&o===so){for(;s===Xi;)s=t[--r];if(s===so)return co}if(i===io&&o===io){for(var a=0;s===io;)a++,s=t[--r];if(a%2===0)return co}return Ao},fo=function(e){var t=oo(e),n=t.length,r=0,s=0,i=t.map(uo);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=co;r<n&&(e=ho(t,i,++r))===co;);if(e!==co||r===n){var o=ao.apply(null,t.slice(s,r));return s=r,{value:o,done:!1}}return{done:!0,value:null}}}},go=function(e){for(var t,n=fo(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},po=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(r),i===t)return!0}}return!1},mo=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,s=c(r.data).map(function(e){return A(e)}),i=0,o={},a=s.every(function(e,t){n.setStart(r,i),n.setEnd(r,i+e.length);var s=n.getBoundingClientRect();i+=e.length;var a=s.x>o.x||s.y>o.y;return o=s,0===t||a});return e.body.removeChild(t),a},yo=function(){return"undefined"!==typeof(new Image).crossOrigin},vo=function(){return"string"===typeof(new XMLHttpRequest).responseType},wo=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Qt){return!1}return!0},xo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},bo=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=t.toDataURL();s.src=i;var o=Co(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),Bo(o).then(function(t){r.drawImage(t,0,0);var s=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=e.createElement("div");return o.style.backgroundImage="url("+i+")",o.style.height=n+"px",xo(s)?Bo(Co(n,n,0,0,o)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),xo(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Co=function(e,t,n,r,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(s),o},Bo=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},ko={get SUPPORT_RANGE_BOUNDS(){var e=po(document);return Object.defineProperty(ko,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ko.SUPPORT_RANGE_BOUNDS&&mo(document);return Object.defineProperty(ko,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=wo(document);return Object.defineProperty(ko,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?bo(document):Promise.resolve(!1);return Object.defineProperty(ko,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=yo();return Object.defineProperty(ko,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=vo();return Object.defineProperty(ko,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ko,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(ko,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Eo=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),No=function(e,t,n,r){var s=To(t,n),i=[],a=0;return s.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(ko.SUPPORT_RANGE_BOUNDS){var s=_o(r,a,t.length).getClientRects();if(s.length>1){var l=Fo(t),c=0;l.forEach(function(t){i.push(new Eo(t,o.fromDOMRectList(e,_o(r,c+a,t.length).getClientRects()))),c+=t.length})}else i.push(new Eo(t,o.fromDOMRectList(e,s)))}else{var A=r.splitText(t.length);i.push(new Eo(t,So(e,r))),r=A}else ko.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));a+=t.length}),i},So=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var i=a(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return o.EMPTY},_o=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},Fo=function(e){if(ko.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return go(e)},Io=function(e,t){if(ko.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Lo(e,t)},To=function(e,t){return 0!==t.letterSpacing?Fo(e):Io(e,t)},jo=[32,160,4961,65792,65793,4153,4241],Lo=function(e,t){for(var n,r=He(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),s=[],i=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach(function(e){-1===jo.indexOf(e)?r+=A(e):(r.length&&s.push(r),s.push(A(e)),r="")}),r.length&&s.push(r)}};!(n=r.next()).done;)i();return s},Uo=function(){function e(e,t,n){this.text=Po(t.data,n.textTransform),this.textBounds=No(e,this.text,n,t)}return e}(),Po=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Qo,Oo);case 2:return e.toUpperCase();default:return e}},Qo=/(^|\s|:|-|\(|\))([a-z])/g,Oo=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Ro=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(bi),Do=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(bi),Mo=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=new XMLSerializer,i=a(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(bi),Ho=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(bi),Vo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(bi),Ko=[{type:15,flags:0,unit:"px",number:3}],qo=[{type:16,flags:0,number:50}],zo=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Wo=function(e){var t=e.type===Xo?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Go="checkbox",Jo="radio",Xo="password",Yo=707406591,Zo=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Wo(n),r.type!==Go&&r.type!==Jo||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=zo(r.bounds)),r.type){case Go:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ko;break;case Jo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=qo}return r}return t(n,e),n}(bi),$o=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return t(n,e),n}(bi),ea=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(bi),ta=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=ia(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,i=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(s)?rr(i)?r.styles.backgroundColor:i:s}}catch(Qt){}return r}return t(n,e),n}(bi),na=["OL","UL","MENU"],ra=function(e,t,n,r){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,la(s)&&s.data.trim().length>0)n.textNodes.push(new Uo(e,s,n.styles));else if(ca(s))if(Ea(s)&&s.assignedNodes)s.assignedNodes().forEach(function(t){return ra(e,t,n,r)});else{var o=sa(e,s);o.styles.isVisible()&&(oa(s,o,r)?o.flags|=4:aa(o.styles)&&(o.flags|=2),-1!==na.indexOf(s.tagName)&&(o.flags|=8),n.elements.push(o),s.slot,s.shadowRoot?ra(e,s.shadowRoot,o,r):Ba(s)||pa(s)||ka(s)||ra(e,s,o,r))}},sa=function(e,t){return wa(t)?new Ro(e,t):ya(t)?new Do(e,t):pa(t)?new Mo(e,t):da(t)?new Ho(e,t):ha(t)?new Vo(e,t):fa(t)?new Zo(e,t):ka(t)?new $o(e,t):Ba(t)?new ea(e,t):xa(t)?new ta(e,t):new bi(e,t)},ia=function(e,t){var n=sa(e,t);return n.flags|=4,ra(e,t,n,n),n},oa=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ma(e)&&n.styles.isTransparent()},aa=function(e){return e.isPositioned()||e.isFloating()},la=function(e){return e.nodeType===Node.TEXT_NODE},ca=function(e){return e.nodeType===Node.ELEMENT_NODE},Aa=function(e){return ca(e)&&"undefined"!==typeof e.style&&!ua(e)},ua=function(e){return"object"===typeof e.className},da=function(e){return"LI"===e.tagName},ha=function(e){return"OL"===e.tagName},fa=function(e){return"INPUT"===e.tagName},ga=function(e){return"HTML"===e.tagName},pa=function(e){return"svg"===e.tagName},ma=function(e){return"BODY"===e.tagName},ya=function(e){return"CANVAS"===e.tagName},va=function(e){return"VIDEO"===e.tagName},wa=function(e){return"IMG"===e.tagName},xa=function(e){return"IFRAME"===e.tagName},ba=function(e){return"STYLE"===e.tagName},Ca=function(e){return"SCRIPT"===e.tagName},Ba=function(e){return"TEXTAREA"===e.tagName},ka=function(e){return"SELECT"===e.tagName},Ea=function(e){return"SLOT"===e.tagName},Na=function(e){return e.tagName.indexOf("-")>0},Sa=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,s=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(s=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var i=[];return s&&r.forEach(function(e){var n=t.counters[e.counter];i.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),i},e}(),_a={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fa={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Ia={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Ta={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},ja=function(e,t,n,r,s,i){return e<t||e>n?za(e,s,i.length>0):r.integers.reduce(function(t,n,s){for(;e>=n;)e-=n,t+=r.values[s];return t},"")+i},La=function(e,t,n,r){var s="";do{n||e--,s=r(e)+s,e/=t}while(e*t>=t);return s},Ua=function(e,t,n,r,s){var i=n-t+1;return(e<0?"-":"")+(La(Math.abs(e),i,r,function(e){return A(Math.floor(e%i)+t)})+s)},Pa=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return La(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},Qa=1,Oa=2,Ra=4,Da=8,Ma=function(e,t,n,r,s,i){if(e<-9999||e>9999)return za(e,4,s.length>0);var o=Math.abs(e),a=s;if(0===o)return t[0]+a;for(var l=0;o>0&&l<=4;l++){var c=o%10;0===c&&si(i,Qa)&&""!==a?a=t[c]+a:c>1||1===c&&0===l||1===c&&1===l&&si(i,Oa)||1===c&&1===l&&si(i,Ra)&&e>100||1===c&&l>1&&si(i,Da)?a=t[c]+(l>0?n[l-1]:"")+a:1===c&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(e<0?r:"")+a},Ha="\u5341\u767e\u5343\u842c",Va="\u62fe\u4f70\u4edf\u842c",Ka="\u30de\u30a4\u30ca\u30b9",qa="\ub9c8\uc774\ub108\uc2a4",za=function(e,t,n){var r=n?". ":"",s=n?"\u3001":"",i=n?", ":"",o=n?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25e6"+o;case 2:return"\u25fe"+o;case 5:var a=Ua(e,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return Pa(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",s);case 6:return ja(e,1,3999,_a,3,r).toLowerCase();case 7:return ja(e,1,3999,_a,3,r);case 8:return Ua(e,945,969,!1,r);case 9:return Ua(e,97,122,!1,r);case 10:return Ua(e,65,90,!1,r);case 11:return Ua(e,1632,1641,!0,r);case 12:case 49:return ja(e,1,9999,Fa,3,r);case 35:return ja(e,1,9999,Fa,3,r).toLowerCase();case 13:return Ua(e,2534,2543,!0,r);case 14:case 30:return Ua(e,6112,6121,!0,r);case 15:return Pa(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",s);case 16:return Pa(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",s);case 17:case 48:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ha,"\u8ca0",s,Oa|Ra|Da);case 47:return Ma(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Va,"\u8ca0",s,Qa|Oa|Ra|Da);case 42:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ha,"\u8d1f",s,Oa|Ra|Da);case 41:return Ma(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Va,"\u8d1f",s,Qa|Oa|Ra|Da);case 26:return Ma(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ka,s,0);case 25:return Ma(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ka,s,Qa|Oa|Ra);case 31:return Ma(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",qa,i,Qa|Oa|Ra);case 33:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",qa,i,0);case 32:return Ma(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",qa,i,Qa|Oa|Ra);case 18:return Ua(e,2406,2415,!0,r);case 20:return ja(e,1,19999,Ta,3,r);case 21:return Ua(e,2790,2799,!0,r);case 22:return Ua(e,2662,2671,!0,r);case 22:return ja(e,1,10999,Ia,3,r);case 23:return Pa(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Pa(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ua(e,3302,3311,!0,r);case 28:return Pa(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",s);case 29:return Pa(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",s);case 34:return Ua(e,3792,3801,!0,r);case 37:return Ua(e,6160,6169,!0,r);case 38:return Ua(e,4160,4169,!0,r);case 39:return Ua(e,2918,2927,!0,r);case 40:return Ua(e,1776,1785,!0,r);case 43:return Ua(e,3046,3055,!0,r);case 44:return Ua(e,3174,3183,!0,r);case 45:return Ua(e,3664,3673,!0,r);case 46:return Ua(e,3872,3881,!0,r);default:return Ua(e,48,57,!0,r)}},Wa="data-html2canvas-ignore",Ga=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Sa,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,i=Xa(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,l=i.contentWindow,c=l.document,A=$a(i).then(function(){return r(n,void 0,void 0,function(){var e,n;return s(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(sl),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Za(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(c,n)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,o,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(e){if(xi(e,2),ya(e))return this.createCanvasClone(e);if(va(e))return this.createVideoClone(e);if(ba(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return wa(t)&&(wa(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Na(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Qt){if(this.context.logger.error("Unable to access cssRules property",Qt),"SecurityError"!==Qt.name)throw Qt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Qt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var a=o.getContextAttributes();!1===(null===a||void 0===a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return r}catch(Qt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Qt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){ca(t)&&(Ca(t)||t.hasAttribute(Wa)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ca(t)&&ba(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(ca(s)&&Ea(s)&&"function"===typeof s.assignedNodes){var i=s.assignedNodes();i.length&&i.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,s,n)},e.prototype.cloneNode=function(e,t){if(la(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ca(e)&&(Aa(e)||ua(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Aa(r)&&(this.clonedReferenceElement=r),ma(r)&&Al(r);var a=this.counters.parse(new mi(this.context,s)),l=this.resolvePseudoContent(e,r,i,qi.BEFORE);Na(e)&&(t=!0),va(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var c=this.resolvePseudoContent(e,r,o,qi.AFTER);return c&&r.appendChild(c),this.counters.pop(a),(s&&(this.options.copyStyles||ua(e))&&!xa(e)||t)&&tl(s,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Ba(e)||ka(e))&&(Ba(r)||ka(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var s=this;if(n){var i=n.content,o=t.ownerDocument;if(o&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new mi(this.context,n));var a=new pi(this.context,n),l=o.createElement("html2canvaspseudoelement");tl(n,l),a.content.forEach(function(t){if(0===t.type)l.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(jn);r.length&&l.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var i=t.values.filter(Qn),c=i[0],A=i[1];if(c&&jn(c)){var u=s.counters.getCounterValue(c.value),d=A&&jn(A)?Bs.parse(s.context,A.value):3;l.appendChild(o.createTextNode(za(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Qn),f=(c=h[0],h[1]);if(A=h[2],c&&jn(c)){var g=s.counters.getCounterValues(c.value),p=A&&jn(A)?Bs.parse(s.context,A.value):3,m=f&&0===f.type?f.value:"",y=g.map(function(e){return za(e,p,!1)}).join(m);l.appendChild(o.createTextNode(y))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(o.createTextNode(Ai(a.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(Ai(a.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(t.value))}}),l.className=al+" "+ll;var c=r===qi.BEFORE?" "+al:" "+ll;return ua(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(qi||(qi={}));var Ja,Xa=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Wa,"true"),e.body.appendChild(n),n},Ya=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Za=function(e){return Promise.all([].slice.call(e.images,0).map(Ya))},$a=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){s.body.childNodes.length>0&&"complete"===s.readyState&&(clearInterval(n),t(e))},50)}})},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},sl=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},il=":before",ol=":after",al="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",cl='{\n    content: "" !important;\n    display: none !important;\n}',Al=function(e){ul(e,"."+al+il+cl+"\n         ."+ll+ol+cl)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:wl(e)||ml(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,o=this;return s(this,function(s){switch(s.label){case 0:return t=dl.isSameOrigin(e),n=!yl(e)&&!0===this._options.useCORS&&ko.SUPPORT_CORS_IMAGES&&!t,r=!yl(e)&&!t&&!wl(e)&&"string"===typeof this._options.proxy&&ko.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||yl(e)||wl(e)||r||n?(i=e,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(vl(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout(function(){return e(r)},500),o._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,i){var o=ko.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===o)s(a.response);else{var e=new FileReader;e.addEventListener("load",function(){return s(e.result)},!1),e.addEventListener("error",function(e){return i(e)},!1),e.readAsDataURL(a.response)}else i("Failed to proxy resource "+r+" with status code "+a.status)},a.onerror=i;var l=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return i("Timed out ("+c+"ms) proxying "+r)}}a.send()})},e}(),fl=/^data:image\/svg\+xml/i,gl=/^data:image\/.*;base64,/i,pl=/^data:image\/.*/i,ml=function(e){return ko.SUPPORT_SVG_DRAWING||!xl(e)},yl=function(e){return pl.test(e)},vl=function(e){return gl.test(e)},wl=function(e){return"blob"===e.substr(0,4)},xl=function(e){return"svg"===e.substr(-3).toLowerCase()||fl.test(e)},bl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Cl=function(e,t,n){return new bl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Bl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Cl(this.start,this.startControl,t),s=Cl(this.startControl,this.endControl,t),i=Cl(this.endControl,this.end,t),o=Cl(r,s,t),a=Cl(s,i,t),l=Cl(o,a,t);return n?new e(this.start,r,o,l):new e(l,a,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),kl=function(e){return 1===e.type},El=function(){function e(e){var t=e.styles,n=e.bounds,r=zn(t.borderTopLeftRadius,n.width,n.height),s=r[0],i=r[1],o=zn(t.borderTopRightRadius,n.width,n.height),a=o[0],l=o[1],c=zn(t.borderBottomRightRadius,n.width,n.height),A=c[0],u=c[1],d=zn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],f=d[1],g=[];g.push((s+a)/n.width),g.push((h+A)/n.width),g.push((i+f)/n.height),g.push((l+u)/n.height);var p=Math.max.apply(Math,g);p>1&&(s/=p,i/=p,a/=p,l/=p,A/=p,u/=p,h/=p,f/=p);var m=n.width-a,y=n.height-u,v=n.width-A,w=n.height-f,x=t.borderTopWidth,b=t.borderRightWidth,C=t.borderBottomWidth,B=t.borderLeftWidth,k=Wn(t.paddingTop,e.bounds.width),E=Wn(t.paddingRight,e.bounds.width),N=Wn(t.paddingBottom,e.bounds.width),S=Wn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?Nl(n.left+B/3,n.top+x/3,s-B/3,i-x/3,Ja.TOP_LEFT):new bl(n.left+B/3,n.top+x/3),this.topRightBorderDoubleOuterBox=s>0||i>0?Nl(n.left+m,n.top+x/3,a-b/3,l-x/3,Ja.TOP_RIGHT):new bl(n.left+n.width-b/3,n.top+x/3),this.bottomRightBorderDoubleOuterBox=A>0||u>0?Nl(n.left+v,n.top+y,A-b/3,u-C/3,Ja.BOTTOM_RIGHT):new bl(n.left+n.width-b/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=h>0||f>0?Nl(n.left+B/3,n.top+w,h-B/3,f-C/3,Ja.BOTTOM_LEFT):new bl(n.left+B/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?Nl(n.left+2*B/3,n.top+2*x/3,s-2*B/3,i-2*x/3,Ja.TOP_LEFT):new bl(n.left+2*B/3,n.top+2*x/3),this.topRightBorderDoubleInnerBox=s>0||i>0?Nl(n.left+m,n.top+2*x/3,a-2*b/3,l-2*x/3,Ja.TOP_RIGHT):new bl(n.left+n.width-2*b/3,n.top+2*x/3),this.bottomRightBorderDoubleInnerBox=A>0||u>0?Nl(n.left+v,n.top+y,A-2*b/3,u-2*C/3,Ja.BOTTOM_RIGHT):new bl(n.left+n.width-2*b/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=h>0||f>0?Nl(n.left+2*B/3,n.top+w,h-2*B/3,f-2*C/3,Ja.BOTTOM_LEFT):new bl(n.left+2*B/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=s>0||i>0?Nl(n.left+B/2,n.top+x/2,s-B/2,i-x/2,Ja.TOP_LEFT):new bl(n.left+B/2,n.top+x/2),this.topRightBorderStroke=s>0||i>0?Nl(n.left+m,n.top+x/2,a-b/2,l-x/2,Ja.TOP_RIGHT):new bl(n.left+n.width-b/2,n.top+x/2),this.bottomRightBorderStroke=A>0||u>0?Nl(n.left+v,n.top+y,A-b/2,u-C/2,Ja.BOTTOM_RIGHT):new bl(n.left+n.width-b/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=h>0||f>0?Nl(n.left+B/2,n.top+w,h-B/2,f-C/2,Ja.BOTTOM_LEFT):new bl(n.left+B/2,n.top+n.height-C/2),this.topLeftBorderBox=s>0||i>0?Nl(n.left,n.top,s,i,Ja.TOP_LEFT):new bl(n.left,n.top),this.topRightBorderBox=a>0||l>0?Nl(n.left+m,n.top,a,l,Ja.TOP_RIGHT):new bl(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||u>0?Nl(n.left+v,n.top+y,A,u,Ja.BOTTOM_RIGHT):new bl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||f>0?Nl(n.left,n.top+w,h,f,Ja.BOTTOM_LEFT):new bl(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?Nl(n.left+B,n.top+x,Math.max(0,s-B),Math.max(0,i-x),Ja.TOP_LEFT):new bl(n.left+B,n.top+x),this.topRightPaddingBox=a>0||l>0?Nl(n.left+Math.min(m,n.width-b),n.top+x,m>n.width+b?0:Math.max(0,a-b),Math.max(0,l-x),Ja.TOP_RIGHT):new bl(n.left+n.width-b,n.top+x),this.bottomRightPaddingBox=A>0||u>0?Nl(n.left+Math.min(v,n.width-B),n.top+Math.min(y,n.height-C),Math.max(0,A-b),Math.max(0,u-C),Ja.BOTTOM_RIGHT):new bl(n.left+n.width-b,n.top+n.height-C),this.bottomLeftPaddingBox=h>0||f>0?Nl(n.left+B,n.top+Math.min(w,n.height-C),Math.max(0,h-B),Math.max(0,f-C),Ja.BOTTOM_LEFT):new bl(n.left+B,n.top+n.height-C),this.topLeftContentBox=s>0||i>0?Nl(n.left+B+S,n.top+x+k,Math.max(0,s-(B+S)),Math.max(0,i-(x+k)),Ja.TOP_LEFT):new bl(n.left+B+S,n.top+x+k),this.topRightContentBox=a>0||l>0?Nl(n.left+Math.min(m,n.width+B+S),n.top+x+k,m>n.width+B+S?0:a-B+S,l-(x+k),Ja.TOP_RIGHT):new bl(n.left+n.width-(b+E),n.top+x+k),this.bottomRightContentBox=A>0||u>0?Nl(n.left+Math.min(v,n.width-(B+S)),n.top+Math.min(y,n.height+x+k),Math.max(0,A-(b+E)),u-(C+N),Ja.BOTTOM_RIGHT):new bl(n.left+n.width-(b+E),n.top+n.height-(C+N)),this.bottomLeftContentBox=h>0||f>0?Nl(n.left+B+S,n.top+w,Math.max(0,h-(B+S)),f-(C+N),Ja.BOTTOM_LEFT):new bl(n.left+B+S,n.top+n.height-(C+N))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Ja||(Ja={}));var Nl=function(e,t,n,r,s){var i=(Math.sqrt(2)-1)/3*4,o=n*i,a=r*i,l=e+n,c=t+r;switch(s){case Ja.TOP_LEFT:return new Bl(new bl(e,c),new bl(e,c-a),new bl(l-o,t),new bl(l,t));case Ja.TOP_RIGHT:return new Bl(new bl(e,t),new bl(e+o,t),new bl(l,c-a),new bl(l,c));case Ja.BOTTOM_RIGHT:return new Bl(new bl(l,t),new bl(l,t+a),new bl(e+o,c),new bl(e,c));case Ja.BOTTOM_LEFT:default:return new Bl(new bl(l,c),new bl(l-o,c),new bl(e,t+a),new bl(e,t))}},Sl=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},_l=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Fl=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Il=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Tl=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),jl=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ll=function(e){return 0===e.type},Ul=function(e){return 1===e.type},Pl=function(e){return 2===e.type},Ql=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},Ol=function(e,t,n,r,s){return e.map(function(e,i){switch(i){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+s);case 3:return e.add(t,n+s)}return e})},Rl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Dl=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new El(this.container),this.container.styles.opacity<1&&this.effects.push(new jl(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Il(n,r,s))}if(0!==this.container.styles.overflowX){var i=Sl(this.curves),o=Fl(this.curves);Ql(i,o)?this.effects.push(new Tl(i,6)):(this.effects.push(new Tl(i,2)),this.effects.push(new Tl(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter(function(e){return!Ul(e)});if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,s),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var i=Sl(n.curves),o=Fl(n.curves);Ql(i,o)||r.unshift(new Tl(o,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter(function(t){return si(t.target,e)})},e}(),Ml=function(e,t,n,r){e.container.elements.forEach(function(s){var i=si(s.flags,4),o=si(s.flags,2),a=new Dl(s,e);si(s.styles.display,2048)&&r.push(a);var l=si(s.flags,8)?[]:r;if(i||o){var c=i||s.styles.isPositioned()?n:t,A=new Rl(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var u=s.styles.zIndex.order;if(u<0){var d=0;c.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0}),c.negativeZIndex.splice(d,0,A)}else if(u>0){var h=0;c.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0}),c.positiveZIndex.splice(h,0,A)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else s.styles.isFloating()?c.nonPositionedFloats.push(A):c.nonPositionedInlineLevel.push(A);Ml(a,A,i?A:n,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),Ml(a,t,n,l);si(s.flags,8)&&Hl(s,l)})},Hl=function(e,t){for(var n=e instanceof Vo?e.start:1,r=e instanceof Vo&&e.reversed,s=0;s<t.length;s++){var i=t[s];i.container instanceof Ho&&"number"===typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=za(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Vl=function(e){var t=new Dl(e,null),n=new Rl(t),r=[];return Ml(t,n,n,r),Hl(t.container,r),n},Kl=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Jl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Jl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Jl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ql=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Jl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Jl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Jl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},zl=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Jl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Jl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Jl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wl=function(e,t){switch(t){case 0:return Gl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Gl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Gl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Gl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Gl=function(e,t){var n=[];return kl(e)?n.push(e.subdivide(.5,!1)):n.push(e),kl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Jl=function(e,t,n,r){var s=[];return kl(e)?s.push(e.subdivide(.5,!1)):s.push(e),kl(n)?s.push(n.subdivide(.5,!0)):s.push(n),kl(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),kl(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},Xl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Yl=function(e){var t=e.styles,n=e.bounds,r=Wn(t.paddingLeft,n.width),s=Wn(t.paddingRight,n.width),i=Wn(t.paddingTop,n.width),o=Wn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+i+o))},Zl=function(e,t){return 0===e?t.bounds:2===e?Yl(t):Xl(t)},$l=function(e,t){return 0===e?t.bounds:2===e?Yl(t):Xl(t)},ec=function(e,t,n){var r=Zl(sc(e.styles.backgroundOrigin,t),e),s=$l(sc(e.styles.backgroundClip,t),e),i=rc(sc(e.styles.backgroundSize,t),n,r),o=i[0],a=i[1],l=zn(sc(e.styles.backgroundPosition,t),r.width-o,r.height-a);return[ic(sc(e.styles.backgroundRepeat,t),l,i,r,s),Math.round(r.left+l[0]),Math.round(r.top+l[1]),o,a]},tc=function(e){return jn(e)&&e.value===Pr.AUTO},nc=function(e){return"number"===typeof e},rc=function(e,t,n){var r=t[0],s=t[1],i=t[2],o=e[0],a=e[1];if(!o)return[0,0];if(Mn(o)&&a&&Mn(a))return[Wn(o,n.width),Wn(a,n.height)];var l=nc(i);if(jn(o)&&(o.value===Pr.CONTAIN||o.value===Pr.COVER))return nc(i)?n.width/n.height<i!==(o.value===Pr.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var c=nc(r),A=nc(s),u=c||A;if(tc(o)&&(!a||tc(a)))return c&&A?[r,s]:l||u?u&&l?[c?r:s*i,A?s:r/i]:[c?r:n.width,A?s:n.height]:[n.width,n.height];if(l){var d=0,h=0;return Mn(o)?d=Wn(o,n.width):Mn(a)&&(h=Wn(a,n.height)),tc(o)?d=h*i:a&&!tc(a)||(h=d/i),[d,h]}var f=null,g=null;if(Mn(o)?f=Wn(o,n.width):a&&Mn(a)&&(g=Wn(a,n.height)),null===f||a&&!tc(a)||(g=c&&A?f/r*s:n.height),null!==g&&tc(o)&&(f=c&&A?g/s*r:n.width),null!==f&&null!==g)return[f,g];throw new Error("Unable to calculate background-size for element")},sc=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},ic=function(e,t,n,r,s){var i=t[0],o=t[1],a=n[0],l=n[1];switch(e){case 2:return[new bl(Math.round(r.left),Math.round(r.top+o)),new bl(Math.round(r.left+r.width),Math.round(r.top+o)),new bl(Math.round(r.left+r.width),Math.round(l+r.top+o)),new bl(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new bl(Math.round(r.left+i),Math.round(r.top)),new bl(Math.round(r.left+i+a),Math.round(r.top)),new bl(Math.round(r.left+i+a),Math.round(r.height+r.top)),new bl(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new bl(Math.round(r.left+i),Math.round(r.top+o)),new bl(Math.round(r.left+i+a),Math.round(r.top+o)),new bl(Math.round(r.left+i+a),Math.round(r.top+o+l)),new bl(Math.round(r.left+i),Math.round(r.top+o+l))];default:return[new bl(Math.round(s.left),Math.round(s.top)),new bl(Math.round(s.left+s.width),Math.round(s.top)),new bl(Math.round(s.left+s.width),Math.round(s.height+s.top)),new bl(Math.round(s.left),Math.round(s.height+s.top))]}},oc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ac="Hidden Text",lc=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),r.src=oc,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(ac)),n.appendChild(s),n.appendChild(r);var o=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(ac)),n.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:a}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),cc=function(){function e(e,t){this.context=e,this.options=t}return e}(),Ac=1e4,uc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lc(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),Pl(e)&&(this.ctx.globalAlpha=e.opacity),Ll(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ul(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return si(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fo(e.text).reduce(function(t,s){return r.ctx.fillText(s,t,e.bounds.top+n),t+r.ctx.measureText(s).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=pc(e.fontFamily).join(", "),r=In(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,i,o,a,l,c,A,u=this;return s(this,function(s){return n=this.createFontStyle(t),r=n[0],i=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(i,o),l=a.baseline,c=a.middle,A=t.paintOrder,e.textBounds.forEach(function(e){A.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=sr(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=sr(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=sr(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=sr(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Yl(e),s=Fl(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,i,a,l,c,A,u,d,h,f,g,p,m,y,v,w,x;return s(this,function(s){switch(s.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,i=t.styles,a=0,l=t.textNodes,s.label=1;case 1:return a<l.length?(c=l[a],[4,this.renderTextNode(c,i)]):[3,4];case 2:s.sent(),s.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof Ro))return[3,8];s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return y=s.sent(),this.renderReplacedElement(t,r,y),[3,8];case 7:return s.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Do&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Mo))return[3,12];s.label=9;case 9:return s.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return y=s.sent(),this.renderReplacedElement(t,r,y),[3,12];case 11:return s.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ta&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:A=s.sent(),t.width&&t.height&&this.ctx.drawImage(A,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),s.label=14;case 14:if(t instanceof Zo&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Go?t.checked&&(this.ctx.save(),this.path([new bl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new bl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new bl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new bl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new bl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new bl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new bl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=sr(Yo),this.ctx.fill(),this.ctx.restore()):t.type===Jo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=sr(Yo),this.ctx.fill(),this.ctx.restore())),dc(t)&&t.value.length){switch(d=this.createFontStyle(i),w=d[0],h=d[1],f=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=sr(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fc(t.styles.textAlign),x=Yl(t),g=0,t.styles.textAlign){case 1:g+=x.width/2;break;case 2:g+=x.width}p=x.add(g,0,0,-x.height/2+1),this.ctx.save(),this.path([new bl(x.left,x.top),new bl(x.left+x.width,x.top),new bl(x.left+x.width,x.top+x.height),new bl(x.left,x.top+x.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Eo(t.value,p),i.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!si(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];y=void 0,v=m.url,s.label=15;case 15:return s.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return y=s.sent(),this.ctx.drawImage(y,t.bounds.left-(y.width+10),t.bounds.top),[3,18];case 17:return s.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(w=this.createFontStyle(i)[0],this.ctx.font=w,this.ctx.fillStyle=sr(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",x=new o(t.bounds.left,t.bounds.top+Wn(t.styles.paddingTop,t.bounds.width),t.bounds.width,xs(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Eo(e.listValue,x),i.letterSpacing,xs(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),s.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,o,a,l,c,A,u,d,h,f,g,p;return s(this,function(s){switch(s.label){case 0:return si(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:s.sent(),t=0,n=e.negativeZIndex,s.label=2;case 2:return t<n.length?(p=n[t],[4,this.renderStack(p)]):[3,5];case 3:s.sent(),s.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:s.sent(),r=0,i=e.nonInlineLevel,s.label=7;case 7:return r<i.length?(p=i[r],[4,this.renderNode(p)]):[3,10];case 8:s.sent(),s.label=9;case 9:return r++,[3,7];case 10:o=0,a=e.nonPositionedFloats,s.label=11;case 11:return o<a.length?(p=a[o],[4,this.renderStack(p)]):[3,14];case 12:s.sent(),s.label=13;case 13:return o++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,s.label=15;case 15:return l<c.length?(p=c[l],[4,this.renderStack(p)]):[3,18];case 16:s.sent(),s.label=17;case 17:return l++,[3,15];case 18:A=0,u=e.inlineLevel,s.label=19;case 19:return A<u.length?(p=u[A],[4,this.renderNode(p)]):[3,22];case 20:s.sent(),s.label=21;case 21:return A++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,s.label=23;case 23:return d<h.length?(p=h[d],[4,this.renderStack(p)]):[3,26];case 24:s.sent(),s.label=25;case 25:return d++,[3,23];case 26:f=0,g=e.positiveZIndex,s.label=27;case 27:return f<g.length?(p=g[f],[4,this.renderStack(p)]):[3,30];case 28:s.sent(),s.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=kl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),kl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var s=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return s.width=Math.max(1,t),s.height=Math.max(1,n),s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),s},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,o,a;return s(this,function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var i,o,a,l,c,A,u,d,h,f,g,p,m,y,v,w,x,b,C,B,k,E,N,S,_,F,I,T,j,L,U;return s(this,function(s){switch(s.label){case 0:if(0!==n.type)return[3,5];i=void 0,o=n.url,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return i=s.sent(),[3,4];case 3:return s.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return i&&(a=ec(e,t,[i.width,i.height,i.width/i.height]),w=a[0],E=a[1],N=a[2],C=a[3],B=a[4],y=r.ctx.createPattern(r.resizeImage(i,C,B),"repeat"),r.renderRepeat(w,y,E,N)),[3,6];case 5:Tr(n)?(l=ec(e,t,[null,null,null]),w=l[0],E=l[1],N=l[2],C=l[3],B=l[4],c=yr(n.angle,C,B),A=c[0],u=c[1],d=c[2],h=c[3],f=c[4],(g=document.createElement("canvas")).width=C,g.height=B,p=g.getContext("2d"),m=p.createLinearGradient(u,h,d,f),pr(n.stops,A).forEach(function(e){return m.addColorStop(e.stop,sr(e.color))}),p.fillStyle=m,p.fillRect(0,0,C,B),C>0&&B>0&&(y=r.ctx.createPattern(g,"repeat"),r.renderRepeat(w,y,E,N))):jr(n)&&(v=ec(e,t,[null,null,null]),w=v[0],x=v[1],b=v[2],C=v[3],B=v[4],k=0===n.position.length?[Kn]:n.position,E=Wn(k[0],C),N=Wn(k[k.length-1],B),S=xr(n,E,N,C,B),_=S[0],F=S[1],_>0&&F>0&&(I=r.ctx.createRadialGradient(x+E,b+N,0,x+E,b+N,_),pr(n.stops,2*_).forEach(function(e){return I.addColorStop(e.stop,sr(e.color))}),r.path(w),r.ctx.fillStyle=I,_!==F?(T=e.bounds.left+.5*e.bounds.width,j=e.bounds.top+.5*e.bounds.height,U=1/(L=F/_),r.ctx.save(),r.ctx.translate(T,j),r.ctx.transform(1,0,0,L,0,0),r.ctx.translate(-T,-j),r.ctx.fillRect(x,U*(b-j)+j,C,B*U),r.ctx.restore()):r.ctx.fill())),s.label=6;case 6:return t--,[2]}})},r=this,i=0,o=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return i<o.length?(a=o[i],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){return this.path(Kl(n,t)),this.ctx.fillStyle=sr(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,i){return r(this,void 0,void 0,function(){var r,o;return s(this,function(s){switch(s.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,i)]:[3,2];case 1:return s.sent(),[2];case 2:return r=ql(i,n),this.path(r),this.ctx.fillStyle=sr(e),this.ctx.fill(),o=zl(i,n),this.path(o),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,i,o,a,l,c,A=this;return s(this,function(s){switch(s.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],i=hc(sc(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=sr(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:s.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){A.ctx.save();var n=Sl(e.curves),r=t.inset?0:Ac,s=Ol(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(A.path(n),A.ctx.clip(),A.mask(s)):(A.mask(n),A.ctx.clip(),A.path(s)),A.ctx.shadowOffsetX=t.offsetX.number+r,A.ctx.shadowOffsetY=t.offsetY.number,A.ctx.shadowColor=sr(t.color),A.ctx.shadowBlur=t.blur.number,A.ctx.fillStyle=t.inset?sr(t.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),s.label=2;case 2:o=0,a=0,l=r,s.label=3;case 3:return a<l.length?0!==(c=l[a]).style&&!rr(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return s.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,3)];case 6:return s.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,e.curves)];case 8:return s.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,e.curves)];case 10:s.sent(),s.label=11;case 11:o++,s.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,i,o){return r(this,void 0,void 0,function(){var r,a,l,c,A,u,d,h,f,g,p,m,y,v,w,x;return s(this,function(s){return this.ctx.save(),r=Wl(i,n),a=Kl(i,n),2===o&&(this.path(a),this.ctx.clip()),kl(a[0])?(l=a[0].start.x,c=a[0].start.y):(l=a[0].x,c=a[0].y),kl(a[1])?(A=a[1].end.x,u=a[1].end.y):(A=a[1].x,u=a[1].y),d=0===n||2===n?Math.abs(l-A):Math.abs(c-u),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(a.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===o&&(h=t,f=t),g=!0,d<=2*h?g=!1:d<=2*h+f?(h*=p=d/(2*h+f),f*=p):(m=Math.floor((d+f)/(h+f)),y=(d-m*h)/(m-1),f=(v=(d-(m+1)*h)/m)<=0||Math.abs(f-y)<Math.abs(f-v)?y:v),g&&(3===o?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=sr(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(kl(a[0])&&(w=a[3],x=a[0],this.ctx.beginPath(),this.formatPath([new bl(w.end.x,w.end.y),new bl(x.start.x,x.start.y)]),this.ctx.stroke()),kl(a[1])&&(w=a[1],x=a[2],this.ctx.beginPath(),this.formatPath([new bl(w.end.x,w.end.y),new bl(x.start.x,x.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Vl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(cc),dc=function(e){return e instanceof ea||e instanceof $o||e instanceof Zo&&e.type!==Jo&&e.type!==Go},hc=function(e,t){switch(e){case 0:return Sl(t);case 2:return _l(t);default:return Fl(t)}},fc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},gc=["-apple-system","system-ui"],pc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===gc.indexOf(e)}):e},mc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return t=Co(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,yc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(cc),yc=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},vc=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,i([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),wc=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new vc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new hl(this,t)}return e.instanceCount=1,e}(),xc=function(e,t){return void 0===t&&(t={}),bc(e,t)};"undefined"!==typeof window&&dl.setContext(window);var bc=function(e,t){return r(void 0,void 0,void 0,function(){var r,i,c,A,u,d,h,f,g,p,m,y,v,w,x,b,C,B,k,E,N,S,_,F,I,T,j,L,U,P,Q,O,R,D,M,H,V,K;return s(this,function(s){switch(s.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(i=r.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(S=t.allowTaint)&&void 0!==S&&S,imageTimeout:null!==(_=t.imageTimeout)&&void 0!==_?_:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},A=n({logging:null===(I=t.logging)||void 0===I||I,cache:t.cache},c),u={windowWidth:null!==(T=t.windowWidth)&&void 0!==T?T:i.innerWidth,windowHeight:null!==(j=t.windowHeight)&&void 0!==j?j:i.innerHeight,scrollX:null!==(L=t.scrollX)&&void 0!==L?L:i.pageXOffset,scrollY:null!==(U=t.scrollY)&&void 0!==U?U:i.pageYOffset},d=new o(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new wc(A,d),f=null!==(P=t.foreignObjectRendering)&&void 0!==P&&P,g={allowTaint:null!==(Q=t.allowTaint)&&void 0!==Q&&Q,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),p=new Ga(h,e,g),(m=p.clonedReferenceElement)?[4,p.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=s.sent(),v=ma(m)||ga(m)?l(m.ownerDocument):a(h,m),w=v.width,x=v.height,b=v.left,C=v.top,B=Cc(h,m,t.backgroundColor),k={canvas:t.canvas,backgroundColor:B,scale:null!==(R=null!==(O=t.scale)&&void 0!==O?O:i.devicePixelRatio)&&void 0!==R?R:1,x:(null!==(D=t.x)&&void 0!==D?D:0)+b,y:(null!==(M=t.y)&&void 0!==M?M:0)+C,width:null!==(H=t.width)&&void 0!==H?H:Math.ceil(w),height:null!==(V=t.height)&&void 0!==V?V:Math.ceil(x)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new mc(h,k).render(m)]):[3,3];case 2:return E=s.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+b+","+C+" with size "+w+"x"+x+" using computed rendering"),h.logger.debug("Starting DOM parsing"),N=ia(h,m),B===N.styles.backgroundColor&&(N.styles.backgroundColor=dr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),[4,new uc(h,k).render(N)];case 4:E=s.sent(),s.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(Ga.destroy(y)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,E]}})})},Cc=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,i=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,o="string"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(s)?rr(i)?o:i:s:o};return xc}()},5475:(e,t,n)=>{"use strict";var r,s;n.d(t,{Kd:()=>h,N_:()=>p});var i=n(5043),o=n(7950),a=n(3216),l=n(1387);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const u=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(v){}new Map;const d=(r||(r=n.t(i,2))).startTransition;(s||(s=n.t(o,2))).flushSync,(r||(r=n.t(i,2))).useId;function h(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();null==o.current&&(o.current=(0,l.zR)({window:s,v5Compat:!0}));let c=o.current,[A,u]=i.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},f=i.useCallback(e=>{h&&d?d(()=>u(e)):u(e)},[u,h]);return i.useLayoutEffect(()=>c.listen(f),[c,f]),i.useEffect(()=>(0,a.V8)(r),[r]),i.createElement(a.Ix,{basename:t,children:n,location:A.location,navigationType:A.action,navigator:c,future:r})}const f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p=i.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:d,state:h,target:p,to:m,preventScrollReset:y,viewTransition:w}=e,x=A(e,u),{basename:b}=i.useContext(a.jb),C=!1;if("string"===typeof m&&g.test(m)&&(n=m,f))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=(0,l.pb)(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:C=!0}catch(v){}let B=(0,a.$P)(m,{relative:s}),k=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:c,viewTransition:A}=void 0===t?{}:t,u=(0,a.Zp)(),d=(0,a.zy)(),h=(0,a.x$)(e,{relative:c});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.AO)(d)===(0,l.AO)(h);u(e,{replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:A})}},[d,u,h,r,s,n,e,o,c,A])}(m,{replace:d,state:h,target:p,preventScrollReset:y,relative:s,viewTransition:w});return i.createElement("a",c({},x,{href:n||B,onClick:C||o?r:function(e){r&&r(e),e.defaultPrevented||k(e)},ref:t,target:p}))});var m,y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m||(m={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(y||(y={}))},6040:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(5043);var r=n(579);const s=e=>{let{message:t="Loading, please wait..."}=e;return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("p",{className:"mt-4 text-lg font-semibold",children:t})]})}},7150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>ue,j6:()=>oe,xZ:()=>ae,om:()=>ie,Sx:()=>he,Dk:()=>fe,Wp:()=>de,KO:()=>ge});var r=n(8812),s=n(443),i=n(1529),o=n(9379);let a,l;const c=new WeakMap,A=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap;let f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return A.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),m(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(y(this),t,...r);return u.set(i,t.sort?t.sort():[t]),m(i)}}function p(e){return"function"===typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(A.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});A.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,f):e);var t}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(m(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),h.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=p(e);return t!==e&&(d.set(e,t),h.set(t,e)),t}const y=e=>h.get(e);const v=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],x=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(x.get(t))return x.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!v.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),s&&t.done]))[0]};return x.set(t,i),i}f=(e=>(0,o.A)((0,o.A)({},e),{},{get:(t,n,r)=>b(t,n)||e.get(t,n,r),has:(t,n)=>!!b(t,n)||e.has(t,n)}))(f);class C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const B="@firebase/app",k="0.13.2",E=new s.Vy("@firebase/app"),N="@firebase/app-compat",S="@firebase/analytics-compat",_="@firebase/analytics",F="@firebase/app-check-compat",I="@firebase/app-check",T="@firebase/auth",j="@firebase/auth-compat",L="@firebase/database",U="@firebase/data-connect",P="@firebase/database-compat",Q="@firebase/functions",O="@firebase/functions-compat",R="@firebase/installations",D="@firebase/installations-compat",M="@firebase/messaging",H="@firebase/messaging-compat",V="@firebase/performance",K="@firebase/performance-compat",q="@firebase/remote-config",z="@firebase/remote-config-compat",W="@firebase/storage",G="@firebase/storage-compat",J="@firebase/firestore",X="@firebase/ai",Y="@firebase/firestore-compat",Z="firebase",$="[DEFAULT]",ee={[B]:"fire-core",[N]:"fire-core-compat",[_]:"fire-analytics",[S]:"fire-analytics-compat",[I]:"fire-app-check",[F]:"fire-app-check-compat",[T]:"fire-auth",[j]:"fire-auth-compat",[L]:"fire-rtdb",[U]:"fire-data-connect",[P]:"fire-rtdb-compat",[Q]:"fire-fn",[O]:"fire-fn-compat",[R]:"fire-iid",[D]:"fire-iid-compat",[M]:"fire-fcm",[H]:"fire-fcm-compat",[V]:"fire-perf",[K]:"fire-perf-compat",[q]:"fire-rc",[z]:"fire-rc-compat",[W]:"fire-gcs",[G]:"fire-gcs-compat",[J]:"fire-fst",[Y]:"fire-fst-compat",[X]:"fire-vertex","fire-js":"fire-js",[Z]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function se(e,t){try{e.container.addComponent(t)}catch(n){E.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ie(e){const t=e.name;if(re.has(t))return E.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())se(n,e);for(const n of ne.values())se(n,e);return!0}function oe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ae(e){return null!==e&&void 0!==e&&void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new i.FA("app","Firebase",le);class Ae{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const ue="11.10.0";function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const s=Object.assign({name:$,automaticDataCollectionEnabled:!0},t),o=s.name;if("string"!==typeof o||!o)throw ce.create("bad-app-name",{appName:String(o)});if(n||(n=(0,i.T9)()),!n)throw ce.create("no-options");const a=te.get(o);if(a){if((0,i.bD)(n,a.options)&&(0,i.bD)(s,a.config))return a;throw ce.create("duplicate-app",{appName:o})}const l=new r.h1(o);for(const r of re.values())l.addComponent(r);const c=new Ae(n,s,l);return te.set(o,c),c}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;const t=te.get(e);if(!t&&e===$&&(0,i.T9)())return de();if(!t)throw ce.create("no-app",{appName:e});return t}function fe(){return Array.from(te.values())}function ge(e,t,n){var s;let i=null!==(s=ee[e])&&void 0!==s?s:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void E.warn(e.join(" "))}ie(new r.uA("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const pe="firebase-heartbeat-store";let me=null;function ye(){return me||(me=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=m(o);return r&&o.addEventListener("upgradeneeded",e=>{r(m(o.result),e.oldVersion,e.newVersion,m(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(pe)}catch(n){console.warn(n)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),me}async function ve(e,t){try{const n=(await ye()).transaction(pe,"readwrite"),r=n.objectStore(pe);await r.put(t,we(e)),await n.done}catch(n){if(n instanceof i.g)E.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});E.warn(e.message)}}}function we(e){return"".concat(e.name,"!").concat(e.options.appId)}class xe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ce(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=be();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){E.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=be(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),Be(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Be(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=(0,i.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return E.warn(t),""}}}function be(){return(new Date).toISOString().substring(0,10)}class Ce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,i.zW)()&&(0,i.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ye()).transaction(pe),n=await t.objectStore(pe).get(we(e));return await t.done,n}catch(t){if(t instanceof i.g)E.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});E.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ve(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Be(e){return(0,i.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ke;ke="",ie(new r.uA("platform-logger",e=>new C(e),"PRIVATE")),ie(new r.uA("heartbeat",e=>new xe(e),"PRIVATE")),ge(B,k,ke),ge(B,k,"esm2017"),ge("fire-js","")},7158:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>ie});var r=n(9379);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(s,r))}}}function h(e){return{}.toString.call(e).includes("Object")}function f(e){return"function"===typeof e}var g=d(function(e,t){throw new Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),p={changes:function(e,t){return h(t)||g("changeType"),Object.keys(t).some(function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r})&&g("changeField"),t},selector:function(e){f(e)||g("selectorType")},handler:function(e){f(e)||h(e)||g("handlerType"),h(e)&&Object.values(e).some(function(e){return!f(e)})&&g("handlersType")},initial:function(e){var t;e||g("initialIsRequired"),h(e)||g("initialType"),t=e,Object.keys(t).length||g("initialContent")}};function m(e,t){return f(t)?t(e.current):t}function y(e,t){return e.current=u(u({},e.current),t),t}function v(e,t,n){return f(t)?t(e.current):Object.keys(n).forEach(function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])}),n}const w={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.initial(e),p.handler(t);var n={current:e},r=d(v)(n,t),s=d(y)(n),i=d(p.changes)(e),o=d(m)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return p.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}(r,s,i,o)(e)}]}};const x={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};const b=function(e){return{}.toString.call(e).includes("Object")};var C={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},B=function(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(s,r))}}}(function(e,t){throw new Error(e[t]||e.default)})(C),k={config:function(e){return e||B("configIsRequired"),b(e)||B("configType"),e.urls?(console.warn(C.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const E=k;const N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}};const S=function e(t,n){return Object.keys(n).forEach(function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))}),o(o({},t),n)};var _={type:"cancelation",msg:"operation is manually canceled"};const F=function(e){var t=!1,n=new Promise(function(n,r){e.then(function(e){return t?r(_):n(e)}),e.catch(r)});return n.cancel=function(){return t=!0},n};var I,T,j=w.create({config:x,isInitialized:!1,resolve:null,reject:null,monaco:null}),L=(T=2,function(e){if(Array.isArray(e))return e}(I=j)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,s=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){s=!0,i=l}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return n}}(I,T)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(I,T)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),U=L[0],P=L[1];function Q(e){return document.body.appendChild(e)}function O(e){var t=U(function(e){return{config:e.config,reject:e.reject}}),n=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function R(){var e=U(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){D(t),e.resolve(t)},function(t){e.reject(t)})}function D(e){U().monaco||P({monaco:e})}var M=new Promise(function(e,t){return P({resolve:e,reject:t})}),H={config:function(e){var t=E.config(e),n=t.monaco,r=a(t,["monaco"]);P(function(e){return{config:S(e.config,r),monaco:n}})},init:function(){var e=U(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(P({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),F(M);if(window.monaco&&window.monaco.editor)return D(window.monaco),e.resolve(window.monaco),F(M);N(Q,O)(R)}return F(M)},__getMonacoInstance:function(){return U(function(e){return e.monaco})}};const V=H;var K=n(5043),q={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},z={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var W=function(e){let{children:t}=e;return K.createElement("div",{style:z.container},t)};var G=function(e){let{width:t,height:n,isEditorReady:s,loading:i,_ref:o,className:a,wrapperProps:l}=e;return K.createElement("section",(0,r.A)({style:(0,r.A)((0,r.A)({},q.wrapper),{},{width:t,height:n})},l),!s&&K.createElement(W,null,i),K.createElement("div",{ref:o,style:(0,r.A)((0,r.A)({},q.fullWidth),!s&&q.hide),className:a}))},J=(0,K.memo)(G);var X=function(e){(0,K.useEffect)(e,[])};var Y=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,K.useRef)(!0);(0,K.useEffect)(r.current||!n?()=>{r.current=!1}:e,t)};function Z(){}function $(e,t,n,r){return function(e,t){return e.editor.getModel(ee(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?ee(e,r):void 0)}(e,t,n,r)}function ee(e,t){return e.Uri.parse(t)}var te=function(e){let{original:t,modified:n,language:s,originalLanguage:i,modifiedLanguage:o,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:A=!1,theme:u="light",loading:d="Loading...",options:h={},height:f="100%",width:g="100%",className:p,wrapperProps:m={},beforeMount:y=Z,onMount:v=Z}=e,[w,x]=(0,K.useState)(!1),[b,C]=(0,K.useState)(!0),B=(0,K.useRef)(null),k=(0,K.useRef)(null),E=(0,K.useRef)(null),N=(0,K.useRef)(v),S=(0,K.useRef)(y),_=(0,K.useRef)(!1);X(()=>{let e=V.init();return e.then(e=>(k.current=e)&&C(!1)).catch(e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)),()=>B.current?function(){var e,t,n,r;let s=null===(e=B.current)||void 0===e?void 0:e.getModel();c||null!==s&&void 0!==s&&null!==(t=s.original)&&void 0!==t&&t.dispose(),A||null!==s&&void 0!==s&&null!==(n=s.modified)&&void 0!==n&&n.dispose(),null===(r=B.current)||void 0===r||r.dispose()}():e.cancel()}),Y(()=>{if(B.current&&k.current){let e=B.current.getOriginalEditor(),n=$(k.current,t||"",i||s||"text",a||"");n!==e.getModel()&&e.setModel(n)}},[a],w),Y(()=>{if(B.current&&k.current){let e=B.current.getModifiedEditor(),t=$(k.current,n||"",o||s||"text",l||"");t!==e.getModel()&&e.setModel(t)}},[l],w),Y(()=>{let e=B.current.getModifiedEditor();e.getOption(k.current.editor.EditorOption.readOnly)?e.setValue(n||""):n!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[n],w),Y(()=>{var e;null===(e=B.current)||void 0===e||null===(e=e.getModel())||void 0===e||e.original.setValue(t||"")},[t],w),Y(()=>{let{original:e,modified:t}=B.current.getModel();k.current.editor.setModelLanguage(e,i||s||"text"),k.current.editor.setModelLanguage(t,o||s||"text")},[s,i,o],w),Y(()=>{var e;null===(e=k.current)||void 0===e||e.editor.setTheme(u)},[u],w),Y(()=>{var e;null===(e=B.current)||void 0===e||e.updateOptions(h)},[h],w);let F=(0,K.useCallback)(()=>{var e;if(!k.current)return;S.current(k.current);let r=$(k.current,t||"",i||s||"text",a||""),c=$(k.current,n||"",o||s||"text",l||"");null===(e=B.current)||void 0===e||e.setModel({original:r,modified:c})},[s,n,o,t,i,a,l]),I=(0,K.useCallback)(()=>{var e;!_.current&&E.current&&(B.current=k.current.editor.createDiffEditor(E.current,(0,r.A)({automaticLayout:!0},h)),F(),null!==(e=k.current)&&void 0!==e&&e.editor.setTheme(u),x(!0),_.current=!0)},[h,u,F]);return(0,K.useEffect)(()=>{w&&N.current(B.current,k.current)},[w]),(0,K.useEffect)(()=>{!b&&!w&&I()},[b,w,I]),K.createElement(J,{width:g,height:f,isEditorReady:w,loading:d,_ref:E,className:p,wrapperProps:m})};(0,K.memo)(te);var ne=function(e){let t=(0,K.useRef)();return(0,K.useEffect)(()=>{t.current=e},[e]),t.current},re=new Map;var se=function(e){let{defaultValue:t,defaultLanguage:n,defaultPath:s,value:i,language:o,path:a,theme:l="light",line:c,loading:A="Loading...",options:u={},overrideServices:d={},saveViewState:h=!0,keepCurrentModel:f=!1,width:g="100%",height:p="100%",className:m,wrapperProps:y={},beforeMount:v=Z,onMount:w=Z,onChange:x,onValidate:b=Z}=e,[C,B]=(0,K.useState)(!1),[k,E]=(0,K.useState)(!0),N=(0,K.useRef)(null),S=(0,K.useRef)(null),_=(0,K.useRef)(null),F=(0,K.useRef)(w),I=(0,K.useRef)(v),T=(0,K.useRef)(),j=(0,K.useRef)(i),L=ne(a),U=(0,K.useRef)(!1),P=(0,K.useRef)(!1);X(()=>{let e=V.init();return e.then(e=>(N.current=e)&&E(!1)).catch(e=>"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)),()=>S.current?function(){var e,t;null!==(e=T.current)&&void 0!==e&&e.dispose(),f?h&&re.set(a,S.current.saveViewState()):null===(t=S.current.getModel())||void 0===t||t.dispose(),S.current.dispose()}():e.cancel()}),Y(()=>{var e,r,l,c;let A=$(N.current,t||i||"",n||o||"",a||s||"");A!==(null===(e=S.current)||void 0===e?void 0:e.getModel())&&(h&&re.set(L,null===(r=S.current)||void 0===r?void 0:r.saveViewState()),null!==(l=S.current)&&void 0!==l&&l.setModel(A),h&&(null===(c=S.current)||void 0===c||c.restoreViewState(re.get(a))))},[a],C),Y(()=>{var e;null===(e=S.current)||void 0===e||e.updateOptions(u)},[u],C),Y(()=>{!S.current||void 0===i||(S.current.getOption(N.current.editor.EditorOption.readOnly)?S.current.setValue(i):i!==S.current.getValue()&&(P.current=!0,S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),S.current.pushUndoStop(),P.current=!1))},[i],C),Y(()=>{var e,t;let n=null===(e=S.current)||void 0===e?void 0:e.getModel();n&&o&&(null===(t=N.current)||void 0===t||t.editor.setModelLanguage(n,o))},[o],C),Y(()=>{var e;void 0!==c&&(null===(e=S.current)||void 0===e||e.revealLine(c))},[c],C),Y(()=>{var e;null===(e=N.current)||void 0===e||e.editor.setTheme(l)},[l],C);let Q=(0,K.useCallback)(()=>{if(_.current&&N.current&&!U.current){var e;I.current(N.current);let A=a||s,f=$(N.current,i||t||"",n||o||"",A||"");S.current=null===(e=N.current)||void 0===e?void 0:e.editor.create(_.current,(0,r.A)({model:f,automaticLayout:!0},u),d),h&&S.current.restoreViewState(re.get(A)),N.current.editor.setTheme(l),void 0!==c&&S.current.revealLine(c),B(!0),U.current=!0}},[t,n,s,i,o,a,u,d,h,l,c]);return(0,K.useEffect)(()=>{C&&F.current(S.current,N.current)},[C]),(0,K.useEffect)(()=>{!k&&!C&&Q()},[k,C,Q]),j.current=i,(0,K.useEffect)(()=>{var e,t;C&&x&&(null!==(e=T.current)&&void 0!==e&&e.dispose(),T.current=null===(t=S.current)||void 0===t?void 0:t.onDidChangeModelContent(e=>{P.current||x(S.current.getValue(),e)}))},[C,x]),(0,K.useEffect)(()=>{if(C){let e=N.current.editor.onDidChangeMarkers(e=>{var t;let n=null===(t=S.current.getModel())||void 0===t?void 0:t.uri;if(n&&e.find(e=>e.path===n.path)){let e=N.current.editor.getModelMarkers({resource:n});null===b||void 0===b||b(e)}});return()=>{null===e||void 0===e||e.dispose()}}return()=>{}},[C,b]),K.createElement(J,{width:g,height:p,isEditorReady:C,loading:A,_ref:_,className:m,wrapperProps:y})},ie=(0,K.memo)(se)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,A=e[c];if(0>i(l,n))c<s&&0>i(A,l)?(e[r]=A,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>i(A,n)))break e;e[r]=A,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],A=[],u=1,d=null,h=3,f=!1,g=!1,p=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(A);null!==t;){if(null===t.callback)s(A);else{if(!(t.startTime<=e))break;s(A),t.sortIndex=t.expirationTime,n(c,t)}t=r(A)}}function x(e){if(p=!1,w(e),!g)if(null!==r(c))g=!0,j(b);else{var t=r(A);null!==t&&L(x,t.startTime-e)}}function b(e,n){g=!1,p&&(p=!1,y(E),E=-1),f=!0;var i=h;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!_());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&s(c),w(n)}else s(c);d=r(c)}if(null!==d)var l=!0;else{var u=r(A);null!==u&&L(x,u.startTime-n),l=!1}return l}finally{d=null,h=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,B=!1,k=null,E=-1,N=5,S=-1;function _(){return!(t.unstable_now()-S<N)}function F(){if(null!==k){var e=t.unstable_now();S=e;var n=!0;try{n=k(!0,e)}finally{n?C():(B=!1,k=null)}}else B=!1}if("function"===typeof v)C=function(){v(F)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,T=I.port2;I.port1.onmessage=F,C=function(){T.postMessage(null)}}else C=function(){m(F,0)};function j(e){k=e,B||(B=!0,C())}function L(e,n){E=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,j(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>o?(e.sortIndex=i,n(A,e),null===r(c)&&e===r(A)&&(p?(y(E),E=-1):p=!0,L(x,i-o))):(e.sortIndex=a,n(c,e),g||f||(g=!0,j(b))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>a,uA:()=>s});var r=n(1529);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const i="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===i?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4467);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9586:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,N:()=>a});var r=n(5043),s=n(579);const i=(0,r.createContext)({theme:"light",toggleTheme:()=>{}}),o=()=>(0,r.useContext)(i);function a(e){let{children:t}=e;const[n,o]=(0,r.useState)("light"),[a,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=localStorage.getItem("theme");o(e||"light"),l(!0)},[]),(0,r.useEffect)(()=>{a&&(localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark","dark"===n))},[n,a]);return a?(0,s.jsx)(i.Provider,{value:{theme:n,toggleTheme:()=>{o(e=>"light"===e?"dark":"light")}},children:t}):null}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{31:"31fcd36f",50:"c2ffb704",58:"35231ced",103:"c5f12bb2",256:"7496321f",304:"af98bfbf",355:"9707f6f6",389:"3b66185d",409:"1b0fbafe",455:"a2ca5477",495:"c45f971a",547:"a077cb9c",599:"539540a4",977:"9d407f8b"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="coding-platform:";n.l=(r,s,i,o)=>{if(e[r])e[r].push(s);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),A=0;A<c.length;A++){var u=c[A];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[s];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var s=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=i);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,s[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,i,o=r[0],a=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)l(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkcoding_platform=self.webpackChunkcoding_platform||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ge,hasStandardBrowserEnv:()=>Xe,hasStandardBrowserWebWorkerEnv:()=>Ye,navigator:()=>Je,origin:()=>Ze});var t=n(5043),r=n(4391),s=n(3216),i=n(5475),o=n(2339),a=n(1387),l=n(9586),c=n(5187),A=n(791),u=n(3611),d=n(9379);function h(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const f=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},g=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var p={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const m=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],y=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c}=e,A=h(e,m);return(0,t.createElement)("svg",(0,d.A)((0,d.A)((0,d.A)({ref:n},p),{},{width:s,height:s,stroke:r,strokeWidth:o?24*Number(i)/Number(s):i,className:g("lucide",a)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(A)&&{"aria-hidden":"true"}),A),[...c.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),v=["className"],w=(e,n)=>{const r=(0,t.forwardRef)((r,s)=>{let{className:i}=r,o=h(r,v);return(0,t.createElement)(y,(0,d.A)({ref:s,iconNode:n,className:g("lucide-".concat((a=f(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},o));var a});return r.displayName=f(e),r},x=w("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),b=w("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var C=n(184),B=n(1537);var k=n(579);const E=[{pattern:"/problem/:course/:subcourse/:questionId",label:"course/os"},{pattern:"/course/:courseId",label:"course"}],N=()=>{const[e,n]=(0,t.useState)(!1),[r,o]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,g]=(0,t.useState)(navigator.onLine),[p,m]=(0,t.useState)([]),[y,v]=(0,t.useState)(-1),[w,N]=(0,t.useState)({}),[S,_]=(0,t.useState)(null),[F,I]=(0,t.useState)(!1),T=(0,s.zy)(),j=(0,s.Zp)(),{theme:L,toggleTheme:U}=(0,l.D)(),{user:P,loading:Q,logout:O}=(0,c.A)(),R=(0,t.useRef)(null),D=(0,t.useRef)(null);if((0,t.useEffect)(()=>{const e=()=>g(!0),t=()=>g(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),Q)return null;const M=E.map(e=>{let{pattern:t,label:n}=e;const r=(0,a.B6)(t,T.pathname);return r?{pattern:t,label:n,params:r.params}:null}).find(Boolean),H=[{label:"Home",href:"/"},{label:"Courses",href:"/courses"},!d&&P&&{label:"Tests",href:"/test"},d&&{label:"Admin",href:"/admin"},d&&{label:"Students",href:"/adminmonitor"},{label:"Compiler",href:"/compiler"}].filter(Boolean);return(0,t.useEffect)(()=>{(async()=>{if(!P)return h(!1);try{const e=(0,u.KR)(A.OO,"Admins/".concat(P.uid)),t=await(0,u.Jt)(e);h(t.exists())}catch(e){console.error("Error checking admin:",e),h(!1)}})()},[P]),(0,t.useEffect)(()=>{let e=!0;return(async()=>{const t=(0,a.B6)("/problem/:course/:subcourse/:questionId",T.pathname);if(_(t),!t)return void(e&&(m([]),v(-1)));const{course:n,subcourse:r,questionId:s}=t.params;e&&I(!0);try{var i,o;const t=(0,u.KR)(A.OO,"AlgoCore/".concat(n)),a=await(0,u.Jt)(t);if(!a.exists())return;const l=(null===(o=(null===(i=a.val())||void 0===i?void 0:i.lessons)[r.replaceAll("%20"," ")])||void 0===o?void 0:o.questions)||[];if(!e)return;m(l);const c=l.findIndex(e=>e===s||e===s.replaceAll("%20"," "));if(v(c),P){const e=r.replaceAll("%20"," "),t=(0,u.KR)(A.OO,"userprogress/".concat(P.uid,"/").concat(n,"/").concat(e)),s=await(0,u.Jt)(t);N(s.exists()?s.val():{})}}catch(nf){console.error("Navbar question fetch error:",nf)}finally{e&&I(!1)}})(),()=>e=!1},[T.pathname,P]),(0,t.useEffect)(()=>{const t=t=>{r&&R.current&&!R.current.contains(t.target)&&D.current&&!D.current.contains(t.target)&&o(!1),!e||t.target.closest(".mobile-menu-button")||t.target.closest(".mobile-menu")||n(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[r,e]),(0,t.useEffect)(()=>{n(!1),o(!1)},[T]),(0,k.jsx)("nav",{className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-dark-secondary border-b border-gray-200 dark:border-dark-tertiary z-50",children:(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex items-center gap-6",children:[(0,k.jsxs)(i.N_,{to:(null===M||void 0===M?void 0:M.label)||"/",className:"flex items-center gap-2",children:[(0,k.jsx)("img",{src:"dark"===L?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAW2SURBVHgB7Z1NluI2FIVvkkky6sosQ2UFxQ7awwzZQZEVNBlmVOwAsgJYAsNkZHYAvQKzAyqzZOTogZV2ufnRk5+MZd53zj2uqlNgoesrybItAEVRFEVRBsE3SINRTR+q7VNNdd4q7avtZ6td9fsOPaevhmRWH6utq3wpNjiZtK5+Vi6QWS2sDlZlRyqsltW+FZyO/Fd0a8I1cyZWBg9In4w4pyUexJi+G9HUHAM2Zop0jDjXlA0GY5UjLRPOKccA0pJqKi7pUH2m5KC+gtrflCqbozkSwlhtkVYFh6hAAk2YwamgKVTo4E2hKQ4qYAoVKW3KCD2DCjSkzpurA3pkisFjJqOpAj1ovgzUjF6ZUiDNiospGmEGXy74DuHQWPwXKE1+svre6i90CJ2tpnTU3kOdndEbPPaIylcHdNSf5ABKlZdyRGYCoFSxFK3pMtBRVYio6fIedX0Lfz7hQa83t4TM8E6J721ABqd0KGHQ/WE/V9ur+J6H0O05vZtASwg6L/kXHveB+STEQNMhgVdKfPqQDIoEXn2JT0IoHQaKBJSOH6/9w62EZLiDGcYYZFmGGDw9PWE6nWK5XKIoChwOB5RleRT9nOc5FotFrP1TSjK0YIU7jN1Xq1VpK0b0PW0FH9+TgzWsnEwm0p9vgRYUwoW5KZuO/yuEKrHt+9lElPP5vGwDGSNRFnw5UQwiEyoAS5QOR9uUkLlUmVK8vr5Kfc4MASyEds6qwCahR6a0GQ6hJmyGAHKBHQenwxGSklhmbLfbYxMo8FlzBFB2qXPpcHBT0nMzSOx+ZCS041bpcHBSQu18z81wYk1FjYV3HpwOh09KYjRVkcwgTcBgFqEAQelw+KSEOtxEzCCxzkfWkQoRlA7HrZRIpiOyGaQlGOQRC8JOh+NaSkajUSlFB2aQtmCwj1wYdjocl1IS0lzZuatyNpuV4/H4+HpKWEdmkAow6OQ2H046HJdSYicESy6Uqub7dGRGCebQN3qBQtLhOJcSrrnr9bqrir+mr+Dc5CCKbSoQCk2dN6FpdQ67XT+XPbmLIXSt4eXlBaHQ9RLb5r/729vbzfsH3vH8/IyUiBpV7nWJc1AHjAh9SMfyJlqnTu2/FPWZ19BRFl0roTLR6+lAsc1hV2awOvV9rIJIpMNRT0mbQUKTjkwpwCDKY82S6XDUU7Lf70spOjBlAwarGIWQTIejnhI6yZMksilrMBC/WhgjHQ6XEjqpo35BkoimzMBgIl2AGOlw1FMynU5LaSKZMgYD0QtUIengHun1viSG+RFMYd8rLTb05VYQfXhuf9AcccW4jCtsCptcYsch6aAKDekP6imJZQrNDAvUywYBzCQMCUmHe22blDhTaDpdAjo4qH+SqBME3r2Ytd1xaDrc69umJNTYJpvN5l25BJQhkFb9SJt0hFZmMyWopYWm6DnNGBkheAupU3Gtwm89jkDR+oSBQbPNJDu5eJy2p9ljwp7pH0VT89Y89gyyJyurXxFIBtmjQ3WjufJ5YIf1WK9ylT1Oj7VdxOehzx+gj7VJ8RtufEODT0IoHQU0JRJQOvbX/sHnEi71bH9AacsKN8wgfBcO0JS052Y6CN+bHDQl7aC620MYSoeuk8VXAcaTzJwl/v7BaXkIXdaPB42sNohIjrSO0Htqgw4w0KbLR0FL/IWsSkodvDZdt/nd6k90SOePTSekVqs1hEKjrkf4WgquCtwRA12HsWmGwZ0xUFN6Y4ZDv66ip98hUiCtipRKRm/XozTQrzzqHQaPYcoWiS19OOTzFPpsSV6KoFU49Ysle4bBMCYkNxjY6qwTpNm3DCIVlzBIp28hI2Z4kMvWBndagtZDD2VEE4P+NGUPbcQ5MpxS06U5ZMICPboR0Pc2oK7JcHoGj6YkPkIOurj2GacRk1Ov6KshTcgYU21JT9XvH/B1E0OV/ne13dW2ToqiKIqiKPH5D7IkbVvs+AooAAAAAElFTkSuQmCC":B,alt:"AlgoCore Logo",className:"h-8 w-auto"}),(0,k.jsx)("span",{className:"text-xl font-bold text-[#202124] dark:text-white",children:"AlgoCore"})]}),(0,k.jsx)("div",{className:"hidden md:flex items-center gap-6",children:H.map((e,t)=>(0,k.jsx)(i.N_,{to:e.href,className:"text-sm font-medium transition-colors ".concat(T.pathname===e.href?"text-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-gray-100"),children:e.label},t))})]}),(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[S&&p.length>0&&y>=0&&(0,k.jsx)("div",{className:"mr-4 max-w-xs",children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-300 whitespace-nowrap",children:[y+1,"/",p.length]}),(0,k.jsx)("div",{className:"flex items-center gap-1 overflow-x-auto",children:p.map((e,t)=>(0,k.jsx)("button",{type:"button",className:"w-2.5 h-2.5 rounded-full transition-colors flex-shrink-0 ".concat(t===y?"bg-blue-500":w[e]?"bg-green-500":"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500"),onClick:()=>{const{course:t,subcourse:n}=S.params;j("/problem/".concat(t,"/").concat(n,"/").concat(encodeURIComponent(e)))}},t))})]})}),(0,k.jsx)("div",{className:"flex items-center space-x-2",children:f?(0,k.jsx)(x,{className:"w-5 h-5 text-green-600"}):(0,k.jsx)(b,{className:"w-5 h-5 text-red-600"})}),(0,k.jsx)("button",{onClick:U,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-dark-tertiary",children:"dark"===L?(0,k.jsx)(C.wQq,{className:"w-5 h-5 text-yellow-400"}):(0,k.jsx)(C.V6H,{className:"w-5 h-5 text-gray-700"})}),(0,k.jsx)("div",{className:"relative",children:P?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("button",{ref:D,onClick:()=>o(!r),className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-tertiary rounded-full",children:P.photoURL?(0,k.jsx)("img",{src:P.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full"}):(0,k.jsx)(C.NBi,{className:"w-8 h-8 text-gray-700 dark:text-gray-200"})}),r&&(0,k.jsxs)("div",{ref:R,className:"absolute top-12 right-0 w-60 bg-white dark:bg-dark-secondary rounded-lg shadow-lg border border-gray-200 dark:border-dark-tertiary py-2 animate-fadeIn",children:[(0,k.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100 dark:border-dark-tertiary cursor-pointer",onClick:()=>j("/profile"),children:[(0,k.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:P.name||"User"}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:P.email})]}),(0,k.jsx)("button",{onClick:()=>{O(),o(!1),j("/")},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-tertiary",children:"Sign Out"})]})]}):(0,k.jsx)(i.N_,{to:"/login",className:"px-4 py-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition-colors",children:"Sign In"})}),(0,k.jsx)("button",{className:"md:hidden p-2 hover:bg-gray-100 dark:hover:bg-dark-tertiary rounded-full relative mobile-menu-button",onClick:()=>{n(!e),o(!1)},"aria-label":"Toggle menu",children:e?(0,k.jsx)("svg",{className:"w-6 h-6 text-gray-700 dark:text-gray-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,k.jsx)("svg",{className:"w-6 h-6 text-gray-700 dark:text-gray-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e&&(0,k.jsx)("div",{className:"absolute top-16 right-4 w-64 bg-white dark:bg-dark-secondary rounded-lg shadow-lg border border-gray-200 dark:border-dark-tertiary py-2 animate-fadeIn mobile-menu transition-all duration-300",children:H.map((e,t)=>(0,k.jsx)(i.N_,{to:e.href,className:"flex items-center gap-3 px-4 py-3 hover:bg-[#4285F4]/10 hover:text-[#4285F4] transition-colors ".concat(T.pathname===e.href?"bg-[#4285F4]/10 text-[#4285F4]":"text-gray-700 dark:text-gray-200"),onClick:()=>n(!1),children:(0,k.jsx)("span",{children:e.label})},t))})]})]})})},S=e=>{let{children:t}=e;return(0,k.jsxs)("div",{className:"min-h-screen flex flex-col bg-[#F8F9FA] dark:bg-dark-primary transition-colors duration-200",children:[(0,k.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50",children:(0,k.jsx)(N,{})}),(0,k.jsx)("main",{className:"flex-1 pt-16 px-4 overflow-auto",children:t})]})};var _=n(458);const F=()=>{const[e,n]=(0,t.useState)(!0),r=(0,t.useRef)(Date.now()),s=(0,u.C3)(),i=(0,_.xI)();(0,t.useEffect)(()=>{const e=()=>{document.hidden?(n(!1),o()):(n(!0),r.current=Date.now())},t=()=>{o()};return document.addEventListener("visibilitychange",e),window.addEventListener("beforeunload",t),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("beforeunload",t)}},[]);const o=async()=>{if(i.currentUser&&e){const e=Date.now()-r.current;await a(e),r.current=Date.now()}},a=async e=>{if(!i.currentUser)return;const t=i.currentUser.uid,n=(0,u.KR)(s,"Activitytime/".concat(t,"/"));try{const t=await(0,u.Jt)(n),r=(t.exists()?t.val():0)+e;await(0,u.hZ)(n,r)}catch(r){console.error("Error updating active time:",r)}};return(0,t.useEffect)(()=>{const t=setInterval(()=>{e&&i.currentUser&&o()},3e4);return()=>clearInterval(t)},[e]),{isActive:e}},I=e=>{let{children:n}=e;const{user:r}=(0,c.A)(),{isActive:s}=F();return(0,t.useEffect)(()=>{r&&console.log("Activity tracking started for user:",r.uid)},[r]),(0,k.jsx)(k.Fragment,{children:n})};var T=n(7158);const j=()=>(0,k.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),L=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),U=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),P=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Q=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),O=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),R=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),D=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9h8M8 15h8"})}),M=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),H={typescript:"function solve(word: string, k: number): any {\n  // Write your solution here\n}",javascript:"function solve(word, k) {\n  // Write your solution here\n}",python:"def solve(word, k):\n    # Write your solution here\n    pass",java:"public class Solution {\n    public Object solve(String word, int k) {\n        // Write your solution here\n        return null;\n    }\n}",cpp:"\n#include<stdio.h>\nint main() {\n    // Write your solution here\n    return 0;\n}"};function V(e){let{testResults:n=[],runsubmit:r}=e;const[s,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)("not-started"),[c,A]=(0,t.useState)(null),{theme:u}=(0,l.D)();(0,t.useEffect)(()=>{if(n.some(e=>"running"===e.status))return a("running"),void i(!1);if(n.length>0){const e=n.every(e=>e.passed);a(e?"passed":"failed");const t=n.findIndex(e=>!e.passed);A(-1!==t?t:0);const r=setTimeout(()=>i(!0),300);return()=>clearTimeout(r)}},[n]);const d=e=>e||0===e?"string"===typeof e?e.split("\n").map((e,t)=>(0,k.jsx)("div",{className:e?"":"h-5",children:e||" "},t)):String(e):"No output";if("none"===r)return(0,k.jsx)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No tests run yet"})});if("running"===o||!s)return(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[(0,k.jsx)("div",{className:"relative w-20 h-20 mb-6",children:(0,k.jsx)("div",{className:"absolute inset-0 rounded-full border-4 ".concat("dark"===u?"border-blue-400":"border-blue-600"," border-t-transparent animate-spin")})}),(0,k.jsx)("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-2",children:"Running Tests..."}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please wait while we execute your test cases"})]});if(0===n.length)return(0,k.jsx)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No tests run yet"})});const h=n[c],f=!("run"===r||0===c||1===c);return(0,k.jsxs)("div",{className:"w-full max-w-2xl mx-auto space-y-6 text-gray-800 dark:text-gray-100",children:[(0,k.jsx)("div",{className:"text-center mb-2",children:"passed"===o?(0,k.jsx)("h3",{className:"text-green-600 dark:text-green-400 text-lg font-semibold",children:"\u2705 All Tests Passed"}):(0,k.jsxs)("h3",{className:"text-red-600 dark:text-red-400 text-lg font-semibold",children:[n.filter(e=>!e.passed).length," of ",n.length," Tests Failed"]})}),(0,k.jsx)("div",{className:"flex justify-center gap-2 flex-wrap px-2 py-3 rounded-lg border dark:border-gray-700 bg-gray-50 dark:bg-gray-800 shadow-sm",children:n.map((e,t)=>{const n=t===c,s="running"===e.status?"bg-blue-500 text-white":e.passed?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",i=!("run"===r||0===t||1===t);return(0,k.jsxs)("button",{onClick:()=>A(t),className:"relative w-9 h-9 rounded-md flex items-center justify-center text-sm font-semibold transition-all\n                ".concat(s,"\n                ").concat(n?"scale-110 ring-2 ring-offset-2 ring-blue-400 dark:ring-blue-300":"opacity-90 hover:opacity-100 hover:scale-105","\n              "),title:i?"Hidden Test Case #".concat(t+1):"Test Case #".concat(t+1),children:[(0,k.jsx)("span",{children:t+1}),i&&(0,k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3.5 h-3.5 text-gray-700 dark:text-gray-300",children:[(0,k.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,k.jsx)("path",{d:"M7 11V7a5 5 0 0110 0v4"})]})]},t)})}),h&&(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden shadow ".concat(f?"opacity-95":""),children:[(0,k.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between ".concat("dark"===u?"bg-gray-700/50":"bg-gray-100"," border-b ").concat("dark"===u?"border-gray-700":"border-gray-200"),children:[(0,k.jsxs)("h4",{className:"font-medium text-gray-800 dark:text-white",children:["Test Case #",c+1," ",h.passed?"\u2705 Passed":"\u274c Failed"]}),f&&(0,k.jsxs)("div",{className:"flex items-center text-gray-500 dark:text-gray-400 text-sm gap-1",children:[(0,k.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:[(0,k.jsx)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,k.jsx)("path",{d:"M7 11V7a5 5 0 0110 0v4"})]}),(0,k.jsx)("span",{children:"Hidden Case"})]})]}),(0,k.jsxs)("div",{className:"p-4 space-y-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Input"}),(0,k.jsx)("div",{className:"p-3 rounded border font-mono text-sm max-h-40 overflow-y-auto bg-gray-50 dark:bg-gray-900 dark:border-gray-700 text-gray-800 dark:text-gray-100",children:d(h.input)})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"text-sm font-medium text-green-600 dark:text-green-400 mb-1",children:"Expected Output"}),(0,k.jsx)("div",{className:"p-3 rounded border font-mono text-sm bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-gray-800 dark:text-gray-100",children:f?(0,k.jsx)("span",{className:"italic text-gray-400",children:"Hidden"}):d(h.expected)})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-1",children:"Your Output"}),(0,k.jsx)("div",{className:"p-3 rounded border font-mono text-sm bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-gray-800 dark:text-gray-100",children:d(h.output)})]})]})]})]})]})}function K(e,t){return function(){return e.apply(t,arguments)}}const{toString:q}=Object.prototype,{getPrototypeOf:z}=Object,{iterator:W,toStringTag:G}=Symbol,J=(X=Object.create(null),e=>{const t=q.call(e);return X[t]||(X[t]=t.slice(8,-1).toLowerCase())});var X;const Y=e=>(e=e.toLowerCase(),t=>J(t)===e),Z=e=>t=>typeof t===e,{isArray:$}=Array,ee=Z("undefined");const te=Y("ArrayBuffer");const ne=Z("string"),re=Z("function"),se=Z("number"),ie=e=>null!==e&&"object"===typeof e,oe=e=>{if("object"!==J(e))return!1;const t=z(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(G in e)&&!(W in e)},ae=Y("Date"),le=Y("File"),ce=Y("Blob"),Ae=Y("FileList"),ue=Y("URLSearchParams"),[de,he,fe,ge]=["ReadableStream","Request","Response","Headers"].map(Y);function pe(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),$(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let o;for(n=0;n<i;n++)o=r[n],t.call(null,e[o],o,e)}}function me(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const ye="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ve=e=>!ee(e)&&e!==ye;const we=(xe="undefined"!==typeof Uint8Array&&z(Uint8Array),e=>xe&&e instanceof xe);var xe;const be=Y("HTMLFormElement"),Ce=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Be=Y("RegExp"),ke=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};pe(n,(n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)}),Object.defineProperties(e,r)};const Ee=Y("AsyncFunction"),Ne=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],ye.addEventListener("message",e=>{let{source:t,data:s}=e;t===ye&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),ye.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,re(ye.postMessage)),Se="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ye):"undefined"!==typeof process&&process.nextTick||Ne,_e={isArray:$,isArrayBuffer:te,isBuffer:function(e){return null!==e&&!ee(e)&&null!==e.constructor&&!ee(e.constructor)&&re(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||re(e.append)&&("formdata"===(t=J(e))||"object"===t&&re(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&te(e.buffer),t},isString:ne,isNumber:se,isBoolean:e=>!0===e||!1===e,isObject:ie,isPlainObject:oe,isReadableStream:de,isRequest:he,isResponse:fe,isHeaders:ge,isUndefined:ee,isDate:ae,isFile:le,isBlob:ce,isRegExp:Be,isFunction:re,isStream:e=>ie(e)&&re(e.pipe),isURLSearchParams:ue,isTypedArray:we,isFileList:Ae,forEach:pe,merge:function e(){const{caseless:t}=ve(this)&&this||{},n={},r=(r,s)=>{const i=t&&me(n,s)||s;oe(n[i])&&oe(r)?n[i]=e(n[i],r):oe(r)?n[i]=e({},r):$(r)?n[i]=r.slice():n[i]=r};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&pe(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return pe(t,(t,r)=>{n&&re(t)?e[r]=K(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&z(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:J,kindOfTest:Y,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if($(e))return e;let t=e.length;if(!se(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[W]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:be,hasOwnProperty:Ce,hasOwnProp:Ce,reduceDescriptors:ke,freezeMethods:e=>{ke(e,(t,n)=>{if(re(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];re(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return $(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:me,global:ye,isContextDefined:ve,isSpecCompliantForm:function(e){return!!(e&&re(e.append)&&"FormData"===e[G]&&e[W])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ie(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=$(e)?[]:{};return pe(e,(e,t)=>{const i=n(e,r+1);!ee(i)&&(s[t]=i)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:Ee,isThenable:e=>e&&(ie(e)||re(e))&&re(e.then)&&re(e.catch),setImmediate:Ne,asap:Se,isIterable:e=>null!=e&&re(e[W])};function Fe(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}_e.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const Ie=Fe.prototype,Te={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Te[e]={value:e}}),Object.defineProperties(Fe,Te),Object.defineProperty(Ie,"isAxiosError",{value:!0}),Fe.from=(e,t,n,r,s,i)=>{const o=Object.create(Ie);return _e.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Fe.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const je=Fe;function Le(e){return _e.isPlainObject(e)||_e.isArray(e)}function Ue(e){return _e.endsWith(e,"[]")?e.slice(0,-2):e}function Pe(e,t,n){return e?e.concat(t).map(function(e,t){return e=Ue(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Qe=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});const Oe=function(e,t,n){if(!_e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!_e.isUndefined(t[e])})).metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&_e.isSpecCompliantForm(t);if(!_e.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(_e.isDate(e))return e.toISOString();if(_e.isBoolean(e))return e.toString();if(!a&&_e.isBlob(e))throw new je("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(e)||_e.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let a=e;if(e&&!s&&"object"===typeof e)if(_e.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(_e.isArray(e)&&function(e){return _e.isArray(e)&&!e.some(Le)}(e)||(_e.isFileList(e)||_e.endsWith(n,"[]"))&&(a=_e.toArray(e)))return n=Ue(n),a.forEach(function(e,r){!_e.isUndefined(e)&&null!==e&&t.append(!0===o?Pe([n],r,i):null===o?n:n+"[]",l(e))}),!1;return!!Le(e)||(t.append(Pe(s,n,i),l(e)),!1)}const A=[],u=Object.assign(Qe,{defaultVisitor:c,convertValue:l,isVisitable:Le});if(!_e.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!_e.isUndefined(n)){if(-1!==A.indexOf(n))throw Error("Circular reference detected in "+r.join("."));A.push(n),_e.forEach(n,function(n,i){!0===(!(_e.isUndefined(n)||null===n)&&s.call(t,n,_e.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])}),A.pop()}}(e),t};function Re(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function De(e,t){this._pairs=[],e&&Oe(e,this,t)}const Me=De.prototype;Me.append=function(e,t){this._pairs.push([e,t])},Me.toString=function(e){const t=e?function(t){return e.call(this,t,Re)}:Re;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const He=De;function Ve(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ke(e,t,n){if(!t)return e;const r=n&&n.encode||Ve;_e.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):_e.isURLSearchParams(t)?t.toString():new He(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const qe=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(t){null!==t&&e(t)})}},ze={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},We={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:He,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ge="undefined"!==typeof window&&"undefined"!==typeof document,Je="object"===typeof navigator&&navigator||void 0,Xe=Ge&&(!Je||["ReactNative","NativeScript","NS"].indexOf(Je.product)<0),Ye="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ze=Ge&&window.location.href||"http://localhost",$e=(0,d.A)((0,d.A)({},e),We);const et=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),a=s>=e.length;if(i=!i&&_e.isArray(r)?r.length:i,a)return _e.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!o;r[i]&&_e.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&_e.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!o}if(_e.isFormData(e)&&_e.isFunction(e.entries)){const n={};return _e.forEachEntry(e,(e,r)=>{t(function(e){return _e.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const tt={transitional:ze,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=_e.isObject(e);s&&_e.isHTMLForm(e)&&(e=new FormData(e));if(_e.isFormData(e))return r?JSON.stringify(et(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Oe(e,new $e.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return $e.isNode&&_e.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=_e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Oe(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(_e.isString(e))try{return(t||JSON.parse)(e),_e.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||tt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(s){if(n){if("SyntaxError"===s.name)throw je.from(s,je.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],e=>{tt.headers[e]={}});const nt=tt,rt=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),st=Symbol("internals");function it(e){return e&&String(e).trim().toLowerCase()}function ot(e){return!1===e||null==e?e:_e.isArray(e)?e.map(ot):String(e)}function at(e,t,n,r,s){return _e.isFunction(r)?r.call(this,t,n):(s&&(t=n),_e.isString(t)?_e.isString(r)?-1!==t.indexOf(r):_e.isRegExp(r)?r.test(t):void 0:void 0)}class lt{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=it(t);if(!s)throw new Error("header name must be a non-empty string");const i=_e.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=ot(e))}const i=(e,t)=>_e.forEach(e,(e,n)=>s(e,n,t));if(_e.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(_e.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&rt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(_e.isObject(e)&&_e.isIterable(e)){let n,r,s={};for(const t of e){if(!_e.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?_e.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=it(e)){const n=_e.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(_e.isFunction(t))return t.call(this,e,n);if(_e.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=it(e)){const n=_e.findKey(this,e);return!(!n||void 0===this[n]||t&&!at(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=it(e)){const s=_e.findKey(n,e);!s||t&&!at(0,n[s],s,t)||(delete n[s],r=!0)}}return _e.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!at(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return _e.forEach(this,(r,s)=>{const i=_e.findKey(n,s);if(i)return t[i]=ot(r),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();o!==s&&delete t[s],t[o]=ot(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return _e.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&_e.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[st]=this[st]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=it(e);t[r]||(!function(e,t){const n=_e.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return _e.isArray(e)?e.forEach(r):r(e),this}}lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_e.reduceDescriptors(lt.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),_e.freezeMethods(lt);const ct=lt;function At(e,t){const n=this||nt,r=t||n,s=ct.from(r.headers);let i=r.data;return _e.forEach(e,function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function ut(e){return!(!e||!e.__CANCEL__)}function dt(e,t,n){je.call(this,null==e?"canceled":e,je.ERR_CANCELED,t,n),this.name="CanceledError"}_e.inherits(dt,je,{__CANCEL__:!0});const ht=dt;function ft(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new je("Request failed with status code "+n.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const gt=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];s||(s=l),n[i]=a,r[i]=l;let A=o,u=0;for(;A!==i;)u+=n[A++],A%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-s<t)return;const d=c&&l-c;return d?Math.round(1e3*u/d):void 0}};const pt=function(e,t){let n,r,s=0,i=1e3/t;const o=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=i?o(l,e):(n=l,r||(r=setTimeout(()=>{r=null,o(n)},i-t)))},()=>n&&o(n)]},mt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=gt(50,250);return pt(n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,a=i-r,l=s(a);r=i;e({loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&i<=o?(o-i)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},yt=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},vt=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _e.asap(()=>e(...n))},wt=$e.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$e.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0,xt=$e.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];_e.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),_e.isString(r)&&o.push("path="+r),_e.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bt(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ct=e=>e instanceof ct?(0,d.A)({},e):e;function Bt(e,t){t=t||{};const n={};function r(e,t,n,r){return _e.isPlainObject(e)&&_e.isPlainObject(t)?_e.merge.call({caseless:r},e,t):_e.isPlainObject(t)?_e.merge({},t):_e.isArray(t)?t.slice():t}function s(e,t,n,s){return _e.isUndefined(t)?_e.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!_e.isUndefined(t))return r(void 0,t)}function o(e,t){return _e.isUndefined(t)?_e.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,n)=>s(Ct(e),Ct(t),0,!0)};return _e.forEach(Object.keys(Object.assign({},e,t)),function(r){const i=l[r]||s,o=i(e[r],t[r],r);_e.isUndefined(o)&&i!==a||(n[r]=o)}),n}const kt=e=>{const t=Bt({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=ct.from(a),t.url=Ke(bt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_e.isFormData(r))if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if($e.hasStandardBrowserEnv&&(s&&_e.isFunction(s)&&(s=s(t)),s||!1!==s&&wt(t.url))){const e=i&&o&&xt.read(o);e&&a.set(i,e)}return t},Et="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=kt(e);let s=r.data;const i=ct.from(r.headers).normalize();let o,a,l,c,A,{responseType:u,onUploadProgress:d,onDownloadProgress:h}=r;function f(){c&&c(),A&&A(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let g=new XMLHttpRequest;function p(){if(!g)return;const r=ct.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());ft(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=p:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(p)},g.onabort=function(){g&&(n(new je("Request aborted",je.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new je("Network Error",je.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||ze;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new je(t,s.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,e,g)),g=null},void 0===s&&i.setContentType(null),"setRequestHeader"in g&&_e.forEach(i.toJSON(),function(e,t){g.setRequestHeader(t,e)}),_e.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),u&&"json"!==u&&(g.responseType=r.responseType),h&&([l,A]=mt(h,!0),g.addEventListener("progress",l)),d&&g.upload&&([a,c]=mt(d),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{g&&(n(!t||t.type?new ht(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);m&&-1===$e.protocols.indexOf(m)?n(new je("Unsupported protocol "+m+":",je.ERR_BAD_REQUEST,e)):g.send(s||null)})},Nt=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof je?t:new ht(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,s(new je("timeout ".concat(t," of ms exceeded"),je.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:a}=r;return a.unsubscribe=()=>_e.asap(o),a}};function St(e,t){this.v=e,this.k=t}function _t(e){return function(){return new Ft(e.apply(this,arguments))}}function Ft(e){var t,n;function r(t,n){try{var i=e[t](n),o=i.value,a=o instanceof St;Promise.resolve(a?o.v:o).then(function(n){if(a){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}s(i.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(i,o){var a={key:e,arg:s,resolve:i,reject:o,next:null};n?n=n.next=a:(t=n=a,r(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function It(e){return new St(e,0)}function Tt(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new St(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function jt(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Lt(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Lt(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Lt=function(e){this.s=e,this.n=e.next},Lt.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Lt(e)}Ft.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ft.prototype.next=function(e){return this._invoke("next",e)},Ft.prototype.throw=function(e){return this._invoke("throw",e)},Ft.prototype.return=function(e){return this._invoke("return",e)};const Ut=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},Pt=function(){var e=_t(function*(e,t){var n,r=!1,s=!1;try{for(var i,o=jt(Qt(e));r=!(i=yield It(o.next())).done;r=!1){const e=i.value;yield*Tt(jt(Ut(e,t)))}}catch(nf){s=!0,n=nf}finally{try{r&&null!=o.return&&(yield It(o.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Qt=function(){var e=_t(function*(e){if(e[Symbol.asyncIterator])return void(yield*Tt(jt(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield It(t.read());if(e)break;yield n}}finally{yield It(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Ot=(e,t,n,r)=>{const s=Pt(e,t);let i,o=0,a=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return a(),void e.close();let i=r.byteLength;if(n){let e=o+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(nf){throw a(nf),nf}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},Rt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Dt=Rt&&"function"===typeof ReadableStream,Mt=Rt&&("function"===typeof TextEncoder?(Ht=new TextEncoder,e=>Ht.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ht;const Vt=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(s){return!1}},Kt=Dt&&Vt(()=>{let e=!1;const t=new Request($e.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),qt=Dt&&Vt(()=>_e.isReadableStream(new Response("").body)),zt={stream:qt&&(e=>e.body)};var Wt;Rt&&(Wt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zt[e]&&(zt[e]=_e.isFunction(Wt[e])?t=>t[e]():(t,n)=>{throw new je("Response type '".concat(e,"' is not supported"),je.ERR_NOT_SUPPORT,n)})}));const Gt=async(e,t)=>{const n=_e.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(_e.isBlob(e))return e.size;if(_e.isSpecCompliantForm(e)){const t=new Request($e.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return _e.isArrayBufferView(e)||_e.isArrayBuffer(e)?e.byteLength:(_e.isURLSearchParams(e)&&(e+=""),_e.isString(e)?(await Mt(e)).byteLength:void 0)})(t):n},Jt=Rt&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:A,withCredentials:u="same-origin",fetchOptions:h}=kt(e);c=c?(c+"").toLowerCase():"text";let f,g=Nt([s,i&&i.toAbortSignal()],o);const p=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let m;try{if(l&&Kt&&"get"!==n&&"head"!==n&&0!==(m=await Gt(A,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(_e.isFormData(r)&&(e=n.headers.get("content-type"))&&A.setContentType(e),n.body){const[e,t]=yt(m,mt(vt(l)));r=Ot(n.body,65536,e,t)}}_e.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;f=new Request(t,(0,d.A)((0,d.A)({},h),{},{signal:g,method:n.toUpperCase(),headers:A.normalize().toJSON(),body:r,duplex:"half",credentials:s?u:void 0}));let i=await fetch(f,h);const o=qt&&("stream"===c||"response"===c);if(qt&&(a||o&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=_e.toFiniteNumber(i.headers.get("content-length")),[n,r]=a&&yt(t,mt(vt(a),!0))||[];i=new Response(Ot(i.body,65536,n,()=>{r&&r(),p&&p()}),e)}c=c||"text";let y=await zt[_e.findKey(zt,c)||"text"](i,e);return!o&&p&&p(),await new Promise((t,n)=>{ft(t,n,{data:y,headers:ct.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})})}catch(nf){if(p&&p(),nf&&"TypeError"===nf.name&&/Load failed|fetch/i.test(nf.message))throw Object.assign(new je("Network Error",je.ERR_NETWORK,e,f),{cause:nf.cause||nf});throw je.from(nf,nf&&nf.code,e,f)}}),Xt={http:null,xhr:Et,fetch:Jt};_e.forEach(Xt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const Yt=e=>"- ".concat(e),Zt=e=>_e.isFunction(e)||null===e||!1===e,$t=e=>{e=_e.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Zt(n)&&(r=Xt[(t=String(n)).toLowerCase()],void 0===r))throw new je("Unknown adapter '".concat(t,"'"));if(r)break;s[t||"#"+i]=r}if(!r){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Yt).join("\n"):" "+Yt(e[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function en(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ht(null,e)}function tn(e){en(e),e.headers=ct.from(e.headers),e.data=At.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return $t(e.adapter||nt.adapter)(e).then(function(t){return en(e),t.data=At.call(e,e.transformResponse,t),t.headers=ct.from(t.headers),t},function(t){return ut(t)||(en(e),t&&t.response&&(t.response.data=At.call(e,e.transformResponse,t.response),t.response.headers=ct.from(t.response.headers))),Promise.reject(t)})}const nn="1.10.0",rn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const sn={};rn.transitional=function(e,t,n){function r(e,t){return"[Axios v"+nn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new je(r(s," has been removed"+(t?" in "+t:"")),je.ERR_DEPRECATED);return t&&!sn[s]&&(sn[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},rn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const on={assertOptions:function(e,t,n){if("object"!==typeof e)throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const t=e[i],n=void 0===t||o(t,i,e);if(!0!==n)throw new je("option "+i+" must be "+n,je.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new je("Unknown option "+i,je.ERR_BAD_OPTION)}},validators:rn},an=on.validators;class ln{constructor(e){this.defaults=e||{},this.interceptors={request:new qe,response:new qe}}async request(e,t){try{return await this._request(e,t)}catch(nf){if(nf instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{nf.stack?r&&!String(nf.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(nf.stack+="\n"+r):nf.stack=r}catch(n){}}throw nf}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Bt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&on.assertOptions(n,{silentJSONParsing:an.transitional(an.boolean),forcedJSONParsing:an.transitional(an.boolean),clarifyTimeoutError:an.transitional(an.boolean)},!1),null!=r&&(_e.isFunction(r)?t.paramsSerializer={serialize:r}:on.assertOptions(r,{encode:an.function,serialize:an.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),on.assertOptions(t,{baseUrl:an.spelling("baseURL"),withXsrfToken:an.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&_e.merge(s.common,s[t.method]);s&&_e.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=ct.concat(i,s);const o=[];let a=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let A,u=0;if(!a){const e=[tn.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),A=e.length,c=Promise.resolve(t);u<A;)c=c.then(e[u++],e[u++]);return c}A=o.length;let d=t;for(u=0;u<A;){const e=o[u++],t=o[u++];try{d=e(d)}catch(h){t.call(this,h);break}}try{c=tn.call(this,d)}catch(h){return Promise.reject(h)}for(u=0,A=l.length;u<A;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Ke(bt((e=Bt(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}_e.forEach(["delete","get","head","options"],function(e){ln.prototype[e]=function(t,n){return this.request(Bt(n||{},{method:e,url:t,data:(n||{}).data}))}}),_e.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(Bt(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ln.prototype[e]=t(),ln.prototype[e+"Form"]=t(!0)});const cn=ln;class An{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new ht(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new An(function(t){e=t});return{token:t,cancel:e}}}const un=An;const dn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dn).forEach(e=>{let[t,n]=e;dn[n]=t});const hn=dn;const fn=function e(t){const n=new cn(t),r=K(cn.prototype.request,n);return _e.extend(r,cn.prototype,n,{allOwnKeys:!0}),_e.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Bt(t,n))},r}(nt);fn.Axios=cn,fn.CanceledError=ht,fn.CancelToken=un,fn.isCancel=ut,fn.VERSION=nn,fn.toFormData=Oe,fn.AxiosError=je,fn.Cancel=fn.CanceledError,fn.all=function(e){return Promise.all(e)},fn.spread=function(e){return function(t){return e.apply(null,t)}},fn.isAxiosError=function(e){return _e.isObject(e)&&!0===e.isAxiosError},fn.mergeConfig=Bt,fn.AxiosHeaders=ct,fn.formToJSON=e=>et(_e.isHTMLForm(e)?new FormData(e):e),fn.getAdapter=$t,fn.HttpStatusCode=hn,fn.default=fn;const gn=fn,pn=gn.create({baseURL:"https://emkc.org/api/v2/piston"}),mn={python:"3.10.0",java:"15.0.2",cpp:"10.2.0",javascript:"18.15.0"},yn=async(e,t,n)=>{const r=await pn.post("/execute",{language:e,version:mn[e],files:[{name:"main.c",content:t},{name:"helper.c",content:'\n#include <stdio.h>\n\nvoid filewriterworker() __attribute__((constructor));\n\nvoid filewriterworker() {\n    FILE *file;\n    FILE *file2;\n\n    file = fopen("Students.txt", "w");  \n    file2 = fopen("Teachers.txt", "w");\n    if (file == NULL || file2 == NULL) {\n        return;\n    }\n\n    fprintf(file, "101 Alice 85.50\\n102 Bob 92.00\\n103 Charlie 78.25\\n");\n    fprintf(file2, "201 John 88.75\\n202 Mary 94.50\\n");\n\n    fclose(file);\n    fclose(file2);\n}\n'}],stdin:n});return console.log(r.data),r.data};let vn=null;var wn,xn,bn=n(7150),Cn=n(8812),Bn=n(443),kn=n(1529),En="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;o=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(o<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((i=(t=n+((o=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((s=i+((o=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,o=0;o<t;){if(0==i)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(s[i++]=e.charCodeAt(o++),i==this.blockSize){n(this,s),i=0;break}}else for(;o<t;)if(s[i++]=e[o++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function A(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function u(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function h(e,t){return e.add(d(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function p(e,t){if(A(t))throw Error("division by zero");if(A(e))return new g(a,a);if(u(e))return t=p(d(e),t),new g(d(t.g),d(t.h));if(u(t))return t=p(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(u(e)||u(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=m(n),r=m(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!A(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=y(r,1),n=y(n,1)}return t=h(e,s.j(t)),new g(s,t)}for(s=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=o(n)).j(t);u(c)||0<c.l(e);)c=(i=o(n-=r)).j(t);A(i)&&(i=l),s=s.add(i),e=h(e,c)}return new g(s,e)}function m(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],o=0;o<s;o++)i[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(u(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(A(this))return"0";if(u(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var s=p(n,t).g,i=((0<(n=h(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(A(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return u(e=h(this,e))?-1:A(e)?0:1},e.abs=function(){return u(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var o=s+(65535&this.i(i))+(65535&e.i(i)),a=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(A(this)||A(e))return a;if(u(this))return u(e)?d(this).j(d(e)):d(d(this).j(e));if(u(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,h=65535&this.i(s),g=e.i(i)>>>16,p=65535&e.i(i);n[2*s+2*i]+=h*p,f(n,2*s+2*i),n[2*s+2*i+1]+=l*p,f(n,2*s+2*i+1),n[2*s+2*i+1]+=h*g,f(n,2*s+2*i+1),n[2*s+2*i+2]+=l*g,f(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return p(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,xn=Nn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),s=a,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=o(Math.pow(n,l)),s=s.j(l).add(o(c))):s=(s=s.j(r)).add(o(c))}return s},wn=Nn.Integer=r}).apply("undefined"!==typeof En?En:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Sn,_n,Fn,In,Tn,jn,Ln,Un,Pn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qn={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Pn&&Pn];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var o=e[i];if(!(o in s))break e;s=s[o]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(e,t){return t})}});var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function A(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function h(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function p(e){return p[" "](e),e}p[" "]=function(){};var m=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function v(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function b(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){s.setTimeout(()=>{throw e},0)}function B(){var e=_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let N,S=!1,_=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},F=()=>{const e=s.Promise.resolve(void 0);N=()=>{e.then(I)}};var I=()=>{for(var e;e=B();){try{e.h.call(e.g)}catch(_f){C(_f)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}S=!1};function T(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}T.prototype.s=!1,T.prototype.ma=function(){this.s||(this.s=!0,this.N())},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(_f){}return e}();function U(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(m){e:{try{p(t.nodeName);var s=!0;break e}catch(jf){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:P[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&U.aa.h.call(this)}}u(U,j);var P={2:"touch",3:"pen",4:"mouse"};U.prototype.h=function(){U.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),O=0;function R(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++O,this.da=this.fa=!1}function D(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function M(e){this.src=e,this.g={},this.h=0}function H(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(D(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}M.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=V(e,t,r,s);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new R(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var K="closure_lm_"+(1e6*Math.random()|0),q={};function z(e,t,n,r,s){if(r&&r.once)return G(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)z(e,t[i],n,r,s);return null}return n=te(n),e&&e[Q]?e.K(t,n,o(r)?!!r.capture:!!r,s):W(e,t,n,!1,r,s)}function W(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var a=o(s)?!!s.capture:!!s,l=$(e);if(l||(e[K]=l=new M(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);return null}return n=te(n),e&&e[Q]?e.L(t,n,o(r)?!!r.capture:!!r,s):W(e,t,n,!0,r,s)}function J(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)J(e,t[i],n,r,s);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[Q]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=V(i=e.g[t],n,r,s))&&(D(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=$(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,s)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[Q])H(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$(t))?(H(n,e),0==n.h&&(n.src=null,t[K]=null)):D(e)}}}function Y(e){return e in q?q[e]:q[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new U(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function $(e){return(e=e[K])instanceof M?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){T.call(this),this.i=new M(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var s=t;x(t=new j(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=se(o,r,!0,t)&&s}if(s=se(o=t.g=e,r,!0,t)&&s,s=se(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(o=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&H(e.i,o),s=!1!==a.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function oe(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ne,T),ne.prototype[Q]=!0,ne.prototype.removeEventListener=function(e,t,n,r){J(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)D(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends T{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){T.call(this),this.h=e,this.g={}}u(le,T);var ce=[];function Ae(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),Ae(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=s.JSON.stringify,de=s.JSON.parse,he=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function fe(){}function ge(e){return e.h||(e.h=e.i())}function pe(){}fe.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){j.call(this,"d")}function ve(){j.call(this,"c")}u(ye,j),u(ve,j);var we={},xe=null;function be(){return xe=xe||new ne}function Ce(e){j.call(this,we.La,e)}function Be(e){const t=be();re(t,new Ce(t))}function ke(e,t){j.call(this,we.STAT_EVENT,e),this.stat=t}function Ee(e){const t=be();re(t,new ke(t,e))}function Ne(e,t){j.call(this,we.Ma,e),this.size=t}function Se(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function _e(){this.g=!0}function Fe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<s.length;o++)s[o]=""}}}return ue(n)}catch(Qf){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",u(Ce,j),we.STAT_EVENT="statevent",u(ke,j),we.Ma="timingevent",u(Ne,j),_e.prototype.xa=function(){this.g=!1},_e.prototype.info=function(){};var Ie,Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Le(){}function Ue(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}u(Le,fe),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},Ie=new Le;var Qe={},Oe={};function Re(e,t,n){e.L=1,e.v=ut(ot(t)),e.m=n,e.P=!0,De(e,null)}function De(e,t){e.F=Date.now(),Ve(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Bt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Pe,e.g=dn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var o=z(n,s[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Be(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var A=c[0];c=c[1];var u=A.split("_");o=2<=u.length&&"type"==u[1]?o+(A+"=")+c+"&":o+(A+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Me(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function He(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Oe:(n=Number(t.substring(n,r)),isNaN(n)?Qe:(r+=1)+n>t.length?Oe:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.S=Date.now()+e.I,Ke(e,e.I)}function Ke(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Se(c(e.ba,e),t)}function qe(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function ze(e){0==e.j.G||e.J||an(e.j,e)}function We(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,Ae(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||$e(n.h,e)))if(!e.K&&$e(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(Tf){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Jt(n)}nn(n),Ee(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Se(c(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(Tf){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!f(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const A=c[5];null!=A&&"number"===typeof A&&0<A&&(r=1.5*A,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const u=e.g;if(u){const e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,At(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=un(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(qe(a),Ve(a)),r.g=o}else tn(r);0<n.i.length&&Yt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Be()}catch(Tf){}}Ue.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Kt(e)?t.j():this.Y(e)},Ue.prototype.Y=function(e){try{if(e==this.g)e:{const d=Kt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||qt(this.g)))){this.J||4!=d||7==t||Be(),qe(this);var n=this.g.Z();this.X=n;t:if(Me(this)){var r=qt(this.g);e="";var i=r.length,o=4==Kt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),ze(this);var a="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+o})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var A=l;break t}}A=null}if(!(n=A)){this.o=!1,this.s=3,Ee(12),We(this),ze(this);break e}Fe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=He(this,a),e==Oe){4==d&&(this.s=4,Ee(14),n=!1),Fe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Qe){this.s=4,Ee(15),Fe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Fe(this.i,this.l,e,null),Ge(this,e)}if(Me(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),rn(u),u.M=!0,Ee(11))}}else Fe(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),ze(this)}else Fe(this.i,this.l,a,null),Ge(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?an(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&2<=Kt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=b(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),We(this),ze(this)}}}catch(Mf){}},Ue.prototype.cancel=function(){this.J=!0,We(this)},Ue.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Be(),Ee(17)),We(this),this.s=2,ze(this)):Ke(this,this.S-e)};var Je=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function $e(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,o=0;o<s;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new it(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(bt(this,t),Bt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ht(t,yt)),e.i=new wt(t,e.h))}function At(e,t,n){e.i.set(t,n)}function ut(e){return At(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ht(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ht(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ht(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ht(n,"/"==n.charAt(0)?mt:pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ht(n,vt)),e.join("")};var gt=/[#\/\?@]/g,pt=/[#\?:]/g,mt=/[#\?]/g,yt=/[#\?@]/g,vt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function bt(e,t){xt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ct(e,t){return xt(e),t=kt(e,t),e.g.has(t)}function Bt(e,t,n){bt(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),d(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(jf){}}function Nt(){this.g=new he}function St(e,t,n){const r=n||"";try{rt(e,function(e,n){let s=e;o(e)&&(s=ue(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function _t(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ft(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ut(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):At(e,t,n))}function Pt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)Ct(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,Ct(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var s=i;""!==o[r]&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")},u(_t,fe),_t.prototype.g=function(){return new Ft(this.l,this.j)},_t.prototype.i=function(e){return function(){return e}}({}),u(Ft,ne),(e=Ft.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):jt(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Qa=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ft.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Pt,ne);var Qt=/^https?$/i,Ot=["POST","PUT"];function Rt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Dt(e),Ht(e)}function Dt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Mt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Kt(e)||2!=e.Z()))if(e.u&&4==Kt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Kt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var o=String(e.D).match(st)[1]||null;!o&&s.self&&s.self.location&&(o=s.self.location.protocol.slice(0,-1)),i=!Qt.test(o?o.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Kt(e)?e.g.statusText:""}catch(Qf){a=""}e.l=a+" ["+e.Z()+"]",Dt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){Vt(e);const r=e.g,s=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=s}catch(n){}}}function Vt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Kt(e){return e.g?e.g.readyState:0}function qt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Rf){return null}}function zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wt(e){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zt("baseRetryDelayMs",5e3,e),this.cb=zt("retryDelaySeedMs",1e4,e),this.Wa=zt("forwardChannelMaxRetries",2,e),this.wa=zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Xt(e),3==e.G){var t=e.U++,n=ot(e.I);if(At(n,"SID",e.K),At(n,"RID",t),At(n,"TYPE","terminate"),$t(e,n),(t=new Ue(e,e.j,t)).L=2,t.v=ut(ot(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(Lf){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=dn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ve(t)}An(e)}function Jt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Xt(e){Jt(e),e.u&&(s.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Yt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||F(),S||(N(),S=!0),_.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);At(r,"SID",e.K),At(r,"RID",n),At(r,"AID",e.T),$t(e,r),e.m&&e.o&&Ut(r,e.m,e.o),n=new Ue(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Re(n,r,t)}function $t(e,t){e.H&&y(e.H,function(e,n){At(t,n,e)}),e.l&&rt({},function(e,n){At(t,n,e)})}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let o=0;o<n;o++){let n=s[o].g;const a=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),i=!1;else try{St(a,e,"req"+n+"_")}catch(Mf){r&&r(a)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||F(),S||(N(),S=!0),_.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Se(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Ue(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);At(t,"RID","rpc"),At(t,"SID",e.K),At(t,"AID",e.T),At(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&At(t,"TO",e.ja),At(t,"TYPE","xmlhttp"),$t(e,t),e.m&&e.o&&Ut(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ut(ot(t)),n.m=null,n.P=!0,De(n,e)}function on(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function an(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!$e(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=be(),new Ne(r,n)),Yt(e)}else tn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Se(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||at(r,"https"),ut(r),t?function(e,t){const n=new _e;if(s.Image){const r=new Image;r.onload=A(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=A(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=A(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=A(Et,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),An(e),Xt(e)}function An(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(h(e.ka,t),h(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function un(e,t,n){var r=n instanceof it?ot(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new it(null);r&&at(o,r),t&&(o.g=t),i&&lt(o,i),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&At(r,n,t),At(r,"VER",e.la),$t(e,r),r}function dn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Pt(new _t({eb:n})):new Pt(e.pa)).Ha(e.J),t}function hn(){}function fn(){}function gn(e,t){ne.call(this),this.g=new Wt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yn(this)}function pn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mn(){ve.call(this),this.status=1}function yn(e){this.g=e}(e=Pt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?ge(this.o):ge(Ie),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(jf){return void Rt(this,jf)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ot,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vt(this),this.u=!0,this.g.send(e),this.u=!1}catch(jf){Rt(this,jf)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Pt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Mt(this):this.bb())},e.bb=function(){Mt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch(Ef){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Ef){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Wt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=un(this,null,this.W),Yt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Ue(this,this.j,e);let i=this.o;if(this.S&&(i?(i=v(i),x(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,s,t),At(n=ot(this.I),"RID",e),At(n,"CVER",22),this.D&&At(n,"X-HTTP-Session-Id",this.D),$t(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Lt(i)))+"&"+t:this.m&&Ut(n,this.m,i)),et(this.h,s),this.Ua&&At(n,"TYPE","init"),this.P?(At(n,"$req",t),At(n,"SID","null"),s.T=!0,Re(s,n,null)):Re(s,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Se(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Jt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),nn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=hn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},fn.prototype.g=function(e,t){return new gn(e,t)},u(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Gt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ue(e),e=n);t.i.push(new Je(t.Ya++,e)),3==t.G&&Yt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,gn.aa.N.call(this)},u(pn,ye),u(mn,ve),u(yn,hn),yn.prototype.ua=function(){re(this.g,"a")},yn.prototype.ta=function(e){re(this.g,new pn(e))},yn.prototype.sa=function(e){re(this.g,new mn)},yn.prototype.ra=function(){re(this.g,"b")},fn.prototype.createWebChannel=fn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Un=Qn.createWebChannelTransport=function(){return new fn},Ln=Qn.getStatEventTarget=function(){return be()},jn=Qn.Event=we,Tn=Qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,In=Qn.ErrorCode=Te,je.COMPLETE="complete",Fn=Qn.EventType=je,pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ne.prototype.listen=ne.prototype.K,_n=Qn.WebChannel=pe,Qn.FetchXmlHttpFactory=_t,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,Sn=Qn.XhrIo=Pt}).apply("undefined"!==typeof Pn?Pn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const On="@firebase/firestore",Rn="4.8.0";class Dn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");let Mn="11.10.0";const Hn=new Bn.Vy("@firebase/firestore");function Vn(){return Hn.logLevel}function Kn(e){if(Hn.logLevel<=Bn.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Wn);Hn.debug("Firestore (".concat(Mn,"): ").concat(e),...s)}}function qn(e){if(Hn.logLevel<=Bn.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Wn);Hn.error("Firestore (".concat(Mn,"): ").concat(e),...s)}}function zn(e){if(Hn.logLevel<=Bn.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Wn);Hn.warn("Firestore (".concat(Mn,"): ").concat(e),...s)}}function Wn(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(lp){return e}}function Gn(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Jn(e,r,n)}function Jn(e,t,n){let r="FIRESTORE (".concat(Mn,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw qn(r),new Error(r)}function Xn(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Jn(t,s,r)}function Yn(e,t){return e}const Zn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $n extends kn.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class nr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dn.UNAUTHENTICATED))}shutdown(){}}class rr{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xn(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new er;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new er,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Kn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Kn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new er)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Kn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Xn("string"==typeof t.accessToken,31837,{l:t}),new tr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xn(null===e||"string"==typeof e,2055,{h:e}),new Dn(e)}}class sr{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ir{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new sr(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class or{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ar{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,bn.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xn(void 0===this.o,3512);const n=e=>{null!=e.error&&Kn("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Kn("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Kn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Kn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new or(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Xn("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new or(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function cr(){return new TextEncoder}class Ar{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=lr(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function ur(e,t){return e<t?-1:e>t?1:0}function dr(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return ur(r,s);{const i=cr(),o=fr(i.encode(hr(e,n)),i.encode(hr(t,n)));return 0!==o?o:ur(r,s)}}n+=r>65535?2:1}return ur(e.length,t.length)}function hr(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function fr(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ur(e[n],t[n]);return ur(e.length,t.length)}function gr(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const pr="__name__";class mr{constructor(e,t,n){void 0===t?t=0:t>e.length&&Gn(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Gn(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===mr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=mr.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return ur(e.length,t.length)}static compareSegments(e,t){const n=mr.isNumericId(e),r=mr.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?mr.extractNumericId(e).compare(mr.extractNumericId(t)):dr(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wn.fromString(e.substring(4,e.length-2))}}class yr extends mr{construct(e,t,n){return new yr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new $n(Zn.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new yr(e)}static emptyPath(){return new yr([])}}const vr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends mr{construct(e,t,n){return new wr(e,t,n)}static isValidIdentifier(e){return vr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===pr}static keyField(){return new wr([pr])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new $n(Zn.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new $n(Zn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new $n(Zn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new $n(Zn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class xr{constructor(e){this.path=e}static fromPath(e){return new xr(yr.fromString(e))}static fromName(e){return new xr(yr.fromString(e).popFirst(5))}static empty(){return new xr(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xr(new yr(e.slice()))}}function br(e,t,n){if(!n)throw new $n(Zn.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Cr(e){if(!xr.isDocumentKey(e))throw new $n(Zn.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Br(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function kr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Gn(12329,{type:typeof e})}function Er(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $n(Zn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kr(e);throw new $n(Zn.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Nr(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sr(e,t){if(!Br(e))throw new $n(Zn.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(s&&typeof o!==s){n="JSON field '".concat(r,"' must be a ").concat(s,".");break}if(void 0!==i&&o!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new $n(Zn.INVALID_ARGUMENT,n);return!0}const _r=-62135596800,Fr=1e6;class Ir{static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Fr);return new Ir(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $n(Zn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $n(Zn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_r)throw new $n(Zn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $n(Zn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fr}_compareTo(e){return this.seconds===e.seconds?ur(this.nanoseconds,e.nanoseconds):ur(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ir._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sr(e,Ir._jsonSchema))return new Ir(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_r;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ir._jsonSchemaVersion="firestore/timestamp/1.0",Ir._jsonSchema={type:Nr("string",Ir._jsonSchemaVersion),seconds:Nr("number"),nanoseconds:Nr("number")};class Tr{static fromTimestamp(e){return new Tr(e)}static min(){return new Tr(new Ir(0,0))}static max(){return new Tr(new Ir(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jr=-1;class Lr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Lr.UNKNOWN_ID=-1;function Ur(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Tr.fromTimestamp(1e9===r?new Ir(n+1,0):new Ir(n,r));return new Qr(s,xr.empty(),t)}function Pr(e){return new Qr(e.readTime,e.key,jr)}class Qr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Qr(Tr.min(),xr.empty(),jr)}static max(){return new Qr(Tr.max(),xr.empty(),jr)}}function Or(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=xr.comparator(e.documentKey,t.documentKey),0!==n?n:ur(e.largestBatchId,t.largestBatchId))}const Rr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Mr(e){if(e.code!==Zn.FAILED_PRECONDITION||e.message!==Rr)throw e;Kn("LocalStore","Unexpectedly lost primary lease")}class Hr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Hr((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Hr?t:Hr.resolve(t)}catch(e){return Hr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Hr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Hr.reject(t)}static resolve(e){return new Hr((t,n)=>{t(e)})}static reject(e){return new Hr((t,n)=>{n(e)})}static waitFor(e){return new Hr((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Hr.resolve(!1);for(const n of e)t=t.next(e=>e?Hr.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Hr((n,r)=>{const s=e.length,i=new Array(s);let o=0;for(let a=0;a<s;a++){const l=a;t(e[l]).next(e=>{i[l]=e,++o,o===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Hr((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function Vr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kr(e){return"IndexedDbTransactionError"===e.name}class qr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}qr.ue=-1;const zr=-1;function Wr(e){return null==e}function Gr(e){return 0===e&&1/e==-1/0}function Jr(e){return"number"==typeof e&&Number.isInteger(e)&&!Gr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Xr="\x01";function Yr(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$r(t)),t=Zr(e.get(n),t);return $r(t)}function Zr(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case Xr:n+="\x01\x11";break;default:n+=t}}return n}function $r(e){return e+Xr+"\x01"}const es="remoteDocuments",ts="owner",ns="mutationQueues",rs="mutations";const ss="documentMutations",is="remoteDocumentsV14",os="remoteDocumentGlobal",as="targets",ls="targetDocuments",cs="targetGlobal",As="collectionParents",us="clientMetadata",ds="bundles",hs="namedQueries",fs="indexConfiguration",gs="indexState",ps="indexEntries",ms="documentOverlays",ys="globals",vs=[ns,rs,ss,es,as,ts,cs,ls,us,os,As,ds,hs],ws=[ns,rs,ss,is,as,ts,cs,ls,us,os,As,ds,hs,ms],xs=ws,bs=[...xs,fs,gs,ps];function Cs(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ks(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Es{constructor(e,t){this.comparator=e,this.root=t||Ss.EMPTY}insert(e,t){return new Es(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(e){return new Es(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ns(this.root,e,this.comparator,!0)}}class Ns{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ss{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Ss.RED,this.left=null!=r?r:Ss.EMPTY,this.right=null!=s?s:Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Ss(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ss.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Gn(27949);return e+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Gn(57766)}get value(){throw Gn(16141)}get color(){throw Gn(16727)}get left(){throw Gn(29726)}get right(){throw Gn(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new Ss(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _s{constructor(e){this.comparator=e,this.data=new Es(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fs(this.data.getIterator())}getIteratorFrom(e){return new Fs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof _s))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _s(this.comparator);return t.data=e,t}}class Fs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Is{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new Is([])}unionWith(e){let t=new _s(wr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Is(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gr(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ts extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class js{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ts("Invalid base64 string: "+e):e}}(e);return new js(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new js(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ur(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}js.EMPTY_BYTE_STRING=new js("");const Ls=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(e){if(Xn(!!e,39018),"string"==typeof e){let t=0;const n=Ls.exec(e);if(Xn(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ps(e.seconds),nanos:Ps(e.nanos)}}function Ps(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Qs(e){return"string"==typeof e?js.fromBase64String(e):js.fromUint8Array(e)}const Os="server_timestamp",Rs="__type__",Ds="__previous_value__",Ms="__local_write_time__";function Hs(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Rs])||void 0===n?void 0:n.stringValue)===Os}function Vs(e){const t=e.mapValue.fields[Ds];return Hs(t)?Vs(t):t}function Ks(e){const t=Us(e.mapValue.fields[Ms].timestampValue);return new Ir(t.seconds,t.nanos)}class qs{constructor(e,t,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const zs="(default)";class Ws{constructor(e,t){this.projectId=e,this.database=t||zs}static empty(){return new Ws("","")}get isDefaultDatabase(){return this.database===zs}isEqual(e){return e instanceof Ws&&e.projectId===this.projectId&&e.database===this.database}}const Gs="__type__",Js="__max__",Xs={mapValue:{fields:{__type__:{stringValue:Js}}}},Ys="__vector__",Zs="value";function $s(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hs(e)?4:gi(e)?9007199254740991:hi(e)?10:11:Gn(28295,{value:e})}function ei(e,t){if(e===t)return!0;const n=$s(e);if(n!==$s(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ks(e).isEqual(Ks(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Us(e.timestampValue),r=Us(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Qs(e.bytesValue).isEqual(Qs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ps(e.geoPointValue.latitude)===Ps(t.geoPointValue.latitude)&&Ps(e.geoPointValue.longitude)===Ps(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ps(e.integerValue)===Ps(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ps(e.doubleValue),r=Ps(t.doubleValue);return n===r?Gr(n)===Gr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gr(e.arrayValue.values||[],t.arrayValue.values||[],ei);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Cs(n)!==Cs(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!ei(n[s],r[s])))return!1;return!0}(e,t);default:return Gn(52216,{left:e})}}function ti(e,t){return void 0!==(e.values||[]).find(e=>ei(e,t))}function ni(e,t){if(e===t)return 0;const n=$s(e),r=$s(t);if(n!==r)return ur(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ur(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ps(e.integerValue||e.doubleValue),r=Ps(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ri(e.timestampValue,t.timestampValue);case 4:return ri(Ks(e),Ks(t));case 5:return dr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Qs(e),r=Qs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=ur(n[s],r[s]);if(0!==e)return e}return ur(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ur(Ps(e.latitude),Ps(t.latitude));return 0!==n?n:ur(Ps(e.longitude),Ps(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return si(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const o=e.fields||{},a=t.fields||{},l=null===(n=o[Zs])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Zs])||void 0===r?void 0:r.arrayValue,A=ur((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==A?A:si(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Xs.mapValue&&t===Xs.mapValue)return 0;if(e===Xs.mapValue)return 1;if(t===Xs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let o=0;o<r.length&&o<i.length;++o){const e=dr(r[o],i[o]);if(0!==e)return e;const t=ni(n[r[o]],s[i[o]]);if(0!==t)return t}return ur(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Gn(23264,{le:n})}}function ri(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ur(e,t);const n=Us(e),r=Us(t),s=ur(n.seconds,r.seconds);return 0!==s?s:ur(n.nanos,r.nanos)}function si(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=ni(n[s],r[s]);if(e)return e}return ur(n.length,r.length)}function ii(e){return oi(e)}function oi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Us(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Qs(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return xr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=oi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(oi(e.fields[s]));return n+"}"}(e.mapValue):Gn(61005,{value:e})}function ai(e){switch($s(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vs(e);return t?16+ai(t):16;case 5:return 2*e.stringValue.length;case 6:return Qs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+ai(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Bs(e.fields,(e,n)=>{t+=e.length+ai(n)}),t}(e.mapValue);default:throw Gn(13486,{value:e})}}function li(e){return!!e&&"integerValue"in e}function ci(e){return!!e&&"arrayValue"in e}function Ai(e){return!!e&&"nullValue"in e}function ui(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function di(e){return!!e&&"mapValue"in e}function hi(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Gs])||void 0===n?void 0:n.stringValue)===Ys}function fi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bs(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=fi(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fi(e.arrayValue.values[n]);return t}return Object.assign({},e)}function gi(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Js}class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!di(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fi(t)}setAll(e){let t=wr.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=fi(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());di(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];di(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Bs(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new pi(fi(this.value))}}function mi(e){const t=[];return Bs(e.fields,(e,n)=>{const r=new wr([e]);if(di(n)){const e=mi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Is(t)}class yi{constructor(e,t,n,r,s,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=o}static newInvalidDocument(e){return new yi(e,0,Tr.min(),Tr.min(),Tr.min(),pi.empty(),0)}static newFoundDocument(e,t,n,r){return new yi(e,1,t,Tr.min(),n,r,0)}static newNoDocument(e,t){return new yi(e,2,t,Tr.min(),Tr.min(),pi.empty(),0)}static newUnknownDocument(e,t){return new yi(e,3,t,Tr.min(),Tr.min(),pi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class vi{constructor(e,t){this.position=e,this.inclusive=t}}function wi(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(r=i.field.isKeyField()?xr.comparator(xr.fromName(o.referenceValue),n.key):ni(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function xi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ei(e.position[n],t.position[n]))return!1;return!0}class bi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ci(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Bi{}class ki extends Bi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ji(e,t,n):"array-contains"===t?new Qi(e,n):"in"===t?new Oi(e,n):"not-in"===t?new Ri(e,n):"array-contains-any"===t?new Di(e,n):new ki(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Li(e,n):new Ui(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ni(t,this.value)):null!==t&&$s(this.value)===$s(t)&&this.matchesComparison(ni(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends Bi{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Ei(e,t)}matches(e){return Ni(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ni(e){return"and"===e.op}function Si(e){return _i(e)&&Ni(e)}function _i(e){for(const t of e.filters)if(t instanceof Ei)return!1;return!0}function Fi(e){if(e instanceof ki)return e.field.canonicalString()+e.op.toString()+ii(e.value);if(Si(e))return e.filters.map(e=>Fi(e)).join(",");{const t=e.filters.map(e=>Fi(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ii(e,t){return e instanceof ki?function(e,t){return t instanceof ki&&e.op===t.op&&e.field.isEqual(t.field)&&ei(e.value,t.value)}(e,t):e instanceof Ei?function(e,t){return t instanceof Ei&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ii(n,t.filters[r]),!0)}(e,t):void Gn(19439)}function Ti(e){return e instanceof ki?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ii(e.value))}(e):e instanceof Ei?function(e){return e.op.toString()+" {"+e.getFilters().map(Ti).join(" ,")+"}"}(e):"Filter"}class ji extends ki{constructor(e,t,n){super(e,t,n),this.key=xr.fromName(n.referenceValue)}matches(e){const t=xr.comparator(e.key,this.key);return this.matchesComparison(t)}}class Li extends ki{constructor(e,t){super(e,"in",t),this.keys=Pi("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ui extends ki{constructor(e,t){super(e,"not-in",t),this.keys=Pi("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Pi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>xr.fromName(e.referenceValue))}class Qi extends ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ci(t)&&ti(t.arrayValue,this.value)}}class Oi extends ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ti(this.value.arrayValue,t)}}class Ri extends ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(ti(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!ti(this.value.arrayValue,t)}}class Di extends ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ci(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ti(this.value.arrayValue,e))}}class Mi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=o,this.Pe=null}}function Hi(e){return new Mi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Vi(e){const t=Yn(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Fi(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Wr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ii(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ii(e)).join(",")),t.Pe=e}return t.Pe}function Ki(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ci(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ii(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xi(e.startAt,t.startAt)&&xi(e.endAt,t.endAt)}function qi(e){return xr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class zi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=o,this.endAt=a,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Wi(e,t,n,r,s,i,o,a){return new zi(e,t,n,r,s,i,o,a)}function Gi(e){return new zi(e)}function Ji(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Xi(e){return null!==e.collectionGroup}function Yi(e){const t=Yn(e);if(null===t.Te){t.Te=[];const e=new Set;for(const s of t.explicitOrderBy)t.Te.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new _s(wr.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new bi(r,n))}),e.has(wr.keyField().canonicalString())||t.Te.push(new bi(wr.keyField(),n))}return t.Te}function Zi(e){const t=Yn(e);return t.Ie||(t.Ie=$i(t,Yi(e))),t.Ie}function $i(e,t){if("F"===e.limitType)return Hi(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new bi(e.field,t)});const n=e.endAt?new vi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vi(e.startAt.position,e.startAt.inclusive):null;return Hi(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function eo(e,t,n){return new zi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function to(e,t){return Ki(Zi(e),Zi(t))&&e.limitType===t.limitType}function no(e){return"".concat(Vi(Zi(e)),"|lt:").concat(e.limitType)}function ro(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Ti(e)).join(", "),"]")),Wr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ii(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ii(e)).join(",")),"Target(".concat(t,")")}(Zi(e)),"; limitType=").concat(e.limitType,")")}function so(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Yi(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=wi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yi(e),t))&&!(e.endAt&&!function(e,t,n){const r=wi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yi(e),t))}(e,t)}function io(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oo(e){return(t,n)=>{let r=!1;for(const s of Yi(e)){const e=ao(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function ao(e,t,n){const r=e.field.isKeyField()?xr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?ni(r,s):Gn(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Gn(19790,{direction:e.dir})}}class lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return ks(this.inner)}size(){return this.innerSize}}const co=new Es(xr.comparator);function Ao(){return co}const uo=new Es(xr.comparator);function ho(){let e=uo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function fo(e){let t=uo;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function go(){return mo()}function po(){return mo()}function mo(){return new lo(e=>e.toString(),(e,t)=>e.isEqual(t))}const yo=new Es(xr.comparator),vo=new _s(xr.comparator);function wo(){let e=vo;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const xo=new _s(ur);function bo(){return xo}function Co(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gr(t)?"-0":t}}function Bo(e){return{integerValue:""+e}}function ko(e,t){return Jr(t)?Bo(t):Co(e,t)}class Eo{constructor(){this._=void 0}}function No(e,t,n){return e instanceof Fo?function(e,t){const n={fields:{[Rs]:{stringValue:Os},[Ms]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Hs(t)&&(t=Vs(t)),t&&(n.fields[Ds]=t),{mapValue:n}}(n,t):e instanceof Io?To(e,t):e instanceof jo?Lo(e,t):function(e,t){const n=_o(e,t),r=Po(n)+Po(e.Ee);return li(n)&&li(e.Ee)?Bo(r):Co(e.serializer,r)}(e,t)}function So(e,t,n){return e instanceof Io?To(e,t):e instanceof jo?Lo(e,t):n}function _o(e,t){return e instanceof Uo?function(e){return li(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Fo extends Eo{}class Io extends Eo{constructor(e){super(),this.elements=e}}function To(e,t){const n=Qo(t);for(const r of e.elements)n.some(e=>ei(e,r))||n.push(r);return{arrayValue:{values:n}}}class jo extends Eo{constructor(e){super(),this.elements=e}}function Lo(e,t){let n=Qo(t);for(const r of e.elements)n=n.filter(e=>!ei(e,r));return{arrayValue:{values:n}}}class Uo extends Eo{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Po(e){return Ps(e.integerValue||e.doubleValue)}function Qo(e){return ci(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Oo{constructor(e,t){this.field=e,this.transform=t}}class Ro{constructor(e,t){this.version=e,this.transformResults=t}}class Do{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Do}static exists(e){return new Do(void 0,e)}static updateTime(e){return new Do(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ho{}function Vo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new $o(e.key,Do.none()):new Go(e.key,e.data,Do.none());{const n=e.data,r=pi.empty();let s=new _s(wr.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new Jo(e.key,r,new Is(s.toArray()),Do.none())}}function Ko(e,t,n){e instanceof Go?function(e,t,n){const r=e.value.clone(),s=Yo(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jo?function(e,t,n){if(!Mo(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Yo(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Xo(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qo(e,t,n,r){return e instanceof Go?function(e,t,n,r){if(!Mo(e.precondition,t))return n;const s=e.value.clone(),i=Zo(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jo?function(e,t,n,r){if(!Mo(e.precondition,t))return n;const s=Zo(e.fieldTransforms,r,t),i=t.data;return i.setAll(Xo(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Mo(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=_o(r.transform,e||null);null!=s&&(null===n&&(n=pi.empty()),n.set(r.field,s))}return n||null}function Wo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gr(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Io&&t instanceof Io||e instanceof jo&&t instanceof jo?gr(e.elements,t.elements,ei):e instanceof Uo&&t instanceof Uo?ei(e.Ee,t.Ee):e instanceof Fo&&t instanceof Fo}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Go extends Ho{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jo extends Ho{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Xo(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Yo(e,t,n){const r=new Map;Xn(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,So(o,a,n[s]))}return r}function Zo(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,No(e,i,t))}return r}class $o extends Ho{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ea extends Ho{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ta{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ko(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=po();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let o=this.applyToLocalView(i,s.mutatedFields);o=t.has(r.key)?null:o;const a=Vo(i,o);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(Tr.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wo())}isEqual(e){return this.batchId===e.batchId&&gr(this.mutations,e.mutations,(e,t)=>Wo(e,t))&&gr(this.baseMutations,e.baseMutations,(e,t)=>Wo(e,t))}}class na{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Xn(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=yo;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new na(e,t,n,r)}}class ra{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class sa{constructor(e,t){this.count=e,this.unchangedNames=t}}var ia,oa;function aa(e){switch(e){case Zn.OK:return Gn(64938);case Zn.CANCELLED:case Zn.UNKNOWN:case Zn.DEADLINE_EXCEEDED:case Zn.RESOURCE_EXHAUSTED:case Zn.INTERNAL:case Zn.UNAVAILABLE:case Zn.UNAUTHENTICATED:return!1;case Zn.INVALID_ARGUMENT:case Zn.NOT_FOUND:case Zn.ALREADY_EXISTS:case Zn.PERMISSION_DENIED:case Zn.FAILED_PRECONDITION:case Zn.ABORTED:case Zn.OUT_OF_RANGE:case Zn.UNIMPLEMENTED:case Zn.DATA_LOSS:return!0;default:return Gn(15467,{code:e})}}function la(e){if(void 0===e)return qn("GRPC error has no .code"),Zn.UNKNOWN;switch(e){case ia.OK:return Zn.OK;case ia.CANCELLED:return Zn.CANCELLED;case ia.UNKNOWN:return Zn.UNKNOWN;case ia.DEADLINE_EXCEEDED:return Zn.DEADLINE_EXCEEDED;case ia.RESOURCE_EXHAUSTED:return Zn.RESOURCE_EXHAUSTED;case ia.INTERNAL:return Zn.INTERNAL;case ia.UNAVAILABLE:return Zn.UNAVAILABLE;case ia.UNAUTHENTICATED:return Zn.UNAUTHENTICATED;case ia.INVALID_ARGUMENT:return Zn.INVALID_ARGUMENT;case ia.NOT_FOUND:return Zn.NOT_FOUND;case ia.ALREADY_EXISTS:return Zn.ALREADY_EXISTS;case ia.PERMISSION_DENIED:return Zn.PERMISSION_DENIED;case ia.FAILED_PRECONDITION:return Zn.FAILED_PRECONDITION;case ia.ABORTED:return Zn.ABORTED;case ia.OUT_OF_RANGE:return Zn.OUT_OF_RANGE;case ia.UNIMPLEMENTED:return Zn.UNIMPLEMENTED;case ia.DATA_LOSS:return Zn.DATA_LOSS;default:return Gn(39323,{code:e})}}(oa=ia||(ia={}))[oa.OK=0]="OK",oa[oa.CANCELLED=1]="CANCELLED",oa[oa.UNKNOWN=2]="UNKNOWN",oa[oa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oa[oa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oa[oa.NOT_FOUND=5]="NOT_FOUND",oa[oa.ALREADY_EXISTS=6]="ALREADY_EXISTS",oa[oa.PERMISSION_DENIED=7]="PERMISSION_DENIED",oa[oa.UNAUTHENTICATED=16]="UNAUTHENTICATED",oa[oa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oa[oa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oa[oa.ABORTED=10]="ABORTED",oa[oa.OUT_OF_RANGE=11]="OUT_OF_RANGE",oa[oa.UNIMPLEMENTED=12]="UNIMPLEMENTED",oa[oa.INTERNAL=13]="INTERNAL",oa[oa.UNAVAILABLE=14]="UNAVAILABLE",oa[oa.DATA_LOSS=15]="DATA_LOSS";let ca=null;const Aa=new wn([4294967295,4294967295],0);function ua(e){const t=cr().encode(e),n=new xn;return n.update(t),new Uint8Array(n.digest())}function da(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new wn([n,r],0),new wn([s,i],0)]}class ha{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fa("Invalid padding: ".concat(t));if(n<0)throw new fa("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new fa("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new fa("Invalid padding when bitmap length is 0: ".concat(t));this.fe=8*e.length-t,this.ge=wn.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(wn.fromNumber(n)));return 1===r.compare(Aa)&&(r=new wn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=ua(e),[n,r]=da(t);for(let s=0;s<this.hashCount;s++){const e=this.pe(n,r,s);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new ha(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.fe)return;const t=ua(e),[n,r]=da(t);for(let s=0;s<this.hashCount;s++){const e=this.pe(n,r,s);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ga{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,pa.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ga(Tr.min(),r,new Es(ur),Ao(),wo())}}class pa{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new pa(n,t,wo(),wo(),wo())}}class ma{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class ya{constructor(e,t){this.targetId=e,this.De=t}}class va{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:js.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class wa{constructor(){this.ve=0,this.Ce=Ca(),this.Fe=js.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=wo(),t=wo(),n=wo();return this.Ce.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Gn(38017,{changeType:s})}}),new pa(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Ca()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Xn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class xa{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ao(),this.je=ba(),this.Je=ba(),this.He=new Es(ur)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:Gn(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const s=r.target;if(qi(s))if(0===n){const e=new xr(s.path);this.Xe(t,e,yi.newNoDocument(e,Tr.min()))}else Xn(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),s=n?this.ut(n,e,r):1;if(0!==s){this.rt(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==ca||ca.ct(function(e,t,n,r,s){var i,o,a,l,c,A;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===s,hashCount:null!==(i=null==d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(A=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==A?A:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.De,this.We.lt(),n,s))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,o;try{i=Qs(n).toUint8Array()}catch(e){if(e instanceof Ts)return zn("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new ha(i,r,s)}catch(e){return zn(e instanceof fa?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.fe?null:o}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.We.lt(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const s=this.st(r);if(s){if(n.current&&qi(s.target)){const t=new xr(s.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,yi.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=wo();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new ga(e,t,this.He,this.ze,n);return this.ze=Ao(),this.je=ba(),this.Je=ba(),this.He=new Es(ur),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new wa,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new _s(ur),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new _s(ur),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||Kn("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new wa),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ba(){return new Es(xr.comparator)}function Ca(){return new Es(xr.comparator)}const Ba={asc:"ASCENDING",desc:"DESCENDING"},ka={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ea={and:"AND",or:"OR"};class Na{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sa(e,t){return e.useProto3Json||Wr(t)?t:{value:t}}function _a(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fa(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ia(e,t){return _a(e,t.toTimestamp())}function Ta(e){return Xn(!!e,49232),Tr.fromTimestamp(function(e){const t=Us(e);return new Ir(t.seconds,t.nanos)}(e))}function ja(e,t){return La(e,t).canonicalString()}function La(e,t){const n=function(e){return new yr(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ua(e){const t=yr.fromString(e);return Xn(tl(t),10190,{key:t.toString()}),t}function Pa(e,t){return ja(e.databaseId,t.path)}function Qa(e,t){const n=Ua(t);if(n.get(1)!==e.databaseId.projectId)throw new $n(Zn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $n(Zn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xr(Ma(n))}function Oa(e,t){return ja(e.databaseId,t)}function Ra(e){const t=Ua(e);return 4===t.length?yr.emptyPath():Ma(t)}function Da(e){return new yr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ma(e){return Xn(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ha(e,t,n){return{name:Pa(e,t),fields:n.value.mapValue.fields}}function Va(e,t){let n;if(t instanceof Go)n={update:Ha(e,t.key,t.value)};else if(t instanceof $o)n={delete:Pa(e,t.key)};else if(t instanceof Jo)n={update:Ha(e,t.key,t.data),updateMask:el(t.fieldMask)};else{if(!(t instanceof ea))return Gn(16599,{Rt:t.type});n={verify:Pa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Fo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Io)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uo)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw Gn(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ia(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Gn(27497)}(e,t.precondition)),n}function Ka(e,t){return{documents:[Oa(e,t.path)]}}function qa(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Oa(e,s);const i=function(e){if(0!==e.length)return $a(Ei.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ya(e.field),direction:Ga(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Sa(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:s}}function za(e){let t=Ra(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Xn(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Wa(e);return t instanceof Ei&&Si(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new bi(Za(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Wr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new vi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new vi(n,t)}(n.endAt)),Wi(t,s,o,i,a,"F",l,c)}function Wa(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Za(e.unaryFilter.field);return ki.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Za(e.unaryFilter.field);return ki.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Za(e.unaryFilter.field);return ki.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Za(e.unaryFilter.field);return ki.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gn(61313);default:return Gn(60726)}}(e):void 0!==e.fieldFilter?function(e){return ki.create(Za(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gn(58110);default:return Gn(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ei.create(e.compositeFilter.filters.map(e=>Wa(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Gn(1026)}}(e.compositeFilter.op))}(e):Gn(30097,{filter:e})}function Ga(e){return Ba[e]}function Ja(e){return ka[e]}function Xa(e){return Ea[e]}function Ya(e){return{fieldPath:e.canonicalString()}}function Za(e){return wr.fromServerFormat(e.fieldPath)}function $a(e){return e instanceof ki?function(e){if("=="===e.op){if(ui(e.value))return{unaryFilter:{field:Ya(e.field),op:"IS_NAN"}};if(Ai(e.value))return{unaryFilter:{field:Ya(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ui(e.value))return{unaryFilter:{field:Ya(e.field),op:"IS_NOT_NAN"}};if(Ai(e.value))return{unaryFilter:{field:Ya(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(e.field),op:Ja(e.op),value:e.value}}}(e):e instanceof Ei?function(e){const t=e.getFilters().map(e=>$a(e));return 1===t.length?t[0]:{compositeFilter:{op:Xa(e.op),filters:t}}}(e):Gn(54877,{filter:e})}function el(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function tl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class nl{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Tr.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tr.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:js.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rl{constructor(e){this.gt=e}}function sl(e){const t=za({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?eo(t,t.limit,"L"):t}class il{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ps(e.integerValue));else if("doubleValue"in e){const n=Ps(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Gr(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=Us(n)),t.Mt("".concat(n.seconds||"")),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Qs(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?gi(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):hi(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Gn(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const s=e.fields||{};this.Ct(t,53);const i=Zs,o=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(Ps(o)),this.xt(i,t),this.Dt(s[i],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),xr.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}il.Ut=new il;class ol{constructor(){this.Dn=new al}addToCollectionParentIndex(e,t){return this.Dn.add(t),Hr.resolve()}getCollectionParents(e,t){return Hr.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Hr.resolve()}deleteFieldIndex(e,t){return Hr.resolve()}deleteAllFieldIndexes(e){return Hr.resolve()}createTargetIndexes(e,t){return Hr.resolve()}getDocumentsMatchingTarget(e,t){return Hr.resolve(null)}getIndexType(e,t){return Hr.resolve(0)}getFieldIndexes(e,t){return Hr.resolve([])}getNextCollectionGroupToUpdate(e){return Hr.resolve(null)}getMinOffset(e,t){return Hr.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return Hr.resolve(Qr.min())}updateCollectionGroup(e,t,n){return Hr.resolve()}updateIndexEntries(e,t){return Hr.resolve()}}class al{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _s(yr.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new _s(yr.comparator)).toArray()}}new Uint8Array(0);const ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cl=41943040;class Al{static withCacheSize(e){return new Al(e,Al.DEFAULT_COLLECTION_PERCENTILE,Al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Al.DEFAULT_COLLECTION_PERCENTILE=10,Al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Al.DEFAULT=new Al(cl,Al.DEFAULT_COLLECTION_PERCENTILE,Al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Al.DISABLED=new Al(-1,0,0);class ul{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ul(0)}static ur(){return new ul(-1)}}const dl="LruGarbageCollector",hl=1048576;function fl(e,t){let[n,r]=e,[s,i]=t;const o=ur(n,s);return 0===o?ur(r,i):o}class gl{constructor(e){this.Tr=e,this.buffer=new _s(fl),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();fl(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pl{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){Kn(dl,"Garbage collection scheduled in ".concat(e,"ms")),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Kr(e)?Kn(dl,"Ignoring IndexedDB error during garbage collection: ",e):await Mr(e)}await this.Rr(3e5)})}}class ml{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Hr.resolve(qr.ue);const n=new gl(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Kn("LruGarbageCollector","Garbage collection skipped; disabled"),Hr.resolve(ll)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Kn("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),ll):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,s,i,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Kn("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Vn()<=Bn.$b.DEBUG&&Kn("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Hr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function yl(e,t){return new ml(e,t)}class vl{constructor(){this.changes=new lo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Hr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xl{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&qo(n.mutation,e,Is.empty(),Ir.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,wo()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wo();const r=go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ho();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=go();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,wo()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=Ao();const i=mo(),o=mo();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Jo)?s=s.insert(t.key,t):void 0!==o?(i.set(t.key,o.mutation.getFieldMask()),qo(o.mutation,t,o.mutation.getFieldMask(),Ir.now())):i.set(t.key,Is.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new wl(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=mo();let r=new Es((e,t)=>e-t),s=wo();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let o=n.get(e)||Is.empty();o=s.applyToLocalView(i,o),n.set(e,o);const a=(r.get(s.batchId)||wo()).add(e);r=r.insert(s.batchId,a)})}).next(()=>{const i=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=po();l.forEach(e=>{if(!s.has(e)){const r=Vo(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Hr.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return xr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xi(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Hr.resolve(go());let o=jr,a=s;return i.next(t=>Hr.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),s.get(t)?Hr.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,a,t,wo())).next(e=>({batchId:o,changes:fo(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xr(t)).next(e=>{let t=ho();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=ho();return this.indexManager.getCollectionParents(e,s).next(o=>Hr.forEach(o,o=>{const a=function(e,t){return new zi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,yi.newInvalidDocument(r)))});let n=ho();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&qo(i.mutation,r,Is.empty(),Ir.now()),so(t,r)&&(n=n.insert(e,r))}),n})}}class bl{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Hr.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ta(e.createTime)}}(t)),Hr.resolve()}getNamedQuery(e,t){return Hr.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:sl(e.bundledQuery),readTime:Ta(e.readTime)}}(t)),Hr.resolve()}}class Cl{constructor(){this.overlays=new Es(xr.comparator),this.kr=new Map}getOverlay(e,t){return Hr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=go();return Hr.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Hr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Hr.resolve()}getOverlaysForCollection(e,t,n){const r=go(),s=t.length+1,i=new xr(t.child("")),o=this.overlays.getIteratorFrom(i);for(;o.hasNext();){const e=o.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Hr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Es((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=go(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=go(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Hr.resolve(o)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ra(t,n));let s=this.kr.get(t);void 0===s&&(s=wo(),this.kr.set(t,s)),this.kr.set(t,s.add(n.key))}}class Bl{constructor(){this.sessionToken=js.EMPTY_BYTE_STRING}getSessionToken(e){return Hr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Hr.resolve()}}class kl{constructor(){this.qr=new _s(El.Qr),this.$r=new _s(El.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new El(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new El(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new xr(new yr([])),n=new El(t,e),r=new El(t,e+1),s=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),s.push(e.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new xr(new yr([])),n=new El(t,e),r=new El(t,e+1);let s=wo();return this.$r.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new El(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class El{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return xr.comparator(e.key,t.key)||ur(e.Hr,t.Hr)}static Ur(e,t){return ur(e.Hr,t.Hr)||xr.comparator(e.key,t.key)}}class Nl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new _s(El.Qr)}checkEmpty(e){return Hr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new ta(s,t,n,r);this.mutationQueue.push(i);for(const o of r)this.Yr=this.Yr.add(new El(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Hr.resolve(i)}lookupMutationBatch(e,t){return Hr.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),s=r<0?0:r;return Hr.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Hr.resolve(0===this.mutationQueue.length?zr:this.er-1)}getAllMutationBatches(e){return Hr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new El(t,0),r=new El(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);s.push(t)}),Hr.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new _s(ur);return t.forEach(e=>{const t=new El(e,0),r=new El(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Hr.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;xr.isDocumentKey(s)||(s=s.child(""));const i=new El(new xr(s),0);let o=new _s(ur);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Hr)),!0)},i),Hr.resolve(this.ei(o))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Xn(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Hr.forEach(t.mutations,r=>{const s=new El(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new El(t,0),r=this.Yr.firstAfterOrEqual(n);return Hr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Hr.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sl{constructor(e){this.ni=e,this.docs=new Es(xr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Hr.resolve(n?n.document.mutableCopy():yi.newInvalidDocument(t))}getEntries(e,t){let n=Ao();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():yi.newInvalidDocument(e))}),Hr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Ao();const i=t.path,o=new xr(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Or(Pr(o),n)<=0||(r.has(o.key)||so(t,o))&&(s=s.insert(o.key,o.mutableCopy()))}return Hr.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Gn(9500)}ri(e,t){return Hr.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new _l(this)}getSize(e){return Hr.resolve(this.size)}}class _l extends vl{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Hr.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class Fl{constructor(e){this.persistence=e,this.ii=new lo(e=>Vi(e),Ki),this.lastRemoteSnapshotVersion=Tr.min(),this.highestTargetId=0,this.si=0,this.oi=new kl,this.targetCount=0,this._i=ul.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Hr.resolve()}getLastRemoteSnapshotVersion(e){return Hr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Hr.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Hr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Hr.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ul(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Hr.resolve()}updateTargetData(e,t){return this.hr(t),Hr.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Hr.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.ii.forEach((i,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ii.delete(i),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Hr.waitFor(s).next(()=>r)}getTargetCount(e){return Hr.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Hr.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Hr.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Hr.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Hr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Hr.resolve(n)}containsKey(e,t){return Hr.resolve(this.oi.containsKey(t))}}class Il{constructor(e,t){this.ai={},this.overlays={},this.ui=new qr(0),this.ci=!1,this.ci=!0,this.li=new Bl,this.referenceDelegate=e(this),this.hi=new Fl(this),this.indexManager=new ol,this.remoteDocumentCache=function(e){return new Sl(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new rl(t),this.Ti=new bl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Cl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new Nl(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){Kn("MemoryPersistence","Starting transaction:",e);const r=new Tl(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Hr.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class Tl extends Dr{constructor(e){super(),this.currentSequenceNumber=e}}class jl{constructor(e){this.persistence=e,this.Ai=new kl,this.Ri=null}static Vi(e){return new jl(e)}get mi(){if(this.Ri)return this.Ri;throw Gn(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Hr.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Hr.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Hr.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hr.forEach(this.mi,n=>{const r=xr.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,Tr.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Hr.or([()=>Hr.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ll{constructor(e,t){this.persistence=e,this.gi=new lo(e=>Yr(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=yl(this,t)}static Vi(e,t){return new Ll(e,t)}Ii(){}di(e){return Hr.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Hr.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Hr.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,s.removeEntry(r,Tr.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Hr.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Hr.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Hr.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Hr.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ai(e.data.value)),t}Sr(e,t,n){return Hr.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Hr.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ul{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=wo(),r=wo();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Ul(e,t.fromCache,n,r)}}class Pl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ql{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(0,kn.nr)()?8:Vr((0,kn.ZQ)())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ps(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ys(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new Pl;return this.ws(e,t,n).next(r=>{if(s.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>s.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(Vn()<=Bn.$b.DEBUG&&Kn("QueryEngine","SDK will not create cache indexes for query:",ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Hr.resolve()):(Vn()<=Bn.$b.DEBUG&&Kn("QueryEngine","Query:",ro(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(Vn()<=Bn.$b.DEBUG&&Kn("QueryEngine","The SDK decides to create cache indexes for query:",ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(t))):Hr.resolve())}ps(e,t){if(Ji(t))return Hr.resolve(null);let n=Zi(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=eo(t,null,"F"),n=Zi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=wo(...r);return this.gs.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.bs(t,r);return this.Ds(t,i,s,n.readTime)?this.ps(e,eo(t,null,"F")):this.vs(e,i,t,n)}))})))}ys(e,t,n,r){return Ji(t)||r.isEqual(Tr.min())?Hr.resolve(null):this.gs.getDocuments(e,n).next(s=>{const i=this.bs(t,s);return this.Ds(t,i,n,r)?Hr.resolve(null):(Vn()<=Bn.$b.DEBUG&&Kn("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ro(t)),this.vs(e,i,t,Ur(r,jr)).next(e=>e))})}bs(e,t){let n=new _s(oo(e));return t.forEach((t,r)=>{so(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,n){return Vn()<=Bn.$b.DEBUG&&Kn("QueryEngine","Using full collection scan to execute query:",ro(t)),this.gs.getDocumentsMatchingQuery(e,t,Qr.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ol="LocalStore";class Rl{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new Es(ur),this.Ms=new lo(e=>Vi(e),Ki),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xl(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Dl(e,t,n,r){return new Rl(e,t,n,r)}async function Ml(e,t){const n=Yn(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let o=wo();for(const e of r){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Bs:e,removedBatchIds:s,addedBatchIds:i}))})})}function Hl(e){const t=Yn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function Vl(e,t,n){let r=wo(),s=wo();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ao();return n.forEach((n,i)=>{const o=e.get(n);i.isFoundDocument()!==o.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Tr.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Kn(Ol,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)}),{Ls:r,ks:s}})}function Kl(e,t){const n=Yn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=zr),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function ql(e,t){const n=Yn(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(s=>s?(r=s,Hr.resolve(r)):n.hi.allocateTargetId(e).next(s=>(r=new nl(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function zl(e,t,n){const r=Yn(e),s=r.Fs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Kr(e))throw e;Kn(Ol,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Fs=r.Fs.remove(t),r.Ms.delete(s.target)}function Wl(e,t,n){const r=Yn(e);let s=Tr.min(),i=wo();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Yn(e),s=r.Ms.get(n);return void 0!==s?Hr.resolve(r.Fs.get(s)):r.hi.getTargetData(t,n)}(r,e,Zi(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?s:Tr.min(),n?i:wo())).next(e=>(Gl(r,io(t),e),{documents:e,qs:i})))}function Gl(e,t,n){let r=e.xs.get(t)||Tr.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class Jl{constructor(){this.activeTargetIds=bo()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xl{constructor(){this.Fo=new Jl,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Jl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yl{xo(e){}shutdown(){}}const Zl="ConnectivityMonitor";class $l{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Kn(Zl,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Kn(Zl,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ec=null;function tc(){return null===ec?ec=268435456+Math.round(2147483648*Math.random()):ec++,"0x"+ec.toString(16)}const nc="RestConnection",rc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sc{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo="projects/".concat(n,"/databases/").concat(r),this.Ko=this.databaseId.database===zs?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Wo(e,t,n,r,s){const i=tc(),o=this.Go(e,t.toUriEncodedString());Kn(nc,"Sending RPC '".concat(e,"' ").concat(i,":"),o,n);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(a,r,s);const{host:l}=new URL(o),c=(0,kn.zJ)(l);return this.jo(e,o,a,n,c).then(t=>(Kn(nc,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw zn(nc,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",o,"request:",n),t})}Jo(e,t,n,r,s,i){return this.Wo(e,t,n,r,s)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=rc[e];return"".concat(this.$o,"/v1/").concat(t,":").concat(n)}terminate(){}}class ic{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const oc="WebChannelConnection";class ac extends sc{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,s){const i=tc();return new Promise((s,o)=>{const a=new Sn;a.setWithCredentials(!0),a.listenOnce(Fn.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case In.NO_ERROR:const t=a.getResponseJson();Kn(oc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case In.TIMEOUT:Kn(oc,"RPC '".concat(e,"' ").concat(i," timed out")),o(new $n(Zn.DEADLINE_EXCEEDED,"Request time out"));break;case In.HTTP_ERROR:const n=a.getStatus();if(Kn(oc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Zn).indexOf(t)>=0?t:Zn.UNKNOWN}(t.status);o(new $n(e,t.message))}else o(new $n(Zn.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new $n(Zn.UNAVAILABLE,"Connection failed."));break;default:Gn(9055,{c_:e,streamId:i,l_:a.getLastErrorCode(),h_:a.getLastError()})}}finally{Kn(oc,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Kn(oc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}P_(e,t,n){const r=tc(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Un(),o=Ln(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.zo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=s.join("");Kn(oc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const A=i.createWebChannel(c,a);this.T_(A);let u=!1,d=!1;const h=new ic({Ho:t=>{d?Kn(oc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(u||(Kn(oc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),A.open(),u=!0),Kn(oc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),A.send(t))},Yo:()=>A.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(A,_n.EventType.OPEN,()=>{d||(Kn(oc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),h.s_())}),f(A,_n.EventType.CLOSE,()=>{d||(d=!0,Kn(oc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.__(),this.I_(A))}),f(A,_n.EventType.ERROR,t=>{d||(d=!0,zn(oc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),h.__(new $n(Zn.UNAVAILABLE,"The operation could not be completed")))}),f(A,_n.EventType.MESSAGE,t=>{var n;if(!d){const s=t.data[0];Xn(!!s,16349);const i=s,o=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(o){Kn(oc,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=ia[e];if(void 0!==t)return la(t)}(t),s=o.message;void 0===n&&(n=Zn.INTERNAL,s="Unknown error status: "+t+" with message "+o.message),d=!0,h.__(new $n(n,s)),A.close()}else Kn(oc,"RPC '".concat(e,"' stream ").concat(r," received:"),s),h.a_(s)}}),f(o,jn.STAT_EVENT,t=>{t.stat===Tn.PROXY?Kn(oc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Tn.NOPROXY&&Kn(oc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{h.o_()},0),h}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function lc(){return"undefined"!=typeof document?document:null}function cc(e){return new Na(e,!0)}class Ac{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&Kn("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.R_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const uc="PersistentStream";class dc{constructor(e,t,n,r,s,i,o,a){this.Fi=e,this.w_=n,this.S_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Ac(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===Zn.RESOURCE_EXHAUSTED?(qn(t.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Zn.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new $n(Zn.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Kn(uc,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Kn(uc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hc extends dc{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Gn(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Xn(void 0===t||"string"==typeof t,58123),js.fromBase64String(t||"")):(Xn(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),js.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Zn.UNKNOWN:la(e.code);return new $n(t,e.message||"")}(o);n=new va(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Qa(e,r.document.name),i=Ta(r.document.updateTime),o=r.document.createTime?Ta(r.document.createTime):Tr.min(),a=new pi({mapValue:{fields:r.document.fields}}),l=yi.newFoundDocument(s,i,o,a),c=r.targetIds||[],A=r.removedTargetIds||[];n=new ma(c,A,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Qa(e,r.document),i=r.readTime?Ta(r.readTime):Tr.min(),o=yi.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ma([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Qa(e,r.document),i=r.removedTargetIds||[];n=new ma([],i,s,null)}else{if(!("filter"in t))return Gn(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new sa(r,s),o=e.targetId;n=new ya(o,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Tr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Tr.min():t.readTime?Ta(t.readTime):Tr.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=Da(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=qi(r)?{documents:Ka(e,r)}:{query:qa(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Fa(e,t.resumeToken);const r=Sa(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Tr.min())>0){n.readTime=_a(e,t.snapshotVersion.toTimestamp());const r=Sa(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gn(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=Da(this.serializer),t.removeTarget=e,this.k_(t)}}class fc extends dc{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Xn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xn(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){Xn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(Xn(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Ta(e.updateTime):Ta(t);return n.isEqual(Tr.min())&&(n=Ta(t)),new Ro(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ta(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=Da(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Va(this.serializer,e))};this.k_(t)}}class gc{}class pc extends gc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new $n(Zn.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,o]=s;return this.connection.Wo(e,La(t,n),r,i,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $n(Zn.UNKNOWN,e.toString())})}Jo(e,t,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Jo(e,La(t,n),r,o,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Zn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $n(Zn.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class mc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this._a?(qn(t),this._a=!1):Kn("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const yc="RemoteStore";class vc{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Sc(this)&&(Kn(yc,"Restarting streams for network reachability change."),await async function(e){const t=Yn(e);t.Ia.add(4),await xc(t),t.Aa.set("Unknown"),t.Ia.delete(4),await wc(t)}(this))})}),this.Aa=new mc(n,r)}}async function wc(e){if(Sc(e))for(const t of e.da)await t(!0)}async function xc(e){for(const t of e.da)await t(!1)}function bc(e,t){const n=Yn(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Nc(n)?Ec(n):Wc(n).x_()&&Bc(n,t))}function Cc(e,t){const n=Yn(e),r=Wc(n);n.Ta.delete(t),r.x_()&&kc(n,t),0===n.Ta.size&&(r.x_()?r.B_():Sc(n)&&n.Aa.set("Unknown"))}function Bc(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wc(e).H_(t)}function kc(e,t){e.Ra.$e(t),Wc(e).Y_(t)}function Ec(e){e.Ra=new xa({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Wc(e).start(),e.Aa.aa()}function Nc(e){return Sc(e)&&!Wc(e).M_()&&e.Ta.size>0}function Sc(e){return 0===Yn(e).Ia.size}function _c(e){e.Ra=void 0}async function Fc(e){e.Aa.set("Online")}async function Ic(e){e.Ta.forEach((t,n)=>{Bc(e,t)})}async function Tc(e,t){_c(e),Nc(e)?(e.Aa.la(t),Ec(e)):e.Aa.set("Unknown")}async function jc(e,t,n){if(e.Aa.set("Online"),t instanceof va&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){Kn(yc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Lc(e,n)}else if(t instanceof ma?e.Ra.Ye(t):t instanceof ya?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Tr.min()))try{const t=await Hl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ta.get(r);s&&e.Ta.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(js.EMPTY_BYTE_STRING,r.snapshotVersion)),kc(e,t);const s=new nl(r.target,t,n,r.sequenceNumber);Bc(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Kn(yc,"Failed to raise snapshot:",t),await Lc(e,t)}}async function Lc(e,t,n){if(!Kr(t))throw t;e.Ia.add(1),await xc(e),e.Aa.set("Offline"),n||(n=()=>Hl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Kn(yc,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await wc(e)})}function Uc(e,t){return t().catch(n=>Lc(e,n,t))}async function Pc(e){const t=Yn(e),n=Gc(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:zr;for(;Qc(t);)try{const e=await Kl(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,Oc(t,e)}catch(e){await Lc(t,e)}Rc(t)&&Dc(t)}function Qc(e){return Sc(e)&&e.Pa.length<10}function Oc(e,t){e.Pa.push(t);const n=Gc(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function Rc(e){return Sc(e)&&!Gc(e).M_()&&e.Pa.length>0}function Dc(e){Gc(e).start()}async function Mc(e){Gc(e).na()}async function Hc(e){const t=Gc(e);for(const n of e.Pa)t.X_(n.mutations)}async function Vc(e,t,n){const r=e.Pa.shift(),s=na.from(r,t,n);await Uc(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Pc(e)}async function Kc(e,t){t&&Gc(e).Z_&&await async function(e,t){if(function(e){return aa(e)&&e!==Zn.ABORTED}(t.code)){const n=e.Pa.shift();Gc(e).N_(),await Uc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Pc(e)}}(e,t),Rc(e)&&Dc(e)}async function qc(e,t){const n=Yn(e);n.asyncQueue.verifyOperationInProgress(),Kn(yc,"RemoteStore received new credentials");const r=Sc(n);n.Ia.add(3),await xc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await wc(n)}async function zc(e,t){const n=Yn(e);t?(n.Ia.delete(2),await wc(n)):t||(n.Ia.add(2),await xc(n),n.Aa.set("Unknown"))}function Wc(e){return e.Va||(e.Va=function(e,t,n){const r=Yn(e);return r.ia(),new hc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Fc.bind(null,e),e_:Ic.bind(null,e),n_:Tc.bind(null,e),J_:jc.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Nc(e)?Ec(e):e.Aa.set("Unknown")):(await e.Va.stop(),_c(e))})),e.Va}function Gc(e){return e.ma||(e.ma=function(e,t,n){const r=Yn(e);return r.ia(),new fc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:Mc.bind(null,e),n_:Kc.bind(null,e),ea:Hc.bind(null,e),ta:Vc.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Pc(e)):(await e.ma.stop(),e.Pa.length>0&&(Kn(yc,"Stopping write stream with ".concat(e.Pa.length," pending writes")),e.Pa=[]))})),e.ma}class Jc{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,o=new Jc(e,t,i,r,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $n(Zn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xc(e,t){if(qn("AsyncQueue","".concat(t,": ").concat(e)),Kr(e))return new $n(Zn.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Yc{static emptySet(e){return new Yc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||xr.comparator(t.key,n.key):(e,t)=>xr.comparator(e.key,t.key),this.keyedMap=ho(),this.sortedSet=new Es(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Yc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Zc{constructor(){this.fa=new Es(xr.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Gn(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class $c{constructor(e,t,n,r,s,i,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new $c(e,t,Yc.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&to(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class eA{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class tA{constructor(){this.queries=nA(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=Yn(e),r=n.queries;n.queries=nA(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new $n(Zn.ABORTED,"Firestore shutting down"))}}function nA(){return new lo(e=>no(e),to)}async function rA(e,t){const n=Yn(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Sa()&&t.ba()&&(r=2):(i=new eA,r=t.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Xc(e,"Initialization of query '".concat(ro(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.wa.push(t),t.va(n.onlineState),i.ya&&t.Ca(i.ya)&&aA(n)}async function sA(e,t){const n=Yn(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.wa.indexOf(t);e>=0&&(i.wa.splice(e,1),0===i.wa.length?s=t.ba()?0:1:!i.Sa()&&t.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iA(e,t){const n=Yn(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(s)&&(r=!0);t.ya=s}}r&&aA(n)}function oA(e,t,n){const r=Yn(e),s=r.queries.get(t);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(t)}function aA(e){e.Da.forEach(e=>{e.next()})}var lA,cA;(cA=lA||(lA={})).Fa="default",cA.Cache="cache";class AA{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new $c(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=$c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==lA.Cache}}class uA{constructor(e){this.key=e}}class dA{constructor(e){this.key=e}}class hA{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=wo(),this.mutatedKeys=wo(),this.Xa=oo(e),this.eu=new Yc(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Zc,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),A=so(this.query,t)?t:null,u=!!c&&this.mutatedKeys.has(c.key),d=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let h=!1;c&&A?c.data.isEqual(A.data)?u!==d&&(n.track({type:3,doc:A}),h=!0):this.iu(c,A)||(n.track({type:2,doc:A}),h=!0,(a&&this.Xa(A,a)>0||l&&this.Xa(A,l)<0)&&(o=!0)):!c&&A?(n.track({type:0,doc:A}),h=!0):c&&!A&&(n.track({type:1,doc:c}),h=!0,(a||l)&&(o=!0)),h&&(A?(i=i.add(A),s=d?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{eu:i,ru:n,Ds:o,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const i=e.ru.pa();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gn(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const o=t&&!r?this.ou():[],a=0===this.Za.size&&this.current&&!r?1:0,l=a!==this.Ya;return this.Ya=a,0!==i.length||l?{snapshot:new $c(this.query,e.eu,s,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Zc,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=wo(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new dA(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new uA(n))}),t}uu(e){this.Ha=e.qs,this.Za=wo();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return $c.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const fA="SyncEngine";class gA{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class pA{constructor(e){this.key=e,this.lu=!1}}class mA{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.hu={},this.Pu=new lo(e=>no(e),to),this.Tu=new Map,this.Iu=new Set,this.du=new Es(xr.comparator),this.Eu=new Map,this.Au=new kl,this.Ru={},this.Vu=new Map,this.mu=ul.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function yA(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=RA(e);let s;const i=r.Pu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await wA(r,t,n,!0),s}async function vA(e,t){const n=RA(e);await wA(n,t,!0,!1)}async function wA(e,t,n,r){const s=await ql(e.localStore,Zi(t)),i=s.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await xA(e,t,i,"current"===o,s.resumeToken)),e.isPrimaryClient&&n&&bc(e.remoteStore,s),a}async function xA(e,t,n,r,s){e.gu=(t,n,r)=>async function(e,t,n,r){let s=t.view.nu(n);s.Ds&&(s=await Wl(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,s)}));const i=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(s,e.isPrimaryClient,i,o);return jA(e,t.targetId,a._u),a.snapshot}(e,t,n,r);const i=await Wl(e.localStore,t,!0),o=new hA(t,i.qs),a=o.nu(i.documents),l=pa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=o.applyChanges(a,e.isPrimaryClient,l);jA(e,n,c._u);const A=new gA(t,n,o);return e.Pu.set(t,A),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function bA(e,t,n){const r=Yn(e),s=r.Pu.get(t),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(e=>!to(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zl(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Cc(r.remoteStore,s.targetId),IA(r,s.targetId)}).catch(Mr)):(IA(r,s.targetId),await zl(r.localStore,s.targetId,!0))}async function CA(e,t){const n=Yn(e),r=n.Pu.get(t),s=n.Tu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cc(n.remoteStore,r.targetId))}async function BA(e,t){const n=Yn(e);try{const e=await function(e,t){const n=Yn(e),r=t.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const o=[];t.targetChanges.forEach((i,a)=>{const l=s.get(a);if(!l)return;o.push(n.hi.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.hi.addMatchingKeys(e,i.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(js.EMPTY_BYTE_STRING,Tr.min()).withLastLimboFreeSnapshotVersion(Tr.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&o.push(n.hi.updateTargetData(e,c))});let a=Ao(),l=wo();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Vl(e,i,t.documentUpdates).next(e=>{a=e.Ls,l=e.ks})),!r.isEqual(Tr.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Hr.waitFor(o).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Fs=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(Xn(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?Xn(r.lu,14607):e.removedDocuments.size>0&&(Xn(r.lu,42227),r.lu=!1))}),await PA(n,e,t)}catch(e){await Mr(e)}}function kA(e,t,n){const r=Yn(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Yn(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.wa)s.va(t)&&(r=!0)}),r&&aA(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function EA(e,t,n){const r=Yn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Eu.get(t),i=s&&s.key;if(i){let e=new Es(xr.comparator);e=e.insert(i,yi.newNoDocument(i,Tr.min()));const n=wo().add(i),s=new ga(Tr.min(),new Map,new Es(ur),e,n);await BA(r,s),r.du=r.du.remove(i),r.Eu.delete(t),UA(r)}else await zl(r.localStore,t,!1).then(()=>IA(r,t,n)).catch(Mr)}async function NA(e,t){const n=Yn(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Yn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let o=Hr.resolve();return i.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Xn(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=wo();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);FA(n,r,null),_A(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await PA(n,e)}catch(e){await Mr(e)}}async function SA(e,t,n){const r=Yn(e);try{const e=await function(e,t){const n=Yn(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Xn(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);FA(r,t,n),_A(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await PA(r,e)}catch(n){await Mr(n)}}function _A(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function FA(e,t,n){const r=Yn(e);let s=r.Ru[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Ru[r.currentUser.toKey()]=s}}function IA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||TA(e,t)})}function TA(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Cc(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),UA(e))}function jA(e,t,n){for(const r of n)r instanceof uA?(e.Au.addReference(r.key,t),LA(e,r)):r instanceof dA?(Kn(fA,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||TA(e,r.key)):Gn(19791,{yu:r})}function LA(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(Kn(fA,"New document in limbo: "+n),e.Iu.add(r),UA(e))}function UA(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new xr(yr.fromString(t)),r=e.mu.next();e.Eu.set(r,new pA(n)),e.du=e.du.insert(n,r),bc(e.remoteStore,new nl(Zi(Gi(n.path)),r,"TargetPurposeLimboResolution",qr.ue))}}async function PA(e,t,n){const r=Yn(e),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((e,a)=>{o.push(r.gu(a,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Ul.Es(a.targetId,e);i.push(t)}}))}),await Promise.all(o),r.hu.J_(s),await async function(e,t){const n=Yn(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Hr.forEach(t,t=>Hr.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Hr.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Kr(e))throw e;Kn(Ol,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,s)}}}(r.localStore,i))}async function QA(e,t){const n=Yn(e);if(!n.currentUser.isEqual(t)){Kn(fA,"User change. New user:",t.toKey());const e=await Ml(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new $n(Zn.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await PA(n,e.Bs)}}function OA(e,t){const n=Yn(e),r=n.Eu.get(t);if(r&&r.lu)return wo().add(r.key);{let e=wo();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function RA(e){const t=Yn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=BA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EA.bind(null,t),t.hu.J_=iA.bind(null,t.eventManager),t.hu.pu=oA.bind(null,t.eventManager),t}function DA(e){const t=Yn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SA.bind(null,t),t}class MA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Dl(this.persistence,new Ql,e.initialUser,this.serializer)}Du(e){return new Il(jl.Vi,this.serializer)}bu(e){return new Xl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}MA.provider={build:()=>new MA};class HA extends MA{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Xn(this.persistence.referenceDelegate instanceof Ll,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new pl(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?Al.withCacheSize(this.cacheSizeBytes):Al.DEFAULT;return new Il(e=>Ll.Vi(e,t),this.serializer)}}class VA{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>kA(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=QA.bind(null,this.syncEngine),await zc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tA}createDatastore(e){const t=cc(e.databaseInfo.databaseId),n=function(e){return new ac(e)}(e.databaseInfo);return function(e,t,n,r){return new pc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new vc(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>kA(this.syncEngine,e,0),$l.C()?new $l:new Yl)}createSyncEngine(e,t){return function(e,t,n,r,s,i,o){const a=new mA(e,t,n,r,s,i);return o&&(a.fu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Yn(e);Kn(yc,"RemoteStore shutting down."),t.Ia.add(5),await xc(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}VA.provider={build:()=>new VA};class KA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const qA="FirestoreClient";class zA{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Dn.UNAUTHENTICATED,this.clientId=Ar.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{Kn(qA,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Kn(qA,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(lp){const n=Xc(lp,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function WA(e,t){e.asyncQueue.verifyOperationInProgress(),Kn(qA,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ml(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{zn("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{Kn("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{zn("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function GA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await JA(e);Kn(qA,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>qc(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>qc(t.remoteStore,n)),e._onlineComponents=t}async function JA(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Kn(qA,"Using user provided OfflineComponentProvider");try{await WA(e,e._uninitializedComponentsProvider._offline)}catch(lp){const n=lp;if(!function(e){return"FirebaseError"===e.name?e.code===Zn.FAILED_PRECONDITION||e.code===Zn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;zn("Error using user provided cache. Falling back to memory cache: "+n),await WA(e,new MA)}}else Kn(qA,"Using default OfflineComponentProvider"),await WA(e,new HA(void 0));return e._offlineComponents}async function XA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Kn(qA,"Using user provided OnlineComponentProvider"),await GA(e,e._uninitializedComponentsProvider._online)):(Kn(qA,"Using default OnlineComponentProvider"),await GA(e,new VA))),e._onlineComponents}function YA(e){return XA(e).then(e=>e.syncEngine)}async function ZA(e){const t=await XA(e),n=t.eventManager;return n.onListen=yA.bind(null,t.syncEngine),n.onUnlisten=bA.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=vA.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=CA.bind(null,t.syncEngine),n}function $A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new er;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new KA({next:a=>{i.Ou(),t.enqueueAndForget(()=>sA(e,o));const l=a.docs.has(n);!l&&a.fromCache?s.reject(new $n(Zn.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?s.reject(new $n(Zn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(a)},error:e=>s.reject(e)}),o=new AA(Gi(n.path),i,{includeMetadataChanges:!0,ka:!0});return rA(e,o)}(await ZA(e),e.asyncQueue,t,n,r)),r.promise}function eu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const tu=new Map,nu="firestore.googleapis.com",ru=!0;class su{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new $n(Zn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nu,this.ssl=ru}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:ru;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=cl;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<hl)throw new $n(Zn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new $n(Zn.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new $n(Zn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new $n(Zn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new $n(Zn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new su({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $n(Zn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $n(Zn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new su(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nr;switch(e.type){case"firstParty":return new ir(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new $n(Zn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tu.get(e);t&&(Kn("ComponentProvider","Removing Datastore"),tu.delete(e),t.terminate())}(this),Promise.resolve()}}class ou{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ou(this.firestore,e,this._query)}}class au{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new au(this.firestore,e,this._key)}toJSON(){return{type:au._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Sr(t,au._jsonSchema))return new au(e,n||null,new xr(yr.fromString(t.referencePath)))}}au._jsonSchemaVersion="firestore/documentReference/1.0",au._jsonSchema={type:Nr("string",au._jsonSchemaVersion),referencePath:Nr("string")};class lu extends ou{constructor(e,t,n){super(e,t,Gi(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new au(this.firestore,null,new xr(e))}withConverter(e){return new lu(this.firestore,e,this._path)}}function cu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=(0,kn.Ku)(e),1===arguments.length&&(t=Ar.newId()),br("doc","path",t),e instanceof iu){const n=yr.fromString(t,...r);return Cr(n),new au(e,null,new xr(n))}{if(!(e instanceof au||e instanceof lu))throw new $n(Zn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yr.fromString(t,...r));return Cr(n),new au(e.firestore,e instanceof lu?e.converter:null,new xr(n))}}const Au="AsyncQueue";class uu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Ac(this,"async_queue_retry"),this.oc=()=>{const e=lc();e&&Kn(Au,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=lc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=lc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new er;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Kr(e))throw e;Kn(Au,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,qn("INTERNAL UNHANDLED ERROR: ",du(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=Jc.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&Gn(47125,{hc:du(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function du(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class hu extends iu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new uu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uu(e),this._firestoreClient=void 0,await e}}}function fu(e){if(e._terminated)throw new $n(Zn.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||gu(e),e._firestoreClient}function gu(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new qs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,eu(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new zA(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(js.fromBase64String(e))}catch(e){throw new $n(Zn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new pu(js.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pu._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sr(e,pu._jsonSchema))return pu.fromBase64String(e.bytes)}}pu._jsonSchemaVersion="firestore/bytes/1.0",pu._jsonSchema={type:Nr("string",pu._jsonSchemaVersion),bytes:Nr("string")};class mu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new $n(Zn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yu{constructor(e){this._methodName=e}}class vu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $n(Zn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $n(Zn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ur(this._lat,e._lat)||ur(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vu._jsonSchemaVersion}}static fromJSON(e){if(Sr(e,vu._jsonSchema))return new vu(e.latitude,e.longitude)}}vu._jsonSchemaVersion="firestore/geoPoint/1.0",vu._jsonSchema={type:Nr("string",vu._jsonSchemaVersion),latitude:Nr("number"),longitude:Nr("number")};class wu{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wu._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sr(e,wu._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new wu(e.vectorValues);throw new $n(Zn.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wu._jsonSchemaVersion="firestore/vectorValue/1.0",wu._jsonSchema={type:Nr("string",wu._jsonSchemaVersion),vectorValues:Nr("object")};const xu=/^__.*__$/;class bu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Go(e,this.data,t,this.fieldTransforms)}}function Cu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gn(40011,{Ec:e})}}class Bu{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Bu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Pu(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(Cu(this.Ec)&&xu.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class ku{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||cc(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bu({Ec:e,methodName:t,bc:n,path:wr.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eu(e){const t=e._freezeSettings(),n=cc(e._databaseId);return new ku(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Nu(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Dc(i.merge||i.mergeFields?2:0,t,n,s);Tu("Data must be an object, but it was:",o,r);const a=Fu(r,o);let l,c;if(i.merge)l=new Is(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=ju(t,r,n);if(!o.contains(s))throw new $n(Zn.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));Qu(e,s)||e.push(s)}l=new Is(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new bu(new pi(a),l,c)}class Su extends yu{_toFieldTransform(e){return new Oo(e.path,new Fo)}isEqual(e){return e instanceof Su}}function _u(e,t){if(Iu(e=(0,kn.Ku)(e)))return Tu("Unsupported field value:",t,e),Fu(e,t);if(e instanceof yu)return function(e,t){if(!Cu(t.Ec))throw t.wc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.wc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=_u(s,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,kn.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ko(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ir.fromDate(e);return{timestampValue:_a(t.serializer,n)}}if(e instanceof Ir){const n=new Ir(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:_a(t.serializer,n)}}if(e instanceof vu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pu)return{bytesValue:Fa(t.serializer,e._byteString)};if(e instanceof au){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ja(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof wu)return function(e,t){return{mapValue:{fields:{[Gs]:{stringValue:Ys},[Zs]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return Co(t.serializer,e)})}}}}}}(e,t);throw t.wc("Unsupported field value: ".concat(kr(e)))}(e,t)}function Fu(e,t){const n={};return ks(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(e,(e,r)=>{const s=_u(r,t.Vc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Iu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ir||e instanceof vu||e instanceof pu||e instanceof au||e instanceof yu||e instanceof wu)}function Tu(e,t,n){if(!Iu(n)||!Br(n)){const r=kr(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function ju(e,t,n){if((t=(0,kn.Ku)(t))instanceof mu)return t._internalPath;if("string"==typeof t)return Uu(e,t);throw Pu("Field path arguments must be of type string or ",e,!1,void 0,n)}const Lu=new RegExp("[~\\*/\\[\\]]");function Uu(e,t,n){if(t.search(Lu)>=0)throw Pu("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new mu(...t.split("."))._internalPath}catch($u){throw Pu("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Pu(e,t,n,r,s){const i=r&&!r.isEmpty(),o=void 0!==s;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(s)),l+=")"),new $n(Zn.INVALID_ARGUMENT,a+e+l)}function Qu(e,t){return e.some(e=>e.isEqual(t))}class Ou{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new au(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ru(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Du("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ru extends Ou{data(){return super.data()}}function Du(e,t){return"string"==typeof t?Uu(e,t):t instanceof mu?t._internalPath:t._delegate._internalPath}class Mu{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ps(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Gn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Bs(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Zs].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Ps(e.doubleValue));return new wu(s)}convertGeoPoint(e){return new vu(Ps(e.latitude),Ps(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Vs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ks(e));default:return null}}convertTimestamp(e){const t=Us(e);return new Ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yr.fromString(e);Xn(tl(n),9688,{name:e});const r=new Ws(n.get(1),n.get(3)),s=new xr(n.popFirst(5));return r.isEqual(t)||qn("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function Hu(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ku extends Ou{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Du("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $n(Zn.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ku._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Ku._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ku._jsonSchema={type:Nr("string",Ku._jsonSchemaVersion),bundleSource:Nr("string","DocumentSnapshot"),bundleName:Nr("string"),bundle:Nr("string")};class qu extends Ku{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class zu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vu(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new qu(this._firestore,this._userDataWriter,n.key,n,new Vu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $n(Zn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new qu(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Vu(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new qu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Wu(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $n(Zn.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ar.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gn(61501,{type:e})}}zu._jsonSchemaVersion="firestore/querySnapshot/1.0",zu._jsonSchema={type:Nr("string",zu._jsonSchemaVersion),bundleSource:Nr("string","QuerySnapshot"),bundleName:Nr("string"),bundle:Nr("string")};class Gu extends Mu{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new au(this.firestore,null,t)}}function Ju(e,t){return function(e,t){const n=new er;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=DA(e);try{const e=await function(e,t){const n=Yn(e),r=Ir.now(),s=t.reduce((e,t)=>e.add(t.key),wo());let i,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Ao(),l=wo();return n.Os.getEntries(e,s).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(s=>{i=s;const o=[];for(const e of t){const t=zo(e,i.get(e.key).overlayedDocument);null!=t&&o.push(new Jo(e.key,t,mi(t.value.mapValue),Do.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:fo(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new Es(ur)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await PA(r,e.changes),await Pc(r.remoteStore)}catch(e){const t=Xc(e,"Failed to persist write");n.reject(t)}}(await YA(e),t,n)),n.promise}(fu(e),t)}function Xu(e,t,n){const r=n.docs.get(t._key),s=new Gu(e);return new Ku(e,s,t._key,r,new Vu(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Mn=e}(bn.MF),(0,bn.om)(new Cn.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),o=new hu(new rr(e.getProvider("auth-internal")),new ar(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $n(Zn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ws(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),(0,bn.KO)(On,Rn,e),(0,bn.KO)(On,Rn,"esm2017")}();const Yu=e=>{let{text:t}=e;if(!t)return null;return(0,k.jsx)("div",{className:"prose prose-sm max-w-none text-gray-700 dark:text-gray-300",dangerouslySetInnerHTML:{__html:(e=>e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")).replace(/\*(.*?)\*/g,"<em>$1</em>")).replace(/`(.*?)`/g,'<code class="bg-gray-100 dark:bg-gray-800 px-1 py-0.5 rounded text-sm font-mono">$1</code>')).replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold mt-4 mb-2 text-gray-900 dark:text-white">$1</h3>')).replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold mt-4 mb-2 text-gray-900 dark:text-white">$1</h2>')).replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold mt-4 mb-2 text-gray-900 dark:text-white">$1</h1>')).replace(/```([\s\S]*?)```/g,'<pre class="bg-gray-50 dark:bg-gray-800 p-3 rounded-lg overflow-x-auto my-2"><code class="text-sm font-mono text-gray-800 dark:text-gray-200">$1</code></pre>')).replace(/\n/g,"<br>")).replace(/^- (.*$)/gm,'<li class="ml-4 mb-1">$1</li>')).replace(/(<li[^]*<\/li>)/,'<ul class="list-disc pl-4 space-y-1">$1</ul>'))(t)}})},Zu=e=>{let{questionData:n,userCode:r,userId:s}=e;const[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(0),[h,f]=(0,t.useState)(""),g=3e5;(0,t.useEffect)(()=>{p()},[s]),(0,t.useEffect)(()=>{if(c>0){const e=setInterval(()=>{d(e=>{const t=e-1e3;return t<=0?0:t})},1e3);return()=>clearInterval(e)}},[c]);const p=async()=>{if(s)try{const t=cu(A.OO,"userCooldowns",s),n=await function(e){e=Er(e,au);const t=Er(e.firestore,hu);return $A(fu(t),e._key).then(n=>Xu(t,e,n))}(t);if(n.exists()){var e;const t=(null===(e=n.data().lastSuggestionRequest)||void 0===e?void 0:e.toMillis())||0,r=Date.now()-t;r<g&&d(g-r)}}catch(h){console.error("Error checking cooldown:",h)}},m=async()=>{if(s)try{const e=cu(A.OO,"userCooldowns",s);await function(e,t,n){e=Er(e,au);const r=Er(e.firestore,hu),s=Hu(e.converter,t,n);return Ju(r,[Nu(Eu(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Do.none())])}(e,{lastSuggestionRequest:new Su("serverTimestamp"),userId:s},{merge:!0}),d(g)}catch(h){console.error("Error setting cooldown:",h)}},y=e=>{const t=Math.ceil(e/1e3);return"".concat(t,"s")};return(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-400",children:[(0,k.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"AI Suggestions"}),(0,k.jsx)("button",{onClick:async()=>{if(!(c>0)){l(!0),f("");try{var e,t,s;const i="\nQuestion: ".concat((null===n||void 0===n?void 0:n.questionname)||"Untitled","\n\nDescription: ").concat((null===n||void 0===n?void 0:n.question)||"No description provided","\n\nExample 1: ").concat((null===n||void 0===n||null===(e=n.Example)||void 0===e?void 0:e[0])||"No example provided","\n\nExample 2: ").concat((null===n||void 0===n||null===(t=n.Example)||void 0===t?void 0:t[1])||"No example provided","\n\nConstraints: ").concat((null===n||void 0===n||null===(s=n.constraints)||void 0===s?void 0:s.join(", "))||"No constraints provided","\n      ").trim(),a=await async function(e){let{prompt:t,code:n,mode:r="suggestions"}=e;const s=(0,u.jf)((0,u.KR)(A.OO),"groq_api_key"),i=await(0,u.Jt)(s);vn=i;const o="suggestions"===r?"You are an assistant that gives only hints and clues (never direct answers or code) to help a student solve coding questions. Be strict and never include actual code in your responses. Always respond in a bullet point format with clear, numbered hints. The format must be consistent across all users and over time. Never change it.":"You are an assistant that reviews code based solely on time complexity, space complexity, and provides a performance rating. Never include any code or code suggestions in your responses. Always respond in the following strict format:\n1. Time Complexity: [Your analysis]\n2. Space Complexity: [Your analysis]\n3. Overall Rating: [Score out of 10, with reasoning]\nThis format must be followed exactly, for every response, no matter the context or user. No exceptions.",a="suggestions"===r?"Prompt:\n".concat(t,"\n\nCode:\n").concat(n,"\n\nGive helpful suggestions or hints only."):"Prompt:\n".concat(t,"\n\nCode:\n").concat(n,"\n\nPlease give time/space complexity and rate the code.");try{var l,c;return null===(l=(await gn.post("https://api.groq.com/openai/v1/chat/completions",{model:"llama-3.1-8b-instant",messages:[{role:"system",content:o},{role:"user",content:a}],temperature:.7},{headers:{Authorization:"Bearer ".concat(vn),"Content-Type":"application/json"}})).data.choices[0])||void 0===l||null===(c=l.message)||void 0===c?void 0:c.content}catch(nf){var d;return console.error("\u274c Groq API Error:",(null===(d=nf.response)||void 0===d?void 0:d.data)||nf.message),"Error contacting Groq API"}}({prompt:i,code:r||"No code provided yet",mode:"suggestions"});o(a),await m()}catch(h){console.error("Error getting suggestions:",h),f("Failed to get AI suggestions. Please try again later.")}finally{l(!1)}}},disabled:a||c>0,className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(a||c>0?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:a?(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Getting Suggestions..."]}):c>0?"Wait ".concat(y(c)):"Get AI Suggestions"})]}),h&&(0,k.jsx)("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg",children:(0,k.jsx)("p",{className:"text-red-700 dark:text-red-400 text-sm",children:h})}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-dark-secondary rounded-lg border border-gray-200 dark:border-gray-700",children:(0,k.jsx)("div",{className:"p-4 h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-gray-100 dark:scrollbar-track-gray-800",style:{maxHeight:"384px"},children:i?(0,k.jsx)(Yu,{text:i}):(0,k.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-gray-400",children:(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),(0,k.jsx)("p",{className:"text-sm",children:'Click "Get AI Suggestions" to receive helpful hints and guidance for solving this problem.'})]})})})}),c>0&&(0,k.jsx)("div",{className:"mt-3 p-2 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded text-sm",children:(0,k.jsxs)("p",{className:"text-yellow-700 dark:text-yellow-400",children:["\u23f1\ufe0f Cooldown active: ",y(c)," remaining to prevent spam"]})})]})};function $u(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=$u(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const ed=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=$u(e))&&(r&&(r+=" "),r+=t);return r},td=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var nd=e=>"number"==typeof e&&!isNaN(e),rd=e=>"string"==typeof e,sd=e=>"function"==typeof e,id=e=>rd(e)||sd(e)?e:null,od=(e,t)=>!1===e||nd(e)&&e>0?e:t,ad=e=>(0,t.isValidElement)(e)||rd(e)||sd(e)||nd(e);function ld(e){let{enter:n,exit:r,appendPosition:s=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:A,nodeRef:u,isIn:d,playToast:h}=e,f=s?"".concat(n,"--").concat(l):n,g=s?"".concat(r,"--").concat(l):r,p=(0,t.useRef)(0);return(0,t.useLayoutEffect)(()=>{let e=u.current,t=f.split(" "),n=r=>{r.target===u.current&&(h(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===p.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,t.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}(e,A,o):A()};d||(c?t():(p.current=1,e.className+=" ".concat(g),e.addEventListener("animationend",t)))},[d]),t.createElement(t.Fragment,null,a)}}function cd(e,t){return{content:Ad(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Ad(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.isValidElement)(e)&&!rd(e.type)?(0,t.cloneElement)(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):sd(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):e}function ud(e){let{delay:n,isRunning:r,closeToast:s,type:i="default",hide:o,className:a,controlledProgress:l,progress:c,rtl:A,isIn:u,theme:h}=e,f=o||l&&0===c,g={animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused"};l&&(g.transform="scaleX(".concat(c,")"));let p=ed("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(h),"Toastify__progress-bar--".concat(i),{"Toastify__progress-bar--rtl":A}),m=sd(a)?a({rtl:A,type:i,defaultClassName:p}):ed(p,a),y={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&s()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},t.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(h," Toastify__progress-bar--").concat(i)}),t.createElement("div",(0,d.A)({role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:m,style:g},y)))}var dd=1,hd=()=>"".concat(dd++);function fd(e,t,n){let r=1,s=0,i=[],o=[],a=t,l=new Map,c=new Set,A=()=>{o=Array.from(l.values()),c.forEach(e=>e())},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}A()},f=e=>{var t,r;let{toastId:s,updateId:i}=e.props,o=null==i;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(s,e),A(),n(cd(e,o?"added":"updated")),o&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:a,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:h,toasts:l,clearQueue:()=>{s-=i.length,i=[]},buildToast:(t,o)=>{if((t=>{let{containerId:n,toastId:r,updateId:s}=t,i=n?n!==e:1!==e,o=l.has(r)&&null==s;return i||o})(o))return;let{toastId:c,updateId:u,data:g,staleId:p,delay:m}=o,y=null==u;y&&s++;let v=(0,d.A)((0,d.A)((0,d.A)({},a),{},{style:a.toastStyle,key:r++},Object.fromEntries(Object.entries(o).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:c,updateId:u,data:g,isIn:!1,className:id(o.className||a.toastClassName),progressClassName:id(o.progressClassName||a.progressClassName),autoClose:!o.isLoading&&od(o.autoClose,a.autoClose),closeToast(e){l.get(c).removalReason=e,h(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(cd(e,"removed")),l.delete(c),s--,s<0&&(s=0),i.length>0)return void f(i.shift());A()}}});v.closeButton=a.closeButton,!1===o.closeButton||ad(o.closeButton)?v.closeButton=o.closeButton:!0===o.closeButton&&(v.closeButton=!ad(a.closeButton)||a.closeButton);let w={content:t,props:v,staleId:p};a.limit&&a.limit>0&&s>a.limit&&y?i.push(w):nd(m)?setTimeout(()=>{f(w)},m):f(w)},setProps(e){a=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>o}}var gd=new Map,pd=[],md=new Set,yd=e=>md.forEach(t=>t(e)),vd=()=>gd.size>0;function wd(e,t){var n;if(t)return!(null==(n=gd.get(t))||!n.isToastActive(e));let r=!1;return gd.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function xd(e){if(vd()){if(null==e||(e=>rd(e)||nd(e))(e))gd.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=gd.get(e.containerId);t?t.removeToast(e.id):gd.forEach(t=>{t.removeToast(e.id)})}}else pd=pd.filter(t=>null!=e&&t.options.toastId!==e)}function bd(e,t){ad(e)&&(vd()||pd.push({content:e,options:t}),gd.forEach(n=>{n.buildToast(e,t)}))}function Cd(e,t){gd.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function Bd(e){let t=e.containerId||1;return{subscribe(n){let r=fd(t,e,yd);gd.set(t,r);let s=r.observe(n);return pd.forEach(e=>bd(e.content,e.options)),pd=[],()=>{s(),gd.delete(t)}},setProps(e){var n;null==(n=gd.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=gd.get(t))?void 0:e.getSnapshot()}}}function kd(e){return e&&(rd(e.toastId)||nd(e.toastId))?e.toastId:hd()}function Ed(e,t){return bd(e,t),t.toastId}function Nd(e,t){return(0,d.A)((0,d.A)({},t),{},{type:t&&t.type||e,toastId:kd(t)})}function Sd(e){return(t,n)=>Ed(t,Nd(e,n))}function _d(e,t){return Ed(e,Nd("default",t))}function Fd(e){let[n,r]=(0,t.useState)(!1),[s,i]=(0,t.useState)(!1),o=(0,t.useRef)(null),a=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:A,onClick:u,closeOnClick:d}=e;function h(){r(!0)}function f(){r(!1)}function g(t){let r=o.current;if(a.canDrag&&r){a.didMove=!0,n&&f(),"x"===e.draggableDirection?a.delta=t.clientX-a.start:a.delta=t.clientY-a.start,a.start!==t.clientX&&(a.canCloseOnClick=!1);let s="x"===e.draggableDirection?"".concat(a.delta,"px, var(--y)"):"0, calc(".concat(a.delta,"px + var(--y))");r.style.transform="translate3d(".concat(s,",0)"),r.style.opacity="".concat(1-Math.abs(a.delta/a.removalDistance))}}function p(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",p);let t=o.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=gd.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,t.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||f(),window.addEventListener("focus",h),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",f)}},[e.pauseOnFocusLoss]);let m={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){a.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",p);let n=o.current;a.canCloseOnClick=!0,a.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(a.start=t.clientX,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=t.clientY,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:s,right:i}=o.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=s&&t.clientX<=i&&t.clientY>=n&&t.clientY<=r?f():h()}};return l&&c&&(m.onMouseEnter=f,e.stacked||(m.onMouseLeave=h)),d&&(m.onClick=e=>{u&&u(e),a.canCloseOnClick&&A(!0)}),{playToast:h,pauseToast:f,isRunning:n,preventExitTransition:s,toastRef:o,eventHandlers:m}}_d.loading=(e,t)=>Ed(e,Nd("default",(0,d.A)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),_d.promise=function(e,t,n){let r,{pending:s,error:i,success:o}=t;s&&(r=rd(s)?_d.loading(s,n):_d.loading(s.render,(0,d.A)((0,d.A)({},n),s)));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void _d.dismiss(r);let i=(0,d.A)((0,d.A)((0,d.A)({type:e},a),n),{},{data:s}),o=rd(t)?{render:t}:t;return r?_d.update(r,(0,d.A)((0,d.A)({},i),o)):_d(o.render,(0,d.A)((0,d.A)({},i),o)),s},c=sd(e)?e():e;return c.then(e=>l("success",o,e)).catch(e=>l("error",i,e)),c},_d.success=Sd("success"),_d.info=Sd("info"),_d.error=Sd("error"),_d.warning=Sd("warning"),_d.warn=_d.warning,_d.dark=(e,t)=>Ed(e,Nd("default",(0,d.A)({theme:"dark"},t))),_d.dismiss=function(e){xd(e)},_d.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gd.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},_d.isActive=wd,_d.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=gd.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:s}=n,i=(0,d.A)((0,d.A)((0,d.A)({delay:100},r),t),{},{toastId:t.toastId||e,updateId:hd()});i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,Ed(o,i)}},_d.done=e=>{_d.update(e,{progress:1})},_d.onChange=function(e){return md.add(e),()=>{md.delete(e)}},_d.play=e=>Cd(!0,e),_d.pause=e=>Cd(!1,e);var Id="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Td=e=>{let{theme:n,type:r,isLoading:s}=e,i=h(e,td);return t.createElement("svg",(0,d.A)({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))};var jd={info:function(e){return t.createElement(Td,(0,d.A)({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(Td,(0,d.A)({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(Td,(0,d.A)({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(Td,(0,d.A)({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function Ld(e){let{theme:n,type:r,isLoading:s,icon:i}=e,o=null,a={theme:n,type:r};return!1===i||(sd(i)?o=i((0,d.A)((0,d.A)({},a),{},{isLoading:s})):(0,t.isValidElement)(i)?o=(0,t.cloneElement)(i,a):s?o=jd.spinner():(e=>e in jd)(r)&&(o=jd[r](a))),o}var Ud=e=>{let{isRunning:n,preventExitTransition:r,toastRef:s,eventHandlers:i,playToast:o}=Fd(e),{closeButton:a,children:l,autoClose:c,onClick:A,type:u,hideProgressBar:h,closeToast:f,transition:g,position:p,className:m,style:y,progressClassName:v,updateId:w,role:x,progress:b,rtl:C,toastId:B,deleteToast:k,isIn:E,isLoading:N,closeOnClick:S,theme:_,ariaLabel:F}=e,I=ed("Toastify__toast","Toastify__toast-theme--".concat(_),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":S}),T=sd(m)?m({rtl:C,position:p,type:u,defaultClassName:I}):ed(I,m),j=Ld(e),L=!!b||!c,U={closeToast:f,type:u,theme:_},P=null;return!1===a||(P=sd(a)?a(U):(0,t.isValidElement)(a)?(0,t.cloneElement)(a,U):function(e){let{closeToast:n,theme:r,ariaLabel:s="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),n(!0)},"aria-label":s},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(U)),t.createElement(g,{isIn:E,done:k,position:p,preventExitTransition:r,nodeRef:s,playToast:o},t.createElement("div",(0,d.A)((0,d.A)({id:B,tabIndex:0,onClick:A,"data-in":E,className:T},i),{},{style:y,ref:s},E&&{role:x,"aria-label":F}),null!=j&&t.createElement("div",{className:ed("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},j),Ad(l,e,!n),P,!e.customProgressBar&&t.createElement(ud,(0,d.A)((0,d.A)({},w&&!L?{key:"p-".concat(w)}:{}),{},{rtl:C,theme:_,delay:c,isRunning:n,isIn:E,closeToast:f,hide:h,type:u,className:v,controlledProgress:L,progress:b||0}))))},Pd=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Qd=ld(Pd("bounce",!0)),Od=(ld(Pd("slide",!0)),ld(Pd("zoom")),ld(Pd("flip")),{position:"top-right",transition:Qd,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Rd(e){let n=(0,d.A)((0,d.A)({},Od),e),r=e.stacked,[s,i]=(0,t.useState)(!0),o=(0,t.useRef)(null),{getToastToRender:a,isToastActive:l,count:c}=function(e){var n;let{subscribe:r,getSnapshot:s,setProps:i}=(0,t.useRef)(Bd(e)).current;i(e);let o=null==(n=(0,t.useSyncExternalStore)(r,s,s))?void 0:n.slice();return{getToastToRender:function(t){if(!o)return[];let n=new Map;return e.newestOnTop&&o.reverse(),o.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:wd,count:null==o?void 0:o.length}}(n),{className:A,style:u,rtl:h,containerId:f,hotKeys:g}=n;function p(e){let t=ed("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":h});return sd(A)?A({position:e,rtl:h,defaultClassName:t}):ed(t,id(A))}function m(){r&&(i(!0),_d.play())}return Id(()=>{var e;if(r){let t=o.current.querySelectorAll('[data-in="true"]'),r=12,i=null==(e=n.position)?void 0:e.includes("top"),a=0,l=0;Array.from(t).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(s)),n.dataset.pos||(n.dataset.pos=i?"top":"bot");let o=a*(s?.2:1)+(s?0:r*t);n.style.setProperty("--y","".concat(i?o:-1*o,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(s?l:0))),a+=n.offsetHeight,l+=.025})}},[s,c,r]),(0,t.useEffect)(()=>{function e(e){var t;let n=o.current;g(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),i(!1),_d.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(i(!0),_d.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[g]),t.createElement("section",{ref:o,className:"Toastify",id:f,onMouseEnter:()=>{r&&(i(!1),_d.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},a((e,n)=>{let s=n.length?(0,d.A)({},u):(0,d.A)((0,d.A)({},u),{},{pointerEvents:"none"});return t.createElement("div",{tabIndex:-1,className:p(e),"data-stacked":r,style:s,key:"c-".concat(e)},n.map(e=>{let{content:n,props:s}=e;return t.createElement(Ud,(0,d.A)((0,d.A)({},s),{},{stacked:r,collapseAll:m,isIn:l(s.toastId,s.containerId),key:"t-".concat(s.key)}),n)}))}))}function Dd(e,t,n){const r={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(r))}function Md(e){const t=localStorage.getItem(e);if(!t)return null;const n=JSON.parse(t);return(new Date).getTime()>n.expiry?(localStorage.removeItem(e),null):n.value}const Hd=function(e){var n,r,i,o;let{data:a,navigation:h}=e;const[f,g]=(0,t.useState)(""),[p,m]=(0,t.useState)("none");(0,t.useEffect)(()=>{const e=e=>(e.preventDefault(),e.stopPropagation(),!1),t=e=>(e.preventDefault(),e.stopPropagation(),!1),n=e=>(e.preventDefault(),e.stopPropagation(),e.clipboardData&&(e.clipboardData.setData("text/plain",""),e.clipboardData.clearData()),_d.error("Copy-paste is disabled in this environment"),!1),r=e=>(e.preventDefault(),e.stopPropagation(),!1),s={capture:!0,passive:!1};document.addEventListener("copy",e,s),document.addEventListener("cut",e,s),document.addEventListener("paste",n,s),document.addEventListener("contextmenu",t,s),document.addEventListener("drop",r,s),document.addEventListener("dragover",r,s);const i=e=>{const t=(e.ctrlKey||e.metaKey)&&["v","V","Insert"].includes(e.key),n=(e.ctrlKey||e.metaKey)&&["c","C","c","C","Insert","F3","F16","F24"].includes(e.key),r=(e.ctrlKey||e.metaKey)&&["x","X","Delete"].includes(e.key);if(t||n||r)return e.preventDefault(),e.stopPropagation(),window.getSelection().removeAllRanges(),t&&_d.error("Pasting is disabled in this environment"),!1};document.addEventListener("keydown",i,{capture:!0});const o=e=>{if(e.target.isContentEditable)return e.preventDefault(),e.stopPropagation(),!1};return document.addEventListener("paste",o,{capture:!0}),window.addEventListener("blur",()=>{document.activeElement&&"IFRAME"===document.activeElement.tagName&&document.activeElement.blur()}),()=>{document.removeEventListener("copy",e,s),document.removeEventListener("cut",e,s),document.removeEventListener("paste",n,s),document.removeEventListener("contextmenu",t,s),document.removeEventListener("drop",r,s),document.removeEventListener("dragover",r,s),document.removeEventListener("keydown",i,{capture:!0}),document.removeEventListener("paste",o,{capture:!0}),window.removeEventListener("blur",()=>{})}},[]);const[y,v]=(0,t.useState)("description"),[w,x]=(0,t.useState)(null),[b,C]=(0,t.useState)([]),[B,E]=(0,t.useState)(0),[N,S]=(0,t.useState)(!1),[_,F]=(0,t.useState)(45),[I,K]=(0,t.useState)("cpp"),{theme:q}=(0,l.D)(),[z,W]=(0,t.useState)(null),[G,J]=(0,t.useState)(null),[X,Y]=(0,t.useState)([{input:"",expectedOutput:""}]),[Z,$]=(0,t.useState)([]),ee=(0,t.useRef)(null),te=(0,t.useRef)(null),ne=e=>{if(e){e.style.height="auto";const t=Math.min(200,Math.max(80,e.scrollHeight));e.style.height=t+"px"}};(0,t.useEffect)(()=>{const e=setTimeout(()=>{ee.current&&(ee.current.style.height="auto",ee.current.style.height=ee.current.scrollHeight+"px"),te.current&&(te.current.style.height="auto",te.current.style.height=te.current.scrollHeight+"px")},10);return()=>clearTimeout(e)},[B,X,y]);const[re,se]=(0,t.useState)([]),[ie,oe]=(0,t.useState)(0),{course:ae,subcourse:le,questionId:ce}=(0,s.g)(),{user:Ae}=(0,c.A)(),ue=((0,s.Zp)(),(0,t.useRef)(null)),de=(0,t.useRef)(null),he=(0,t.useRef)(null),fe=(0,t.useRef)(null),ge=e=>e?e.replace(/[.#$/\[\]:]/g,"_"):"",pe=async e=>{if(null!==Ae&&void 0!==Ae&&Ae.uid)try{const t=(0,u.KR)(A.OO,"userprogress/".concat(Ae.uid,"/").concat(ae,"/").concat(le,"/").concat(ce));await(0,u.hZ)(t,e),console.log("userprogress saved: ".concat(ce," = ").concat(e))}catch(t){console.error("Error saving user progress:",t)}},me=(0,t.useCallback)(async()=>{try{const e=(0,u.KR)(A.OO),t="savedCode/".concat(Ae.uid,"/").concat(ae,"/").concat(ce,"/").concat(I),n=await(0,u.Jt)((0,u.jf)(e,t));if(console.log(n.val()),n.exists()){const e=n.val();g(e),console.log("Code loaded successfully!")}else g(H[I]||""),console.log("No saved code found, using default template")}catch(e){console.error("Error loading code:",e),g(H[I]||"")}},[ae,ce,I]),ye=(0,t.useCallback)(async e=>{try{const t="savedCode/".concat(Ae.uid,"/").concat(ae,"/").concat(ce,"/").concat(I),n=(0,u.KR)(A.OO,t);await(0,u.hZ)(n,e),console.log("Code auto-saved successfully!")}catch(t){console.error("Error saving code:",t)}},[ae,ce,I]);(0,t.useEffect)(()=>{(async()=>{if(null===Ae||void 0===Ae||!Ae.uid||!ae||!le||!ce)return;const e=ge(ae),t=ge(le),n=ge(ce),r="Submissions/".concat(Ae.uid,"/").concat(e,"/").concat(t,"/").concat(n),s=await(0,u.Jt)((0,u.KR)(A.OO,r));if(s.exists()){const e=s.val(),t=Object.entries(e).map(e=>{let[t,n]=e;return(0,d.A)({timestamp:t},n)});se(t.reverse())}else se([])})()},[Ae,ae,le,ce,ie]);const ve=(0,t.useCallback)(e=>{g(e),ue.current&&clearTimeout(ue.current),ue.current=setTimeout(()=>{ye(e)},500)},[ye]),we=(0,t.useCallback)(e=>{const t=e.target.value;K(t)},[]);(0,t.useEffect)(()=>{z&&me()},[me,z,I]),(0,t.useEffect)(()=>{(async()=>{try{console.log("AlgoCore/".concat(String(ae).replace(" ",""),"/").concat(le,"/").concat(ce));const i=(0,u.KR)(A.OO,"questions/".concat(ce)),[o]=await Promise.all([(0,u.Jt)(i)]);if(o.exists()){var e,t,n,r,s;const i=o.val();console.log("question",i.type);const a=[{input:null===i||void 0===i||null===(e=i.testcases[0])||void 0===e?void 0:e.input,expectedOutput:null===i||void 0===i||null===(t=i.testcases[0])||void 0===t?void 0:t.expectedOutput},...null!==i&&void 0!==i&&null!==(n=i.testcases[1])&&void 0!==n&&n.expectedOutput?[{input:null===i||void 0===i||null===(r=i.testcases[1])||void 0===r?void 0:r.input,expectedOutput:null===i||void 0===i||null===(s=i.testcases[1])||void 0===s?void 0:s.expectedOutput}]:[]];Y(a),console.log(i),W(i)}}catch(i){console.error("Error fetching data from Firebase:",i)}})(),me(),async function(){const e=(0,u.KR)(A.OO);try{const t=await(0,u.Jt)((0,u.jf)(e,"/AlgoCore/".concat(ae,"/allowedLanguages")));if(!t.exists())return console.warn("No data found in Firebase."),{};const n=t.val();console.log(n),$(n),console.log(Z)}catch(t){return console.error("Failed to fetch templates:",t),[]}}()},[ce]);const xe=(0,t.useCallback)(e=>{de.current=e,he.current&&he.current.disconnect(),e.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KeyC,()=>{const e=Md("copyDisabled");if(console.log(e),null===e)return _d.error("Copy disabled!",{position:"top-right",autoClose:3e3}),void Dd("copyDisabled",!0,5e3)}),e.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KeyV,()=>{if(null===Md("pasteDisabled"))return _d.error("Paste disabled!",{position:"top-right",autoClose:3e3}),void Dd("pasteDisabled",!0,5e3)}),e.addCommand(monaco.KeyMod.Shift|monaco.KeyCode.Insert,()=>{if(null===Md("shiftInsertDisabled"))return _d.error("Shift insert disabled!\ud83d\ude2d",{position:"top-right",autoClose:3e3}),void Dd("shiftInsertDisabled",!0,5e3)}),e.updateOptions({contextmenu:!1});he.current=new ResizeObserver(e=>{fe.current&&clearTimeout(fe.current),fe.current=setTimeout(()=>{try{de.current&&!de.current.isDisposed()&&de.current.layout()}catch(e){console.warn("Editor layout error:",e)}},0)});const t=e.getContainerDomNode();t&&he.current.observe(t)},[]);(0,t.useEffect)(()=>{fe.current&&clearTimeout(fe.current),fe.current=setTimeout(()=>{if(de.current&&!de.current.isDisposed())try{de.current.layout()}catch(e){console.warn("Editor layout error:",e)}},100)},[_]),(0,t.useEffect)(()=>()=>{ue.current&&clearTimeout(ue.current),fe.current&&clearTimeout(fe.current),he.current&&he.current.disconnect()},[]);const be=(0,t.useCallback)(e=>{S(!0),e.preventDefault()},[]),Ce=(0,t.useCallback)(e=>{if(!N)return;const t=document.body.getBoundingClientRect();let n=((e.touches?e.touches[0].clientX:e.clientX)-t.left)/t.width*100;n=Math.max(18,Math.min(70,n)),F(n)},[N]),Be=(0,t.useCallback)(()=>{S(!1)},[]);return(0,t.useEffect)(()=>(N?(window.addEventListener("mousemove",Ce),window.addEventListener("mouseup",Be),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(window.removeEventListener("mousemove",Ce),window.removeEventListener("mouseup",Be),document.body.style.cursor="",document.body.style.userSelect=""),()=>{window.removeEventListener("mousemove",Ce),window.removeEventListener("mouseup",Be),document.body.style.cursor="",document.body.style.userSelect=""}),[N,Ce,Be]),(0,t.useEffect)(()=>{(async()=>{try{const e=(0,u.KR)(A.OO),t=await(0,u.Jt)((0,u.jf)(e,"/AlgoCore/".concat(ae)));t.exists()?J(t.val()):console.warn("No course data found in Firebase.")}catch(e){console.error("Error fetching course data:",e)}})()},[ae]),(0,k.jsxs)("div",{className:"h-[calc(100vh-4rem)] w-full flex bg-white dark:bg-dark-primary select-none overflow-hidden",children:["      ",(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary border-r border-gray-200 dark:border-dark-tertiary flex flex-col overflow-hidden h-full",style:{width:"".concat(_,"%")},children:[(0,k.jsxs)("div",{className:"flex whitespace-nowrap border-b border-gray-200 dark:border-dark-tertiary overflow-x-auto",children:[(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("description"===y?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>v("description"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(R,{}),"Description"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("testcases"===y?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>v("testcases"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(O,{}),"Test Cases"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("output"===y?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>v("output"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Q,{}),"Output"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("submissions"===y?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>v("submissions"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(P,{}),"Submissions"]})})]}),(0,k.jsxs)("div",{className:"p-6 flex-1 min-h-0 overflow-auto h-full",children:["description"===y&&(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-400",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white break-words",children:String(null===z||void 0===z?void 0:z.questionname)}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[(0,k.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full text-sm font-medium",children:"Easy"}),(0,k.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(U,{}),(0,k.jsx)("span",{className:"text-sm",children:"2.5K"})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(P,{}),(0,k.jsx)("span",{className:"text-sm",children:"15 min"})]})]})]}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)("p",{className:"break-words",children:null===z||void 0===z?void 0:z.question}),(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Example 1:"}),(0,k.jsx)("pre",{className:"bg-gray-50 dark:bg-dark-secondary p-4 rounded-lg font-mono whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200",children:null===z||void 0===z?void 0:z.Example[0]})]}),(null===z||void 0===z?void 0:z.Example[1])&&(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Example 2:"}),(0,k.jsx)("pre",{className:"bg-gray-50 dark:bg-dark-secondary p-4 rounded-lg font-mono whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200",children:null===z||void 0===z?void 0:z.Example[1]})]}),(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Constraints:"}),(0,k.jsxs)("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-400",children:[(0,k.jsx)("li",{children:null===z||void 0===z?void 0:z.constraints[0]}),(0,k.jsx)("li",{children:null===z||void 0===z?void 0:z.constraints[1]})]})]})]})]}),"testcases"===y&&(0,k.jsx)("div",{className:"space-y-6",children:(null===z||void 0===z||null===(n=z.testcases)||void 0===n?void 0:n.length)>=3&&"regex"===(null===z||void 0===z||null===(r=z.testcases)||void 0===r?void 0:r[2].input)?(0,k.jsx)("h1",{children:"No input"}):(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:" Manual Test Cases "}),(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[X.map((e,t)=>(0,k.jsxs)("button",{className:"px-4 py-2 rounded-t-lg font-medium border-b-2 transition-colors duration-150 focus:outline-none ".concat(B===t?"border-[#4285F4] text-[#4285F4] bg-white dark:bg-dark-secondary":"border-transparent text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-dark-tertiary hover:text-[#4285F4]"),onClick:()=>E(t),children:["Case ",t+1]},t)),(0,k.jsx)("button",{className:"ml-2 px-3 py-2 rounded-full bg-[#4285F4] text-white hover:bg-[#357ae8] text-lg font-bold",onClick:()=>{Y([...X,{input:"",expectedOutput:""}]),E(X.length)},children:"+"})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-dark-secondary rounded-lg p-4 mb-4",children:[(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 font-medium",children:"Input"}),(0,k.jsx)("textarea",{ref:ee,className:"w-full p-2 border border-gray-300 dark:border-dark-tertiary rounded-md bg-white dark:bg-dark-secondary text-gray-900 dark:text-white font-mono text-base min-h-[80px] resize-y",value:(null===(i=X[B])||void 0===i?void 0:i.input)||"",onChange:e=>{const t=[...X];t[B].input=e.target.value,Y(t),requestAnimationFrame(()=>{ne(e.target)})},onInput:e=>ne(e.target),placeholder:"Enter input (supports multiple lines)",rows:1,style:{minHeight:"40px",maxHeight:"200px",overflowY:"auto"}})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 font-medium",children:"Expected Output"}),(0,k.jsx)("textarea",{ref:te,className:"w-full p-2 border border-gray-300 dark:border-dark-tertiary rounded-md bg-white dark:bg-dark-secondary text-gray-900 dark:text-white font-mono text-base min-h-[80px] resize-y",value:(null===(o=X[B])||void 0===o?void 0:o.expectedOutput)||"",onChange:e=>{const t=[...X];t[B].expectedOutput=e.target.value,Y(t),requestAnimationFrame(()=>{ne(e.target)})},onInput:e=>ne(e.target),placeholder:"Enter expected output (supports multiple lines)",rows:1,style:{minHeight:"40px",maxHeight:"200px",overflowY:"auto"}})]})]}),(0,k.jsx)("div",{className:"flex justify-end mt-4",children:(0,k.jsx)("button",{className:"text-red-500 hover:text-red-700 font-medium",onClick:()=>{const e=X.filter((e,t)=>t!==B);Y(e.length?e:[{input:"",expectedOutput:""}]),E(e=>Math.max(0,e-1))},disabled:X.length<=1,title:"Delete this test case",children:"Delete Case"})})]})]})}),"output"===y&&(0,k.jsx)("div",{className:"py-8 px-4 flex flex-col items-center",children:w?(0,k.jsx)("pre",{className:"text-red-600 dark:text-red-400 whitespace-pre-wrap break-words",children:w}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(V,{testResults:b,runsubmit:p})})}),"submissions"===y&&(0,k.jsx)("div",{className:"space-y-4",children:0===re.length?(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"No submissions yet for this question."}):(0,k.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-dark-tertiary",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"}),(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Language"}),(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),(0,k.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-tertiary",children:re.map((e,t)=>(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300",children:(()=>{const t=e.timestamp.replace(/T(\d{2})_(\d{2})_(\d{2})_(\d{3})Z/,"T$1:$2:$3.$4Z"),n=new Date(t);return isNaN(n.getTime())?"N/A":n.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})()}),(0,k.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300",children:e.language}),(0,k.jsx)("td",{className:"px-4 py-2 text-sm font-medium ".concat("correct"===e.status?"text-green-600":"text-red-500"),children:e.status})]},t))})]})}),"suggestions"===y&&(0,k.jsx)(Zu,{questionData:z,userCode:f,userId:Ae.uid})]})]}),(0,k.jsx)("div",{className:"w-1 bg-gray-200 dark:bg-dark-tertiary hover:bg-[#4285F4] cursor-col-resize flex items-center justify-center group transition-colors duration-150 ".concat(N?"bg-[#4285F4]":""),onMouseDown:be,style:{zIndex:10},children:(0,k.jsx)(D,{size:16,className:"text-gray-400 group-hover:text-[#4285F4] opacity-0 group-hover:opacity-100"})}),(0,k.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-auto",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary border-t border-gray-200 dark:border-dark-tertiary p-2 flex justify-end gap-6",children:[(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsxs)("button",{onClick:()=>g(H[I]||""),title:"Reset to initial code",className:"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 px-2 py-1 rounded-md flex items-center gap-1 text-xs transition-colors duration-150",children:[(0,k.jsx)(M,{className:"w-3 h-3"}),"Reset"]}),(0,k.jsx)("select",{className:"bg-white dark:bg-dark-secondary text-gray-900 dark:text-white border border-gray-300 dark:border-dark-tertiary rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#4285F4] focus:border-transparent",value:I,onChange:we,children:Z.map(e=>(0,k.jsx)("option",{value:e,children:e},e))})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("button",{onClick:async()=>{const e=X;console.log("Running test cases:",e);try{const l=e.map(e=>({input:e.input||"",expected:e.expectedOutput||"",output:"",passed:!1,status:"running",isFirstFailure:!1}));C(l),x(null),v("output"),m("run");const c=[...l];let A=!1;for(let u=0;u<e.length;u++){const{input:l,expectedOutput:d}=e[u];try{var t,n;const{run:e}=await yn(I,f,l);if("regex2"===(null===(t=z.testcases[2])||void 0===t?void 0:t.input)){var r,s;const t=e.output.match(null===(r=z.testcases[2])||void 0===r?void 0:r.expectedOutput);console.log(e.output),console.log(null===(s=z.testcases[2])||void 0===s?void 0:s.expectedOutput);const n=new RegExp(/^PID of example\.c = \d+\n[A-Za-z]{3} [A-Za-z]{3} +\d{1,2} \d{2}:\d{2}:\d{2} [A-Z]+ \d{4}\n?$/);console.log(n.test(e.output)),c[u]={input:l,expected:d,output:e.output,passed:n.test(e.output),status:"done",isFirstFailure:!t&&!A},t||A||(A=!0,E(u))}else if("regex"===(null===(n=z.testcases[2])||void 0===n?void 0:n.input)){var i,o;const t=e.output.match(null===(i=z.testcases[2])||void 0===i?void 0:i.expectedOutput);console.log(e.output),console.log(null===(o=z.testcases[2])||void 0===o?void 0:o.expectedOutput);const n=new RegExp(/^Child => PPID: \d+, PID: \d+\nParent => PID: \d+\nWaiting for child process to finish\.\nChild process finished\.\n?$/);console.log(n.test(e.output)),c[u]={input:l,expected:d,output:e.output,passed:n.test(e.output),status:"done",isFirstFailure:!t&&!A},t||A||(A=!0,E(u))}else{const t=e.output||"",n=t?t.split("\n").filter(e=>""!==e):[],r=d?d.split("\n").filter(e=>""!==e):[],s=n.length===r.length&&n.every((e,t)=>e.trimEnd()===r[t].trimEnd());c[u]={input:l,expected:d,output:t,passed:s,status:"done",isFirstFailure:!s&&!A},s||A||(A=!0,E(u))}}catch(a){console.error("Error executing test case ".concat(u+1,":"),a),c[u]={input:l,expected:d||"",output:a.message||"Error executing code",passed:!1,status:"done",isFirstFailure:!A},A||(A=!0,E(u))}C([...c]),await new Promise(e=>setTimeout(e,300))}}catch(a){console.error("Error during test cases:",a),C([{input:"",expected:"",output:a.message||"Error executing test cases",passed:!1,status:"done",isFirstFailure:!0}])}},className:"bg-[#4285F4] hover:bg-[#4285F4]/90 text-white px-2 py-1 rounded-md flex items-center gap-1 text-xs transition-colors duration-150",children:[(0,k.jsx)(j,{}),"Run Code"]}),(0,k.jsxs)("button",{onClick:async()=>{const e=z.testcases,t=e.map(e=>({input:e.input,expected:e.expectedOutput,output:"",passed:!1,status:"running"}));console.log(t),C(t),x(null),v("output"),m("submit");const n=[...t];for(let A=0;A<e.length;A++){var r,s;const{input:t,expectedOutput:c}=e[A],{run:u}=await yn(I,f,t);if("regex2"===(null===(r=z.testcases[2])||void 0===r?void 0:r.input)){var i,o;u.output.match(null===(i=z.testcases[2])||void 0===i?void 0:i.expectedOutput);console.log(u.output),console.log(null===(o=z.testcases[2])||void 0===o?void 0:o.expectedOutput);const e=new RegExp(/^PID of example\.c = \d+\n[A-Za-z]{3} [A-Za-z]{3} +\d{1,2} \d{2}:\d{2}:\d{2} [A-Z]+ \d{4}\n?$/);console.log(e.test(u.output)),n[A]={input:t,expected:c,output:u.output,passed:e.test(u.output),status:"done"},C([...n]),await new Promise(e=>setTimeout(e,300));continue}if("regex"===(null===(s=z.testcases[2])||void 0===s?void 0:s.input)){var a,l;u.output.match(null===(a=z.testcases[2])||void 0===a?void 0:a.expectedOutput);console.log(u.output),console.log(null===(l=z.testcases[2])||void 0===l?void 0:l.expectedOutput);const e=new RegExp(/^Child => PPID: \d+, PID: \d+\nParent => PID: \d+\nWaiting for child process to finish\.\nChild process finished\.\n?$/);console.log(e.test(u.output)),n[A]={input:t,expected:c,output:u.output,passed:e.test(u.output),status:"done"},C([...n]),await new Promise(e=>setTimeout(e,300));continue}const d=u.output?u.output.split("\n"):["No output received."];for(;""===d[d.length-1];)d.pop();const h=c.split("\n");for(;""===h[h.length-1];)h.pop();const g=d.length===h.length&&d.every((e,t)=>e.trimEnd()===h[t].trimEnd());n[A]={input:t,expected:c,output:u.output,passed:g,status:"done"},C([...n]),await new Promise(e=>setTimeout(e,300))}const c=n.every(e=>e.passed);await pe(c),await(async(e,t)=>{if(console.log("logging submission"),console.log(null===Ae||void 0===Ae?void 0:Ae.email),null===Ae||void 0===Ae||!Ae.uid)return;const n=(new Date).toISOString(),r=ge(ae),s=ge(le),i=ge(ce),o=ge(n),a="Submissions/".concat(Ae.uid,"/").concat(r,"/").concat(s,"/").concat(i,"/").concat(o);try{await(0,u.hZ)((0,u.KR)(A.OO,a),{language:I,status:e,code:t}),console.log("Submission logged successfully."),oe(e=>e+1)}catch(l){console.error("Error logging submission:",l)}})(c?"correct":"wrong",f)},className:"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded-md flex items-center gap-1 text-xs transition-colors duration-150",children:[(0,k.jsx)(L,{}),"Submit"]}),(null===h||void 0===h?void 0:h.showNavigation)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("button",{onClick:h.onPrevious,className:"flex items-center gap-1 px-2 py-1 rounded-md font-medium text-[11px] transition-all duration-200 ".concat(0===h.currentQuestionIndex?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-md"),children:[(0,k.jsx)(h.NavigationIcons.ChevronLeft,{}),"Previous"]}),(0,k.jsxs)("button",{onClick:h.onNext,className:"flex items-center gap-1 px-2 py-1 rounded-md font-medium text-[11px] transition-all duration-200 ".concat(h.currentQuestionIndex===h.totalQuestions-1?"bg-red-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-md"),children:[h.currentQuestionIndex===h.totalQuestions-1?"Next Chapter":"Next",(0,k.jsx)(h.NavigationIcons.ChevronRight,{})]})]})]})]}),(0,k.jsx)("div",{className:"flex-1 bg-white dark:bg-gray-900 min-w-0 overflow-auto",children:(0,k.jsx)(T.Ay,{height:"100%",defaultLanguage:"cpp",language:"cpp"===I?"cpp":I,theme:"dark"===q?"vs-dark":"vs-light",value:f,onChange:ve,onMount:xe,options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",roundedSelection:!1,scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",tabSize:2,dragAndDrop:!0,formatOnPaste:!0,formatOnType:!0}})})]}),(0,k.jsx)(Rd,{})]})},Vd=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Kd=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),qd=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9h8M8 15h8"})});const zd=function(e){let{data:n}=e;const[r,i]=(0,t.useState)("description"),[o,a]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),[f,g]=(0,t.useState)(45),{theme:p}=(0,l.D)(),{user:m}=(0,c.A)(),{course:y,subcourse:v,questionId:w}=(0,s.g)();return(0,t.useEffect)(()=>{a(null),h(!1);return(async()=>{if(m&&y&&v&&w){const t=(0,u.KR)(A.OO,"userprogress/".concat(m.uid,"/").concat(y,"/").concat(v,"/").concat(w));try{const e=await(0,u.Jt)(t);if(e.exists()){e.val();a(n.correctAnswer-1),h(!0)}}catch(e){console.error("Error loading user answer:",e)}}})(),()=>{a(null),h(!1)}},[m,y,v,w,n]),(0,k.jsx)("div",{className:"fixed inset-0 flex flex-col bg-white dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden h-full shadow-sm",style:{width:"".concat(f,"%")},children:[(0,k.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("button",{className:"px-6 py-4 text-sm font-medium ".concat("description"===r?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),onClick:()=>i("description"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Vd,{}),"Description"]})})}),(0,k.jsx)("div",{className:"p-6 flex-1 overflow-auto",children:"description"===r&&(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white break-words",children:n.questionname}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:[(0,k.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full text-sm font-medium",children:n.difficulty}),(0,k.jsx)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]}),(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Statement"}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:n.question}),(null===n||void 0===n?void 0:n.darkimageurl)&&(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsx)("img",{src:"dark"===p?n.darkimageurl:n.lightimageurl,alt:"Question diagram",className:"max-w-full h-auto rounded-lg border border-gray-200 dark:border-gray-700",onError:e=>{console.error("Failed to load image. Original URL:",n.imageurl),e.target.style.display="none"}})})]}),d&&(0,k.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-blue-800 dark:text-blue-200",children:"Explanation"}),(0,k.jsx)("p",{className:"text-blue-700 dark:text-blue-300",children:n.explanation})]})]})]})})]}),(0,k.jsx)("div",{className:"w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 cursor-col-resize flex items-center justify-center transition-colors duration-150",style:{zIndex:10},children:(0,k.jsx)(qd,{})}),(0,k.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"p-6 overflow-y-auto h-full",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Select the correct answer"}),(0,k.jsx)("div",{className:"space-y-4 mb-8",children:n.options.map((e,t)=>{let r="p-4 border rounded-lg cursor-pointer transition-colors duration-150 ";return d?t===n.correctAnswer-1?r+="bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700 text-green-800 dark:text-green-200":t===o&&t!==n.correctAnswer-1?r+="bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700 text-red-800 dark:text-red-200":r+="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300":r+=o===t?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-800 dark:text-blue-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-blue-300 dark:hover:border-blue-600",(0,k.jsx)("div",{className:r,onClick:()=>(e=>{d||a(e)})(t),children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsxs)("span",{className:"font-medium mr-3",children:[String.fromCharCode(65+t),"."]}),(0,k.jsx)("span",{children:e})]})},t)})}),(0,k.jsxs)("div",{className:"mt-auto",children:[(0,k.jsx)("button",{onClick:async()=>{await(async()=>{if(null===o||!m||!y||!v||!w||!n)return;const e=(0,u.KR)(A.OO,"userprogress/".concat(m.uid,"/").concat(y,"/").concat(v,"/").concat(w));try{await(0,u.hZ)(e,!0),h(!0)}catch(t){console.error("Failed to save answer:",t)}})()},disabled:null===o||d,className:"px-6 py-3 rounded-lg font-medium text-sm ".concat(null===o||d?"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"," transition-colors duration-150"),children:d?"Submitted":"Submit Answer"}),d&&(0,k.jsx)("div",{className:"mt-6 p-4 rounded-lg bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(Kd,{className:"text-blue-500 dark:text-blue-400 mr-3 flex-shrink-0"}),(0,k.jsx)("span",{className:"text-blue-800 dark:text-blue-200",children:o===n.correctAnswer-1?"Correct! Well done!":"Incorrect. The correct answer is ".concat(String.fromCharCode(65+n.correctAnswer-1),".")})]})})]})]})})]})})};var Wd=n(6040);const Gd=w("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jd=w("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Xd=w("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),Yd=w("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Zd=w("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),$d=w("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),eh=w("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),th=w("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),nh=w("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),rh=[{id:"fcfs",name:"First Come First Serve",description:"Processes are executed in the order they arrive",icon:Zd,color:"blue"},{id:"sjf",name:"Shortest Job First",description:"Process with shortest burst time is executed first",icon:$d,color:"green"},{id:"srtf",name:"Shortest Remaining Time First",description:"Preemptive version of SJF",icon:eh,color:"yellow"},{id:"rr",name:"Round Robin",description:"Each process gets a fixed time quantum",icon:th,color:"purple"},{id:"priority",name:"Priority Scheduling",description:"Process with highest priority is executed first",icon:nh,color:"pink"}],sh=e=>{let{selectedAlgorithm:t,onAlgorithmChange:n}=e;const r=(e,t)=>{const n="p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-105";if(!t)return"".concat(n," bg-white dark:bg-gray-700/30 border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-500");switch(e){case"blue":return"".concat(n," bg-blue-50 dark:bg-blue-900/30 border-blue-500 dark:border-blue-400 text-blue-700 dark:text-blue-200 shadow-lg");case"green":return"".concat(n," bg-green-50 dark:bg-green-900/30 border-green-500 dark:border-green-400 text-green-700 dark:text-green-200 shadow-lg");case"yellow":return"".concat(n," bg-yellow-50 dark:bg-yellow-900/30 border-yellow-500 dark:border-yellow-400 text-yellow-700 dark:text-yellow-200 shadow-lg");case"purple":return"".concat(n," bg-purple-50 dark:bg-purple-900/30 border-purple-500 dark:border-purple-400 text-purple-700 dark:text-purple-200 shadow-lg");case"pink":return"".concat(n," bg-pink-50 dark:bg-pink-900/30 border-pink-500 dark:border-pink-400 text-pink-700 dark:text-pink-200 shadow-lg");case"indigo":return"".concat(n," bg-indigo-50 dark:bg-indigo-900/30 border-indigo-500 dark:border-indigo-400 text-indigo-700 dark:text-indigo-200 shadow-lg");default:return"".concat(n," bg-gray-50 dark:bg-gray-700/50 border-gray-500 dark:border-gray-400 text-gray-700 dark:text-gray-200 shadow-lg")}};return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors duration-200",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Select Scheduling Algorithm"}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:rh.map(e=>{const s=e.icon,i=t===e.id;return(0,k.jsxs)("div",{className:r(e.color,i),onClick:()=>n(e.id),children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,k.jsx)(s,{size:24,className:t===e.id?"opacity-100":"opacity-70"}),(0,k.jsx)("h4",{className:"font-medium text-sm leading-tight",children:e.name})]}),(0,k.jsx)("p",{className:"text-xs opacity-80 dark:opacity-70 leading-relaxed",children:e.description})]},e.id)})})]})},ih=w("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),oh=w("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ah=w("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),lh=e=>{let{processes:n,setProcesses:r,algorithm:s,timeQuantum:i,setTimeQuantum:o}=e;const[a,l]=(0,t.useState)({name:"",arrivalTime:0,burstTime:1,priority:1});return(0,k.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Process Configuration"}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsxs)("button",{onClick:()=>{r([])},className:"flex items-center gap-2 px-3 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors text-sm",children:[(0,k.jsx)(ih,{size:16}),"Clear"]}),(0,k.jsx)("button",{onClick:()=>{const e=[{id:1,name:"P1",arrivalTime:0,burstTime:6},{id:2,name:"P2",arrivalTime:1,burstTime:8},{id:3,name:"P3",arrivalTime:2,burstTime:7},{id:4,name:"P4",arrivalTime:3,burstTime:3},{id:5,name:"P5",arrivalTime:4,burstTime:4}].map(e=>(0,d.A)((0,d.A)({},e),"priority"===s&&{priority:Math.floor(3*Math.random())+1}));r(e)},className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors text-sm",children:"Load Sample"})]})]}),"rr"===s&&(0,k.jsxs)("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-purple-700 mb-2",children:"Time Quantum (Time Slice)"}),(0,k.jsx)("input",{type:"number",min:"1",value:i,onChange:e=>o(parseInt(e.target.value)||1),className:"w-24 px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,k.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"Each process will run for this many time units before switching"})]}),(0,k.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Process Name"}),(0,k.jsx)("input",{type:"text",placeholder:"P1",value:a.name,onChange:e=>l((0,d.A)((0,d.A)({},a),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arrival Time"}),(0,k.jsx)("input",{type:"number",min:"0",value:a.arrivalTime,onChange:e=>l((0,d.A)((0,d.A)({},a),{},{arrivalTime:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Burst Time"}),(0,k.jsx)("input",{type:"number",min:"1",value:a.burstTime,onChange:e=>l((0,d.A)((0,d.A)({},a),{},{burstTime:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),"priority"===s&&(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (1=Highest)"}),(0,k.jsx)("input",{type:"number",min:"1",value:a.priority,onChange:e=>l((0,d.A)((0,d.A)({},a),{},{priority:parseInt(e.target.value)||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,k.jsxs)("button",{onClick:()=>{if(!a.name.trim())return;const e=(0,d.A)({id:Date.now(),name:a.name,arrivalTime:a.arrivalTime,burstTime:a.burstTime},"priority"===s&&{priority:a.priority});r([...n,e]),l({name:"",arrivalTime:0,burstTime:1,priority:1})},disabled:!a.name.trim(),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:[(0,k.jsx)(oh,{size:18}),"Add Process"]})]}),n.length>0&&(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-medium text-gray-700",children:["Current Processes (",n.length,"):"]}),(0,k.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.map(e=>(0,k.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-md border border-gray-200",children:[(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("span",{className:"font-semibold text-gray-800 bg-white px-2 py-1 rounded text-sm",children:e.name}),(0,k.jsxs)("span",{className:"text-sm text-gray-600",children:["Arrival: ",e.arrivalTime]}),(0,k.jsxs)("span",{className:"text-sm text-gray-600",children:["Burst: ",e.burstTime]}),"priority"===s&&e.priority&&(0,k.jsxs)("span",{className:"text-sm text-purple-600 bg-purple-100 px-2 py-1 rounded",children:["Priority: ",e.priority]})]}),(0,k.jsx)("button",{onClick:()=>(e=>{r(n.filter(t=>t.id!==e))})(e.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors",children:(0,k.jsx)(ah,{size:16})})]},e.id))})]})]})},ch=e=>{let{ganttChart:t,title:n}=e;if(0===t.length)return null;const r=Math.max(...t.map(e=>e.endTime));return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors duration-200",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:n}),(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"relative bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg",children:[(0,k.jsx)("div",{className:"flex border-2 border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden",children:t.map((e,t)=>(0,k.jsxs)("div",{className:"relative h-16 flex items-center justify-center text-white font-bold text-sm border-r border-white dark:border-gray-600 last:border-r-0 hover:opacity-90 transition-opacity",style:{backgroundColor:e.color,width:"".concat((e.endTime-e.startTime)/r*100,"%"),minWidth:"60px"},title:"".concat(e.processName," (").concat(e.startTime,"-").concat(e.endTime,")"),children:[e.processName,(0,k.jsxs)("div",{className:"absolute bottom-1 left-1 right-1 text-xs text-white/80",children:[e.endTime-e.startTime,"u"]})]},t))}),(0,k.jsx)("div",{className:"flex mt-3 relative",children:t.map((e,n)=>(0,k.jsxs)("div",{className:"relative text-sm font-medium text-gray-700 dark:text-gray-300",style:{width:"".concat((e.endTime-e.startTime)/r*100,"%"),minWidth:"60px"},children:[(0,k.jsx)("span",{className:"absolute left-0 -translate-x-1/2 bg-white dark:bg-gray-800 px-1 rounded text-gray-700 dark:text-gray-300",children:e.startTime}),n===t.length-1&&(0,k.jsx)("span",{className:"absolute right-0 translate-x-1/2 bg-white dark:bg-gray-800 px-1 rounded text-gray-700 dark:text-gray-300",children:e.endTime})]},n))})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,k.jsx)("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Process Legend"}),(0,k.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Array.from(new Set(t.map(e=>e.processName))).map(e=>{const n=t.find(t=>t.processName===e);return(0,k.jsxs)("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-600",children:[(0,k.jsx)("div",{className:"w-4 h-4 rounded flex-shrink-0 border border-white dark:border-gray-700",style:{backgroundColor:n.color}}),(0,k.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e})]},e)})})]}),(0,k.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 border border-blue-200 dark:border-blue-800/50",children:(0,k.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",children:"Total Time"}),(0,k.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:r})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",children:"Processes"}),(0,k.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:new Set(t.map(e=>e.processName)).size})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",children:"Context Switches"}),(0,k.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.length-1})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",children:"Avg Time Slice"}),(0,k.jsx)("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:(r/t.length).toFixed(1)})]})]})})]})]})},Ah=w("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),uh=e=>{let{result:t}=e;return t.processes.length?(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors duration-200",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Performance Analysis"}),(0,k.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,k.jsxs)("table",{className:"w-full text-sm",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 border-b-2 border-gray-200 dark:border-gray-600",children:[(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Process"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Arrival"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Burst"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Completion"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Waiting"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Turnaround"}),(0,k.jsx)("th",{className:"text-left py-4 px-4 font-semibold text-gray-700 dark:text-gray-200",children:"Response"})]})}),(0,k.jsx)("tbody",{children:t.processes.map((e,t)=>(0,k.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors ".concat(t%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700/50"),children:[(0,k.jsx)("td",{className:"py-4 px-4 font-bold text-gray-800 dark:text-gray-100 bg-gradient-to-r from-blue-100 to-transparent dark:from-blue-900/30 dark:to-transparent",children:e.name}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.arrivalTime}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.burstTime}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.completionTime}),(0,k.jsx)("td",{className:"py-4 px-4 font-medium",children:(0,k.jsx)("span",{className:0===e.waitingTime?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400",children:e.waitingTime})}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.turnaroundTime}),(0,k.jsx)("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-300",children:e.responseTime})]},e.id))})]})}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,k.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 rounded-xl p-6 border border-blue-200 dark:border-blue-800/50 hover:shadow-lg transition-shadow",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,k.jsx)("div",{className:"p-2 bg-blue-500 rounded-lg",children:(0,k.jsx)(Zd,{className:"h-5 w-5 text-white"})}),(0,k.jsx)("h4",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:"Avg Waiting Time"})]}),(0,k.jsx)("p",{className:"text-3xl font-bold text-blue-800 dark:text-blue-200 mb-1",children:t.averageWaitingTime.toFixed(2)}),(0,k.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-300/80",children:"time units"})]}),(0,k.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-xl p-6 border border-green-200 dark:border-green-800/50 hover:shadow-lg transition-shadow",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,k.jsx)("div",{className:"p-2 bg-green-500 rounded-lg",children:(0,k.jsx)(th,{className:"h-5 w-5 text-white"})}),(0,k.jsx)("h4",{className:"text-sm font-semibold text-green-700 dark:text-green-300",children:"Avg Turnaround Time"})]}),(0,k.jsx)("p",{className:"text-3xl font-bold text-green-800 dark:text-green-200 mb-1",children:t.averageTurnaroundTime.toFixed(2)}),(0,k.jsx)("p",{className:"text-xs text-green-600 dark:text-green-300/80",children:"time units"})]}),(0,k.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 rounded-xl p-6 border border-purple-200 dark:border-purple-800/50 hover:shadow-lg transition-shadow",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,k.jsx)("div",{className:"p-2 bg-purple-500 rounded-lg",children:(0,k.jsx)($d,{className:"h-5 w-5 text-white"})}),(0,k.jsx)("h4",{className:"text-sm font-semibold text-purple-700 dark:text-purple-300",children:"Avg Response Time"})]}),(0,k.jsx)("p",{className:"text-3xl font-bold text-purple-800 dark:text-purple-200 mb-1",children:t.averageResponseTime.toFixed(2)}),(0,k.jsx)("p",{className:"text-xs text-purple-600 dark:text-purple-300/80",children:"time units"})]}),(0,k.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-xl p-6 border border-orange-200 dark:border-orange-800/50 hover:shadow-lg transition-shadow",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,k.jsx)("div",{className:"p-2 bg-orange-500 rounded-lg",children:(0,k.jsx)(Ah,{className:"h-5 w-5 text-white"})}),(0,k.jsx)("h4",{className:"text-sm font-semibold text-orange-700 dark:text-orange-300",children:"CPU Utilization"})]}),(0,k.jsxs)("p",{className:"text-3xl font-bold text-orange-800 dark:text-orange-200 mb-1",children:[t.cpuUtilization.toFixed(1),"%"]}),(0,k.jsx)("p",{className:"text-xs text-orange-600 dark:text-orange-300/80",children:"efficiency"})]})]}),(0,k.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg transition-colors duration-200",children:[(0,k.jsx)("h4",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Performance Insights"}),(0,k.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,k.jsx)("div",{children:(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Best Performer:"})," ",t.processes.reduce((e,t)=>t.waitingTime<e.waitingTime?t:e).name," ",(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"(lowest waiting time)"})]})}),(0,k.jsx)("div",{children:(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Total Execution Time:"})," ",Math.max(...t.processes.map(e=>e.completionTime))," ",(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"time units"})]})})]})]})]}):null},dh=w("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),hh=w("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),fh={fcfs:{title:"First Come First Serve (FCFS)",description:"The simplest scheduling algorithm where processes are executed in the order they arrive, like a queue at a store.",advantages:["Simple to understand and implement","Fair in the sense that every process gets equal opportunity","No starvation - all processes will eventually be executed","Low overhead - no complex calculations needed"],disadvantages:["Average waiting time is often quite long","Convoy effect - short processes wait for long processes","Not optimal for interactive systems","Poor response time for time-critical applications"],timeComplexity:"O(n)",usage:"Batch systems where fairness is more important than efficiency",characteristics:["Non-preemptive","Simple implementation","FIFO order"]},sjf:{title:"Shortest Job First (SJF)",description:"Non-preemptive algorithm that selects the process with the smallest burst time first.",advantages:["Optimal for minimizing average waiting time","Better performance than FCFS for most cases","Good for batch systems with known execution times","Reduces overall system load"],disadvantages:["Starvation of longer processes possible","Difficult to predict burst time in practice","Not suitable for interactive systems","Can lead to indefinite postponement"],timeComplexity:"O(n\xb2)",usage:"Batch systems where process execution times are known in advance",characteristics:["Non-preemptive","Optimal for average waiting time","Requires burst time knowledge"]},srtf:{title:"Shortest Remaining Time First (SRTF)",description:"Preemptive version of SJF that can switch to a newly arrived shorter process.",advantages:["Optimal for minimizing average waiting time","Better response time than SJF","Good for time-sharing systems","Can handle dynamic process arrivals"],disadvantages:["High overhead due to frequent context switching","Starvation of longer processes","Complex to implement and manage","Requires accurate burst time prediction"],timeComplexity:"O(n\xb2)",usage:"Time-sharing systems where quick response is needed",characteristics:["Preemptive","Dynamic scheduling","High context switching"]},rr:{title:"Round Robin (RR)",description:"Each process gets a fixed time quantum. If not completed, it goes to the back of the queue.",advantages:["Fair allocation of CPU time to all processes","Good response time for interactive systems","No starvation - every process gets CPU time","Works well for time-sharing systems"],disadvantages:["Higher average waiting time than SJF","Performance depends heavily on time quantum size","Context switching overhead can be significant","Not optimal for batch processing"],timeComplexity:"O(n)",usage:"Interactive and time-sharing systems",characteristics:["Preemptive","Fixed time quantum","Circular queue"]},priority:{title:"Priority Scheduling",description:"Each process has a priority. The process with the highest priority is executed first.",advantages:["Important processes can be executed first","Flexible - priorities can be assigned based on various criteria","Good for real-time systems","Can implement aging to prevent starvation"],disadvantages:["Starvation of low-priority processes","Complex priority assignment and management","May not be optimal for average waiting time","Priority inversion problems possible"],timeComplexity:"O(n\xb2)",usage:"Real-time systems and systems with varying process importance",characteristics:["Priority-based","Can be preemptive or non-preemptive","Flexible scheduling"]},multilevel:{title:"Multilevel Queue",description:"Processes are classified into different queues based on their properties, each with its own scheduling algorithm.",advantages:["Different algorithms for different types of processes","Flexible and highly customizable","Good for systems with diverse process types","Can optimize for different process characteristics"],disadvantages:["Complex to implement and manage","Potential for starvation in lower priority queues","Fixed priority between queues","Difficult to balance queue priorities"],timeComplexity:"Varies by implementation",usage:"Complex systems with multiple types of processes (system, interactive, batch)",characteristics:["Multiple queues","Different algorithms per queue","Process classification"]}},gh=e=>{let{algorithm:t}=e;const n=fh[t];return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition-colors duration-200",children:[(0,k.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-700 dark:to-indigo-800 text-white p-6",children:[(0,k.jsx)("h3",{className:"text-xl font-bold mb-2",children:n.title}),(0,k.jsx)("p",{className:"text-blue-100/90 dark:text-blue-100/80 leading-relaxed",children:n.description})]}),(0,k.jsxs)("div",{className:"p-6 space-y-6",children:[(0,k.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 rounded-lg p-4 border border-indigo-200 dark:border-indigo-800/50",children:[(0,k.jsxs)("h4",{className:"font-semibold text-indigo-800 dark:text-indigo-200 mb-3 flex items-center gap-2",children:[(0,k.jsx)($d,{size:18,className:"text-indigo-600 dark:text-indigo-400"}),"Key Characteristics"]}),(0,k.jsx)("div",{className:"flex flex-wrap gap-2",children:n.characteristics.map((e,t)=>(0,k.jsx)("span",{className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-800/50 text-indigo-700 dark:text-indigo-200 rounded-full text-sm font-medium border border-indigo-200 dark:border-indigo-700/50",children:e},t))})]}),(0,k.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-semibold text-green-700 dark:text-green-400 mb-3 flex items-center gap-2",children:[(0,k.jsx)(dh,{size:18,className:"text-green-600 dark:text-green-500"}),"Advantages"]}),(0,k.jsx)("ul",{className:"space-y-2",children:n.advantages.map((e,t)=>(0,k.jsxs)("li",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-start gap-2",children:[(0,k.jsx)("span",{className:"text-green-500 dark:text-green-400 mt-1 flex-shrink-0",children:"\u2022"}),(0,k.jsx)("span",{children:e})]},t))})]}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-semibold text-red-700 dark:text-red-400 mb-3 flex items-center gap-2",children:[(0,k.jsx)(hh,{size:18,className:"text-red-600 dark:text-red-500"}),"Disadvantages"]}),(0,k.jsx)("ul",{className:"space-y-2",children:n.disadvantages.map((e,t)=>(0,k.jsxs)("li",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-start gap-2",children:[(0,k.jsx)("span",{className:"text-red-500 dark:text-red-400 mt-1 flex-shrink-0",children:"\u2022"}),(0,k.jsx)("span",{children:e})]},t))})]})]}),(0,k.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,k.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-100 dark:border-blue-900/30",children:[(0,k.jsxs)("h4",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-2 flex items-center gap-2",children:[(0,k.jsx)(Zd,{size:16,className:"text-blue-600 dark:text-blue-400"}),"Time Complexity"]}),(0,k.jsx)("p",{className:"text-blue-800 dark:text-blue-200 font-mono text-lg",children:n.timeComplexity})]}),(0,k.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-100 dark:border-purple-900/30",children:[(0,k.jsx)("h4",{className:"font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"Best Use Cases"}),(0,k.jsx)("p",{className:"text-sm text-purple-800 dark:text-purple-200 leading-relaxed",children:n.usage})]})]})]})]})},ph=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF","#5F27CD","#00D2D3","#FF9F43","#FF6348","#2ED573","#3742FA","#2F3542","#57606F"];function mh(e){return ph[e%ph.length]}function yh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;switch(e){case"fcfs":default:return vh(t);case"sjf":return wh(t);case"srtf":return function(e){const t=e.map(e=>(0,d.A)((0,d.A)({},e),{},{remainingTime:e.burstTime})),n=[],r=[];let s=0,i=null;for(;t.some(e=>e.remainingTime>0);){const e=t.filter(e=>e.arrivalTime<=s&&e.remainingTime>0);if(0===e.length){s++;continue}const o=e.reduce((e,t)=>t.remainingTime<e.remainingTime?t:e);i&&i.id===o.id?n[n.length-1].endTime=s+1:(i&&(n[n.length-1].endTime=s),n.push({processId:o.id,processName:o.name,startTime:s,endTime:s+1,color:mh(o.id)}),o.startTime||0===o.startTime||(o.startTime=s),i=o),o.remainingTime--,s++,0===o.remainingTime&&(o.completionTime=s,o.turnaroundTime=o.completionTime-o.arrivalTime,o.waitingTime=o.turnaroundTime-o.burstTime,o.responseTime=o.startTime-o.arrivalTime,r.push(o))}return bh(r,function(e){if(0===e.length)return[];const t=[];let n=(0,d.A)({},e[0]);for(let r=1;r<e.length;r++)e[r].processId===n.processId&&e[r].startTime===n.endTime?n.endTime=e[r].endTime:(t.push(n),n=(0,d.A)({},e[r]));return t.push(n),t}(n))}(t);case"rr":return xh(t,n);case"priority":return function(e){const t=[...e],n=[],r=[];let s=0;for(;t.length>0;){const e=t.filter(e=>e.arrivalTime<=s);if(0===e.length){s=Math.min(...t.map(e=>e.arrivalTime));continue}const i=e.reduce((e,t)=>t.priority<e.priority?t:e),o=s,a=s+i.burstTime;n.push({processId:i.id,processName:i.name,startTime:o,endTime:a,color:mh(i.id)}),r.push((0,d.A)((0,d.A)({},i),{},{startTime:o,completionTime:a,turnaroundTime:a-i.arrivalTime,waitingTime:o-i.arrivalTime,responseTime:o-i.arrivalTime})),s=a,t.splice(t.indexOf(i),1)}return bh(r,n)}(t);case"multilevel":return function(e){const t=e.filter(e=>1===e.priority),n=e.filter(e=>e.priority>=2&&e.priority<=3),r=e.filter(e=>e.priority>3);let s=[],i=[],o=0;if(t.length>0){const e=vh(t);s=[...s,...e.ganttChart],i=[...i,...e.processes],o=Math.max(...e.ganttChart.map(e=>e.endTime))}if(n.length>0){const e=n.map(e=>(0,d.A)((0,d.A)({},e),{},{arrivalTime:Math.max(e.arrivalTime,o)})),t=xh(e,2);s=[...s,...t.ganttChart],i=[...i,...t.processes],o=Math.max(...t.ganttChart.map(e=>e.endTime))}if(r.length>0){const e=r.map(e=>(0,d.A)((0,d.A)({},e),{},{arrivalTime:Math.max(e.arrivalTime,o)})),t=wh(e);s=[...s,...t.ganttChart],i=[...i,...t.processes]}return bh(i,s)}(t)}}function vh(e){const t=[...e].sort((e,t)=>e.arrivalTime-t.arrivalTime),n=[];let r=0;return bh(t.map(e=>{const t=Math.max(r,e.arrivalTime),s=t+e.burstTime;return n.push({processId:e.id,processName:e.name,startTime:t,endTime:s,color:mh(e.id)}),r=s,(0,d.A)((0,d.A)({},e),{},{startTime:t,completionTime:s,turnaroundTime:s-e.arrivalTime,waitingTime:t-e.arrivalTime,responseTime:t-e.arrivalTime})}),n)}function wh(e){const t=[...e],n=[],r=[];let s=0;for(;t.length>0;){const e=t.filter(e=>e.arrivalTime<=s);if(0===e.length){s=Math.min(...t.map(e=>e.arrivalTime));continue}const i=e.reduce((e,t)=>t.burstTime<e.burstTime?t:e),o=s,a=s+i.burstTime;n.push({processId:i.id,processName:i.name,startTime:o,endTime:a,color:mh(i.id)}),r.push((0,d.A)((0,d.A)({},i),{},{startTime:o,completionTime:a,turnaroundTime:a-i.arrivalTime,waitingTime:o-i.arrivalTime,responseTime:o-i.arrivalTime})),s=a,t.splice(t.indexOf(i),1)}return bh(r,n)}function xh(e,t){const n=e.map(e=>(0,d.A)((0,d.A)({},e),{},{remainingTime:e.burstTime})),r=[],s=[],i=[];let o=0,a=0;for(;a<n.length&&n[a].arrivalTime<=o;)r.push(n[a]),a++;for(;r.length>0||a<n.length;){0===r.length&&(o=n[a].arrivalTime,r.push(n[a]),a++);const e=r.shift(),l=Math.min(t,e.remainingTime);for(e.startTime||0===e.startTime||(e.startTime=o),s.push({processId:e.id,processName:e.name,startTime:o,endTime:o+l,color:mh(e.id)}),o+=l,e.remainingTime-=l;a<n.length&&n[a].arrivalTime<=o;)r.push(n[a]),a++;e.remainingTime>0?r.push(e):(e.completionTime=o,e.turnaroundTime=e.completionTime-e.arrivalTime,e.waitingTime=e.turnaroundTime-e.burstTime,e.responseTime=e.startTime-e.arrivalTime,i.push(e))}return bh(i,s)}function bh(e,t){const n=e.reduce((e,t)=>e+(t.waitingTime||0),0),r=e.reduce((e,t)=>e+(t.turnaroundTime||0),0),s=e.reduce((e,t)=>e+(t.responseTime||0),0),i=t.length>0?Math.max(...t.map(e=>e.endTime)):0,o=e.reduce((e,t)=>e+t.burstTime,0);return{ganttChart:t,processes:e.sort((e,t)=>e.id-t.id),averageWaitingTime:e.length>0?n/e.length:0,averageTurnaroundTime:e.length>0?r/e.length:0,averageResponseTime:e.length>0?s/e.length:0,cpuUtilization:i>0?o/i*100:0}}const Ch=function(){const[e,n]=(0,t.useState)("fcfs"),[r,i]=(0,t.useState)([]),[o,a]=(0,t.useState)(2),[d,h]=(0,t.useState)(null),[f,g]=(0,t.useState)("simulator"),{user:p}=(0,c.A)(),{theme:m,toggleTheme:y}=(0,l.D)(),{course:v,subcourse:w,questionId:x}=(0,s.g)();(0,t.useEffect)(()=>{if(r.length>0){const t=yh(e,r,o);h(t)}else h(null)},[e,r,o]),(0,t.useEffect)(()=>{if(!p||!v||!w||!x)return;(async()=>{const e=(0,u.KR)(A.OO,"userprogress/".concat(p.uid,"/").concat(v,"/").concat(w,"/").concat(x));console.log(e);try{await(0,u.hZ)(e,!0)}catch(t){console.error("Failed to save answer:",t)}})()},[p,v,w,x]);const b=[{id:"simulator",label:"Simulator",icon:Gd},{id:"learn",label:"Learn",icon:Jd}];return(0,k.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 transition-colors duration-200",children:[(0,k.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,k.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)("div",{className:"p-2 bg-blue-600 rounded-lg",children:(0,k.jsx)(Xd,{className:"h-6 w-6 text-white"})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"CPU Scheduler"}),(0,k.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Learn & Visualize Scheduling Algorithms"})]})]}),(0,k.jsx)("div",{className:"flex items-center space-x-4",children:(0,k.jsx)("nav",{className:"flex space-x-1",children:b.map(e=>{const t=e.icon;return(0,k.jsxs)("button",{onClick:()=>g(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors ".concat(f===e.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"),children:[(0,k.jsx)(t,{size:16}),e.label]},e.id)})})})]})})}),(0,k.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 transition-colors duration-200",children:["simulator"===f&&(0,k.jsxs)("div",{className:"space-y-8",children:[(0,k.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,k.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Process Scheduler"}),(0,k.jsx)(sh,{selectedAlgorithm:e,onAlgorithmChange:n}),(0,k.jsx)(lh,{processes:r,setProcesses:i,algorithm:e,timeQuantum:o,setTimeQuantum:a})]})}),(0,k.jsx)("div",{className:"lg:col-span-1",children:(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,k.jsx)(gh,{algorithm:e})})})]}),d&&(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,k.jsx)(ch,{ganttChart:d.ganttChart,title:"Process Execution Timeline"})}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:(0,k.jsx)(uh,{result:d})})]})]}),"learn"===f&&(0,k.jsxs)("div",{className:"space-y-8",children:[(0,k.jsxs)("div",{className:"text-center mb-8",children:[(0,k.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"CPU Scheduling Algorithms Guide"}),(0,k.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Learn about different CPU scheduling algorithms, their characteristics, and when to use each one in operating systems."})]}),(0,k.jsx)("div",{className:"grid gap-8",children:["fcfs","sjf","srtf","rr","priority","multilevel"].map(e=>(0,k.jsx)(gh,{algorithm:e},e))})]}),"compare"===f&&(0,k.jsx)("div",{className:"text-center py-16",children:(0,k.jsxs)("div",{className:"max-w-md mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-md p-8",children:[(0,k.jsx)(Yd,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Algorithm Comparison"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Compare performance metrics across different scheduling algorithms with the same process set."}),(0,k.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Feature coming soon! Use the simulator to test different algorithms with the same processes."})]})})]})]})},Bh={ChevronLeft:()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),ChevronRight:()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})},kh=()=>{const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(!0),[o,a]=(0,t.useState)([]),[l,c]=(0,t.useState)(0),{course:d,subcourse:h,questionId:f}=(0,s.g)(),g=(0,s.Zp)(),[p,m]=(0,t.useState)("active");(0,t.useEffect)(()=>{(async()=>{try{const e=(0,u.KR)(A.OO,"questions/".concat(f)),t=(0,u.KR)(A.OO,"AlgoCore/".concat(d,"/lessons/").concat(h,"/status")),[r,s]=await Promise.all([(0,u.Jt)(e),(0,u.Jt)(t)]);if(console.log(r.val()),console.log(s.val()),r.exists()){const e=r.val();console.log(e),n(e),m(s.val())}}catch(e){console.error("Error fetching data from Firebase:",e)}})(),(async()=>{try{const e=(0,u.KR)(A.OO,"AlgoCore/".concat(d,"/lessons/").concat(h,"/questions")),[t]=await Promise.all([(0,u.Jt)(e)]);if(console.log(t.val()),t.exists()){const e=t.val();let n;console.log("Raw questions data:",e),Array.isArray(e)?n=e:"object"===typeof e?n=Object.keys(e):(console.error("Unexpected questions data structure:",e),n=[]),console.log("Processed questions list:",n),a(n);const r=n.findIndex(e=>e===f);console.log("Current question ID:",f),console.log("Found index:",r),c(-1!==r?r:0)}}catch(e){console.error("Error fetching data from Firebase:",e)}})(),"CpuVisual"===f&&n({type:"CpuVisual"}),i(!1)},[f,d,h]);const y=()=>{if(console.log("Previous button clicked"),console.log("Current index:",l),console.log("All questions:",o),l>0){const e=o[l-1];console.log("Navigating to previous question:",e);const t="/problem/".concat(d,"/").concat(h,"/").concat(e);console.log("Navigation URL:",t),g(t)}else console.log("Already at first question - redirecting to home"),g("/course/os")},v=()=>{if(console.log("Next button clicked"),console.log("Current index:",l),console.log("All questions:",o),l<o.length-1){const e=o[l+1];console.log("Navigating to next question:",e);const t="/problem/".concat(d,"/").concat(h,"/").concat(e);console.log("Navigation URL:",t),g(t)}else console.log("At last question - redirecting to home"),g("/course/os")};if(r)return(0,k.jsx)(Wd.A,{});if(!e)return(0,k.jsx)(Wd.A,{message:"Slow internet, loading...."});const w={showNavigation:o.length>1,currentQuestionIndex:l,totalQuestions:o.length,onPrevious:y,onNext:v,NavigationIcons:Bh};return"blocked"===p?(0,k.jsx)(Wd.A,{message:"This topic is blocked"}):(0,k.jsxs)("div",{className:"relative",children:["Programming"===e.type&&(0,k.jsx)(Hd,{data:e,navigation:w}),"MCQ"===e.type&&(0,k.jsx)(zd,{data:e}),"CpuVisual"===e.type&&(0,k.jsx)(Ch,{}),("MCQ"===e.type||"CpuVisual"===e.type)&&o.length>1&&(0,k.jsxs)("div",{className:"fixed bottom-6 right-6 flex gap-3 z-50",children:[(0,k.jsxs)("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 shadow-lg ".concat(0===l?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-xl transform hover:scale-105"),children:[(0,k.jsx)(Bh.ChevronLeft,{}),0===l?"Previous Chapter":"Previous"]}),(0,k.jsxs)("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 shadow-lg ".concat(l===o.length-1?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white hover:shadow-xl transform hover:scale-105"),children:[l===o.length-1?"Next Chapter":"Next",(0,k.jsx)(Bh.ChevronRight,{})]})]})]})};var Eh=n(2284),Nh=Uint8Array,Sh=Uint16Array,_h=Int32Array,Fh=new Nh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ih=new Nh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Th=new Nh([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jh=function(e,t){for(var n=new Sh(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var s=new _h(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},Lh=jh(Fh,2),Uh=Lh.b,Ph=Lh.r;Uh[28]=258,Ph[258]=28;for(var Qh=jh(Ih,0),Oh=Qh.b,Rh=Qh.r,Dh=new Sh(32768),Mh=0;Mh<32768;++Mh){var Hh=(43690&Mh)>>1|(21845&Mh)<<1;Hh=(61680&(Hh=(52428&Hh)>>2|(13107&Hh)<<2))>>4|(3855&Hh)<<4,Dh[Mh]=((65280&Hh)>>8|(255&Hh)<<8)>>1}var Vh=function(e,t,n){for(var r=e.length,s=0,i=new Sh(t);s<r;++s)e[s]&&++i[e[s]-1];var o,a=new Sh(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;if(n){o=new Sh(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var c=s<<4|e[s],A=t-e[s],u=a[e[s]-1]++<<A,d=u|(1<<A)-1;u<=d;++u)o[Dh[u]>>l]=c}else for(o=new Sh(r),s=0;s<r;++s)e[s]&&(o[s]=Dh[a[e[s]-1]++]>>15-e[s]);return o},Kh=new Nh(288);for(Mh=0;Mh<144;++Mh)Kh[Mh]=8;for(Mh=144;Mh<256;++Mh)Kh[Mh]=9;for(Mh=256;Mh<280;++Mh)Kh[Mh]=7;for(Mh=280;Mh<288;++Mh)Kh[Mh]=8;var qh=new Nh(32);for(Mh=0;Mh<32;++Mh)qh[Mh]=5;var zh=Vh(Kh,9,0),Wh=Vh(Kh,9,1),Gh=Vh(qh,5,0),Jh=Vh(qh,5,1),Xh=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Yh=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},Zh=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},$h=function(e){return(e+7)/8|0},ef=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new Nh(e.subarray(t,n))},tf=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],nf=function(e,t,n){var r=new Error(t||tf[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,nf),!n)throw r;return r},rf=function(e,t,n,r){var s=e.length,i=r?r.length:0;if(!s||t.f&&!t.l)return n||new Nh(0);var o=!n,a=o||2!=t.i,l=t.i;o&&(n=new Nh(3*s));var c=function(e){var t=n.length;if(e>t){var r=new Nh(Math.max(2*t,e));r.set(n),n=r}},A=t.f||0,u=t.p||0,d=t.b||0,h=t.l,f=t.d,g=t.m,p=t.n,m=8*s;do{if(!h){A=Yh(e,u,1);var y=Yh(e,u+1,3);if(u+=3,!y){var v=e[(F=$h(u)+4)-4]|e[F-3]<<8,w=F+v;if(w>s){l&&nf(0);break}a&&c(d+v),n.set(e.subarray(F,w),d),t.b=d+=v,t.p=u=8*w,t.f=A;continue}if(1==y)h=Wh,f=Jh,g=9,p=5;else if(2==y){var x=Yh(e,u,31)+257,b=Yh(e,u+10,15)+4,C=x+Yh(e,u+5,31)+1;u+=14;for(var B=new Nh(C),k=new Nh(19),E=0;E<b;++E)k[Th[E]]=Yh(e,u+3*E,7);u+=3*b;var N=Xh(k),S=(1<<N)-1,_=Vh(k,N,1);for(E=0;E<C;){var F,I=_[Yh(e,u,S)];if(u+=15&I,(F=I>>4)<16)B[E++]=F;else{var T=0,j=0;for(16==F?(j=3+Yh(e,u,3),u+=2,T=B[E-1]):17==F?(j=3+Yh(e,u,7),u+=3):18==F&&(j=11+Yh(e,u,127),u+=7);j--;)B[E++]=T}}var L=B.subarray(0,x),U=B.subarray(x);g=Xh(L),p=Xh(U),h=Vh(L,g,1),f=Vh(U,p,1)}else nf(1);if(u>m){l&&nf(0);break}}a&&c(d+131072);for(var P=(1<<g)-1,Q=(1<<p)-1,O=u;;O=u){var R=(T=h[Zh(e,u)&P])>>4;if((u+=15&T)>m){l&&nf(0);break}if(T||nf(2),R<256)n[d++]=R;else{if(256==R){O=u,h=null;break}var D=R-254;if(R>264){var M=Fh[E=R-257];D=Yh(e,u,(1<<M)-1)+Uh[E],u+=M}var H=f[Zh(e,u)&Q],V=H>>4;H||nf(3),u+=15&H;U=Oh[V];if(V>3){M=Ih[V];U+=Zh(e,u)&(1<<M)-1,u+=M}if(u>m){l&&nf(0);break}a&&c(d+131072);var K=d+D;if(d<U){var q=i-U,z=Math.min(U,K);for(q+d<0&&nf(3);d<z;++d)n[d]=r[q+d]}for(;d<K;++d)n[d]=n[d-U]}}t.l=h,t.p=O,t.b=d,t.f=A,h&&(A=1,t.m=g,t.d=f,t.n=p)}while(!A);return d!=n.length&&o?ef(n,0,d):n.subarray(0,d)},sf=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},of=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},af=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return{t:ff,l:0};if(1==s){var o=new Nh(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,A=1,u=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};A!=s-1;)a=n[n[c].f<n[u].f?c++:u++],l=n[c!=A&&n[c].f<n[u].f?c++:u++],n[A++]={s:-1,f:a.f+l.f,l:a,r:l};var d=i[0].s;for(r=1;r<s;++r)i[r].s>d&&(d=i[r].s);var h=new Sh(d+1),f=lf(n[A-1],h,0);if(f>t){r=0;var g=0,p=f-t,m=1<<p;for(i.sort(function(e,t){return h[t.s]-h[e.s]||e.f-t.f});r<s;++r){var y=i[r].s;if(!(h[y]>t))break;g+=m-(1<<f-h[y]),h[y]=t}for(g>>=p;g>0;){var v=i[r].s;h[v]<t?g-=1<<t-h[v]++-1:++r}for(;r>=0&&g;--r){var w=i[r].s;h[w]==t&&(--h[w],++g)}f=t}return{t:new Nh(h),l:f}},lf=function(e,t,n){return-1==e.s?Math.max(lf(e.l,t,n+1),lf(e.r,t,n+1)):t[e.s]=n},cf=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Sh(++t),r=0,s=e[0],i=1,o=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==s&&a!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[a]}return{c:n.subarray(0,r),n:t}},Af=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},uf=function(e,t,n){var r=n.length,s=$h(t+2);e[s]=255&r,e[s+1]=r>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var i=0;i<r;++i)e[s+i+4]=n[i];return 8*(s+4+r)},df=function(e,t,n,r,s,i,o,a,l,c,A){sf(t,A++,n),++s[256];for(var u=af(s,15),d=u.t,h=u.l,f=af(i,15),g=f.t,p=f.l,m=cf(d),y=m.c,v=m.n,w=cf(g),x=w.c,b=w.n,C=new Sh(19),B=0;B<y.length;++B)++C[31&y[B]];for(B=0;B<x.length;++B)++C[31&x[B]];for(var k=af(C,7),E=k.t,N=k.l,S=19;S>4&&!E[Th[S-1]];--S);var _,F,I,T,j=c+5<<3,L=Af(s,Kh)+Af(i,qh)+o,U=Af(s,d)+Af(i,g)+o+14+3*S+Af(C,E)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&j<=L&&j<=U)return uf(t,A,e.subarray(l,l+c));if(sf(t,A,1+(U<L)),A+=2,U<L){_=Vh(d,h,0),F=d,I=Vh(g,p,0),T=g;var P=Vh(E,N,0);sf(t,A,v-257),sf(t,A+5,b-1),sf(t,A+10,S-4),A+=14;for(B=0;B<S;++B)sf(t,A+3*B,E[Th[B]]);A+=3*S;for(var Q=[y,x],O=0;O<2;++O){var R=Q[O];for(B=0;B<R.length;++B){var D=31&R[B];sf(t,A,P[D]),A+=E[D],D>15&&(sf(t,A,R[B]>>5&127),A+=R[B]>>12)}}}else _=zh,F=Kh,I=Gh,T=qh;for(B=0;B<a;++B){var M=r[B];if(M>255){of(t,A,_[(D=M>>18&31)+257]),A+=F[D+257],D>7&&(sf(t,A,M>>23&31),A+=Fh[D]);var H=31&M;of(t,A,I[H]),A+=T[H],H>3&&(of(t,A,M>>5&8191),A+=Ih[H])}else of(t,A,_[M]),A+=F[M]}return of(t,A,_[256]),A+F[256]},hf=new _h([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ff=new Nh(0),gf=function(e,t,n,r,s,i){var o=i.z||e.length,a=new Nh(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=i.l,A=7&(i.r||0);if(t){A&&(l[0]=i.r>>3);for(var u=hf[t-1],d=u>>13,h=8191&u,f=(1<<n)-1,g=i.p||new Sh(32768),p=i.h||new Sh(f+1),m=Math.ceil(n/3),y=2*m,v=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&f},w=new _h(25e3),x=new Sh(288),b=new Sh(32),C=0,B=0,k=i.i||0,E=0,N=i.w||0,S=0;k+2<o;++k){var _=v(k),F=32767&k,I=p[_];if(g[F]=I,p[_]=F,N<=k){var T=o-k;if((C>7e3||E>24576)&&(T>423||!c)){A=df(e,l,0,w,x,b,B,E,S,k-S,A),E=C=B=0,S=k;for(var j=0;j<286;++j)x[j]=0;for(j=0;j<30;++j)b[j]=0}var L=2,U=0,P=h,Q=F-I&32767;if(T>2&&_==v(k-Q))for(var O=Math.min(d,T)-1,R=Math.min(32767,k),D=Math.min(258,T);Q<=R&&--P&&F!=I;){if(e[k+L]==e[k+L-Q]){for(var M=0;M<D&&e[k+M]==e[k+M-Q];++M);if(M>L){if(L=M,U=Q,M>O)break;var H=Math.min(Q,M-2),V=0;for(j=0;j<H;++j){var K=k-Q+j&32767,q=K-g[K]&32767;q>V&&(V=q,I=K)}}}Q+=(F=I)-(I=g[F])&32767}if(U){w[E++]=268435456|Ph[L]<<18|Rh[U];var z=31&Ph[L],W=31&Rh[U];B+=Fh[z]+Ih[W],++x[257+z],++b[W],N=k+L,++C}else w[E++]=e[k],++x[e[k]]}}for(k=Math.max(k,N);k<o;++k)w[E++]=e[k],++x[e[k]];A=df(e,l,c,w,x,b,B,E,S,k-S,A),c||(i.r=7&A|l[A/8|0]<<3,A-=7,i.h=p,i.p=g,i.i=k,i.w=N)}else{for(k=i.w||0;k<o+c;k+=65535){var G=k+65535;G>=o&&(l[A/8|0]=c,G=o),A=uf(l,A+1,e.subarray(k,G))}i.i=o}return ef(a,0,r+$h(A)+s)},pf=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,i=0|n.length,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=r+=n[o];r=(65535&r)+15*(r>>16),s=(65535&s)+15*(s>>16)}e=r,t=s},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},mf=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Nh(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return gf(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,s)},yf=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},vf=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=pf();s.p(t.dictionary),yf(e,2,s.d())}},wf=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&nf(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&nf(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function xf(e,t){t||(t={});var n=pf();n.p(e);var r=mf(e,t,t.dictionary?6:2,4);return vf(r,t),yf(r,r.length-4,n.d()),r}function bf(e,t){return rf(e.subarray(wf(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var Cf="undefined"!=typeof TextDecoder&&new TextDecoder;try{Cf.decode(ff,{stream:!0})}catch(VE){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Bf=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function kf(){Bf.console&&"function"==typeof Bf.console.log&&Bf.console.log.apply(Bf.console,arguments)}var Ef={log:kf,warn:function(e){Bf.console&&("function"==typeof Bf.console.warn?Bf.console.warn.apply(Bf.console,arguments):kf.call(null,arguments))},error:function(e){Bf.console&&("function"==typeof Bf.console.error?Bf.console.error.apply(Bf.console,arguments):kf(e))}};function Nf(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Tf(r.response,t,n)},r.onerror=function(){Ef.error("could not download file")},r.send()}function Sf(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function _f(e){try{e.dispatchEvent(new MouseEvent("click"))}catch($u){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ff,If,Tf=Bf.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Eh.A)(window))||window!==Bf?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Bf.URL||Bf.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin!==location.origin?Sf(s.href)?Nf(e,t,n):_f(s,s.target="_blank"):_f(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){_f(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Sf(e))Nf(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){_f(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,Eh.A)(t)&&(Ef.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Nf(e,t,n);var s="application/octet-stream"===e.type,i=/constructor/i.test(Bf.HTMLElement)||Bf.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Eh.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var e=a.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},a.readAsDataURL(e)}else{var l=Bf.URL||Bf.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function jf(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function Lf(e,t){var n=e[0],r=e[1],s=e[2],i=e[3];n=Pf(n,r,s,i,t[0],7,-680876936),i=Pf(i,n,r,s,t[1],12,-389564586),s=Pf(s,i,n,r,t[2],17,606105819),r=Pf(r,s,i,n,t[3],22,-1044525330),n=Pf(n,r,s,i,t[4],7,-176418897),i=Pf(i,n,r,s,t[5],12,1200080426),s=Pf(s,i,n,r,t[6],17,-1473231341),r=Pf(r,s,i,n,t[7],22,-45705983),n=Pf(n,r,s,i,t[8],7,1770035416),i=Pf(i,n,r,s,t[9],12,-1958414417),s=Pf(s,i,n,r,t[10],17,-42063),r=Pf(r,s,i,n,t[11],22,-1990404162),n=Pf(n,r,s,i,t[12],7,1804603682),i=Pf(i,n,r,s,t[13],12,-40341101),s=Pf(s,i,n,r,t[14],17,-1502002290),n=Qf(n,r=Pf(r,s,i,n,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Qf(i,n,r,s,t[6],9,-1069501632),s=Qf(s,i,n,r,t[11],14,643717713),r=Qf(r,s,i,n,t[0],20,-373897302),n=Qf(n,r,s,i,t[5],5,-701558691),i=Qf(i,n,r,s,t[10],9,38016083),s=Qf(s,i,n,r,t[15],14,-660478335),r=Qf(r,s,i,n,t[4],20,-405537848),n=Qf(n,r,s,i,t[9],5,568446438),i=Qf(i,n,r,s,t[14],9,-1019803690),s=Qf(s,i,n,r,t[3],14,-187363961),r=Qf(r,s,i,n,t[8],20,1163531501),n=Qf(n,r,s,i,t[13],5,-1444681467),i=Qf(i,n,r,s,t[2],9,-51403784),s=Qf(s,i,n,r,t[7],14,1735328473),n=Of(n,r=Qf(r,s,i,n,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Of(i,n,r,s,t[8],11,-2022574463),s=Of(s,i,n,r,t[11],16,1839030562),r=Of(r,s,i,n,t[14],23,-35309556),n=Of(n,r,s,i,t[1],4,-1530992060),i=Of(i,n,r,s,t[4],11,1272893353),s=Of(s,i,n,r,t[7],16,-155497632),r=Of(r,s,i,n,t[10],23,-1094730640),n=Of(n,r,s,i,t[13],4,681279174),i=Of(i,n,r,s,t[0],11,-358537222),s=Of(s,i,n,r,t[3],16,-722521979),r=Of(r,s,i,n,t[6],23,76029189),n=Of(n,r,s,i,t[9],4,-640364487),i=Of(i,n,r,s,t[12],11,-421815835),s=Of(s,i,n,r,t[15],16,530742520),n=Rf(n,r=Of(r,s,i,n,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Rf(i,n,r,s,t[7],10,1126891415),s=Rf(s,i,n,r,t[14],15,-1416354905),r=Rf(r,s,i,n,t[5],21,-57434055),n=Rf(n,r,s,i,t[12],6,1700485571),i=Rf(i,n,r,s,t[3],10,-1894986606),s=Rf(s,i,n,r,t[10],15,-1051523),r=Rf(r,s,i,n,t[1],21,-2054922799),n=Rf(n,r,s,i,t[8],6,1873313359),i=Rf(i,n,r,s,t[15],10,-30611744),s=Rf(s,i,n,r,t[6],15,-1560198380),r=Rf(r,s,i,n,t[13],21,1309151649),n=Rf(n,r,s,i,t[4],6,-145523070),i=Rf(i,n,r,s,t[11],10,-1120210379),s=Rf(s,i,n,r,t[2],15,718787259),r=Rf(r,s,i,n,t[9],21,-343485551),e[0]=Wf(n,e[0]),e[1]=Wf(r,e[1]),e[2]=Wf(s,e[2]),e[3]=Wf(i,e[3])}function Uf(e,t,n,r,s,i){return t=Wf(Wf(t,e),Wf(r,i)),Wf(t<<s|t>>>32-s,n)}function Pf(e,t,n,r,s,i,o){return Uf(t&n|~t&r,e,t,s,i,o)}function Qf(e,t,n,r,s,i,o){return Uf(t&r|n&~r,e,t,s,i,o)}function Of(e,t,n,r,s,i,o){return Uf(t^n^r,e,t,s,i,o)}function Rf(e,t,n,r,s,i,o){return Uf(n^(t|~r),e,t,s,i,o)}function Df(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Lf(r,Mf(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Lf(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,Lf(r,s),r}function Mf(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Ff=Bf.atob.bind(Bf),If=Bf.btoa.bind(Bf);var Hf="0123456789abcdef".split("");function Vf(e){for(var t="",n=0;n<4;n++)t+=Hf[e>>8*n+4&15]+Hf[e>>8*n&15];return t}function Kf(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function qf(e){return Df(e).map(Kf).join("")}var zf="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Vf(e[t]);return e.join("")}(Df("hello"));function Wf(e,t){if(zf){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Gf(e,t){var n,r,s,i;if(e!==n){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var A=a[l];c=(c+A+o.charCodeAt(l))%256,a[l]=a[c],a[c]=A}n=e,r=a}else a=r;var u=t.length,d=0,h=0,f="";for(l=0;l<u;l++)h=(h+(A=a[d=(d+1)%256]))%256,a[d]=a[h],a[h]=A,o=a[(a[d]+a[h])%256],f+=String.fromCharCode(t.charCodeAt(l)^o);return f}var Jf={print:4,modify:8,copy:16,"annot-forms":32};function Xf(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(e){if(void 0!==Jf.perm)throw new Error("Invalid permission: "+e);s+=Jf[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=qf(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Gf(this.encryptionKey,this.padding)}function Yf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);t+=s<33||35===s||37===s||40===s||41===s||47===s||60===s||62===s||91===s||93===s||123===s||125===s||s>126?"#"+("0"+s.toString(16)).slice(-2):e[r]}return t}function Zf(e){if("object"!==(0,Eh.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!r],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,r)}catch(n){Bf.console&&Ef.error("jsPDF PubSub Error",n.message,n)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function $f(e){if(!(this instanceof $f))return new $f(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function eg(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function tg(e,t,n,r,s){if(!(this instanceof tg))return new tg(e,t,n,r,s);this.type="axial"===e?2:3,this.coords=t,this.colors=n,eg.call(this,r,s)}function ng(e,t,n,r,s){if(!(this instanceof ng))return new ng(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,eg.call(this,r,s)}function rg(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,c="S",A=null;"object"===(0,Eh.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,s=e.format||s,i=e.compress||e.compressPdf||i,null!==(A=e.encryption||null)&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),a="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(!0===i?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=Zf;var f="1.3",g=h.__private__.getPdfVersion=function(){return f};h.__private__.setPdfVersion=function(e){f=e};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return p};var m=h.__private__.getPageFormat=function(e){return p[e]};s=s||"a4";var y="compat",v="advanced",w=y;function x(){this.saveGraphicsState(),Y(new Ie(de,0,0,-de,0,An()*de).toString()+" cm"),this.setFontSize(this.getFontSize()/de),c="n",w=v}function b(){this.restoreGraphicsState(),c="S",w=y}var C=h.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};h.advancedAPI=function(e){var t=w===y;return t&&x.call(this),"function"!=typeof e||(e(this),t&&b.call(this)),this},h.compatAPI=function(e){var t=w===v;return t&&b.call(this),"function"!=typeof e||(e(this),t&&x.call(this)),this},h.isAdvancedAPI=function(){return w===v};var B,k=function(e){if(w!==v)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=h.roundToPrecision=h.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};B=h.hpf=h.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,16)};var N=h.f2=h.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return E(e,2)},S=h.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return E(e,3)},_=h.scale=h.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?e*de:w===v?e:void 0},F=function(e){return _(function(e){return w===y?An()-e:w===v?e:void 0}(e))};h.__private__.setPrecision=h.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var I,T="00000000000000000000000000000000",j=h.__private__.getFileId=function(){return T},L=h.__private__.setFileId=function(e){return T=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():T.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==A&&(vt=new Xf(A.userPermissions,A.userPassword,A.ownerPassword,T)),T};h.setFileId=function(e){return L(e),this},h.getFileId=function(){return j()};var U=h.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),s=Math.abs(t%60),i=[n,D(r),"'",D(s),"'"].join("");return["D:",e.getFullYear(),D(e.getMonth()+1),D(e.getDate()),D(e.getHours()),D(e.getMinutes()),D(e.getSeconds()),i].join("")},P=h.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),i=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,n,r,s,i,o,0)},Q=h.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=U(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return I=t},O=h.__private__.getCreationDate=function(e){var t=I;return"jsDate"===e&&(t=P(I)),t};h.setCreationDate=function(e){return Q(e),this},h.getCreationDate=function(e){return O(e)};var R,D=h.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},M=h.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,V=[],K=[],q=0,z=[],W=[],G=!1,J=K;h.__private__.setCustomOutputDestination=function(e){G=!0,J=e};var X=function(e){G||(J=e)};h.__private__.resetCustomOutputDestination=function(){G=!1,J=K};var Y=h.__private__.out=function(e){return e=e.toString(),q+=e.length+1,J.push(e),J},Z=h.__private__.write=function(e){return Y(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},$=h.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(e){return te=w===v?e/de:e,this};var ne,re=h.__private__.getFontSize=h.getFontSize=function(){return w===y?te:te*de},se=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(e){return se=e,this},h.__private__.getR2L=h.getR2L=function(){return se};var ie,oe=h.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};h.__private__.getZoomMode=function(){return ne};var ae,le=h.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ie=e};h.__private__.getPageMode=function(){return ie};var ce=h.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ae=e};h.__private__.getLayoutMode=function(){return ae},h.__private__.setDisplayMode=h.setDisplayMode=function(e,t,n){return oe(e),ce(t),le(n),this};var Ae={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(e){if(-1===Object.keys(Ae).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ae[e]},h.__private__.getDocumentProperties=function(){return Ae},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(e){for(var t in Ae)Ae.hasOwnProperty(t)&&e[t]&&(Ae[t]=e[t]);return this},h.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(Ae).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ae[e]=t};var ue,de,he,fe,ge,pe={},me={},ye=[],ve={},we={},xe={},be={},Ce=null,Be=0,ke=[],Ee=new Zf(h),Ne=e.hotfixes||[],Se={},_e={},Fe=[],Ie=function e(t,n,r,s,i,o){if(!(this instanceof e))return new e(t,n,r,s,i,o);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(s)&&(s=1),isNaN(i)&&(i=0),isNaN(o)&&(o=0),this._matrix=[t,n,r,s,i,o]};Object.defineProperty(Ie.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ie.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ie.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ie.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ie.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(e)},Ie.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,s=e.shx*this.shy+e.sy*this.sy,i=e.tx*this.sx+e.ty*this.shx+this.tx,o=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ie(t,n,r,s,i,o)},Ie.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,i=this.ty,o=Math.sqrt(e*e+t*t),a=(e/=o)*n+(t/=o)*r;n-=e*a,r-=t*a;var l=Math.sqrt(n*n+r*r);return a/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,a=-a,o=-o),{scale:new Ie(o,0,0,l,0,0),translate:new Ie(1,0,0,1,s,i),rotate:new Ie(e,t,-t,e,0,0),skew:new Ie(1,0,a,1,0,0)}},Ie.prototype.toString=function(e){return this.join(" ")},Ie.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,i=this.ty,o=1/(e*r-t*n),a=r*o,l=-t*o,c=-n*o,A=e*o;return new Ie(a,l,c,A,-a*s-c*i,-l*s-A*i)},Ie.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},Ie.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new rn(t.x,t.y,n.x-t.x,n.y-t.y)},Ie.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,i=this.ty;return new Ie(e,t,n,r,s,i)},h.Matrix=Ie;var Te=h.matrixMult=function(e,t){return t.multiply(e)},je=new Ie(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=je;var Le=function(e,t){if(!we[e]){var n=(t instanceof tg?"Sh":"P")+(Object.keys(ve).length+1).toString(10);t.id=n,we[e]=n,ve[n]=t,Ee.publish("addPattern",t)}};h.ShadingPattern=tg,h.TilingPattern=ng,h.addShadingPattern=function(e,t){return k("addShadingPattern()"),Le(e,t),this},h.beginTilingPattern=function(e){k("beginTilingPattern()"),on(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},h.endTilingPattern=function(e,t){k("endTilingPattern()"),t.stream=W[R].join("\n"),Le(e,t),Ee.publish("endTilingPattern",t),Fe.pop().restore()};var Ue,Pe=h.__private__.newObject=function(){var e=Qe();return Oe(e,!0),e},Qe=h.__private__.newObjectDeferred=function(){return H++,V[H]=function(){return q},H},Oe=function(e,t){return t="boolean"==typeof t&&t,V[e]=q,t&&Y(e+" 0 obj"),e},Re=h.__private__.newAdditionalObject=function(){var e={objId:Qe(),content:""};return z.push(e),e},De=Qe(),Me=Qe(),He=h.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",s=0;s<3;s++)r+=("0"+Math.floor(255*parseFloat(t[s])).toString(16)).slice(-2);return r},Ve=h.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,s=e.ch3,i=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var a=new jf(n);if(a.ok)n=a.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,s=255&l}if(void 0===r||void 0===i&&n===r&&r===s)if("string"==typeof n)t=n+" "+o[0];else if(2===e.precision)t=N(n/255)+" "+o[0];else t=S(n/255)+" "+o[0];else if(void 0===i||"object"===(0,Eh.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",o[1]].join(" ");if("string"==typeof n)t=[n,r,s,o[1]].join(" ");else if(2===e.precision)t=[N(n/255),N(r/255),N(s/255),o[1]].join(" ");else t=[S(n/255),S(r/255),S(s/255),o[1]].join(" ")}else if("string"==typeof n)t=[n,r,s,i,o[2]].join(" ");else if(2===e.precision)t=[N(n),N(r),N(s),N(i),o[2]].join(" ");else t=[S(n),S(r),S(s),S(i),o[2]].join(" ");return t},Ke=h.__private__.getFilters=function(){return o},qe=h.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ke(),r=e.alreadyAppliedFilters||[],s=e.addLength1||!1,i=t.length,o=e.objectId,a=function(e){return e};if(null!==A&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==A&&(a=vt.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==rg.API.processDataByFilters?rg.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===s&&c.push({key:"Length1",value:i})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var h=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)h.push("null");h.push(c[d].value),c[d].value="["+h.join(" ")+"]"}}Y("<<");for(var g=0;g<c.length;g++)Y("/"+c[g].key+" "+c[g].value);Y(">>"),0!==l.data.length&&(Y("stream"),Y(a(l.data)),Y("endstream"))},ze=h.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,s=e.contentsObjId;Oe(r,!0),Y("<</Type /Page"),Y("/Parent "+e.rootDictionaryObjId+" 0 R"),Y("/Resources "+e.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(B(e.mediaBox.bottomLeftX))+" "+parseFloat(B(e.mediaBox.bottomLeftY))+" "+B(e.mediaBox.topRightX)+" "+B(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Y("/CropBox ["+B(e.cropBox.bottomLeftX)+" "+B(e.cropBox.bottomLeftY)+" "+B(e.cropBox.topRightX)+" "+B(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Y("/BleedBox ["+B(e.bleedBox.bottomLeftX)+" "+B(e.bleedBox.bottomLeftY)+" "+B(e.bleedBox.topRightX)+" "+B(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Y("/TrimBox ["+B(e.trimBox.bottomLeftX)+" "+B(e.trimBox.bottomLeftY)+" "+B(e.trimBox.topRightX)+" "+B(e.trimBox.topRightY)+"]"),null!==e.artBox&&Y("/ArtBox ["+B(e.artBox.bottomLeftX)+" "+B(e.artBox.bottomLeftY)+" "+B(e.artBox.topRightX)+" "+B(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Y("/UserUnit "+e.userUnit),Ee.publish("putPage",{objId:r,pageContext:ke[t],pageNumber:t,page:n}),Y("/Contents "+s+" 0 R"),Y(">>"),Y("endobj");var i=n.join("\n");return w===v&&(i+="\nQ"),Oe(s,!0),qe({data:i,filters:Ke(),objectId:s}),Y("endobj"),r},We=h.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Be;e++)ke[e].objId=Qe(),ke[e].contentsObjId=Qe();for(e=1;e<=Be;e++)n.push(ze({number:e,data:W[e],objId:ke[e].objId,contentsObjId:ke[e].contentsObjId,mediaBox:ke[e].mediaBox,cropBox:ke[e].cropBox,bleedBox:ke[e].bleedBox,trimBox:ke[e].trimBox,artBox:ke[e].artBox,userUnit:ke[e].userUnit,rootDictionaryObjId:De,resourceDictionaryObjId:Me}));Oe(De,!0),Y("<</Type /Pages");var r="/Kids [";for(t=0;t<Be;t++)r+=n[t]+" 0 R ";Y(r+"]"),Y("/Count "+Be),Y(">>"),Y("endobj"),Ee.publish("postPutPages")},Ge=function(e){Ee.publish("putFont",{font:e,out:Y,newObject:Pe,putStream:qe}),!0!==e.isAlreadyPutted&&(e.objectNumber=Pe(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Yf(e.postScriptName)),Y("/Subtype /Type1"),"string"==typeof e.encoding&&Y("/Encoding /"+e.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Je=function(e){e.objectNumber=Pe();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[B(e.x),B(e.y),B(e.x+e.width),B(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");qe({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Y("endobj")},Xe=function(e,t){t||(t=21);var n=Pe(),r=function(e,t){var n,r=[],s=1/(t-1);for(n=0;n<1;n+=s)r.push(n);if(r.push(1),0!=e[0].offset){var i={offset:0,color:e[0].color};e.unshift(i)}if(1!=e[e.length-1].offset){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var a="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var A=e[l].offset,u=(n-A)/(e[l+1].offset-A),d=e[l].color,h=e[l+1].color;a+=M(Math.round((1-u)*d[0]+u*h[0]).toString(16))+M(Math.round((1-u)*d[1]+u*h[1]).toString(16))+M(Math.round((1-u)*d[2]+u*h[2]).toString(16))}return a.trim()}(e.colors,t),s=[];s.push({key:"FunctionType",value:"0"}),s.push({key:"Domain",value:"[0.0 1.0]"}),s.push({key:"Size",value:"["+t+"]"}),s.push({key:"BitsPerSample",value:"8"}),s.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),s.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe({data:r,additionalKeyValues:s,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Y("endobj"),e.objectNumber=Pe(),Y("<< /ShadingType "+e.type),Y("/ColorSpace /DeviceRGB");var i="/Coords ["+B(parseFloat(e.coords[0]))+" "+B(parseFloat(e.coords[1]))+" ";2===e.type?i+=B(parseFloat(e.coords[2]))+" "+B(parseFloat(e.coords[3])):i+=B(parseFloat(e.coords[2]))+" "+B(parseFloat(e.coords[3]))+" "+B(parseFloat(e.coords[4]))+" "+B(parseFloat(e.coords[5])),Y(i+="]"),e.matrix&&Y("/Matrix ["+e.matrix.toString()+"]"),Y("/Function "+n+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ye=function(e,t){var n=Qe(),r=Pe();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var s=[];s.push({key:"Type",value:"/Pattern"}),s.push({key:"PatternType",value:"1"}),s.push({key:"PaintType",value:"1"}),s.push({key:"TilingType",value:"1"}),s.push({key:"BBox",value:"["+e.boundingBox.map(B).join(" ")+"]"}),s.push({key:"XStep",value:B(e.xStep)}),s.push({key:"YStep",value:B(e.yStep)}),s.push({key:"Resources",value:n+" 0 R"}),e.matrix&&s.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),qe({data:e.stream,additionalKeyValues:s,objectId:e.objectNumber}),Y("endobj")},Ze=function(e){for(var t in e.objectNumber=Pe(),Y("<<"),e)switch(t){case"opacity":Y("/ca "+N(e[t]));break;case"stroke-opacity":Y("/CA "+N(e[t]))}Y(">>"),Y("endobj")},$e=function(e){Oe(e.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Y("/Font <<"),pe)pe.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&Y("/"+e+" "+pe[e].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(ve).length>0){for(var e in Y("/Shading <<"),ve)ve.hasOwnProperty(e)&&ve[e]instanceof tg&&ve[e].objectNumber>=0&&Y("/"+e+" "+ve[e].objectNumber+" 0 R");Ee.publish("putShadingPatternDict"),Y(">>")}}(),function(e){if(Object.keys(ve).length>0){for(var t in Y("/Pattern <<"),ve)ve.hasOwnProperty(t)&&ve[t]instanceof h.TilingPattern&&ve[t].objectNumber>=0&&ve[t].objectNumber<e&&Y("/"+t+" "+ve[t].objectNumber+" 0 R");Ee.publish("putTilingPatternDict"),Y(">>")}}(e.objectOid),function(){if(Object.keys(xe).length>0){var e;for(e in Y("/ExtGState <<"),xe)xe.hasOwnProperty(e)&&xe[e].objectNumber>=0&&Y("/"+e+" "+xe[e].objectNumber+" 0 R");Ee.publish("putGStateDict"),Y(">>")}}(),function(){for(var e in Y("/XObject <<"),Se)Se.hasOwnProperty(e)&&Se[e].objectNumber>=0&&Y("/"+e+" "+Se[e].objectNumber+" 0 R");Ee.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},et=function(){var e=[];(function(){for(var e in pe)pe.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&Ge(pe[e])})(),function(){var e;for(e in xe)xe.hasOwnProperty(e)&&Ze(xe[e])}(),function(){for(var e in Se)Se.hasOwnProperty(e)&&Je(Se[e])}(),function(e){var t;for(t in ve)ve.hasOwnProperty(t)&&(ve[t]instanceof tg?Xe(ve[t]):ve[t]instanceof ng&&Ye(ve[t],e))}(e),Ee.publish("putResources"),e.forEach($e),$e({resourcesOid:Me,objectOid:Number.MAX_SAFE_INTEGER}),Ee.publish("postPutResources")},tt=function(e){me[e.fontName]=me[e.fontName]||{},me[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,r,s){var i={id:"F"+(Object.keys(pe).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:s||!1,metadata:{}};return Ee.publish("addFont",{font:i,instance:this}),pe[i.id]=i,tt(i),i.id},rt=h.__private__.pdfEscape=h.pdfEscape=function(e,t){return function(e,t){var n,r,s,i,o,a,l,c,A;if(s=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&pe[ue].metadata&&pe[ue].metadata[s]&&pe[ue].metadata[s].encoding&&(i=pe[ue].metadata[s].encoding,!o&&pe[ue].encoding&&(o=pe[ue].encoding),!o&&i.codePages&&(o=i.codePages[0]),"string"==typeof o&&(o=i[o]),o)){for(l=!1,a=[],n=0,r=e.length;n<r;n++)(c=o[e.charCodeAt(n)])?a.push(String.fromCharCode(c)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(l=!0);e=a.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(a=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((A=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(A),a.push(c-(A<<8))}return String.fromCharCode.apply(void 0,a)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},st=h.__private__.beginPage=function(e){W[++Be]=[],ke[Be]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},at(Be),X(W[R])},it=function(e,t){var r,i,o;switch(n=t||n,"string"==typeof e&&(r=m(e.toLowerCase()),Array.isArray(r)&&(i=r[0],o=r[1])),Array.isArray(e)&&(i=e[0]*de,o=e[1]*de),isNaN(i)&&(i=s[0],o=s[1]),(i>14400||o>14400)&&(Ef.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),o=Math.min(14400,o)),s=[i,o],n.substr(0,1)){case"l":o>i&&(s=[o,i]);break;case"p":i>o&&(s=[o,i])}st(s),Rt(Qt),Y(Wt),0!==$t&&Y($t+" J"),0!==en&&Y(en+" j"),Ee.publish("addPage",{pageNumber:Be})},ot=function(e){e>0&&e<=Be&&(W.splice(e,1),ke.splice(e,1),Be--,R>Be&&(R=Be),this.setPage(R))},at=function(e){e>0&&e<=Be&&(R=e)},lt=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return W.length-1},ct=function(e,t,n){var r,s=void 0;return n=n||{},e=void 0!==e?e:pe[ue].fontName,t=void 0!==t?t:pe[ue].fontStyle,r=e.toLowerCase(),void 0!==me[r]&&void 0!==me[r][t]?s=me[r][t]:void 0!==me[e]&&void 0!==me[e][t]?s=me[e][t]:!1===n.disableWarning&&Ef.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),s||n.noFallback||null==(s=me.times[t])&&(s=me.times.normal),s},At=h.__private__.putInfo=function(){var e=Pe(),t=function(e){return e};for(var n in null!==A&&(t=vt.encryptor(e,0)),Y("<<"),Y("/Producer ("+rt(t("jsPDF "+rg.version))+")"),Ae)Ae.hasOwnProperty(n)&&Ae[n]&&Y("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+rt(t(Ae[n]))+")");Y("/CreationDate ("+rt(t(I))+")"),Y(">>"),Y("endobj")},ut=h.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||De;switch(Pe(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&Y("/OpenAction [3 0 R /XYZ null null "+N(ne)+"]")}switch(ae||(ae="continuous"),ae){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}ie&&Y("/PageMode /"+ie),Ee.publish("putCatalog"),Y(">>"),Y("endobj")},dt=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(H+1)),Y("/Root "+H+" 0 R"),Y("/Info "+(H-1)+" 0 R"),null!==A&&Y("/Encrypt "+vt.oid+" 0 R"),Y("/ID [ <"+T+"> <"+T+"> ]"),Y(">>")},ht=h.__private__.putHeader=function(){Y("%PDF-"+f),Y("%\xba\xdf\xac\xe0")},ft=h.__private__.putXRef=function(){var e="0000000000";Y("xref"),Y("0 "+(H+1)),Y("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof V[t]?Y((e+V[t]()).slice(-10)+" 00000 n "):void 0!==V[t]?Y((e+V[t]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},gt=h.__private__.buildDocument=function(){H=0,q=0,K=[],V=[],z=[],De=Qe(),Me=Qe(),X(K),Ee.publish("buildDocument"),ht(),We(),function(){Ee.publish("putAdditionalObjects");for(var e=0;e<z.length;e++){var t=z[e];Oe(t.objId,!0),Y(t.content),Y("endobj")}Ee.publish("postPutAdditionalObjects")}(),et(),null!==A&&(vt.oid=Pe(),Y("<<"),Y("/Filter /Standard"),Y("/V "+vt.v),Y("/R "+vt.r),Y("/U <"+vt.toHexString(vt.U)+">"),Y("/O <"+vt.toHexString(vt.O)+">"),Y("/P "+vt.P),Y(">>"),Y("endobj")),At(),ut();var e=q;return ft(),dt(),Y("startxref"),Y(""+e),Y("%%EOF"),X(W[R]),K.join("\n")},pt=h.__private__.getBlob=function(e){return new Blob([$(e)],{type:"application/pdf"})},mt=h.output=h.__private__.output=(Ue=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return gt();case"save":h.save(t.filename);break;case"arraybuffer":return $(gt());case"blob":return pt(gt());case"bloburi":case"bloburl":if(void 0!==Bf.URL&&"function"==typeof Bf.URL.createObjectURL)return Bf.URL&&Bf.URL.createObjectURL(pt(gt()))||void 0;Ef.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=gt();try{n=If(r)}catch(e){n=If(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Bf)){var s="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(s=t.pdfObjectUrl,i="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+s+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",a=Bf.open();return null!==a&&a.document.write(o),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Bf)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Bf.open();if(null!==c){c.document.write(l);var A=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(A.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Bf))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',d=Bf.open();if(null!==d&&(d.document.write(u),d.document.title=t.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return Bf.document.location.href=this.output("datauristring",t);default:return null}},Ue.foo=function(){try{return Ue.apply(this,arguments)}catch(Ue){var e=Ue.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Ue.message;if(!Bf.console)throw new Error(t);Bf.console.error(t,Ue),Bf.alert&&alert(t)}},Ue.foo.bar=Ue,Ue.foo),yt=function(e){return!0===Array.isArray(Ne)&&Ne.indexOf(e)>-1};switch(r){case"pt":de=1;break;case"mm":de=72/25.4;break;case"cm":de=72/2.54;break;case"in":de=72;break;case"px":de=1==yt("px_scaling")?.75:96/72;break;case"pc":case"em":de=12;break;case"ex":de=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);de=r}var vt=null;Q(),L();var wt=h.__private__.getPageInfo=h.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ke[e].objId,pageNumber:e,pageContext:ke[e]}},xt=h.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in ke)if(ke[t].objId===e)break;return wt(t)},bt=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ke[R].objId,pageNumber:R,pageContext:ke[R]}};h.addPage=function(){return it.apply(this,arguments),this},h.setPage=function(){return at.apply(this,arguments),X.call(this,W[R]),this},h.insertPage=function(e){return this.addPage(),this.movePage(R,e),this},h.movePage=function(e,t){var n,r;if(e>t){n=W[e],r=ke[e];for(var s=e;s>t;s--)W[s]=W[s-1],ke[s]=ke[s-1];W[t]=n,ke[t]=r,this.setPage(t)}else if(e<t){n=W[e],r=ke[e];for(var i=e;i<t;i++)W[i]=W[i+1],ke[i]=ke[i+1];W[t]=n,ke[t]=r,this.setPage(t)}return this},h.deletePage=function(){return ot.apply(this,arguments),this},h.__private__.text=h.text=function(e,t,n,r,s){var i,o,a,l,c,A,u,h,f,g=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var p=n;n=t,t=e,e=p}if(arguments[3]instanceof Ie==0?(a=arguments[4],l=arguments[5],"object"===(0,Eh.A)(u=arguments[3])&&null!==u||("string"==typeof a&&(l=a,a=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(a=u,u=null),r={flags:u,angle:a,align:l})):(k("The transform parameter of text() with a Matrix value"),f=s),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return g;var m,y="",x="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Pt,b=g.internal.scaleFactor;function C(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),rt(e,u)}function E(e){for(var t,n=e.concat(),r=[],s=n.length;s--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function N(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,s,i=e.concat(),o=[],a=i.length;a--;)"string"==typeof(r=i.shift())?o.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(s=t(r[0],r[1],r[2]),o.push([s[0],s[1],s[2]]));n=o}return n}var S=!1,F=!0;if("string"==typeof e)S=!0;else if(Array.isArray(e)){var I=e.concat();o=[];for(var T,j=I.length;j--;)("string"!=typeof(T=I.shift())||Array.isArray(T)&&"string"!=typeof T[0])&&(F=!1);S=F}if(!1===S)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=te/g.internal.scaleFactor,U=L*(x-1);switch(r.baseline){case"bottom":n-=U;break;case"top":n+=L-U;break;case"hanging":n+=L-2*U;break;case"middle":n+=L/2-U}if((A=r.maxWidth||0)>0&&("string"==typeof e?e=g.splitTextToSize(e,A):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(g.splitTextToSize(t,A))},[]))),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:pe,activeFontSize:te}},Ee.publish("preProcessText",i),e=i.text,a=(r=i.options).angle,f instanceof Ie==0&&a&&"number"==typeof a){a*=Math.PI/180,0===r.rotationDirection&&(a=-a),w===v&&(a=-a);var P=Math.cos(a),Q=Math.sin(a);f=new Ie(P,Q,-Q,P,0,0)}else a&&a instanceof Ie&&(f=a);w!==v||f||(f=je),void 0!==(c=r.charSpace||Yt)&&(y+=B(_(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(h=r.horizontalScale)&&(y+=B(100*h)+" Tz\n"),r.lang;var O=-1,R=void 0!==r.renderingMode?r.renderingMode:r.stroke,D=g.internal.getCurrentPageInfo().pageContext;switch(R){case 0:case!1:case"fill":O=0;break;case 1:case!0:case"stroke":O=1;break;case 2:case"fillThenStroke":O=2;break;case 3:case"invisible":O=3;break;case 4:case"fillAndAddForClipping":O=4;break;case 5:case"strokeAndAddPathForClipping":O=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":O=6;break;case 7:case"addToPathForClipping":O=7}var M=void 0!==D.usedRenderingMode?D.usedRenderingMode:-1;-1!==O?y+=O+" Tr\n":-1!==M&&(y+="0 Tr\n"),-1!==O&&(D.usedRenderingMode=O),l=r.align||"left";var H,V=te*x,K=g.internal.pageSize.getWidth(),q=pe[ue];c=r.charSpace||Yt,A=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var z=[],W=function(e){return g.getStringUnitWidth(e,{font:q,charSpace:c,fontSize:te,doKerning:!1})*te/b};if("[object Array]"===Object.prototype.toString.call(e)){var G;o=E(e),"left"!==l&&(H=o.map(W));var J,X=0;if("right"===l){t-=H[0],e=[],j=o.length;for(var Z=0;Z<j;Z++)0===Z?(J=Vt(t),G=Kt(n)):(J=_(X-H[Z]),G=-V),e.push([o[Z],J,G]),X=H[Z]}else if("center"===l){t-=H[0]/2,e=[],j=o.length;for(var $=0;$<j;$++)0===$?(J=Vt(t),G=Kt(n)):(J=_((X-H[$])/2),G=-V),e.push([o[$],J,G]),X=H[$]}else if("left"===l){e=[],j=o.length;for(var ee=0;ee<j;ee++)e.push(o[ee])}else if("justify"===l&&"Identity-H"===q.encoding){e=[],j=o.length,A=0!==A?A:K;for(var ne=0,re=0;re<j;re++)if(G=0===re?Kt(n):-V,J=0===re?Vt(t):ne,re<j-1){var ie=_((A-H[re])/(o[re].split(" ").length-1)),oe=o[re].split(" ");e.push([oe[0]+" ",J,G]),ne=0;for(var ae=1;ae<oe.length;ae++){var le=(W(oe[ae-1]+" "+oe[ae])-W(oe[ae]))*b+ie;ae==oe.length-1?e.push([oe[ae],le,0]):e.push([oe[ae]+" ",le,0]),ne-=le}}else e.push([o[re],J,G]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],j=o.length,A=0!==A?A:K,re=0;re<j;re++)G=0===re?Kt(n):-V,J=0===re?Vt(t):0,re<j-1?z.push(B(_((A-H[re])/(o[re].split(" ").length-1)))):z.push(0),e.push([o[re],J,G])}}!0===("boolean"==typeof r.R2L?r.R2L:se)&&(e=N(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:pe,activeFontSize:te}},Ee.publish("postProcessText",i),e=i.text,m=i.mutex.isHex||!1;var ce=pe[ue].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=N(e,function(e,t,n){return[C(e),t,n]})),o=E(e),e=[];for(var Ae,de,he,fe=Array.isArray(o[0])?1:0,ge="",me=function(e,t,n){var s="";return n instanceof Ie?(n="number"==typeof r.angle?Te(n,new Ie(1,0,0,1,e,t)):Te(new Ie(1,0,0,1,e,t),n),w===v&&(n=Te(new Ie(1,0,0,-1,0,0),n)),s=n.join(" ")+" Tm\n"):s=B(e)+" "+B(t)+" Td\n",s},ye=0;ye<o.length;ye++){switch(ge="",fe){case 1:he=(m?"<":"(")+o[ye][0]+(m?">":")"),Ae=parseFloat(o[ye][1]),de=parseFloat(o[ye][2]);break;case 0:he=(m?"<":"(")+o[ye]+(m?">":")"),Ae=Vt(t),de=Kt(n)}void 0!==z&&void 0!==z[ye]&&(ge=z[ye]+" Tw\n"),0===ye?e.push(ge+me(Ae,de,f)+he):0===fe?e.push(ge+he):1===fe&&e.push(ge+me(Ae,de,f)+he)}e=0===fe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ve="BT\n/";return ve+=ue+" "+te+" Tf\n",ve+=B(te*x)+" TL\n",ve+=Jt+"\n",ve+=y,ve+=e,Y(ve+="ET"),d[ue]=!0,g};var Ct=h.__private__.clip=h.clip=function(e){return Y("evenodd"===e?"W*":"W"),this};h.clipEvenOdd=function(){return Ct("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var Bt=h.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(e){return Bt(e)&&(c=e),this};var kt=h.__private__.getStyle=h.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Et=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(e){return Nt("f",e),this},h.fillEvenOdd=function(e){return Nt("f*",e),this},h.fillStroke=function(e){return Nt("B",e),this},h.fillStrokeEvenOdd=function(e){return Nt("B*",e),this};var Nt=function(e,t){"object"===(0,Eh.A)(t)?Ft(t,e):Y(e)},St=function(e){null===e||w===v&&void 0===e||(e=kt(e),Y(e))};function _t(e,t,n,r,s){var i=new ng(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,s||this.matrix);i.stream=this.stream;var o=e+"$$"+this.cloneIndex+++"$$";return Le(o,i),i}var Ft=function(e,t){var n=we[e.key],r=ve[n];if(r instanceof tg)Y("q"),Y(It(t)),r.gState&&h.setGState(r.gState),Y(e.matrix.toString()+" cm"),Y("/"+n+" sh"),Y("Q");else if(r instanceof ng){var s=new Ie(1,0,0,-1,0,An());e.matrix&&(s=s.multiply(e.matrix||je),n=_t.call(r,e.key,e.boundingBox,e.xStep,e.yStep,s).id),Y("q"),Y("/Pattern cs"),Y("/"+n+" scn"),r.gState&&h.setGState(r.gState),Y(t),Y("Q")}},It=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tt=h.moveTo=function(e,t){return Y(B(_(e))+" "+B(F(t))+" m"),this},jt=h.lineTo=function(e,t){return Y(B(_(e))+" "+B(F(t))+" l"),this},Lt=h.curveTo=function(e,t,n,r,s,i){return Y([B(_(e)),B(F(t)),B(_(n)),B(F(r)),B(_(s)),B(F(i)),"c"].join(" ")),this};h.__private__.line=h.line=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[n-e,r-t]],e,t,[1,1],s||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},h.__private__.lines=h.lines=function(e,t,n,r,s,i){var o,a,l,c,A,u,d,h,f,g,p,m;if("number"==typeof e&&(m=n,n=t,t=e,e=m),r=r||[1,1],i=i||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Bt(s)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Tt(t,n),o=r[0],a=r[1],c=e.length,g=t,p=n,l=0;l<c;l++)2===(A=e[l]).length?(g=A[0]*o+g,p=A[1]*a+p,jt(g,p)):(u=A[0]*o+g,d=A[1]*a+p,h=A[2]*o+g,f=A[3]*a+p,g=A[4]*o+g,p=A[5]*a+p,Lt(u,d,h,f,g,p));return i&&Et(),St(s),this},h.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Tt(r[0],r[1]);break;case"l":jt(r[0],r[1]);break;case"c":Lt.apply(this,r);break;case"h":Et()}}return this},h.__private__.rect=h.rect=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(r=-r),Y([B(_(e)),B(F(t)),B(_(n)),B(_(r)),"re"].join(" ")),St(s),this},h.__private__.triangle=h.triangle=function(e,t,n,r,s,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(i)||!Bt(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[s-n,i-r],[e-s,t-i]],e,t,[1,1],o,!0),this},h.__private__.roundedRect=h.roundedRect=function(e,t,n,r,s,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(i)||!Bt(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return s=Math.min(s,.5*n),i=Math.min(i,.5*r),this.lines([[n-2*s,0],[s*a,0,s,i-i*a,s,i],[0,r-2*i],[0,i*a,-s*a,i,-s,i],[2*s-n,0],[-s*a,0,-s,-i*a,-s,-i],[0,2*i-r],[0,-i*a,s*a,-i,s,-i]],e+s,t,[1,1],o,!0),this},h.__private__.ellipse=h.ellipse=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return Tt(e+n,t),Lt(e+n,t-o,e+i,t-r,e,t-r),Lt(e-i,t-r,e-n,t-o,e-n,t),Lt(e-n,t+o,e-i,t+r,e,t+r),Lt(e+i,t+r,e+n,t+o,e+n,t),St(s),this},h.__private__.circle=h.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Bt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},h.setFont=function(e,t,n){return n&&(t=C(t,n)),ue=ct(e,t,{disableWarning:!1}),this};var Ut=h.__private__.getFont=h.getFont=function(){return pe[ct.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var e,t,n={};for(e in me)if(me.hasOwnProperty(e))for(t in n[e]=[],me[e])me[e].hasOwnProperty(t)&&n[e].push(t);return n},h.addFont=function(e,t,n,r,s){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?s=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(n=C(n,r)),nt.call(this,e,t,n,s=s||"Identity-H")};var Pt,Qt=e.lineWidth||.200025,Ot=h.__private__.getLineWidth=h.getLineWidth=function(){return Qt},Rt=h.__private__.setLineWidth=h.setLineWidth=function(e){return Qt=e,Y(B(_(e))+" w"),this};h.__private__.setLineDash=rg.API.setLineDash=rg.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return B(_(e))}).join(" "),t=B(_(t)),Y("["+e+"] "+t+" d"),this};var Dt=h.__private__.getLineHeight=h.getLineHeight=function(){return te*Pt};h.__private__.getLineHeight=h.getLineHeight=function(){return te*Pt};var Mt=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Pt=e),this},Ht=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Pt};Mt(e.lineHeight);var Vt=h.__private__.getHorizontalCoordinate=function(e){return _(e)},Kt=h.__private__.getVerticalCoordinate=function(e){return w===v?e:ke[R].mediaBox.topRightY-ke[R].mediaBox.bottomLeftY-_(e)},qt=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(e){return B(Vt(e))},zt=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(e){return B(Kt(e))},Wt=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return He(Wt)},h.__private__.setStrokeColor=h.setDrawColor=function(e,t,n,r){return Wt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Y(Wt),this};var Gt=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return He(Gt)},h.__private__.setFillColor=h.setFillColor=function(e,t,n,r){return Gt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Y(Gt),this};var Jt=e.textColor||"0 g",Xt=h.__private__.getTextColor=h.getTextColor=function(){return He(Jt)};h.__private__.setTextColor=h.setTextColor=function(e,t,n,r){return Jt=Ve({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Yt=e.charSpace,Zt=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Yt||0)};h.__private__.setCharSpace=h.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yt=e,this};var $t=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,Y(t+" J"),this};var en=0;h.__private__.setLineJoin=h.setLineJoin=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,Y(t+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(B(_(e))+" M"),this},h.GState=$f,h.setGState=function(e){(e="string"==typeof e?xe[be[e]]:tn(null,e)).equals(Ce)||(Y("/"+e.id+" gs"),Ce=e)};var tn=function(e,t){if(!e||!be[e]){var n=!1;for(var r in xe)if(xe.hasOwnProperty(r)&&xe[r].equals(t)){n=!0;break}if(n)t=xe[r];else{var s="GS"+(Object.keys(xe).length+1).toString(10);xe[s]=t,t.id=s}return e&&(be[e]=t.id),Ee.publish("addGState",t),t}};h.addGState=function(e,t){return tn(e,t),this},h.saveGraphicsState=function(){return Y("q"),ye.push({key:ue,size:te,color:Jt}),this},h.restoreGraphicsState=function(){Y("Q");var e=ye.pop();return ue=e.key,te=e.size,Jt=e.color,Ce=null,this},h.setCurrentTransformationMatrix=function(e){return Y(e.toString()+" cm"),this},h.comment=function(e){return Y("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var s="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return s},set:function(e){s=e.toString()}}),this},rn=function(e,t,n,r){nn.call(this,e,t),this.type="rect";var s=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}}),this},sn=function(){this.page=Be,this.currentPage=R,this.pages=W.slice(0),this.pagesContext=ke.slice(0),this.x=he,this.y=fe,this.matrix=ge,this.width=ln(R),this.height=An(R),this.outputDestination=J,this.id="",this.objectNumber=-1};sn.prototype.restore=function(){Be=this.page,R=this.currentPage,ke=this.pagesContext,W=this.pages,he=this.x,fe=this.y,ge=this.matrix,cn(R,this.width),un(R,this.height),J=this.outputDestination};var on=function(e,t,n,r,s){Fe.push(new sn),Be=R=0,W=[],he=e,fe=t,ge=s,st([n,r])};for(var an in h.beginFormObject=function(e,t,n,r,s){return on(e,t,n,r,s),this},h.endFormObject=function(e){return function(e){if(_e[e])Fe.pop().restore();else{var t=new sn,n="Xo"+(Object.keys(Se).length+1).toString(10);t.id=n,_e[e]=n,Se[n]=t,Ee.publish("addFormObject",t),Fe.pop().restore()}}(e),this},h.doFormObject=function(e,t){var n=Se[_e[e]];return Y("q"),Y(t.toString()+" cm"),Y("/"+n.id+" Do"),Y("Q"),this},h.getFormObject=function(e){var t=Se[_e[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},h.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Tf(pt(gt()),e),"function"==typeof Tf.unload&&Bf.setTimeout&&setTimeout(Tf.unload,911),this):new Promise(function(t,n){try{var r=Tf(pt(gt()),e);"function"==typeof Tf.unload&&Bf.setTimeout&&setTimeout(Tf.unload,911),t(r)}catch(e){n(e.message)}})},rg.API)rg.API.hasOwnProperty(an)&&("events"===an&&rg.API.events.length?function(e,t){var n,r,s;for(s=t.length-1;-1!==s;s--)n=t[s][0],r=t[s][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ee,rg.API.events):h[an]=rg.API[an]);var ln=h.getPageWidth=function(e){return(ke[e=e||R].mediaBox.topRightX-ke[e].mediaBox.bottomLeftX)/de},cn=h.setPageWidth=function(e,t){ke[e].mediaBox.topRightX=t*de+ke[e].mediaBox.bottomLeftX},An=h.getPageHeight=function(e){return(ke[e=e||R].mediaBox.topRightY-ke[e].mediaBox.bottomLeftY)/de},un=h.setPageHeight=function(e,t){ke[e].mediaBox.topRightY=t*de+ke[e].mediaBox.bottomLeftY};return h.internal={pdfEscape:rt,getStyle:kt,getFont:Ut,getFontSize:re,getCharSpace:Zt,getTextColor:Xt,getLineHeight:Dt,getLineHeightFactor:Ht,getLineWidth:Ot,write:Z,getHorizontalCoordinate:Vt,getVerticalCoordinate:Kt,getCoordinateString:qt,getVerticalCoordinateString:zt,collections:{},newObject:Pe,newAdditionalObject:Re,newObjectDeferred:Qe,newObjectDeferredBegin:Oe,getFilters:Ke,putStream:qe,events:Ee,scaleFactor:de,pageSize:{getWidth:function(){return ln(R)},setWidth:function(e){cn(R,e)},getHeight:function(){return An(R)},setHeight:function(e){un(R,e)}},encryptionOptions:A,encryption:vt,getEncryptor:function(e){return null!==A?vt.encryptor(e,0):function(e){return e}},output:mt,getNumberOfPages:lt,pages:W,out:Y,f2:N,f3:S,getPageInfo:wt,getPageInfoByObjId:xt,getCurrentPageInfo:bt,getPDFVersion:g,Point:nn,Rectangle:rn,Matrix:Ie,hasHotfix:yt},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ln(R)},set:function(e){cn(R,e)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return An(R)},set:function(e){un(R,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=nt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(d[r]=!0);var s=e[t][0].split("-");tt({id:r,fontName:s[0],fontStyle:s[1]||""})}Ee.publish("addFonts",{fonts:pe,dictionary:me})}.call(h,ee),ue="F1",it(s,n),Ee.publish("initialized"),h}Xf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Xf.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xf.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Xf.prototype.processOwnerPassword=function(e,t){return Gf(qf(t).substr(0,5),e)},Xf.prototype.encryptor=function(e,t){var n=qf(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Gf(n,e)}},$f.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,Eh.A)(e)!==(0,Eh.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},rg.API={events:[]},rg.version="3.0.1";var sg=rg.API,ig=1,og=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ag=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},lg=function(e){return e.toFixed(2)},cg=function(e){return e.toFixed(5)};sg.__acroform__={};var Ag=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ug=function(e){return e*ig},dg=function(e){var t=new _g,n=Vg.internal.getHeight(e)||0,r=Vg.internal.getWidth(e)||0;return t.BBox=[0,0,Number(lg(r)),Number(lg(n))],t},hg=sg.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},fg=sg.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},gg=sg.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},pg=sg.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gg(e,t-1)},mg=sg.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hg(e,t-1)},yg=sg.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fg(e,t-1)},vg=sg.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+a)||0,l.upperRight_X=n(s+o)||0,l.upperRight_Y=r(i)||0,[Number(lg(l.lowerLeft_X)),Number(lg(l.lowerLeft_Y)),Number(lg(l.upperRight_X)),Number(lg(l.upperRight_Y))]},wg=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=xg(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+lg(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=dg(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},xg=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(e){return e.split("\n")}):s.map(function(e){return[e]});var i=n,o=Vg.internal.getHeight(e)||0;o=o<0?-o:o;var a=Vg.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(t,n,r){if(t+1<s.length){var i=n+" "+s[t+1][0];return bg(i,e,r).width<=a-4}return!1};i++;e:for(;i>0;){t="",i--;var c,A,u=bg("3",e,i).height,d=e.multiline?o-i:(o-u)/2,h=d+=2,f=0,g=0,p=0;if(i<=0){t="(...) Tj\n",t+="% Width of Text: "+bg(t,e,i=12).width+", FieldWidth:"+a+"\n";break}for(var m="",y=0,v=0;v<s.length;v++)if(s.hasOwnProperty(v)){var w=!1;if(1!==s[v].length&&p!==s[v].length-1){if((u+2)*(y+2)+2>o)continue e;m+=s[v][p],w=!0,g=v,v--}else{m=" "==(m+=s[v][p]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var x=parseInt(v),b=l(x,m,i),C=v>=s.length-1;if(b&&!C){m+=" ",p=0;continue}if(b||C){if(C)g=x;else if(e.multiline&&(u+2)*(y+2)+2>o)continue e}else{if(!e.multiline)continue e;if((u+2)*(y+2)+2>o)continue e;g=x}}for(var B="",k=f;k<=g;k++){var E=s[k];if(e.multiline){if(k===g){B+=E[p]+" ",p=(p+1)%E.length;continue}if(k===f){B+=E[E.length-1]+" ";continue}}B+=E[0]+" "}switch(B=" "==B.substr(B.length-1)?B.substr(0,B.length-1):B,A=bg(B,e,i).width,e.textAlign){case"right":c=a-A-2;break;case"center":c=(a-A)/2;break;default:c=2}t+=lg(c)+" "+lg(h)+" Td\n",t+="("+og(B)+") Tj\n",t+=-lg(c)+" 0 Td\n",h=-(i+2),A=0,f=w?g:g+1,y++,m=""}break}return r.text=t,r.fontSize=i,r},bg=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},Cg={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Bg=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},kg=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Ig.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Cg)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ig=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Fg,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&Bg(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var s=e[r],i=[],o=s.Rect;if(s.Rect&&(s.Rect=vg(s.Rect,t)),t.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Vg.createDefaultAppearanceStream(s),"object"===(0,Eh.A)(s)&&"function"==typeof s.getKeyValueListForStream&&(i=s.getKeyValueListForStream()),s.Rect=o,s.hasAppearanceStream&&!s.appearanceStreamContent){var a=wg(s);i.push({key:"AP",value:"<</N "+a+">>"}),t.internal.acroformPlugin.xForms.push(a)}if(s.appearanceStreamContent){var l="";for(var c in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(c)){var A=s.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var r in A)if(A.hasOwnProperty(r)){var u=A[r];"function"==typeof u&&(u=u.call(t,s)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=A)&&(u=u.call(t,s)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:s.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),"object"===(0,Eh.A)(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},Eg=sg.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(0!==i&&(s+=" "),(0,Eh.A)(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),s+="("+og(r(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ng=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+og(r(e))+")"},Sg=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Sg.prototype.toString=function(){return this.objId+" 0 R"},Sg.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Sg.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:Eg(s,this.objId,this.scope)}):s instanceof Sg?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):"function"!=typeof s&&e.push({key:r,value:s}))}return e};var _g=function(){Sg.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Ag(_g,Sg);var Fg=function(){Sg.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+og(t(e))+")"}},set:function(t){e=t}})};Ag(Fg,Sg);var Ig=function e(){Sg.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(t,3))},set:function(e){!0===Boolean(e)?this.F=mg(t,3):this.F=yg(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Rg)return;i="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+og(t(i))+")"},set:function(e){i=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/ig:c},set:function(e){c=e}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(e){A=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Rg||this instanceof Mg))return Ng(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Pg==0?Ng(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof Pg==0?"("===e.substr(0,1)?ag(e.substr(1,e.length-2)):ag(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pg==1?ag(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof Pg==1?"/"+e:e}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Pg==0?Ng(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Pg==0?"("===e.substr(0,1)?ag(e.substr(1,e.length-2)):ag(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pg==1?ag(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Pg==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(e){e=Boolean(e),g=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,1):this.Ff=yg(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,2):this.Ff=yg(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,3):this.Ff=yg(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==p)return p},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');p=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(p){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:p=2;break;case"center":case 1:p=1;break;default:p=0}}})};Ag(Ig,Sg);var Tg=function(){Ig.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Eg(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,s=[];r=t.exec(e);)s.push(r[n]);return s}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,18):this.Ff=yg(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=mg(this.Ff,19):this.Ff=yg(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=mg(this.Ff,20),t.sort()):this.Ff=yg(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,22):this.Ff=yg(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,23):this.Ff=yg(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,27):this.Ff=yg(this.Ff,27)}}),this.hasAppearanceStream=!1};Ag(Tg,Ig);var jg=function(){Tg.call(this),this.fontName="helvetica",this.combo=!1};Ag(jg,Tg);var Lg=function(){jg.call(this),this.combo=!0};Ag(Lg,jg);var Ug=function(){Lg.call(this),this.edit=!0};Ag(Ug,Lg);var Pg=function(){Ig.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,15):this.Ff=yg(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,16):this.Ff=yg(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,17):this.Ff=yg(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,26):this.Ff=yg(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+og(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,Eh.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Ag(Pg,Ig);var Qg=function(){Pg.call(this),this.pushButton=!0};Ag(Qg,Pg);var Og=function(){Pg.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Ag(Og,Pg);var Rg=function(){var e,t;Ig.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+og(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,Eh.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vg.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ag(Rg,Ig),Og.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Og.prototype.createOption=function(e){var t=new Rg;return t.Parent=this,t.optionName=e,this.Kids.push(t),Kg.call(this.scope,t),t};var Dg=function(){Pg.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vg.CheckBox.createAppearanceStream()};Ag(Dg,Pg);var Mg=function(){Ig.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,13):this.Ff=yg(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,21):this.Ff=yg(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,23):this.Ff=yg(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,24):this.Ff=yg(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,25):this.Ff=yg(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,26):this.Ff=yg(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ag(Mg,Ig);var Hg=function(){Mg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(pg(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=mg(this.Ff,14):this.Ff=yg(this.Ff,14)}}),this.password=!0};Ag(Hg,Mg);var Vg={CheckBox:{createAppearanceStream:function(){return{N:{On:Vg.CheckBox.YesNormal},D:{On:Vg.CheckBox.YesPushDown,Off:Vg.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=dg(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=xg(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+lg(Vg.internal.getWidth(e))+" "+lg(Vg.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+lg(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=dg(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],i=Vg.internal.getHeight(e),o=Vg.internal.getWidth(e),a=xg(e,e.caption);return s.push("1 g"),s.push("0 0 "+lg(o)+" "+lg(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+lg(o-1)+" "+lg(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+lg(a.fontSize)+" Tf "+r),s.push(a.text),s.push("ET"),s.push("Q"),t.stream=s.join("\n"),t},OffPushDown:function(e){var t=dg(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+lg(Vg.internal.getWidth(e))+" "+lg(Vg.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Vg.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Vg.RadioButton.Circle.YesNormal,t.D[e]=Vg.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=dg(e);t.scope=e.scope;var n=[],r=Vg.internal.getWidth(e)<=Vg.internal.getHeight(e)?Vg.internal.getWidth(e)/4:Vg.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Vg.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+cg(Vg.internal.getWidth(e)/2)+" "+cg(Vg.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=dg(e);t.scope=e.scope;var n=[],r=Vg.internal.getWidth(e)<=Vg.internal.getHeight(e)?Vg.internal.getWidth(e)/4:Vg.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Vg.internal.Bezier_C).toFixed(5)),o=Number((r*Vg.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cg(Vg.internal.getWidth(e)/2)+" "+cg(Vg.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+cg(Vg.internal.getWidth(e)/2)+" "+cg(Vg.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=dg(e);t.scope=e.scope;var n=[],r=Vg.internal.getWidth(e)<=Vg.internal.getHeight(e)?Vg.internal.getWidth(e)/4:Vg.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Vg.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cg(Vg.internal.getWidth(e)/2)+" "+cg(Vg.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Vg.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Vg.RadioButton.Cross.YesNormal,t.D[e]=Vg.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=dg(e);t.scope=e.scope;var n=[],r=Vg.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+lg(Vg.internal.getWidth(e)-2)+" "+lg(Vg.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(lg(r.x1.x)+" "+lg(r.x1.y)+" m"),n.push(lg(r.x2.x)+" "+lg(r.x2.y)+" l"),n.push(lg(r.x4.x)+" "+lg(r.x4.y)+" m"),n.push(lg(r.x3.x)+" "+lg(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=dg(e);t.scope=e.scope;var n=Vg.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+lg(Vg.internal.getWidth(e))+" "+lg(Vg.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+lg(Vg.internal.getWidth(e)-2)+" "+lg(Vg.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(lg(n.x1.x)+" "+lg(n.x1.y)+" m"),r.push(lg(n.x2.x)+" "+lg(n.x2.y)+" l"),r.push(lg(n.x4.x)+" "+lg(n.x4.y)+" m"),r.push(lg(n.x3.x)+" "+lg(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=dg(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+lg(Vg.internal.getWidth(e))+" "+lg(Vg.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Vg.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Vg.internal.getWidth(e),n=Vg.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Vg.internal.getWidth=function(e){var t=0;return"object"===(0,Eh.A)(e)&&(t=ug(e.Rect[2])),t},Vg.internal.getHeight=function(e){var t=0;return"object"===(0,Eh.A)(e)&&(t=ug(e.Rect[3])),t};var Kg=sg.addField=function(e){if(kg(this,e),!(e instanceof Ig))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sg.AcroFormChoiceField=Tg,sg.AcroFormListBox=jg,sg.AcroFormComboBox=Lg,sg.AcroFormEditBox=Ug,sg.AcroFormButton=Pg,sg.AcroFormPushButton=Qg,sg.AcroFormRadioButton=Og,sg.AcroFormCheckBox=Dg,sg.AcroFormTextField=Mg,sg.AcroFormPasswordField=Hg,sg.AcroFormAppearance=Vg,sg.AcroForm={ChoiceField:Tg,ListBox:jg,ComboBox:Lg,EditBox:Ug,Button:Pg,PushButton:Qg,RadioButton:Og,CheckBox:Dg,TextField:Mg,PasswordField:Hg,Appearance:Vg},rg.AcroForm={ChoiceField:Tg,ListBox:jg,ComboBox:Lg,EditBox:Ug,Button:Pg,PushButton:Qg,RadioButton:Og,CheckBox:Dg,TextField:Mg,PasswordField:Hg,Appearance:Vg};rg.AcroForm;function qg(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var s,i,o,a,l,c=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(b(e))for(l in n)for(o=n[l],s=0;s<o.length;s+=1){for(a=!0,i=0;i<o[s].length;i+=1)if(void 0!==o[s][i]&&o[s][i]!==e[i]){a=!1;break}if(!0===a){c=l;break}}else for(l in n)for(o=n[l],s=0;s<o.length;s+=1){for(a=!0,i=0;i<o[s].length;i+=1)if(void 0!==o[s][i]&&o[s][i]!==e.charCodeAt(i)){a=!1;break}if(!0===a){c=l;break}}return c===t&&r!==t&&(c=r),c},s=function e(t){for(var n=this.internal.write,r=this.internal.putStream,s=(0,this.internal.getFilters)();-1!==s.indexOf("FlateEncode");)s.splice(s.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===p.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===p.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var o="",a=0,l=t.transparency.length;a<l;a++)o+=t.transparency[a]+" "+t.transparency[a]+" ";i.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var A="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:A,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===p.INDEXED){var d=this.internal.newObject();r({data:B(new Uint8Array(t.palette)),objectId:d}),n("endobj")}},i=function(){var e=this.internal.collections.addImage_images;for(var t in e)s.call(this,e[t])},o=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var e=this.internal.collections.addImage_images;return a.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},A=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===(0,Eh.A)(e)&&1===e.nodeType},d=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Ff(unescape(r).split("base64,").pop());var s=e.loadFile(r,!0);if(void 0!==s)return s}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var i;switch(n){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return Ff(t.toDataURL(i,1).split("base64,").pop())}},h=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},f=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,s,i){var o=f.call(this,n,r,s),a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,A=l.call(this);if(n=o[0],r=o[1],A[s.index]=s,i){i*=Math.PI/180;var u=Math.cos(i),d=Math.sin(i),h=function(e){return e.toFixed(4)},g=[h(u),h(d),h(-1*d),h(u),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,a(e),c(t+r),"cm"].join(" ")),this.internal.write(g.join(" ")),this.internal.write([a(n),"0","0",a(r),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(r),a(e),c(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+s.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(b(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null},x=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return x()&&e instanceof ArrayBuffer};var b=e.__addimage__.isArrayBufferView=function(e){return x()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},C=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},B=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=b(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,r,s,i,o,l,c,A;if("number"==typeof arguments[1]?(n=t,r=arguments[1],s=arguments[2],i=arguments[3],o=arguments[4],l=arguments[5],c=arguments[6],A=arguments[7]):(n=arguments[1],r=arguments[2],s=arguments[3],i=arguments[4],o=arguments[5],l=arguments[6],c=arguments[7],A=arguments[8]),"object"===(0,Eh.A)(e=arguments[0])&&!u(e)&&"imageData"in e){var d=e;e=d.imageData,n=d.format||n||t,r=d.x||r||0,s=d.y||s||0,i=d.w||d.width||i,o=d.h||d.height||o,l=d.alias||l,c=d.compression||c,A=d.rotation||d.angle||A}var h=this.internal.getFilters();if(void 0===c&&-1!==h.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(s))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var f=k.call(this,e,n,l,c);return g.call(this,r,s,i,o,f,A),this};var k=function(n,s,i,o){var a,l,f;if("string"==typeof n&&r(n)===t){n=unescape(n);var g=E(n,!1);(""!==g||void 0!==(g=e.loadFile(n,!0)))&&(n=g)}if(u(n)&&(n=d(n,s)),s=r(n,s),!A(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if((null==(f=i)||0===f.length)&&(i=function(e){return"string"==typeof e||b(e)?y(e):b(e.data)?y(e.data):null}(n)),(a=h.call(this,i))||(x()&&(n instanceof Uint8Array||"RGBA"===s||(l=n,n=C(n))),a=this["process"+s.toUpperCase()](n,c.call(this),i,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:m.NONE}(o),l)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},E=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var s;n=null!==(s=w(e))&&void 0!==s?s:e;try{r=Ff(n)}catch(e){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(n){var s,i,o="";if(u(n)&&(n=d(n)),"string"==typeof n&&r(n)===t&&(""===(o=E(n,!1))&&(o=e.loadFile(n)||""),n=o),i=r(n),!A(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(!x()||n instanceof Uint8Array||(n=C(n)),!(s=this["process"+i.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return s.fileType=i,s}}(rg.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};rg.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,s,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,A=0;A<l.length&&!c;A++)switch((n=l[A]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var d=this.internal.pdfEscape,h=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(f.objId),m=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(p(n.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+a.objId+" 0 R",s+=" /T ("+d(p(m))+") >>",f.content=s;var y=f.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(s+=" /Open true"),s+=" >>",g.content=s,this.internal.write(f.objId,"0 R",g.objId,"0 R");break;case"freetext":r="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var v=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(h(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(h(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var x=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+x+" "+n.options.zoom+"]"}""!=s&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,s){var i=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:o(e),y:a(t),w:o(e+n),h:a(t+r)},options:s,type:"link"})},e.textWithLink=function(e,t,n,r){var s,i,o=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){i=r.maxWidth;var l=this.splitTextToSize(e,i).length;s=Math.ceil(a*l)}else i=o,s=a;return this.text(e,t,n,r),n+=.2*a,"center"===r.align&&(t-=o/2),"right"===r.align&&(t-=o),this.link(t,n-a,i,s,r),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(rg.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},o=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&s.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&i(e)&&t[e.charCodeAt(0)].length>=3};var A=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&i(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,s="",i=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(i++,"number"==typeof(r=r[e.charCodeAt(t)])&&(s+=String.fromCharCode(r),r=n,i=0),t===e.length-1&&(r=n,s+=e.charAt(t-(i-1)),t-=i-1,i=0)):(r=n,s+=e.charAt(t-i),t-=i,i=0);return s};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return o(e)?!1===i(e)?-1:!c(e)||!o(t)&&!o(n)||!o(n)&&a(t)||a(e)&&!o(t)||a(e)&&l(t)||a(e)&&a(t)?0:A(e)&&o(t)&&!a(t)&&o(n)&&c(n)?3:a(e)||!o(n)?1:2:-1},h=function(e){var n=0,r=0,s=0,i="",a="",l="",c=(e=e||"").split("\\s+"),A=[];for(n=0;n<c.length;n+=1){for(A.push(""),r=0;r<c[n].length;r+=1)i=c[n][r],a=c[n][r-1],l=c[n][r+1],o(i)?(s=d(i,a,l),A[n]+=-1!==s?String.fromCharCode(t[i.charCodeAt(0)][s]):i):A[n]+=i;A[n]=u(A[n])}return A.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([h(t[r][0]),t[r][1],t[r][2]]):n.push([h(t[r])]);e=n}else e=h(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(rg.API),rg.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")});return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(rg.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var s=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),s=t.font||this.getFont(),i=t.scaleFactor||this.internal.scaleFactor,o=0,a=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var A=t.maxWidth;A>0?"string"==typeof e?e=this.splitTextToSize(e,A):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,A))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)o<(l=this.getStringUnitWidth(e[u],{font:s})*n)&&(o=l);return 0!==o&&(a=e.length),{w:o/=i,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var s=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,a=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==s.lineNumber&&(s.lineNumber===e.lineNumber?(e.x=(s.x||0)+(s.width||0),e.y=s.y||0):s.y+s.height+e.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=a.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=s.y+s.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,A){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,d,h,f,g=[],p=[],m=[],y={},v={},w=[],x=[],b=(A=A||{}).autoSize||!1,C=!1!==A.printHeaders,B=A.css&&void 0!==A.css["font-size"]?16*A.css["font-size"]:A.fontSize||12,k=A.margins||Object.assign({width:this.getPageWidth()},t),E="number"==typeof A.padding?A.padding:3,N=A.headerBackgroundColor||"#c8c8c8",S=A.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=S,this.setFontSize(B),null==c)p=g=Object.keys(l[0]),m=g.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,Eh.A)(c[0]))for(g=c.map(function(e){return e.name}),p=c.map(function(e){return e.prompt||e.name||""}),m=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)v[c[u].name]=c[u].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(p=g=c,m=g.map(function(){return"left"}));if(b||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<g.length;u+=1){for(y[f=g[u]]=l.map(function(e){return e[f]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(p[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=y[f],this.setFont(void 0,"normal"),h=0;h<d.length;h+=1)w.push(this.getTextDimensions(d[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[f]=Math.max.apply(null,w)+E+E,w=[]}if(C){var _={};for(u=0;u<g.length;u+=1)_[g[u]]={},_[g[u]].text=p[u],_[g[u]].align=m[u];var F=a.call(this,_,v);x=g.map(function(t){return new i(e,n,v[t],F,_[t].text,void 0,_[t].align)}),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var I=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:u,data:l[u]},this);var T=a.call(this,l[u],v);for(h=0;h<g.length;h+=1){var j=l[u][g[h]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:u,col:h,data:j},this),o.call(this,new i(e,n,v[g[h]],T,j,u+2,I[g[h]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var a=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,s=this.internal.scaleFactor;return Object.keys(e).map(function(r){var s=e[r];return this.splitTextToSize(s.hasOwnProperty("text")?s.text:s,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/s+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var s;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){s=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(s.y=this.internal.__cell__.margins.top||0,l.push(s)),s.lineNumber=e;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,s),this.setTextColor(A)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(rg.API);var zg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Wg=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Gg=qg(Wg),Jg=[100,200,300,400,500,600,700,800,900],Xg=qg(Jg);function Yg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return zg[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),s=function(e){return"number"==typeof Gg[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function Zg(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var $g={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ep={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tp(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function np(e){return e.trimLeft()}function rp(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function sp(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var ip,op,ap,lp,cp=["times"];!function(e){var t,n,r,s,i,o,a,l,c,A=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new A}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var s=0;Object.defineProperty(this,"posX",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=e}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(e){a=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof A&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=d(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=d(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null;function f(e,t){if(null===h){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());h=function(e){for(var t={},n=0;n<e.length;++n){var r=Yg(e[n]),s=r.family,i=r.stretch,o=r.style,a=r.weight;t[s]=t[s]||{},t[s][i]=t[s][i]||{},t[s][i][o]=t[s][i][o]||{},t[s][i][o][a]=r}return t}(n.concat(t))}return h}var g=null;Object.defineProperty(this,"fontFaces",{get:function(){return g},set:function(e){h=null,g=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],s=t[4];t[5];var i=t[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(s)[2];s="px"===o?Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(s)*this.pdf.getFontSize()):Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(s);var a=function(e){var t,n,r=[],s=e.trim();if(""===s)return cp;if(s in ep)return[ep[s]];for(;""!==s;){switch(n=null,t=(s=np(s)).charAt(0)){case'"':case"'":n=rp(s.substring(1),t);break;default:n=sp(s)}if(null===n)return cp;if(r.push(n[0]),""!==(s=np(n[1]))&&","!==s.charAt(0))return cp;s=s.replace(/^,/,"")}return r}(i);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},$g,n.genericFontFamilies||{}),i=null,o=null,a=0;a<t.length;++a)if(s[(i=Yg(t[a])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+tp(i)+"' and default family '"+r+"'.");if(o=function(e,t){if(t[e])return t[e];var n=Gg[e],r=n<=Gg.normal?-1:1,s=Zg(t,Wg,n,r);if(!s)throw new Error("Could not find a matching font-stretch value for "+e);return s}(i.stretch,o),o=function(e,t){if(t[e])return t[e];for(var n=zg[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(i.style,o),!(o=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Xg[e],r=Zg(t,Jg,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+tp(i)+"'.");return o}(f(this.pdf,this.fontFaces),a.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var A="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<a.length;d++){if(void 0!==this.pdf.internal.getFont(a[d],c,{noFallback:!0,disableWarning:!0})){A=a[d];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(a[d],"bold",{noFallback:!0,disableWarning:!0}))A=a[d],c="bold";else if(void 0!==this.pdf.internal.getFont(a[d],"normal",{noFallback:!0,disableWarning:!0})){A=a[d],c="normal";break}}if(""===A)for(var h=0;h<a.length;h++)if(u[a[h]]){A=u[a[h]];break}A=""===A?"Times":A,this.pdf.setFont(A,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Ef.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},u.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,Eh.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Ef.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw Ef.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var s=this.ctx.transform.applyToPoint(new o(n,r)),i=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:i.x,y1:i.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},u.prototype.bezierCurveTo=function(e,t,n,r,s,i){if(isNaN(s)||isNaN(i)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ef.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new o(s,i)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:a.x,y:a.y}),this.ctx.lastPoint=new o(a.x,a.y)},u.prototype.arc=function(e,t,n,r,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s))throw Ef.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new o(e,t));e=a.x,t=a.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(s-r)>=2*Math.PI&&(r=0,s=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:s,counterclockwise:i})},u.prototype.arcTo=function(e,t,n,r,s){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ef.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ef.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var s={};"butt"!==this.lineCap&&(s.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(s.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),s.hasOwnProperty("lineCap")&&(this.lineCap=s.lineCap),s.hasOwnProperty("lineJoin")&&(this.lineJoin=s.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ef.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ef.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(e){var t,n,r,s;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,s=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==i)t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),s=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),s=parseFloat(i[4]);else{if(s=1,"string"==typeof e&&"#"!==e.charAt(0)){var o=new jf(e);e=o.ok?o.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:s,style:e}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Ef.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!h.call(this)){var s=L(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;S.call(this,{text:e,x:t,y:n,scale:i,angle:s,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Ef.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r;var s=L(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;S.call(this,{text:e,x:t,y:n,scale:i,renderingMode:"stroke",angle:s,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw Ef.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),s=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:s*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Ef.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw Ef.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Ef.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,s,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(i))throw Ef.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new l(e,t,n,r,s,i);this.ctx.transform=this.ctx.transform.multiply(o)},u.prototype.setTransform=function(e,t,n,r,s,i){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,s=isNaN(s)?0:s,i=isNaN(i)?0:i,this.ctx.transform=new l(e,t,n,r,s,i)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,s,i,o,c,A){var u=this.pdf.getImageProperties(e),d=1,h=1,f=1,m=1;void 0!==r&&void 0!==c&&(f=c/r,m=A/s,d=u.width/r*c/r,h=u.height/s*A/s),void 0===i&&(i=t,o=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,A=s),void 0===r&&void 0===c&&(c=u.width,A=u.height);for(var w,b=this.ctx.transform.decompose(),C=L(b.rotate.shx),B=new l,k=(B=(B=(B=B.multiply(b.translate)).multiply(b.skew)).multiply(b.scale)).applyToRectangle(new a(i-t*f,o-n*m,r*d,s*h)),E=p.call(this,k),N=[],S=0;S<E.length;S+=1)-1===N.indexOf(E[S])&&N.push(E[S]);if(v(N),this.autoPaging)for(var _=N[0],F=N[N.length-1],I=_;I<F+1;I++){this.pdf.setPage(I);var T=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],j=1===I?this.posY+this.margin[0]:this.margin[0],U=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Q=1===I?0:U+(I-2)*P;if(0!==this.ctx.clip_path.length){var O=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(w,this.posX+this.margin[3],-Q+j+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=O}var R=JSON.parse(JSON.stringify(k));R=y([R],this.posX+this.margin[3],-Q+j+this.ctx.prevPageLastElemOffset)[0];var D=(I>_||I<F)&&g.call(this);D&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],T,P,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",R.x,R.y,R.w,R.h,null,null,C),D&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",k.x,k.y,k.w,k.h,null,null,C)};var p=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var s=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+s)/n)+1);break;case"arc":r.push(Math.floor((e.y+s-e.radius)/n)+1),r.push(Math.floor((e.y+s+e.radius)/n)+1);break;case"qct":var i=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((i.y+s)/n)+1),r.push(Math.floor((i.y+i.h+s)/n)+1);break;case"bct":var o=P(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((o.y+s)/n)+1),r.push(Math.floor((o.y+o.h+s)/n)+1);break;case"rect":r.push(Math.floor((e.y+s)/n)+1),r.push(Math.floor((e.y+e.h+s)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)m.call(this);return r},m=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,s=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=s,this.lineJoin=i},y=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},v=function(e){return e.sort(function(e,t){return e-t})},w=function(e,t){for(var n,r,s=this.fillStyle,i=this.strokeStyle,o=this.lineCap,a=this.lineWidth,l=Math.abs(a*this.ctx.transform.scaleX),c=this.lineJoin,A=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),d=[],h=0;h<u.length;h++)if(void 0!==u[h].x)for(var f=p.call(this,u[h]),w=0;w<f.length;w+=1)-1===d.indexOf(f[w])&&d.push(f[w]);for(var b=0;b<d.length;b++)for(;this.pdf.internal.getNumberOfPages()<d[b];)m.call(this);if(v(d),this.autoPaging)for(var C=d[0],B=d[d.length-1],k=C;k<B+1;k++){this.pdf.setPage(k),this.fillStyle=s,this.strokeStyle=i,this.lineCap=o,this.lineWidth=l,this.lineJoin=c;var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],N=1===k?this.posY+this.margin[0]:this.margin[0],S=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===k?0:S+(k-2)*_;if(0!==this.ctx.clip_path.length){var I=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-F+N+this.ctx.prevPageLastElemOffset),x.call(this,e,!0),this.path=I}if(r=JSON.parse(JSON.stringify(A)),this.path=y(r,this.posX+this.margin[3],-F+N+this.ctx.prevPageLastElemOffset),!1===t||0===k){var T=(k>C||k<B)&&g.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,_,null).clip().discardPath()),x.call(this,e,t),T&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=l,x.call(this,e,t),this.lineWidth=a;this.path=A},x=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!h.call(this))){for(var n,r,s=[],i=this.path,o=0;o<i.length;o++){var a=i[o];switch(a.type){case"begin":s.push({begin:!0});break;case"close":s.push({close:!0});break;case"mt":s.push({start:a,deltas:[],abs:[]});break;case"lt":var l=s.length;if(i[o-1]&&!isNaN(i[o-1].x)&&(n=[a.x-i[o-1].x,a.y-i[o-1].y],l>0))for(;l>=0;l--)if(!0!==s[l-1].close&&!0!==s[l-1].begin){s[l-1].deltas.push(n),s[l-1].abs.push(a);break}break;case"bct":n=[a.x1-i[o-1].x,a.y1-i[o-1].y,a.x2-i[o-1].x,a.y2-i[o-1].y,a.x-i[o-1].x,a.y-i[o-1].y],s[s.length-1].deltas.push(n);break;case"qct":var c=i[o-1].x+2/3*(a.x1-i[o-1].x),A=i[o-1].y+2/3*(a.y1-i[o-1].y),u=a.x+2/3*(a.x1-a.x),d=a.y+2/3*(a.y1-a.y),g=a.x,p=a.y;n=[c-i[o-1].x,A-i[o-1].y,u-i[o-1].x,d-i[o-1].y,g-i[o-1].x,p-i[o-1].y],s[s.length-1].deltas.push(n);break;case"arc":s.push({deltas:[],abs:[],arc:!0}),Array.isArray(s[s.length-1].abs)&&s[s.length-1].abs.push(a)}}r=t?null:"stroke"===e?"stroke":"fill";for(var m=!1,y=0;y<s.length;y++)if(s[y].arc)for(var v=s[y].abs,w=0;w<v.length;w++){var x=v[w];"arc"===x.type?B.call(this,x.x,x.y,x.radius,x.startAngle,x.endAngle,x.counterclockwise,void 0,t,!m):_.call(this,x.x,x.y),m=!0}else if(!0===s[y].close)this.pdf.internal.out("h"),m=!1;else if(!0!==s[y].begin){var b=s[y].start.x,C=s[y].start.y;F.call(this,s[y].deltas,b,C),m=!0}r&&k.call(this,r),t&&E.call(this)}},b=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},C=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(e,t,n,r,s,i,o,a,l){for(var c=T.call(this,n,r,s,i),A=0;A<c.length;A++){var u=c[A];0===A&&(l?N.call(this,u.x1+e,u.y1+t):_.call(this,u.x1+e,u.y1+t)),I.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}a?E.call(this):k.call(this,o)},k=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},E=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},S=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=b.call(this,e.y),s=C.call(this,r)-n.h,i=this.ctx.transform.applyToPoint(new o(e.x,r)),c=this.ctx.transform.decompose(),A=new l;A=(A=(A=A.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var u,d,h,f=this.ctx.transform.applyToRectangle(new a(e.x,r,n.w,n.h)),m=A.applyToRectangle(new a(e.x,s,n.w,n.h)),w=p.call(this,m),B=[],k=0;k<w.length;k+=1)-1===B.indexOf(w[k])&&B.push(w[k]);if(v(B),this.autoPaging)for(var E=B[0],N=B[B.length-1],S=E;S<N+1;S++){this.pdf.setPage(S);var _=1===S?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[2],T=I-this.margin[0],j=this.pdf.internal.pageSize.width-this.margin[1],L=j-this.margin[3],U=1===S?0:F+(S-2)*T;if(0!==this.ctx.clip_path.length){var P=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(u,this.posX+this.margin[3],-1*U+_),x.call(this,"fill",!0),this.path=P}var Q=y([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-U+_+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale);var O="text"!==this.autoPaging;if(O||Q.y+Q.h<=I){if(O||Q.y>=_&&Q.x<=j){var R=O?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||j-Q.x)[0],D=y([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-U+_+this.ctx.prevPageLastElemOffset)[0],M=O&&(S>E||S<N)&&g.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,T,null).clip().discardPath()),this.pdf.text(R,D.x,D.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),M&&this.pdf.restoreGraphicsState()}}else Q.y<I&&(this.ctx.prevPageLastElemOffset+=I-Q.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=h)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),h=this.lineWidth,this.lineWidth=h*e.scale),this.pdf.text(e.text,i.x+this.posX,i.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=h)},_=function(e,t,s,i){s=s||0,i=i||0,this.pdf.internal.out(n(e+s)+" "+r(t+i)+" l")},F=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},I=function(e,n,r,o,a,l,c,A){this.pdf.internal.out([t(s(r+e)),t(i(o+n)),t(s(a+e)),t(i(l+n)),t(s(c+e)),t(i(A+n)),"c"].join(" "))},T=function(e,t,n,r){for(var s=2*Math.PI,i=Math.PI/2;t>n;)t-=s;var o=Math.abs(n-t);o<s&&r&&(o=s-o);for(var a=[],l=r?-1:1,c=t;o>1e-5;){var A=c+l*Math.min(o,i);a.push(j.call(this,e,c,A)),o-=Math.abs(A-c),c=A}return a},j=function(e,t,n){var r=(n-t)/2,s=e*Math.cos(r),i=e*Math.sin(r),o=s,a=-i,l=o*o+a*a,c=l+o*s+a*i,A=4/3*(Math.sqrt(2*l*c)-c)/(o*i-a*s),u=o-A*a,d=a+A*o,h=u,f=-d,g=r+t,p=Math.cos(g),m=Math.sin(g);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*p-d*m,y2:u*m+d*p,x3:h*p-f*m,y3:h*m+f*p,x4:e*Math.cos(n),y4:e*Math.sin(n)}},L=function(e){return 180*e/Math.PI},U=function(e,t,n,r,s,i){var o=e+.5*(n-e),l=t+.5*(r-t),c=s+.5*(n-s),A=i+.5*(r-i),u=Math.min(e,s,o,c),d=Math.max(e,s,o,c),h=Math.min(t,i,l,A),f=Math.max(t,i,l,A);return new a(u,h,d-u,f-h)},P=function(e,t,n,r,s,i,o,l){var c,A,u,d,h,f,g,p,m,y,v,w,x,b,C=n-e,B=r-t,k=s-n,E=i-r,N=o-s,S=l-i;for(A=0;A<41;A++)m=(g=(u=e+(c=A/40)*C)+c*((h=n+c*k)-u))+c*(h+c*(s+c*N-h)-g),y=(p=(d=t+c*B)+c*((f=r+c*E)-d))+c*(f+c*(i+c*S-f)-p),0==A?(v=m,w=y,x=m,b=y):(v=Math.min(v,m),w=Math.min(w,y),x=Math.max(x,m),b=Math.max(b,y));return new a(Math.round(v),Math.round(w),Math.round(x-v),Math.round(b-w))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(rg.API),function(e){var t=function(e){var t,n,r,s,i,o,a,l,c,A;for(/[^\x00-\xFF]/.test(e),n=[],r=0,s=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;s>r;r+=4)0!==(i=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(o=(i=((i=((i=((i=(i-(A=i%85))/85)-(c=i%85))/85)-(l=i%85))/85)-(a=i%85))/85)%85,n.push(o+33,a+33,l+33,c+33,A+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,s,i,o=String,a="length",l=255,c="charCodeAt",A="slice",u="replace";for(e[A](-2),e=e[A](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],s=0,i=(e+=t="uuuuu"[A](e[a]%5||5))[a];i>s;s+=5)n=52200625*(e[c](s)-33)+614125*(e[c](s+1)-33)+7225*(e[c](s+2)-33)+85*(e[c](s+3)-33)+(e[c](s+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[a]),o.fromCharCode.apply(o,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},s=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=xf(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var o=0,a=e||"",l=[];for("string"==typeof(i=i||[])&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=s(a),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:a,reverseChain:l.reverse().join(" ")}}}(rg.API),(lp=rg.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,s=0,i=function(e){var t=e.length,n=[],r=String.fromCharCode;for(s=0;s<t;s+=1)n.push(r(255&e.charCodeAt(s)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(i(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return i(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},lp.loadImageFile=lp.loadFile,function(e){function t(){return(Bf.html2canvas?Promise.resolve(Bf.html2canvas):Promise.resolve().then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(Bf.DOMPurify?Promise.resolve(Bf.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var s=function(e){var t=(0,Eh.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(s(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),s=t.firstChild;s;s=s.nextSibling)!0!==n&&1===s.nodeType&&"SCRIPT"===s.nodeName||r.appendChild(e(s,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,s=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete s.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var o=n[i],a=o.src.find(function(e){return"truetype"===e.format});a&&t.addFont(a.url,o.ref.name,o.ref.style)}return s.windowHeight=s.windowHeight||0,s.windowHeight=0==s.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):s.windowHeight,t.context2d.save(!0),e(this.prop.container,s)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==s(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},o.prototype.setMargin=function(e){return this.then(function(){switch(s(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||rg.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),s=n.call(r,e,t);return o.convert(s,this.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,rg.getPageSize=function(e,t,n){if("object"===(0,Eh.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var s,i=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+t}var a,l=0,c=0;if(o.hasOwnProperty(i))l=o[i][1]/s,c=o[i][0]/s;else try{l=n[1],c=n[0]}catch(lp){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(a=c,c=l,l=a);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(a=c,c=l,l=a)}return{width:c,height:l,unit:t,k:s,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Yg):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(rg.API),rg.API.addJS=function(e){return ap=e,this.internal.events.subscribe("postPutResources",function(){ip=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ip+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),op=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ap+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==ip&&void 0!==op&&this.internal.out("/Names <</JavaScript "+ip+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var i=r[s],o=n.exec(i);if(null!=o){var a=o[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(s=0;s<l;s++){var A=e.internal.newObject();c.push(A);var u=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<c.length;s++)e.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var s=t.children[r];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var i=this.count=this.count_r({count:0},s);if(i>0&&this.line("/Count "+i),s.options&&s.options.pageNumber){var o=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<t.children.length;a++)this.renderItems(t.children[a])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(rg.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,s,i,o){var a,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),s=e.length,i={width:0,height:0,numcomponents:1},o=4;o<s;o+=2){if(o+=r,-1!==t.indexOf(e.charCodeAt(o+1))){n=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),i={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:n,numcomponents:e.charCodeAt(o+9)};break}r=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return i}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:e,width:a.width,height:a.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(rg.API);var Ap,up,dp,hp,fp,gp=function(){var e,t,n;function r(e){var t,n,r,s,i,o,a,l,c,A,u,d,h,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),s=this.readUInt16()||100,o.delay=1e3*i/s,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=o?o.data:void 0)||this.imgData,d=0;0<=t?d<t:d>t;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((A=r-this.transparency.indexed.length)>0)for(h=0;0<=A?h<A:h>A;0<=A?++h:--h)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":a=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,a)),this.text[l]=String.fromCharCode.apply(String,u.slice(a+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,s=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function i(i,o,a,l){var c,A,u,d,h,f,g,p,m,y,v,w,x,b,C,B,k,E,N,S,_,F=Math.ceil((s.width-i)/a),I=Math.ceil((s.height-o)/l),T=s.width==F&&s.height==I;for(b=t*F,w=T?n:new Uint8Array(b*I),f=e.length,x=0,A=0;x<I&&r<f;){switch(e[r++]){case 0:for(d=k=0;k<b;d=k+=1)w[A++]=e[r++];break;case 1:for(d=E=0;E<b;d=E+=1)c=e[r++],h=d<t?0:w[A-t],w[A++]=(c+h)%256;break;case 2:for(d=N=0;N<b;d=N+=1)c=e[r++],u=(d-d%t)/t,C=x&&w[(x-1)*b+u*t+d%t],w[A++]=(C+c)%256;break;case 3:for(d=S=0;S<b;d=S+=1)c=e[r++],u=(d-d%t)/t,h=d<t?0:w[A-t],C=x&&w[(x-1)*b+u*t+d%t],w[A++]=(c+Math.floor((h+C)/2))%256;break;case 4:for(d=_=0;_<b;d=_+=1)c=e[r++],u=(d-d%t)/t,h=d<t?0:w[A-t],0===x?C=B=0:(C=w[(x-1)*b+u*t+d%t],B=u&&w[(x-1)*b+(u-1)*t+d%t]),g=h+C-B,p=Math.abs(g-h),y=Math.abs(g-C),v=Math.abs(g-B),m=p<=y&&p<=v?h:y<=v?C:B,w[A++]=(c+m)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!T){var j=((o+x*l)*s.width+i)*t,L=x*b;for(d=0;d<F;d+=1){for(var U=0;U<t;U+=1)n[j++]=w[L++];j+=(a-1)*t}}x++}}return e=bf(e),1==s.interlaceMethod?(i(0,0,8,8),i(4,0,8,8),i(0,4,4,8),i(2,0,4,4),i(0,2,2,4),i(1,0,2,2),i(0,1,1,2)):i(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,s,i,o,a,l;for(n=this.palette,i=this.transparency.indexed||[],s=new Uint8Array((i.length||0)+n.length),r=0,e=0,t=o=0,a=n.length;o<a;t=o+=3)s[r++]=n[t],s[r++]=n[t+1],s[r++]=n[t+2],s[r++]=null!=(l=i[e++])?l:255;return s},r.prototype.copyToImageData=function(e,t){var n,r,s,i,o,a,l,c,A,u,d;if(r=this.colors,A=null,n=this.hasAlphaChannel,this.palette.length&&(A=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(s=e.data||e).length,o=A||t,i=a=0,1===r)for(;i<c;)l=A?4*t[i/4]:a,u=o[l++],s[i++]=u,s[i++]=u,s[i++]=u,s[i++]=n?o[l++]:255,a=l;else for(;i<c;)l=A?4*t[i/4]:a,s[i++]=o[l++],s[i++]=o[l++],s[i++]=o[l++],s[i++]=n?o[l++]:255,a=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var s=function(){if("[object Window]"===Object.prototype.toString.call(Bf)){try{t=Bf.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return s(),e=function(e){var r;if(!0===s())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,s,i,o,a,l,c;if(this.animation){for(c=[],r=o=0,a=(l=this.animation.frames).length;o<a;r=++o)n=l[r],s=t.createImageData(n.width,n.height),i=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(s,i),n.imageData=s,c.push(n.image=e(s));return c}},r.prototype.renderFrame=function(e,t){var n,r,s;return n=(r=this.animation.frames)[t],s=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=s?s.disposeOp:void 0)?e.clearRect(s.xOffset,s.yOffset,s.width,s.height):2===(null!=s?s.disposeOp:void 0)&&e.putImageData(s.imageData,s.xOffset,s.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,s,i,o,a=this;return n=0,o=this.animation,s=o.numFrames,r=o.frames,i=o.numPlays,(t=function(){var o,l;if(o=n++%s,l=r[o],a.renderFrame(e,o),s>1&&n/s<i)return a.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function pp(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var a=null,l=null;i&&(a=t,l=o,t+=3*o);var c=!0,A=[],u=0,d=null,h=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(0===N)break;t+=N}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var g=e[t++];u=e[t++]|e[t++]<<8,d=e[t++],0==(1&g)&&(d=null),h=g>>2&7,t++;break;case 254:for(;;){if(!((N=e[t++])>=0))throw Error("Invalid block size");if(0===N)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++],x=w>>6&1,b=1<<1+(7&w),C=a,B=l,k=!1;w>>7&&(k=!0,C=t,B=b,t+=3*b);var E=t;for(t++;;){var N;if(!((N=e[t++])>=0))throw Error("Invalid block size");if(0===N)break;t+=N}A.push({x:p,y:m,width:y,height:v,has_local_palette:k,palette_offset:C,palette_size:B,data_offset:E,data_length:t-E,transparent_index:d,interlaced:!!x,delay:u,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=A.length)throw new Error("Frame index out of range.");return A[e]},this.decodeAndBlitFrameBGRA=function(t,r){var s=this.frameInfo(t),i=s.width*s.height,o=new Uint8Array(i);mp(e,s.data_offset,o,i);var a=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,A=n-c,u=c,d=4*(s.y*n+s.x),h=4*((s.y+s.height)*n+s.x),f=d,g=4*A;!0===s.interlaced&&(g+=4*n*7);for(var p=8,m=0,y=o.length;m<y;++m){var v=o[m];if(0===u&&(u=c,(f+=g)>=h&&(g=4*A+4*n*(p-1),f=d+(c+A)*(p<<1),p>>=1)),v===l)f+=4;else{var w=e[a+3*v],x=e[a+3*v+1],b=e[a+3*v+2];r[f++]=b,r[f++]=x,r[f++]=w,r[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var s=this.frameInfo(t),i=s.width*s.height,o=new Uint8Array(i);mp(e,s.data_offset,o,i);var a=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,A=n-c,u=c,d=4*(s.y*n+s.x),h=4*((s.y+s.height)*n+s.x),f=d,g=4*A;!0===s.interlaced&&(g+=4*n*7);for(var p=8,m=0,y=o.length;m<y;++m){var v=o[m];if(0===u&&(u=c,(f+=g)>=h&&(g=4*A+4*n*(p-1),f=d+(c+A)*(p<<1),p>>=1)),v===l)f+=4;else{var w=e[a+3*v],x=e[a+3*v+1],b=e[a+3*v+2];r[f++]=w,r[f++]=x,r[f++]=b,r[f++]=255}--u}}}function mp(e,t,n,r){for(var s=e[t++],i=1<<s,o=i+1,a=o+1,l=s+1,c=(1<<l)-1,A=0,u=0,d=0,h=e[t++],f=new Int32Array(4096),g=null;;){for(;A<16&&0!==h;)u|=e[t++]<<A,A+=8,1===h?h=e[t++]:--h;if(A<l)break;var p=u&c;if(u>>=l,A-=l,p!==i){if(p===o)break;for(var m=p<a?p:g,y=0,v=m;v>i;)v=f[v]>>8,++y;var w=v;if(d+y+(m!==p?1:0)>r)return void Ef.log("Warning, gif stream longer than expected.");n[d++]=w;var x=d+=y;for(m!==p&&(n[d++]=w),v=m;y--;)v=f[v],n[--x]=255&v,v>>=8;null!==g&&a<4096&&(f[a++]=g<<8|w,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=p}else a=o+1,c=(1<<(l=s+1))-1,g=null}return d!==r&&Ef.log("Warning, gif stream shorter than expected."),n}function yp(e){var t,n,r,s,i,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),A=new Array(64),u=new Array(65535),d=new Array(65535),h=new Array(64),f=new Array(64),g=[],p=0,m=7,y=new Array(64),v=new Array(64),w=new Array(64),x=new Array(256),b=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(e,t){for(var n=0,r=0,s=new Array,i=1;i<=16;i++){for(var o=1;o<=e[i];o++)s[t[r]]=[],s[t[r]][0]=n,s[t[r]][1]=i,r++,n++;n*=2}return s}function j(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(p|=1<<m),n--,--m<0&&(255==p?(L(255),L(0)):L(p),m=7,p=0)}function L(e){g.push(e)}function U(e){L(e>>8&255),L(255&e)}function P(e,t,n,r,s){for(var i,o=s[0],a=s[240],l=function(e,t){var n,r,s,i,o,a,l,c,A,u,d=0;for(A=0;A<8;++A){n=e[d],r=e[d+1],s=e[d+2],i=e[d+3],o=e[d+4],a=e[d+5],l=e[d+6];var f=n+(c=e[d+7]),g=n-c,p=r+l,m=r-l,y=s+a,v=s-a,w=i+o,x=i-o,b=f+w,C=f-w,B=p+y,k=p-y;e[d]=b+B,e[d+4]=b-B;var E=.707106781*(k+C);e[d+2]=C+E,e[d+6]=C-E;var N=.382683433*((b=x+v)-(k=m+g)),S=.5411961*b+N,_=1.306562965*k+N,F=.707106781*(B=v+m),I=g+F,T=g-F;e[d+5]=T+S,e[d+3]=T-S,e[d+1]=I+_,e[d+7]=I-_,d+=8}for(d=0,A=0;A<8;++A){n=e[d],r=e[d+8],s=e[d+16],i=e[d+24],o=e[d+32],a=e[d+40],l=e[d+48];var j=n+(c=e[d+56]),L=n-c,U=r+l,P=r-l,Q=s+a,O=s-a,R=i+o,D=i-o,M=j+R,H=j-R,V=U+Q,K=U-Q;e[d]=M+V,e[d+32]=M-V;var q=.707106781*(K+H);e[d+16]=H+q,e[d+48]=H-q;var z=.382683433*((M=D+O)-(K=P+L)),W=.5411961*M+z,G=1.306562965*K+z,J=.707106781*(V=O+P),X=L+J,Y=L-J;e[d+40]=Y+W,e[d+24]=Y-W,e[d+8]=X+G,e[d+56]=X-G,d++}for(A=0;A<64;++A)u=e[A]*t[A],h[A]=u>0?u+.5|0:u-.5|0;return h}(e,t),c=0;c<64;++c)f[C[c]]=l[c];var A=f[0]-n;n=f[0],0==A?j(r[0]):(j(r[d[i=32767+A]]),j(u[i]));for(var g=63;g>0&&0==f[g];)g--;if(0==g)return j(o),n;for(var p,m=1;m<=g;){for(var y=m;0==f[m]&&m<=g;)++m;var v=m-y;if(v>=16){p=v>>4;for(var w=1;w<=p;++w)j(a);v&=15}i=32767+f[m],j(s[(v<<4)+d[i]]),j(u[i]),m++}return 63!=g&&j(o),n}function Q(e){e=Math.min(Math.max(e,1),100),i!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),a[C[n]]=r}for(var s=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var u=o((s[i]*e+50)/100);u=Math.min(Math.max(u,1),255),l[C[i]]=u}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,f=0;f<8;f++)for(var g=0;g<8;g++)c[h]=1/(a[C[h]]*d[f]*d[g]*8),A[h]=1/(l[C[h]]*d[f]*d[g]*8),h++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e)}this.encode=function(e,i){i&&Q(i),g=new Array,p=0,m=7,U(65496),U(65504),U(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),U(1),U(1),L(0),L(0),function(){U(65499),U(132),L(0);for(var e=0;e<64;e++)L(a[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),function(e,t){U(65472),U(17),L(8),U(t),U(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){U(65476),U(418),L(0);for(var e=0;e<16;e++)L(B[e+1]);for(var t=0;t<=11;t++)L(k[t]);L(16);for(var n=0;n<16;n++)L(E[n+1]);for(var r=0;r<=161;r++)L(N[r]);L(1);for(var s=0;s<16;s++)L(S[s+1]);for(var i=0;i<=11;i++)L(_[i]);L(17);for(var o=0;o<16;o++)L(F[o+1]);for(var a=0;a<=161;a++)L(I[a])}(),U(65498),U(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var o=0,u=0,d=0;p=0,m=7,this.encode.displayName="_encode_";for(var h,f,x,C,T,O,R,D,M,H=e.data,V=e.width,K=e.height,q=4*V,z=0;z<K;){for(h=0;h<q;){for(T=q*z+h,R=-1,D=0,M=0;M<64;M++)O=T+(D=M>>3)*q+(R=4*(7&M)),z+D>=K&&(O-=q*(z+1+D-K)),h+R>=q&&(O-=h+R-q+4),f=H[O++],x=H[O++],C=H[O++],y[M]=(b[f]+b[x+256|0]+b[C+512|0]>>16)-128,v[M]=(b[f+768|0]+b[x+1024|0]+b[C+1280|0]>>16)-128,w[M]=(b[f+1280|0]+b[x+1536|0]+b[C+1792|0]>>16)-128;o=P(y,c,o,t,r),u=P(v,A,u,n,s),d=P(w,A,d,n,s),h+=32}z+=8}if(m>=0){var W=[];W[1]=m+1,W[0]=(1<<m+1)-1,j(W)}return U(65497),new Uint8Array(g)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)x[t]=e(t)}(),t=T(B,k),n=T(S,_),r=T(E,N),s=T(F,I),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var s=-(t-1);s<=-e;s++)d[32767+s]=n,u[32767+s]=[],u[32767+s][1]=n,u[32767+s][0]=t-1+s;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)b[e]=19595*e,b[e+256|0]=38470*e,b[e+512|0]=7471*e+32768,b[e+768|0]=-11059*e,b[e+1024|0]=-21709*e,b[e+1280|0]=32768*e+8421375,b[e+1536|0]=-27439*e,b[e+1792|0]=-5329*e}(),Q(e)}function vp(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wp(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,s){for(var i=0;i<s;i++)e[t+i]=n[r+i]}function s(e,t,n,r){for(var s=0;s<r;s++)e[t+s]=n}function i(e){return new Int32Array(e)}function o(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function a(e,t){var n=[];return function e(n,r,s){for(var i=s[r],o=0;o<i&&(n.push(s.length>r+1?[]:new t),!(s.length<r+1));o++)e(n[o],r+1,s)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,s,i){t(!(s%r));do{e[n+(s-=r)]=i}while(0<s)}function A(e,n,r,s,o){if(t(2328>=o),512>=o)var a=i(512);else if(null==(a=i(o)))return 0;return function(e,n,r,s,o,a){var A,d,h=n,f=1<<r,g=i(16),p=i(16);for(t(0!=o),t(null!=s),t(null!=e),t(0<r),d=0;d<o;++d){if(15<s[d])return 0;++g[s[d]]}if(g[0]==o)return 0;for(p[1]=0,A=1;15>A;++A){if(g[A]>1<<A)return 0;p[A+1]=p[A]+g[A]}for(d=0;d<o;++d)A=s[d],0<s[d]&&(a[p[A]++]=d);if(1==p[15])return(s=new u).g=0,s.value=a[0],c(e,h,1,f,s),f;var m,y=-1,v=f-1,w=0,x=1,b=1,C=1<<r;for(d=0,A=1,o=2;A<=r;++A,o<<=1){if(x+=b<<=1,0>(b-=g[A]))return 0;for(;0<g[A];--g[A])(s=new u).g=A,s.value=a[d++],c(e,h+w,o,C,s),w=l(w,A)}for(A=r+1,o=2;15>=A;++A,o<<=1){if(x+=b<<=1,0>(b-=g[A]))return 0;for(;0<g[A];--g[A]){if(s=new u,(w&v)!=y){for(h+=C,m=1<<(y=A)-r;15>y&&!(0>=(m-=g[y]));)++y,m<<=1;f+=C=1<<(m=y-r),e[n+(y=w&v)].g=m+r,e[n+y].value=h-n-y}s.g=A-r,s.value=a[d++],c(e,h+(w>>r),o,C,s),w=l(w,A)}}return x!=2*p[15]-1?0:f}(e,n,r,s,o,a)}function u(){this.value=this.g=0}function d(){this.value=this.g=0}function h(){this.G=o(5,u),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Rn,d)}function f(e,n,r,s){t(null!=e),t(null!=n),t(2147483648>s),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+s,e.Zc=4<=s?r+s-4+1:r,E(e)}function g(e,t){for(var n=0;0<t--;)n|=S(e,128)<<t;return n}function p(e,t){var n=g(e,t);return N(e)?-n:n}function m(e,n,r,s){var i,o=0;for(t(null!=e),t(null!=n),t(4294967288>s),e.Sb=s,e.Ra=0,e.u=0,e.h=0,4<s&&(s=4),i=0;i<s;++i)o+=n[r+i]<<8*i;e.Ra=o,e.bb=s,e.oa=n,e.pa=r}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Hn-8>>>0,++e.bb,e.u-=8;C(e)&&(e.h=1,e.u=0)}function v(e,n){if(t(0<=n),!e.h&&n<=Mn){var r=b(e)&Dn[n];return e.u+=n,y(e),r}return e.h=1,e.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function x(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function b(e){return e.Ra>>>(e.u&Hn-1)>>>0}function C(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Hn}function B(e,t){e.u=t,e.h=C(e)}function k(e){e.u>=Vn&&(t(e.u>=Vn),y(e))}function E(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function N(e){return g(e,1)}function S(e,t){var n=e.Ca;0>e.b&&E(e);var r=e.b,s=n*t>>>8,i=(e.I>>>r>s)+0;for(i?(n-=s,e.I-=s+1<<r>>>0):n=s+1,r=n,s=0;256<=r;)s+=8,r>>=8;return r=7^s+Kn[r],e.b-=r,e.Ca=(n<<r)-1,i}function _(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function F(e,t){return e[t+0]|e[t+1]<<8}function I(e,t){return F(e,t)|e[t+2]<<16}function T(e,t){return F(e,t)|F(e,t+2)<<16}function j(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=i(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function L(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function U(){this.X=[],this.Xa=this.Mb=0}function P(e,n,r,s){t(null!=r),t(null!=s);var i=r[0],o=s[0];return 0==i&&(i=(e*o+n/2)/n),0==o&&(o=(n*i+e/2)/e),0>=i||0>=o?0:(r[0]=i,s[0]=o,1)}function Q(e,t){return e+(1<<t)-1>>>t}function O(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function R(t,n){e[n]=function(n,r,s,i,o,a,l){var c;for(c=0;c<o;++c){var A=e[t](a[l+c-1],s,i+c);a[l+c]=O(n[r+c],A)}}}function D(){this.ud=this.hd=this.jd=0}function M(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function V(e,t){return H(e+(e-t+.5>>1))}function K(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function q(e,t,n,r,s,i,o){for(r=i[o-1],n=0;n<s;++n)i[o+n]=r=O(e[t+n],r)}function z(e,t,n,r,s){var i;for(i=0;i<n;++i){var o=e[t+i],a=o>>8&255,l=16711935&(l=(l=16711935&o)+((a<<16)+a));r[s+i]=(4278255360&o)+l>>>0}}function W(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function G(e,t,n,r,s,i){var o;for(o=0;o<r;++o){var a=t[n+o],l=a>>>8,c=a,A=255&(A=(A=a>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(A<<24>>24)>>>5)),s[i+o]=(4278255360&a)+(A<<16)+c}}function J(t,n,r,s,i){e[n]=function(e,t,n,r,o,a,l,c,A){for(r=l;r<c;++r)for(l=0;l<A;++l)o[a++]=i(n[s(e[t++])])},e[t]=function(t,n,o,a,l,c,A){var u=8>>t.b,d=t.Ea,h=t.K[0],f=t.w;if(8>u)for(t=(1<<t.b)-1,f=(1<<u)-1;n<o;++n){var g,p=0;for(g=0;g<d;++g)g&t||(p=s(a[l++])),c[A++]=i(h[p&f]),p>>=u}else e["VP8LMapColor"+r](a,l,h,f,c,A,n,o,d)}}function X(e,t,n,r,s){for(n=t+n;t<n;){var i=e[t++];r[s++]=i>>16&255,r[s++]=i>>8&255,r[s++]=255&i}}function Y(e,t,n,r,s){for(n=t+n;t<n;){var i=e[t++];r[s++]=i>>16&255,r[s++]=i>>8&255,r[s++]=255&i,r[s++]=i>>24&255}}function Z(e,t,n,r,s){for(n=t+n;t<n;){var i=(o=e[t++])>>16&240|o>>12&15,o=240&o|o>>28&15;r[s++]=i,r[s++]=o}}function $(e,t,n,r,s){for(n=t+n;t<n;){var i=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[s++]=i,r[s++]=o}}function ee(e,t,n,r,s){for(n=t+n;t<n;){var i=e[t++];r[s++]=255&i,r[s++]=i>>8&255,r[s++]=i>>16&255}}function te(e,t,n,s,i,o){if(0==o)for(n=t+n;t<n;)_(s,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),i+=32;else r(s,i,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Vr||e==Kr||e==qr||e==zr}function se(){this.eb=[],this.size=this.A=this.fb=0}function ie(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new se,this.f.kb=new ie,this.sd=null}function ae(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function Ae(e,t){var n=e.T,s=t.ba.f.RGBA,i=s.eb,o=s.fb+e.ka*s.A,a=ms[t.ba.S],l=e.y,c=e.O,A=e.f,u=e.N,d=e.ea,h=e.W,f=t.cc,g=t.dc,p=t.Mc,m=t.Nc,y=e.ka,v=e.ka+e.T,w=e.U,x=w+1>>1;for(0==y?a(l,c,null,null,A,u,d,h,A,u,d,h,i,o,null,null,w):(a(t.ec,t.fc,l,c,f,g,p,m,A,u,d,h,i,o-s.A,i,o,w),++n);y+2<v;y+=2)f=A,g=u,p=d,m=h,u+=e.Rc,h+=e.Rc,o+=2*s.A,a(l,(c+=2*e.fa)-e.fa,l,c,f,g,p,m,A,u,d,h,i,o-s.A,i,o,w);return c+=e.fa,e.j+v<e.o?(r(t.ec,t.fc,l,c,w),r(t.cc,t.dc,A,u,x),r(t.Mc,t.Nc,d,h,x),n--):1&v||a(l,c,null,null,A,u,d,h,A,u,d,h,i,o+s.A,null,null,w),n}function ue(e,n,r){var s=e.F,i=[e.J];if(null!=s){var o=e.U,a=n.ba.S,l=a==Dr||a==qr;n=n.ba.f.RGBA;var c=[0],A=e.ka;c[0]=e.T,e.Kb&&(0==A?--c[0]:(--A,i[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-A));var u=n.eb;A=n.fb+A*n.A,e=kr(s,i[0],e.width,o,c,u,A+(l?0:3),n.A),t(r==c),e&&re(a)&&Cr(u,A,l,o,c,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,s=n==Qr||n==Rr||n==Dr||n==Mr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Pn(t.Oa,e,s?11:12))return 0;if(s&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=i(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=Ae,vn()}}else alert("todo:EmitYUV");s&&(t.Jb=ue,r&&mn())}if(r&&!Is){for(e=0;256>e;++e)Ts[e]=89858*(e-128)+Es>>ks,Us[e]=-22014*(e-128)+Es,Ls[e]=-45773*(e-128),js[e]=113618*(e-128)+Es>>ks;for(e=Ns;e<Ss;++e)t=76283*(e-16)+Es>>ks,Ps[e-Ns]=qe(t,255),Qs[e-Ns]=qe(t+8>>4,15);Is=1}return 1}function he(e){var n=e.ma,r=e.U,s=e.T;return t(!(1&e.ka)),0>=r||0>=s?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function ge(e,t,n,r){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,n[0]=v(e,14)+1,r[0]=v(e,1),0!=v(e,3)?0:!e.h)}function pe(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+v(t,n)+1}function me(e,t){return 120<t?t-120:1<=(n=((n=Zr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var r=b(n),s=e[t+=255&r].g-8;return 0<s&&(B(n,n.u+8),r=b(n),t+=e[t].value,t+=r&(1<<s)-1),B(n,n.u+e[t].g),e[t].value}function ve(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function we(e,n,r){var s=e.xc;return t((n=0==s?0:e.vc[e.md*(r>>s)+(n>>s)])<e.Wb),e.Ya[n]}function xe(e,n,s,i){var o=e.ab,a=e.c*n,l=e.C;n=l+n;var c=s,A=i;for(i=e.Ta,s=e.Ua;0<o--;){var u=e.gc[o],d=l,h=n,f=c,g=A,p=(A=i,c=s,u.Ea);switch(t(d<h),t(h<=u.nc),u.hc){case 2:Wn(f,g,(h-d)*p,A,c);break;case 0:var m=d,y=h,v=A,w=c,x=(E=u).Ea;0==m&&(qn(f,g,null,null,1,v,w),q(f,g+1,0,0,x-1,v,w+1),g+=x,w+=x,++m);for(var b=1<<E.b,C=b-1,B=Q(x,E.b),k=E.K,E=E.w+(m>>E.b)*B;m<y;){var N=k,S=E,_=1;for(zn(f,g,v,w-x,1,v,w);_<x;){var F=(_&~C)+b;F>x&&(F=x),(0,Zn[N[S++]>>8&15])(f,g+ +_,v,w+_-x,F-_,v,w+_),_=F}g+=x,w+=x,++m&C||(E+=B)}h!=u.nc&&r(A,c-p,A,c+(h-d-1)*p,p);break;case 1:for(p=f,y=g,x=(f=u.Ea)-(w=f&~(v=(g=1<<u.b)-1)),m=Q(f,u.b),b=u.K,u=u.w+(d>>u.b)*m;d<h;){for(C=b,B=u,k=new D,E=y+w,N=y+f;y<E;)W(C[B++],k),$n(k,p,y,g,A,c),y+=g,c+=g;y<N&&(W(C[B++],k),$n(k,p,y,x,A,c),y+=x,c+=x),++d&v||(u+=m)}break;case 3:if(f==A&&g==c&&0<u.b){for(y=A,f=p=c+(h-d)*p-(w=(h-d)*Q(u.Ea,u.b)),g=A,v=c,m=[],w=(x=w)-1;0<=w;--w)m[w]=g[v+w];for(w=x-1;0<=w;--w)y[f+w]=m[w];Gn(u,d,h,A,p,A,c)}else Gn(u,d,h,f,g,A,c)}c=i,A=s}A!=s&&r(i,s,c,A,a)}function be(e,n){var r=e.V,s=e.Ba+e.c*e.C,i=n-e.C;if(t(n<=e.l.o),t(16>=i),0<i){var o=e.l,a=e.Ta,l=e.Ua,c=o.width;if(xe(e,i,r,s),i=l=[l],t((r=e.C)<(s=n)),t(o.v<o.va),s>o.o&&(s=o.o),r<o.j){var A=o.j-r;r=o.j,i[0]+=A*c}if(r>=s?r=0:(i[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=s-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,d=(s=r.S,i=o.U,o=o.T,A=u.eb,u.A),h=o;for(u=u.fb+e.Ma*u.A;0<h--;){var f=a,g=l,p=i,m=A,y=u;switch(s){case Pr:er(f,g,p,m,y);break;case Qr:tr(f,g,p,m,y);break;case Vr:tr(f,g,p,m,y),Cr(m,y,0,p,1,0);break;case Or:sr(f,g,p,m,y);break;case Rr:te(f,g,p,m,y,1);break;case Kr:te(f,g,p,m,y,1),Cr(m,y,0,p,1,0);break;case Dr:te(f,g,p,m,y,0);break;case qr:te(f,g,p,m,y,0),Cr(m,y,1,p,1,0);break;case Mr:nr(f,g,p,m,y);break;case zr:nr(f,g,p,m,y),Br(m,y,p,1,0);break;case Hr:rr(f,g,p,m,y);break;default:t(0)}l+=c,u+=d}e.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Ce(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Be(e,n,r,s,i,o){if(0!=e.Z){var a=e.qd,l=e.rd;for(t(null!=ps[e.Z]);n<r;++n)ps[e.Z](a,l,s,i,s,i,o),a=s,l=i,i+=o;e.qd=a,e.rd=l}}function ke(e,n){var r=e.l.ma,s=0==r.Z||1==r.Z?e.l.j:e.C;if(s=e.C<s?s:e.C,t(n<=e.l.o),n>s){var i=e.l.width,o=r.ca,a=r.tb+i*s,l=e.V,c=e.Ba+e.c*s,A=e.gc;t(1==e.ab),t(3==A[0].hc),Xn(A[0],s,n,l,c,o,a),Be(r,s,n,o,a,i)}e.C=e.Ma=n}function Ee(e,n,r,s,i,o,a){var l=e.$/s,c=e.$%s,A=e.m,u=e.s,d=r+e.$,h=d;i=r+s*i;var f=r+s*o,g=280+u.ua,p=e.Pb?l:16777216,m=0<u.ua?u.Wa:null,y=u.wc,v=d<f?we(u,c,l):null;t(e.C<o),t(f<=i);var w=!1;e:for(;;){for(;w||d<f;){var x=0;if(l>=p){var E=d-r;t((p=e).Pb),p.wd=p.m,p.xd=E,0<p.s.ua&&L(p.s.Wa,p.s.vb),p=l+es}if(c&y||(v=we(u,c,l)),t(null!=v),v.Qb&&(n[d]=v.qb,w=!0),!w)if(k(A),v.jc){x=A,E=n;var N=d,S=v.pd[b(x)&Rn-1];t(v.jc),256>S.g?(B(x,x.u+S.g),E[N]=S.value,x=0):(B(x,x.u+S.g-256),t(256<=S.value),x=S.value),0==x&&(w=!0)}else x=ye(v.G[0],v.H[0],A);if(A.h)break;if(w||256>x){if(!w)if(v.nd)n[d]=(v.qb|x<<8)>>>0;else{if(k(A),w=ye(v.G[1],v.H[1],A),k(A),E=ye(v.G[2],v.H[2],A),N=ye(v.G[3],v.H[3],A),A.h)break;n[d]=(N<<24|w<<16|x<<8|E)>>>0}if(w=!1,++d,++c>=s&&(c=0,++l,null!=a&&l<=o&&!(l%16)&&a(e,l),null!=m))for(;h<d;)x=n[h++],m.X[(506832829*x&4294967295)>>>m.Mb]=x}else if(280>x){if(x=pe(x-256,A),E=ye(v.G[4],v.H[4],A),k(A),E=me(s,E=pe(E,A)),A.h)break;if(d-r<E||i-d<x)break e;for(N=0;N<x;++N)n[d+N]=n[d+N-E];for(d+=x,c+=x;c>=s;)c-=s,++l,null!=a&&l<=o&&!(l%16)&&a(e,l);if(t(d<=i),c&y&&(v=we(u,c,l)),null!=m)for(;h<d;)x=n[h++],m.X[(506832829*x&4294967295)>>>m.Mb]=x}else{if(!(x<g))break e;for(w=x-280,t(null!=m);h<d;)x=n[h++],m.X[(506832829*x&4294967295)>>>m.Mb]=x;x=d,t(!(w>>>(E=m).Xa)),n[x]=E.X[w],w=!0}w||t(A.h==C(A))}if(e.Pb&&A.h&&d<i)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(A.h)break e;null!=a&&a(e,l>o?o:l),e.a=0,e.$=d-r}return 1}return e.a=3,0}function Ne(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Se(){var t=new an;return null==t?null:(t.a=0,t.xb=gs,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Wn=z,$n=G,er=X,tr=Y,nr=Z,rr=$,sr=ee,e.VP8LMapColor32b=Jn,e.VP8LMapColor8b=Yn,t)}function _e(e,n,r,a,l){var c=1,d=[e],f=[n],g=a.m,p=a.s,m=null,y=0;e:for(;;){if(r)for(;c&&v(g,1);){var w=d,x=f,C=a,E=1,N=C.m,S=C.gc[C.ab],_=v(N,2);if(C.Oc&1<<_)c=0;else{switch(C.Oc|=1<<_,S.hc=_,S.Ea=w[0],S.nc=x[0],S.K=[null],++C.ab,t(4>=C.ab),_){case 0:case 1:S.b=v(N,3)+2,E=_e(Q(S.Ea,S.b),Q(S.nc,S.b),0,C,S.K),S.K=S.K[0];break;case 3:var F,I=v(N,8)+1,T=16<I?0:4<I?1:2<I?2:3;if(w[0]=Q(S.Ea,T),S.b=T,F=E=_e(I,1,0,C,S.K)){var L,U=I,P=S,R=1<<(8>>P.b),D=i(R);if(null==D)F=0;else{var M=P.K[0],H=P.w;for(D[0]=P.K[0][0],L=1;L<1*U;++L)D[L]=O(M[H+L],D[L-1]);for(;L<4*R;++L)D[L]=0;P.K[0]=null,P.K[0]=D,F=1}}E=F;break;case 2:break;default:t(0)}c=E}}if(d=d[0],f=f[0],c&&v(g,1)&&!(c=1<=(y=v(g,4))&&11>=y)){a.a=3;break e}var V;if(V=c)t:{var K,q,z,W=a,G=d,J=f,X=y,Y=r,Z=W.m,$=W.s,ee=[null],te=1,ne=0,re=$r[X];n:for(;;){if(Y&&v(Z,1)){var se=v(Z,3)+2,ie=Q(G,se),oe=Q(J,se),ae=ie*oe;if(!_e(ie,oe,0,W,ee))break n;for(ee=ee[0],$.xc=se,K=0;K<ae;++K){var le=ee[K]>>8&65535;ee[K]=le,le>=te&&(te=le+1)}}if(Z.h)break n;for(q=0;5>q;++q){var ce=Jr[q];!q&&0<X&&(ce+=1<<X),ne<ce&&(ne=ce)}var Ae=o(te*re,u),ue=te,de=o(ue,h);if(null==de)var he=null;else t(65536>=ue),he=de;var fe=i(ne);if(null==he||null==fe||null==Ae){W.a=1;break n}var ge=Ae;for(K=z=0;K<te;++K){var pe=he[K],me=pe.G,ye=pe.H,we=0,xe=1,be=0;for(q=0;5>q;++q){ce=Jr[q],me[q]=ge,ye[q]=z,!q&&0<X&&(ce+=1<<X);r:{var Ce,Be=ce,ke=W,Se=fe,Fe=ge,Ie=z,Te=0,je=ke.m,Le=v(je,1);if(s(Se,0,0,Be),Le){var Ue=v(je,1)+1,Pe=v(je,1),Qe=v(je,0==Pe?1:8);Se[Qe]=1,2==Ue&&(Se[Qe=v(je,8)]=1);var Oe=1}else{var Re=i(19),De=v(je,4)+4;if(19<De){ke.a=3;var Me=0;break r}for(Ce=0;Ce<De;++Ce)Re[Yr[Ce]]=v(je,3);var He=void 0,Ve=void 0,Ke=ke,qe=Re,ze=Be,We=Se,Ge=0,Je=Ke.m,Xe=8,Ye=o(128,u);s:for(;A(Ye,0,7,qe,19);){if(v(Je,1)){var Ze=2+2*v(Je,3);if((He=2+v(Je,Ze))>ze)break s}else He=ze;for(Ve=0;Ve<ze&&He--;){k(Je);var $e=Ye[0+(127&b(Je))];B(Je,Je.u+$e.g);var et=$e.value;if(16>et)We[Ve++]=et,0!=et&&(Xe=et);else{var tt=16==et,nt=et-16,rt=Gr[nt],st=v(Je,Wr[nt])+rt;if(Ve+st>ze)break s;for(var it=tt?Xe:0;0<st--;)We[Ve++]=it}}Ge=1;break s}Ge||(Ke.a=3),Oe=Ge}(Oe=Oe&&!je.h)&&(Te=A(Fe,Ie,8,Se,Be)),Oe&&0!=Te?Me=Te:(ke.a=3,Me=0)}if(0==Me)break n;if(xe&&1==Xr[q]&&(xe=0==ge[z].g),we+=ge[z].g,z+=Me,3>=q){var ot,at=fe[0];for(ot=1;ot<ce;++ot)fe[ot]>at&&(at=fe[ot]);be+=at}}if(pe.nd=xe,pe.Qb=0,xe&&(pe.qb=(me[3][ye[3]+0].value<<24|me[1][ye[1]+0].value<<16|me[2][ye[2]+0].value)>>>0,0==we&&256>me[0][ye[0]+0].value&&(pe.Qb=1,pe.qb+=me[0][ye[0]+0].value<<8)),pe.jc=!pe.Qb&&6>be,pe.jc){var lt,ct=pe;for(lt=0;lt<Rn;++lt){var At=lt,ut=ct.pd[At],dt=ct.G[0][ct.H[0]+At];256<=dt.value?(ut.g=dt.g+256,ut.value=dt.value):(ut.g=0,ut.value=0,At>>=ve(dt,8,ut),At>>=ve(ct.G[1][ct.H[1]+At],16,ut),At>>=ve(ct.G[2][ct.H[2]+At],0,ut),ve(ct.G[3][ct.H[3]+At],24,ut))}}}$.vc=ee,$.Wb=te,$.Ya=he,$.yc=Ae,V=1;break t}V=0}if(!(c=V)){a.a=3;break e}if(0<y){if(p.ua=1<<y,!j(p.Wa,y)){a.a=1,c=0;break e}}else p.ua=0;var ht=a,ft=d,gt=f,pt=ht.s,mt=pt.xc;if(ht.c=ft,ht.i=gt,pt.md=Q(ft,mt),pt.wc=0==mt?-1:(1<<mt)-1,r){a.xb=fs;break e}if(null==(m=i(d*f))){a.a=1,c=0;break e}c=(c=Ee(a,m,0,d,f,f,null))&&!g.h;break e}return c?(null!=l?l[0]=m:(t(null==m),t(r)),a.$=0,r||Ne(p)):Ne(p),c}function Fe(e,n){var r=e.c*e.i,s=r+n+16*n;return t(e.c<=n),e.V=i(s),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ie(e,n){var r=e.C,s=n-r,i=e.V,o=e.Ba+e.c*r;for(t(n<=e.l.o);0<s;){var a=16<s?16:s,l=e.l.ma,c=e.l.width,A=c*a,u=l.ca,d=l.tb+c*r,h=e.Ta,f=e.Ua;xe(e,a,i,o),Er(h,f,u,d,A),Be(l,r,r+a,u,d,c),s-=a,i+=a*e.c,r+=a}t(r==n),e.C=e.Ma=n}function Te(){this.ub=this.yd=this.td=this.Rb=0}function je(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ue(){this.Yb=function(){var e=[];return function e(t,n,r){for(var s=r[n],i=0;i<s&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));i++)e(t[i],n+1,r)}(e,0,[3,11]),e}()}function Pe(){this.jb=i(3),this.Wc=a([4,8],Ue),this.Xc=a([4,17],Ue)}function Qe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Oe(){this.ld=this.La=this.dd=this.tc=0}function Re(){this.Na=this.la=0}function De(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Me(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oe),this.Y=0,this.ya=Array(new Me),this.aa=0,this.l=new ze}function Ve(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ke(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new Te,this.Kc=new je,this.ed=new Qe,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,w),this.ia=0,this.pb=o(4,De),this.Pa=new Pe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ve),this.Hd=0,this.rb=Array(new Re),this.sb=0,this.wa=Array(new Oe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Me),this.L=this.aa=0,this.gd=a([4,2],Oe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qe(e,t){return 0>e?0:e>t?t:e}function ze(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function We(){var e=new Ke;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,rs||(rs=Ye)),e}function Ge(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Je(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Xe(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ge(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,i=n.w,o=n.ha;if(4>o)return Ge(e,7,"Truncated header.");var a=r[i+0]|r[i+1]<<8|r[i+2]<<16,l=e.Od;if(l.Rb=!(1&a),l.td=a>>1&7,l.yd=a>>4&1,l.ub=a>>5,3<l.td)return Ge(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ge(e,4,"Frame not displayable.");i+=3,o-=3;var c=e.Kc;if(l.Rb){if(7>o)return Ge(e,7,"cannot parse picture header");if(!Je(r,i,o))return Ge(e,3,"Bad code word");c.c=16383&(r[i+4]<<8|r[i+3]),c.Td=r[i+4]>>6,c.i=16383&(r[i+6]<<8|r[i+5]),c.Ud=r[i+6]>>6,i+=7,o-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,s((a=e.Pa).jb,0,255,a.jb.length),t(null!=(a=e.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,s(a.Zb,0,0,a.Zb.length),s(a.Lb,0,0,a.Lb)}if(l.ub>o)return Ge(e,7,"bad partition length");f(a=e.m,r,i,l.ub),i+=l.ub,o-=l.ub,l.Rb&&(c.Ld=N(a),c.Kd=N(a)),c=e.Qa;var A,u=e.Pa;if(t(null!=a),t(null!=c),c.Cb=N(a),c.Cb){if(c.Bb=N(a),N(a)){for(c.Fb=N(a),A=0;4>A;++A)c.Zb[A]=N(a)?p(a,7):0;for(A=0;4>A;++A)c.Lb[A]=N(a)?p(a,6):0}if(c.Bb)for(A=0;3>A;++A)u.jb[A]=N(a)?g(a,8):255}else c.Bb=0;if(a.Ka)return Ge(e,3,"cannot parse segment header");if((c=e.ed).zd=N(a),c.Tb=g(a,6),c.wb=g(a,3),c.Pc=N(a),c.Pc&&N(a)){for(u=0;4>u;++u)N(a)&&(c.vd[u]=p(a,6));for(u=0;4>u;++u)N(a)&&(c.od[u]=p(a,6))}if(e.L=0==c.Tb?0:c.zd?1:2,a.Ka)return Ge(e,3,"cannot parse filter header");var d=o;if(o=A=i,i=A+d,c=d,e.Xb=(1<<g(e.m,2))-1,d<3*(u=e.Xb))r=7;else{for(A+=3*u,c-=3*u,d=0;d<u;++d){var h=r[o+0]|r[o+1]<<8|r[o+2]<<16;h>c&&(h=c),f(e.Jc[+d],r,A,h),A+=h,c-=h,o+=3}f(e.Jc[+u],r,A,c),r=A<i?0:5}if(0!=r)return Ge(e,r,"cannot parse partitions");for(r=g(A=e.m,7),o=N(A)?p(A,4):0,i=N(A)?p(A,4):0,c=N(A)?p(A,4):0,u=N(A)?p(A,4):0,A=N(A)?p(A,4):0,d=e.Qa,h=0;4>h;++h){if(d.Cb){var m=d.Zb[h];d.Fb||(m+=r)}else{if(0<h){e.pb[h]=e.pb[0];continue}m=r}var y=e.pb[h];y.Sc[0]=ts[qe(m+o,127)],y.Sc[1]=ns[qe(m+0,127)],y.Eb[0]=2*ts[qe(m+i,127)],y.Eb[1]=101581*ns[qe(m+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ts[qe(m+u,117)],y.Qc[1]=ns[qe(m+A,127)],y.lc=m+A}if(!l.Rb)return Ge(e,4,"Not a key frame.");for(N(a),l=e.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(i=0;3>i;++i)for(c=0;11>c;++c)u=S(a,cs[r][o][i][c])?g(a,8):as[r][o][i][c],l.Wc[r][o].Yb[i][c]=u;for(o=0;17>o;++o)l.Xc[r][o]=l.Wc[r][As[o]]}return e.kc=N(a),e.kc&&(e.Bd=g(a,8)),e.cb=1}function Ye(e,t,n,r,s,i,o){var a=t[s].Yb[n];for(n=0;16>s;++s){if(!S(e,a[n+0]))return s;for(;!S(e,a[n+1]);)if(a=t[++s].Yb[0],n=0,16==s)return 16;var l=t[s+1].Yb;if(S(e,a[n+2])){var c=e,A=0;if(S(c,(d=a)[(u=n)+3]))if(S(c,d[u+6])){for(a=0,u=2*(A=S(c,d[u+8]))+(d=S(c,d[u+9+A])),A=0,d=ss[u];d[a];++a)A+=A+S(c,d[a]);A+=3+(8<<u)}else S(c,d[u+7])?(A=7+2*S(c,165),A+=S(c,145)):A=5+S(c,159);else A=S(c,d[u+4])?3+S(c,d[u+5]):2;a=l[2]}else A=1,a=l[1];l=o+is[s],0>(c=e).b&&E(c);var u,d=c.b,h=(u=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=h,c.Ca|=1,c.I-=(u+1&h)<<d,i[l]=((A^h)-h)*r[(0<s)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,s(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,n){if(null==e)return 0;if(null==n)return Ge(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Xe(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var a=Rs[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-a>>4,e.zb=n.j-a>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+a>>4,e.Hb=n.va+15+a>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(a=0;4>a;++a){var c;if(e.Qa.Cb){var A=e.Qa.Lb[a];e.Qa.Fb||(A+=l.Tb)}else A=l.Tb;for(c=0;1>=c;++c){var u=e.gd[a][c],d=A;if(l.Pc&&(d+=l.vd[0],c&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var h=d;0<l.wb&&(h=4<l.wb?h>>2:h>>1)>9-l.wb&&(h=9-l.wb),1>h&&(h=1),u.dd=h,u.tc=2*d+h,u.ld=40<=d?2:15<=d?1:0}else u.tc=0;u.La=c}}}a=0}else Ge(e,6,"Frame setup failed"),a=e.a;if(a=0==a){if(a){e.$c=0,0<e.Aa||(e.Ic=Ms);e:{a=e.Ic,l=4*(h=e.za);var f=32*h,g=h+1,p=0<e.L?h*(0<e.Aa?2:1):0,m=(2==e.Aa?2:1)*h;if((u=l+832+(c=3*(16*a+Rs[e.L])/2*f)+(A=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)a=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=i(u),e.Fc=0,null==e.Ec){a=Ge(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,d=e.Fc,e.Ac=u,e.Bc=d,d+=l,e.Gd=o(f,Ve),e.Hd=0,e.rb=o(g+1,Re),e.sb=1,e.wa=p?o(p,Oe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=h),t(!0),e.oc=u,e.pc=d,d+=832,e.ya=o(m,Me),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=h),e.R=16*h,e.B=8*h,h=(f=Rs[e.L])*e.R,f=f/2*e.B,e.sa=u,e.ta=d+h,e.qa=e.sa,e.ra=e.ta+16*a*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*a*e.B+f,e.$c=0,d+=c,e.mb=A?u:null,e.nb=A?d:null,t(d+A<=e.Fc+e.Vb),Ze(e),s(e.Ac,e.Bc,0,l),a=1}}if(a){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Ir){for(a=-255;255>=a;++a)Nr[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)Sr[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)_r[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Fr[255+a]=0>a?0:255<a?255:a;Ir=1}ir=ct,or=it,lr=ot,cr=at,Ar=lt,ar=st,ur=Gt,dr=Jt,hr=Zt,fr=$t,gr=Xt,pr=Yt,mr=en,yr=tn,vr=Ht,wr=Vt,xr=Kt,br=qt,ds[0]=Bt,ds[1]=ut,ds[2]=bt,ds[3]=Ct,ds[4]=kt,ds[5]=Nt,ds[6]=Et,ds[7]=St,ds[8]=Ft,ds[9]=_t,us[0]=mt,us[1]=ht,us[2]=ft,us[3]=gt,us[4]=yt,us[5]=vt,us[6]=wt,hs[0]=Lt,hs[1]=dt,hs[2]=It,hs[3]=Tt,hs[4]=Pt,hs[5]=Ut,hs[6]=Qt,a=1}else a=0}a&&(a=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var o,a=e.Jc[e.M&e.Xb],l=e.m,c=e;for(o=0;o<c.za;++o){var A=l,u=c,d=u.Ac,h=u.Bc+4*o,f=u.zc,g=u.ya[u.aa+o];if(u.Qa.Bb?g.$b=S(A,u.Pa.jb[0])?2+S(A,u.Pa.jb[2]):S(A,u.Pa.jb[1]):g.$b=0,u.kc&&(g.Ad=S(A,u.Bd)),g.Za=!S(A,145)+0,g.Za){var p=g.Ob,m=0;for(u=0;4>u;++u){var y,v=f[0+u];for(y=0;4>y;++y){v=ls[d[h+y]][v];for(var w=os[S(A,v[0])];0<w;)w=os[2*w+S(A,v[w])];v=-w,d[h+y]=v}r(p,m,d,h,4),m+=4,f[0+u]=v}}else v=S(A,156)?S(A,128)?1:3:S(A,163)?2:0,g.Ob[0]=v,s(d,h,v,4),s(f,0,v,4);g.Dd=S(A,142)?S(A,114)?S(A,183)?1:3:2:0}if(c.m.Ka)return Ge(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=a,A=(l=e).rb[l.sb-1],d=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],h=l.kc?o.Ad:0)A.la=d.la=0,o.Za||(A.Na=d.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var x,b;if(A=d,d=c,h=l.Pa.Xc,f=l.ya[l.aa+l.ja],g=l.pb[f.$b],u=f.ad,p=0,m=l.rb[l.sb-1],v=y=0,s(u,p,0,384),f.Za)var C=0,B=h[3];else{w=i(16);var k=A.Na+m.Na;if(k=rs(d,h[1],k,g.Eb,0,w,0),A.Na=m.Na=(0<k)+0,1<k)ir(w,0,u,p);else{var E=w[0]+3>>3;for(w=0;256>w;w+=16)u[p+w]=E}C=1,B=h[0]}var N=15&A.la,_=15&m.la;for(w=0;4>w;++w){var F=1&_;for(E=b=0;4>E;++E)N=N>>1|(F=(k=rs(d,B,k=F+(1&N),g.Sc,C,u,p))>C)<<7,b=b<<2|(3<k?3:1<k?2:0!=u[p+0]),p+=16;N>>=4,_=_>>1|F<<7,y=(y<<8|b)>>>0}for(B=N,C=_>>4,x=0;4>x;x+=2){for(b=0,N=A.la>>4+x,_=m.la>>4+x,w=0;2>w;++w){for(F=1&_,E=0;2>E;++E)k=F+(1&N),N=N>>1|(F=0<(k=rs(d,h[2],k,g.Qc,0,u,p)))<<3,b=b<<2|(3<k?3:1<k?2:0!=u[p+0]),p+=16;N>>=2,_=_>>1|F<<5}v|=b<<4*x,B|=N<<4<<x,C|=(240&_)<<x}A.la=B,m.la=C,f.Hc=y,f.Gc=v,f.ia=43690&v?0:g.ia,h=!(y|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!h),c.Ka)return Ge(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=n,c=1,o=(a=e).D,A=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(o.M=a.M,o.uc=A,Ln(a,o),c=1,o=(b=a.D).Nb,A=(v=Rs[a.L])*a.R,d=v/2*a.B,w=16*o*a.R,E=8*o*a.B,h=a.sa,f=a.ta-A+w,g=a.qa,u=a.ra-d+E,p=a.Ha,m=a.Ia-d+E,_=0==(N=b.M),y=N>=a.Va-1,2==a.Aa&&Ln(a,b),b.uc)for(F=(k=a).D.M,t(k.D.uc),b=k.yb;b<k.Hb;++b){C=b,B=F;var I=(T=(M=k).D).Nb;x=M.R;var T=T.wa[T.Y+C],j=M.sa,L=M.ta+16*I*x+16*C,U=T.dd,P=T.tc;if(0!=P)if(t(3<=P),1==M.L)0<C&&wr(j,L,x,P+4),T.La&&br(j,L,x,P),0<B&&vr(j,L,x,P+4),T.La&&xr(j,L,x,P);else{var Q=M.B,O=M.qa,R=M.ra+8*I*Q+8*C,D=M.Ha,M=M.Ia+8*I*Q+8*C;I=T.ld,0<C&&(dr(j,L,x,P+4,U,I),fr(O,R,D,M,Q,P+4,U,I)),T.La&&(pr(j,L,x,P,U,I),yr(O,R,D,M,Q,P,U,I)),0<B&&(ur(j,L,x,P+4,U,I),hr(O,R,D,M,Q,P+4,U,I)),T.La&&(gr(j,L,x,P,U,I),mr(O,R,D,M,Q,P,U,I))}}if(a.ia&&alert("todo:DitherRow"),null!=l.put){if(b=16*N,N=16*(N+1),_?(l.y=a.sa,l.O=a.ta+w,l.f=a.qa,l.N=a.ra+E,l.ea=a.Ha,l.W=a.Ia+E):(b-=v,l.y=h,l.O=f,l.f=g,l.N=u,l.ea=p,l.W=m),y||(N-=v),N>l.o&&(N=l.o),l.F=null,l.J=null,null!=a.Fa&&0<a.Fa.length&&b<N&&(l.J=dn(a,l,b,N-b),l.F=a.mb,null==l.F&&0==l.F.length)){c=Ge(a,3,"Could not decode alpha data.");break e}b<l.j&&(v=l.j-b,b=l.j,t(!(1&v)),l.O+=a.R*v,l.N+=a.B*(v>>1),l.W+=a.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),b<N&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=b-l.j,l.U=l.va-l.v,l.T=N-b,c=l.put(l))}o+1!=a.Ic||y||(r(a.sa,a.ta-A,h,f+16*a.R,A),r(a.qa,a.ra-d,g,u+8*a.B,d),r(a.Ha,a.Ia-d,p,m+8*a.B,d))}if(!c)return Ge(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),a&=1}return a?(e.cb=0,a):0}function et(e,t,n,r,s){s=e[t+n+32*r]+(s>>3),e[t+n+32*r]=-256&s?0>s?0:255:s}function tt(e,t,n,r,s,i){et(e,t,0,n,r+s),et(e,t,1,n,r+i),et(e,t,2,n,r-i),et(e,t,3,n,r-s)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var s,o=0,a=i(16);for(s=0;4>s;++s){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],A=(35468*e[t+4]>>16)-nt(e[t+12]),u=nt(e[t+4])+(35468*e[t+12]>>16);a[o+0]=l+u,a[o+1]=c+A,a[o+2]=c-A,a[o+3]=l-u,o+=4,t++}for(s=o=0;4>s;++s)l=(e=a[o+0]+4)+a[o+8],c=e-a[o+8],A=(35468*a[o+4]>>16)-nt(a[o+12]),et(n,r,0,0,l+(u=nt(a[o+4])+(35468*a[o+12]>>16))),et(n,r,1,0,c+A),et(n,r,2,0,c-A),et(n,r,3,0,l-u),o++,r+=32}function st(e,t,n,r){var s=e[t+0]+4,i=35468*e[t+4]>>16,o=nt(e[t+4]),a=35468*e[t+1]>>16;tt(n,r,0,s+o,e=nt(e[t+1]),a),tt(n,r,1,s+i,e,a),tt(n,r,2,s-i,e,a),tt(n,r,3,s-o,e,a)}function it(e,t,n,r,s){rt(e,t,n,r),s&&rt(e,t+16,n,r+4)}function ot(e,t,n,r){or(e,t+0,n,r,1),or(e,t+32,n,r+128,1)}function at(e,t,n,r){var s;for(e=e[t+0]+4,s=0;4>s;++s)for(t=0;4>t;++t)et(n,r,t,s,e)}function lt(e,t,n,r){e[t+0]&&cr(e,t+0,n,r),e[t+16]&&cr(e,t+16,n,r+4),e[t+32]&&cr(e,t+32,n,r+128),e[t+48]&&cr(e,t+48,n,r+128+4)}function ct(e,t,n,r){var s,o=i(16);for(s=0;4>s;++s){var a=e[t+0+s]+e[t+12+s],l=e[t+4+s]+e[t+8+s],c=e[t+4+s]-e[t+8+s],A=e[t+0+s]-e[t+12+s];o[0+s]=a+l,o[8+s]=a-l,o[4+s]=A+c,o[12+s]=A-c}for(s=0;4>s;++s)a=(e=o[0+4*s]+3)+o[3+4*s],l=o[1+4*s]+o[2+4*s],c=o[1+4*s]-o[2+4*s],A=e-o[3+4*s],n[r+0]=a+l>>3,n[r+16]=A+c>>3,n[r+32]=a-l>>3,n[r+48]=A-c>>3,r+=64}function At(e,t,n){var r,s=t-32,i=Lr,o=255-e[s-1];for(r=0;r<n;++r){var a,l=i,c=o+e[t-1];for(a=0;a<n;++a)e[t+a]=l[c+e[s+a]];t+=32}}function ut(e,t){At(e,t,4)}function dt(e,t){At(e,t,8)}function ht(e,t){At(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function gt(e,t){var n;for(n=16;0<n;--n)s(e,t,e[t-1],16),t+=32}function pt(e,t,n){var r;for(r=0;16>r;++r)s(t,n+32*r,e,16)}function mt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];pt(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];pt(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];pt(r>>4,e,t)}function wt(e,t){pt(128,e,t)}function xt(e,t,n){return e+2*t+n+2>>2}function bt(e,t){var n,s=t-32;for(s=new Uint8Array([xt(e[s-1],e[s+0],e[s+1]),xt(e[s+0],e[s+1],e[s+2]),xt(e[s+1],e[s+2],e[s+3]),xt(e[s+2],e[s+3],e[s+4])]),n=0;4>n;++n)r(e,t+32*n,s,0,s.length)}function Ct(e,t){var n=e[t-1],r=e[t-1+32],s=e[t-1+64],i=e[t-1+96];_(e,t+0,16843009*xt(e[t-1-32],n,r)),_(e,t+32,16843009*xt(n,r,s)),_(e,t+64,16843009*xt(r,s,i)),_(e,t+96,16843009*xt(s,i,i))}function Bt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)s(e,t+32*n,r,4)}function kt(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],i=e[t-1-32],o=e[t+0-32],a=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=xt(r,s,e[t-1+96]),e[t+1+96]=e[t+0+64]=xt(n,r,s),e[t+2+96]=e[t+1+64]=e[t+0+32]=xt(i,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=xt(o,i,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=xt(a,o,i),e[t+3+32]=e[t+2+0]=xt(l,a,o),e[t+3+0]=xt(c,l,a)}function Et(e,t){var n=e[t+1-32],r=e[t+2-32],s=e[t+3-32],i=e[t+4-32],o=e[t+5-32],a=e[t+6-32],l=e[t+7-32];e[t+0+0]=xt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=xt(n,r,s),e[t+2+0]=e[t+1+32]=e[t+0+64]=xt(r,s,i),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=xt(s,i,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=xt(i,o,a),e[t+3+64]=e[t+2+96]=xt(o,a,l),e[t+3+96]=xt(a,l,l)}function Nt(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],i=e[t-1-32],o=e[t+0-32],a=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=i+o+1>>1,e[t+1+0]=e[t+2+64]=o+a+1>>1,e[t+2+0]=e[t+3+64]=a+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=xt(s,r,n),e[t+0+64]=xt(r,n,i),e[t+0+32]=e[t+1+96]=xt(n,i,o),e[t+1+32]=e[t+2+96]=xt(i,o,a),e[t+2+32]=e[t+3+96]=xt(o,a,l),e[t+3+32]=xt(a,l,c)}function St(e,t){var n=e[t+0-32],r=e[t+1-32],s=e[t+2-32],i=e[t+3-32],o=e[t+4-32],a=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+s+1>>1,e[t+2+0]=e[t+1+64]=s+i+1>>1,e[t+3+0]=e[t+2+64]=i+o+1>>1,e[t+0+32]=xt(n,r,s),e[t+1+32]=e[t+0+96]=xt(r,s,i),e[t+2+32]=e[t+1+96]=xt(s,i,o),e[t+3+32]=e[t+2+96]=xt(i,o,a),e[t+3+64]=xt(o,a,l),e[t+3+96]=xt(a,l,c)}function _t(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],i=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+s+1>>1,e[t+2+32]=e[t+0+64]=s+i+1>>1,e[t+1+0]=xt(n,r,s),e[t+3+0]=e[t+1+32]=xt(r,s,i),e[t+3+32]=e[t+1+64]=xt(s,i,i),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=i}function Ft(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],i=e[t-1+96],o=e[t-1-32],a=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+o+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=s+r+1>>1,e[t+0+96]=i+s+1>>1,e[t+3+0]=xt(a,l,c),e[t+2+0]=xt(o,a,l),e[t+1+0]=e[t+3+32]=xt(n,o,a),e[t+1+32]=e[t+3+64]=xt(r,n,o),e[t+1+64]=e[t+3+96]=xt(s,r,n),e[t+1+96]=xt(i,s,r)}function It(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Tt(e,t){var n;for(n=0;8>n;++n)s(e,t,e[t-1],8),t+=32}function jt(e,t,n){var r;for(r=0;8>r;++r)s(t,n+32*r,e,8)}function Lt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];jt(r>>4,e,t)}function Ut(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];jt(r>>3,e,t)}function Pt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];jt(r>>3,e,t)}function Qt(e,t){jt(128,e,t)}function Ot(e,t,n){var r=e[t-n],s=e[t+0],i=3*(s-r)+Tr[1020+e[t-2*n]-e[t+n]],o=jr[112+(i+4>>3)];e[t-n]=Lr[255+r+jr[112+(i+3>>3)]],e[t+0]=Lr[255+s-o]}function Rt(e,t,n,r){var s=e[t+0],i=e[t+n];return Ur[255+e[t-2*n]-e[t-n]]>r||Ur[255+i-s]>r}function Dt(e,t,n,r){return 4*Ur[255+e[t-n]-e[t+0]]+Ur[255+e[t-2*n]-e[t+n]]<=r}function Mt(e,t,n,r,s){var i=e[t-3*n],o=e[t-2*n],a=e[t-n],l=e[t+0],c=e[t+n],A=e[t+2*n],u=e[t+3*n];return 4*Ur[255+a-l]+Ur[255+o-c]>r?0:Ur[255+e[t-4*n]-i]<=s&&Ur[255+i-o]<=s&&Ur[255+o-a]<=s&&Ur[255+u-A]<=s&&Ur[255+A-c]<=s&&Ur[255+c-l]<=s}function Ht(e,t,n,r){var s=2*r+1;for(r=0;16>r;++r)Dt(e,t+r,n,s)&&Ot(e,t+r,n)}function Vt(e,t,n,r){var s=2*r+1;for(r=0;16>r;++r)Dt(e,t+r*n,1,s)&&Ot(e,t+r*n,1)}function Kt(e,t,n,r){var s;for(s=3;0<s;--s)Ht(e,t+=4*n,n,r)}function qt(e,t,n,r){var s;for(s=3;0<s;--s)Vt(e,t+=4,n,r)}function zt(e,t,n,r,s,i,o,a){for(i=2*i+1;0<s--;){if(Mt(e,t,n,i,o))if(Rt(e,t,n,a))Ot(e,t,n);else{var l=e,c=t,A=n,u=l[c-2*A],d=l[c-A],h=l[c+0],f=l[c+A],g=l[c+2*A],p=27*(y=Tr[1020+3*(h-d)+Tr[1020+u-f]])+63>>7,m=18*y+63>>7,y=9*y+63>>7;l[c-3*A]=Lr[255+l[c-3*A]+y],l[c-2*A]=Lr[255+u+m],l[c-A]=Lr[255+d+p],l[c+0]=Lr[255+h-p],l[c+A]=Lr[255+f-m],l[c+2*A]=Lr[255+g-y]}t+=r}}function Wt(e,t,n,r,s,i,o,a){for(i=2*i+1;0<s--;){if(Mt(e,t,n,i,o))if(Rt(e,t,n,a))Ot(e,t,n);else{var l=e,c=t,A=n,u=l[c-A],d=l[c+0],h=l[c+A],f=jr[112+(4+(g=3*(d-u))>>3)],g=jr[112+(g+3>>3)],p=f+1>>1;l[c-2*A]=Lr[255+l[c-2*A]+p],l[c-A]=Lr[255+u+g],l[c+0]=Lr[255+d-f],l[c+A]=Lr[255+h-p]}t+=r}}function Gt(e,t,n,r,s,i){zt(e,t,n,1,16,r,s,i)}function Jt(e,t,n,r,s,i){zt(e,t,1,n,16,r,s,i)}function Xt(e,t,n,r,s,i){var o;for(o=3;0<o;--o)Wt(e,t+=4*n,n,1,16,r,s,i)}function Yt(e,t,n,r,s,i){var o;for(o=3;0<o;--o)Wt(e,t+=4,1,n,16,r,s,i)}function Zt(e,t,n,r,s,i,o,a){zt(e,t,s,1,8,i,o,a),zt(n,r,s,1,8,i,o,a)}function $t(e,t,n,r,s,i,o,a){zt(e,t,1,s,8,i,o,a),zt(n,r,1,s,8,i,o,a)}function en(e,t,n,r,s,i,o,a){Wt(e,t+4*s,s,1,8,i,o,a),Wt(n,r+4*s,s,1,8,i,o,a)}function tn(e,t,n,r,s,i,o,a){Wt(e,t+4,1,s,8,i,o,a),Wt(n,r+4,1,s,8,i,o,a)}function nn(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function on(){this.ua=0,this.Wa=new U,this.vb=new U,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new h,this.yc=new u}function an(){this.xb=this.a=0,this.l=new ze,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new x,this.Pb=0,this.wd=new x,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new on,this.ab=0,this.gc=o(4,sn),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ze,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(e,t,n,r,s,i,o){for(e=null==e?0:e[t+0],t=0;t<o;++t)s[i+t]=e+n[r+t]&255,e=s[i+t]}function An(e,t,n,r,s,i,o){var a;if(null==e)cn(null,null,n,r,s,i,o);else for(a=0;a<o;++a)s[i+a]=e[t+a]+n[r+a]&255}function un(e,t,n,r,s,i,o){if(null==e)cn(null,null,n,r,s,i,o);else{var a,l=e[t+0],c=l,A=l;for(a=0;a<o;++a)c=A+(l=e[t+a])-c,A=n[r+a]+(-256&c?0>c?0:255:c)&255,c=l,s[i+a]=A}}function dn(e,n,s,o){var a=n.width,l=n.o;if(t(null!=e&&null!=n),0>s||0>=o||s+o>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ln,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=i(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var A=e.Fa,u=e.P,d=e.qc,h=e.mb,f=e.nb,g=u+1,p=d-1,y=c.l;if(t(null!=A&&null!=h&&null!=n),ps[0]=null,ps[1]=cn,ps[2]=An,ps[3]=un,c.ca=h,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=d)n=0;else if(c.$a=3&A[u+0],c.Z=A[u+0]>>2&3,c.Lc=A[u+0]>>4&3,u=A[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(y.put=he,y.ac=de,y.bc=fe,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)e:{t(1==c.$a),n=Se();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,m(n.m,A,g,p),!_e(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ce(n.s)?(c.ic=1,A=n.c*n.i,n.Ta=null,n.Ua=0,n.V=i(A),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Fe(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=p>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:o=l-s}t(null!=e.ga),t(s+o<=l);e:{if(n=(A=e.ga).c,l=A.l.o,0==A.$a){if(g=e.rc,p=e.Vc,y=e.Fa,u=e.P+1+s*n,d=e.mb,h=e.nb+s*n,t(u<=e.P+e.qc),0!=A.Z)for(t(null!=ps[A.Z]),c=0;c<o;++c)ps[A.Z](g,p,y,u,d,h,n),g=d,p=h,h+=n,u+=n;else for(c=0;c<o;++c)r(d,h,y,u,n),g=d,p=h,h+=n,u+=n;e.rc=g,e.Vc=p}else{if(t(null!=A.mc),n=s+o,t(null!=(c=A.mc)),t(n<=c.i),c.C>=n)n=1;else if(A.ic||mn(),A.ic){A=c.V,g=c.Ba,p=c.c;var v=c.i,w=(y=1,u=c.$/p,d=c.$%p,h=c.m,f=c.s,c.$),x=p*v,b=p*n,B=f.wc,E=w<b?we(f,d,u):null;t(w<=x),t(n<=v),t(Ce(f));t:for(;;){for(;!h.h&&w<b;){if(d&B||(E=we(f,d,u)),t(null!=E),k(h),256>(v=ye(E.G[0],E.H[0],h)))A[g+w]=v,++w,++d>=p&&(d=0,++u<=n&&!(u%16)&&ke(c,u));else{if(!(280>v)){y=0;break t}v=pe(v-256,h);var N,S=ye(E.G[4],E.H[4],h);if(k(h),!(w>=(S=me(p,S=pe(S,h)))&&x-w>=v)){y=0;break t}for(N=0;N<v;++N)A[g+w+N]=A[g+w+N-S];for(w+=v,d+=v;d>=p;)d-=p,++u<=n&&!(u%16)&&ke(c,u);w<b&&d&B&&(E=we(f,d,u))}t(h.h==C(h))}ke(c,u>n?n:u);break t}!y||h.h&&w<x?(y=0,c.a=h.h?5:3):c.$=w,n=y}else n=Ee(c,c.V,c.Ba,c.c,c.i,n,Ie);if(!n){o=0;break e}}s+o>=l&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&(null!=(o=e.ga)&&(o.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+s*a}function hn(e,t,n,r,s,i){for(;0<s--;){var o,a=e,l=t+(n?1:0),c=e,A=t+(n?0:3);for(o=0;o<r;++o){var u=c[A+4*o];255!=u&&(u*=32897,a[l+4*o+0]=a[l+4*o+0]*u>>23,a[l+4*o+1]=a[l+4*o+1]*u>>23,a[l+4*o+2]=a[l+4*o+2]*u>>23)}t+=i}}function fn(e,t,n,r,s){for(;0<r--;){var i;for(i=0;i<n;++i){var o=e[t+2*i+0],a=15&(c=e[t+2*i+1]),l=4369*a,c=(240&c|c>>4)*l>>16;e[t+2*i+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,e[t+2*i+1]=240&c|a}t+=s}}function gn(e,t,n,r,s,i,o,a){var l,c,A=255;for(c=0;c<s;++c){for(l=0;l<r;++l){var u=e[t+l];i[o+4*l]=u,A&=u}t+=n,o+=a}return 255!=A}function pn(e,t,n,r,s){var i;for(i=0;i<s;++i)n[r+i]=e[t+i]>>8}function mn(){Cr=hn,Br=fn,kr=gn,Er=pn}function yn(n,r,s){e[n]=function(e,n,i,o,a,l,c,A,u,d,h,f,g,p,m,y,v){var w,x=v-1>>1,b=a[l+0]|c[A+0]<<16,C=u[d+0]|h[f+0]<<16;t(null!=e);var B=3*b+C+131074>>2;for(r(e[n+0],255&B,B>>16,g,p),null!=i&&(B=3*C+b+131074>>2,r(i[o+0],255&B,B>>16,m,y)),w=1;w<=x;++w){var k=a[l+w]|c[A+w]<<16,E=u[d+w]|h[f+w]<<16,N=b+k+C+E+524296,S=N+2*(k+C)>>3;B=S+b>>1,b=(N=N+2*(b+E)>>3)+k>>1,r(e[n+2*w-1],255&B,B>>16,g,p+(2*w-1)*s),r(e[n+2*w-0],255&b,b>>16,g,p+(2*w-0)*s),null!=i&&(B=N+C>>1,b=S+E>>1,r(i[o+2*w-1],255&B,B>>16,m,y+(2*w-1)*s),r(i[o+2*w+0],255&b,b>>16,m,y+(2*w+0)*s)),b=k,C=E}1&v||(B=3*b+C+131074>>2,r(e[n+v-1],255&B,B>>16,g,p+(v-1)*s),null!=i&&(B=3*C+b+131074>>2,r(i[o+v-1],255&B,B>>16,m,y+(v-1)*s)))}}function vn(){ms[Pr]=ys,ms[Qr]=ws,ms[Or]=vs,ms[Rr]=xs,ms[Dr]=bs,ms[Mr]=Cs,ms[Hr]=Bs,ms[Vr]=ws,ms[Kr]=xs,ms[qr]=bs,ms[zr]=Cs}function wn(e){return e&~Fs?0>e?0:255:e>>_s}function xn(e,t){return wn((19077*e>>8)+(26149*t>>8)-14234)}function bn(e,t,n){return wn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Cn(e,t){return wn((19077*e>>8)+(33050*t>>8)-17685)}function Bn(e,t,n,r,s){r[s+0]=xn(e,n),r[s+1]=bn(e,t,n),r[s+2]=Cn(e,t)}function kn(e,t,n,r,s){r[s+0]=Cn(e,t),r[s+1]=bn(e,t,n),r[s+2]=xn(e,n)}function En(e,t,n,r,s){var i=bn(e,t,n);t=i<<3&224|Cn(e,t)>>3,r[s+0]=248&xn(e,n)|i>>5,r[s+1]=t}function Nn(e,t,n,r,s){var i=240&Cn(e,t)|15;r[s+0]=240&xn(e,n)|bn(e,t,n)>>4,r[s+1]=i}function Sn(e,t,n,r,s){r[s+0]=255,Bn(e,t,n,r,s+1)}function _n(e,t,n,r,s){kn(e,t,n,r,s),r[s+3]=255}function Fn(e,t,n,r,s){Bn(e,t,n,r,s),r[s+3]=255}function qe(e,t){return 0>e?0:e>t?t:e}function In(t,n,r){e[t]=function(e,t,s,i,o,a,l,c,A){for(var u=c+(-2&A)*r;c!=u;)n(e[t+0],s[i+0],o[a+0],l,c),n(e[t+1],s[i+0],o[a+0],l,c+r),t+=2,++i,++a,c+=2*r;1&A&&n(e[t+0],s[i+0],o[a+0],l,c)}}function Tn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function jn(e,t,n,r,s){switch(e>>>30){case 3:or(t,n,r,s,0);break;case 2:ar(t,n,r,s);break;case 1:cr(t,n,r,s)}}function Ln(e,t){var n,i,o=t.M,a=t.Nb,l=e.oc,c=e.pc+40,A=e.oc,u=e.pc+584,d=e.oc,h=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)A[u+32*n-1]=129,d[h+32*n-1]=129;for(0<o?l[c-1-32]=A[u-1-32]=d[h-1-32]=129:(s(l,c-32-1,127,21),s(A,u-32-1,127,9),s(d,h-32-1,127,9)),i=0;i<e.za;++i){var f=t.ya[t.aa+i];if(0<i){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(A,u+32*n-4,A,u+32*n+4,4),r(d,h+32*n-4,d,h+32*n+4,4)}var g=e.Gd,p=e.Hd+i,m=f.ad,y=f.Hc;if(0<o&&(r(l,c-32,g[p].y,0,16),r(A,u-32,g[p].f,0,8),r(d,h-32,g[p].ea,0,8)),f.Za){var v=l,w=c-32+16;for(0<o&&(i>=e.za-1?s(v,w,g[p].y[15],4):r(v,w,g[p+1].y,0,4)),n=0;4>n;n++)v[w+128+n]=v[w+256+n]=v[w+384+n]=v[w+0+n];for(n=0;16>n;++n,y<<=2)v=l,w=c+Os[n],ds[f.Ob[n]](v,w),jn(y,m,16*+n,v,w)}else if(v=Tn(i,o,f.Ob[0]),us[v](l,c),0!=y)for(n=0;16>n;++n,y<<=2)jn(y,m,16*+n,l,c+Os[n]);for(n=f.Gc,v=Tn(i,o,f.Dd),hs[v](A,u),hs[v](d,h),y=m,v=A,w=u,255&(f=n|0)&&(170&f?lr(y,256,v,w):Ar(y,256,v,w)),f=d,y=h,255&(n>>=8)&&(170&n?lr(m,320,f,y):Ar(m,320,f,y)),o<e.Ub-1&&(r(g[p].y,0,l,c+480,16),r(g[p].f,0,A,u+224,8),r(g[p].ea,0,d,h+224,8)),n=8*a*e.B,g=e.sa,p=e.ta+16*i+16*a*e.R,m=e.qa,f=e.ra+8*i+n,y=e.Ha,v=e.Ia+8*i+n,n=0;16>n;++n)r(g,p+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(m,f+n*e.B,A,u+32*n,8),r(y,v+n*e.B,d,h+32*n,8)}}function Un(e,r,s,i,o,a,l,c,A){var u=[0],d=[0],h=0,f=null!=A?A.kd:0,g=null!=A?A:new rn;if(null==e||12>s)return 7;g.data=e,g.w=r,g.ha=s,r=[r],s=[s],g.gb=[g.gb];e:{var p=r,y=s,v=g.gb;if(t(null!=e),t(null!=y),t(null!=v),v[0]=0,12<=y[0]&&!n(e,p[0],"RIFF")){if(n(e,p[0]+8,"WEBP")){v=3;break e}var w=T(e,p[0]+4);if(12>w||4294967286<w){v=3;break e}if(f&&w>y[0]-8){v=7;break e}v[0]=w,p[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(w=0<g.gb[0],s=s[0];;){e:{var b=e;y=r,v=s;var C=u,B=d,k=p=[0];if((S=h=[h])[0]=0,8>v[0])v=7;else{if(!n(b,y[0],"VP8X")){if(10!=T(b,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var E=T(b,y[0]+8),N=1+I(b,y[0]+12);if(2147483648<=N*(b=1+I(b,y[0]+15))){v=3;break e}null!=k&&(k[0]=E),null!=C&&(C[0]=N),null!=B&&(B[0]=b),y[0]+=18,v[0]-=18,S[0]=1}v=0}}if(h=h[0],p=p[0],0!=v)return v;if(y=!!(2&p),!w&&h)return 3;if(null!=a&&(a[0]=!!(16&p)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=u[0],p=d[0],h&&y&&null==A){v=0;break}if(4>s){v=7;break}if(w&&h||!w&&!h&&!n(e,r[0],"ALPH")){s=[s],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];e:{E=e,v=r,w=s;var S=g.gb;C=g.na,B=g.P,k=g.Sa,N=22,t(null!=E),t(null!=w),b=v[0];var _=w[0];for(t(null!=C),t(null!=k),C[0]=null,B[0]=null,k[0]=0;;){if(v[0]=b,w[0]=_,8>_){v=7;break e}var F=T(E,b+4);if(4294967286<F){v=3;break e}var j=8+F+1&-2;if(N+=j,0<S&&N>S){v=3;break e}if(!n(E,b,"VP8 ")||!n(E,b,"VP8L")){v=0;break e}if(_[0]<j){v=7;break e}n(E,b,"ALPH")||(C[0]=E,B[0]=b+8,k[0]=F),b+=j,_-=j}}if(s=s[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=v)break}s=[s],g.Ja=[g.Ja],g.xa=[g.xa];e:if(S=e,v=r,w=s,C=g.gb[0],B=g.Ja,k=g.xa,E=v[0],b=!n(S,E,"VP8 "),N=!n(S,E,"VP8L"),t(null!=S),t(null!=w),t(null!=B),t(null!=k),8>w[0])v=7;else{if(b||N){if(S=T(S,E+4),12<=C&&S>C-12){v=3;break e}if(f&&S>w[0]-8){v=7;break e}B[0]=S,v[0]+=8,w[0]-=8,k[0]=N}else k[0]=5<=w[0]&&47==S[E+0]&&!(S[E+4]>>5),B[0]=w[0];v=0}if(s=s[0],g.Ja=g.Ja[0],g.xa=g.xa[0],r=r[0],0!=v)break;if(4294967286<g.Ja)return 3;if(null==c||y||(c[0]=g.xa?2:1),l=[l],p=[p],g.xa){if(5>s){v=7;break}c=l,f=p,y=a,null==e||5>s?e=0:5<=s&&47==e[r+0]&&!(e[r+4]>>5)?(w=[0],S=[0],C=[0],m(B=new x,e,r,s),ge(B,w,S,C)?(null!=c&&(c[0]=w[0]),null!=f&&(f[0]=S[0]),null!=y&&(y[0]=C[0]),e=1):e=0):e=0}else{if(10>s){v=7;break}c=p,null==e||10>s||!Je(e,r+3,s-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,y=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=g.Ja||!y||!e?e=0:(l&&(l[0]=y),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],p=p[0],h&&(u[0]!=l||d[0]!=p))return 3;null!=A&&(A[0]=g,A.offset=r-A.w,t(4294967286>r-A.w),t(A.offset==A.ha-s));break}return 0==v||7==v&&h&&null==A?(null!=a&&(a[0]|=null!=g.na&&0<g.na.length),null!=i&&(i[0]=l),null!=o&&(o[0]=p),0):v}function Pn(e,t,n){var r=t.width,s=t.height,i=0,o=0,a=r,l=s;if(t.Da=null!=e&&0<e.Da,t.Da&&(a=e.cd,l=e.bd,i=e.v,o=e.j,11>n||(i&=-2,o&=-2),0>i||0>o||0>=a||0>=l||i+a>r||o+l>s))return 0;if(t.v=i,t.j=o,t.va=i+a,t.o=o+l,t.U=a,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!P(a,l,n=[e.ib],i=[e.hb]))return 0;t.ib=n[0],t.hb=i[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*s/4,t.Kb=0),1}function Qn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function On(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var s=n.cd,o=n.bd,a=-2&n.v,l=-2&n.j;if(0>a||0>l||0>=s||0>=o||a+s>e||l+o>t)return 2;e=s,t=o}if(n.da){if(!P(e,t,s=[n.ib],o=[n.hb]))return 2;e=s[0],t=o[0]}}r.width=e,r.height=t;e:{var c=r.width,A=r.height;if(e=r.S,0>=c||0>=A||!(e>=Pr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){a=o=s=t=0;var u=(l=c*Hs[e])*A;if(11>e||(o=(A+1)/2*(t=(c+1)/2),12==e&&(a=(s=c)*A)),null==(A=i(u+2*o+a))){e=1;break e}r.sd=A,11>e?((c=r.f.RGBA).eb=A,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=A,c.O=0,c.fa=l,c.Fd=u,c.f=A,c.N=0+u,c.Ab=t,c.Cd=o,c.ea=A,c.W=0+u+o,c.Db=t,c.Ed=o,12==e&&(c.F=A,c.J=0+u+2*o),c.Tc=a,c.lb=s)}if(t=1,s=r.S,o=r.width,a=r.height,s>=Pr&&13>s)if(11>s)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(a-1)+o<=e.size,t&=l>=o*Hs[s],t&=null!=e.eb;else{e=r.f.kb,l=(o+1)/2,u=(a+1)/2,c=Math.abs(e.fa),A=Math.abs(e.Ab);var d=Math.abs(e.Db),h=Math.abs(e.lb),f=h*(a-1)+o;t&=c*(a-1)+o<=e.Fd,t&=A*(u-1)+l<=e.Cd,t=(t&=d*(u-1)+l<=e.Ed)&c>=o&A>=l&d>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==s&&(t&=h>=o,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Qn(r)),e}var Rn=64,Dn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mn=24,Hn=32,Vn=8,Kn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];R("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return M(M(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return M(e,t[n-1])},e.Predictor7=function(e,t,n){return M(e,t[n+0])},e.Predictor8=function(e,t,n){return M(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return M(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return M(M(e,t[n-1]),M(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=K(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+K(r>>16&255,e>>16&255,t>>16&255)+K(r>>8&255,e>>8&255,t>>8&255)+K(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(H((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|H((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|H((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(V((e=M(e,t[n+0]))>>24&255,r>>24&255)<<24|V(e>>16&255,r>>16&255)<<16|V(e>>8&255,r>>8&255)<<8|V(255&e,255&r))>>>0};var qn=e.PredictorAdd0;e.PredictorAdd1=q,R("Predictor2","PredictorAdd2"),R("Predictor3","PredictorAdd3"),R("Predictor4","PredictorAdd4"),R("Predictor5","PredictorAdd5"),R("Predictor6","PredictorAdd6"),R("Predictor7","PredictorAdd7"),R("Predictor8","PredictorAdd8"),R("Predictor9","PredictorAdd9"),R("Predictor10","PredictorAdd10"),R("Predictor11","PredictorAdd11"),R("Predictor12","PredictorAdd12"),R("Predictor13","PredictorAdd13");var zn=e.PredictorAdd2;J("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),J("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Wn,Gn=e.ColorIndexInverseTransform,Jn=e.MapARGB,Xn=e.VP8LColorIndexInverseTransformAlpha,Yn=e.MapAlpha,Zn=e.VP8LPredictorsAdd=[];Zn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,er,tr,nr,rr,sr,ir,or,ar,lr,cr,Ar,ur,dr,hr,fr,gr,pr,mr,yr,vr,wr,xr,br,Cr,Br,kr,Er,Nr=i(511),Sr=i(2041),_r=i(225),Fr=i(767),Ir=0,Tr=Sr,jr=_r,Lr=Fr,Ur=Nr,Pr=0,Qr=1,Or=2,Rr=3,Dr=4,Mr=5,Hr=6,Vr=7,Kr=8,qr=9,zr=10,Wr=[2,3,7],Gr=[3,3,11],Jr=[280,256,256,256,40],Xr=[0,1,1,1,0],Yr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$r=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],es=8,ts=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ns=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rs=null,ss=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],is=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],os=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],as=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ls=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],As=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],us=[],ds=[],hs=[],fs=1,gs=2,ps=[],ms=[];yn("UpsampleRgbLinePair",Bn,3),yn("UpsampleBgrLinePair",kn,3),yn("UpsampleRgbaLinePair",Fn,4),yn("UpsampleBgraLinePair",_n,4),yn("UpsampleArgbLinePair",Sn,4),yn("UpsampleRgba4444LinePair",Nn,2),yn("UpsampleRgb565LinePair",En,2);var ys=e.UpsampleRgbLinePair,vs=e.UpsampleBgrLinePair,ws=e.UpsampleRgbaLinePair,xs=e.UpsampleBgraLinePair,bs=e.UpsampleArgbLinePair,Cs=e.UpsampleRgba4444LinePair,Bs=e.UpsampleRgb565LinePair,ks=16,Es=1<<ks-1,Ns=-227,Ss=482,_s=6,Fs=(256<<_s)-1,Is=0,Ts=i(256),js=i(256),Ls=i(256),Us=i(256),Ps=i(Ss-Ns),Qs=i(Ss-Ns);In("YuvToRgbRow",Bn,3),In("YuvToBgrRow",kn,3),In("YuvToRgbaRow",Fn,4),In("YuvToBgraRow",_n,4),In("YuvToArgbRow",Sn,4),In("YuvToRgba4444Row",Nn,2),In("YuvToRgb565Row",En,2);var Os=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rs=[0,2,8],Ds=[8,7,6,4,4,2,2,2,1,1,1,1],Ms=1;this.WebPDecodeRGBA=function(e,n,r,s,i){var o=Qr,a=new nn,l=new oe;a.ba=l,l.S=o,l.width=[l.width],l.height=[l.height];var c=l.width,A=l.height,u=new ae;if(null==u||null==e)var d=2;else t(null!=u),d=Un(e,n,r,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=d?c=0:(null!=c&&(c[0]=u.width[0]),null!=A&&(A[0]=u.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=s&&(s[0]=l.width),null!=i&&(i[0]=l.height);e:{if(s=new ze,(i=new rn).data=e,i.w=n,i.ha=r,i.kd=1,n=[0],t(null!=i),(0==(e=Un(i.data,i.w,i.ha,null,null,null,n,null,i))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=a),s.data=i.data,s.w=i.w+i.offset,s.ha=i.ha-i.offset,s.put=he,s.ac=de,s.bc=fe,s.ma=a,i.xa){if(null==(e=Se())){a=1;break e}if(function(e,n){var r=[0],s=[0],i=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,m(e.m,n.data,n.w,n.ha),!ge(e.m,r,s,i)){e.a=3;break t}if(e.xb=gs,n.width=r[0],n.height=s[0],!_e(r[0],s[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,s)){if(s=0==(n=On(s.width,s.height,a.Oa,a.ba))){t:{s=e;n:for(;;){if(null==s){s=0;break t}if(t(null!=s.s.yc),t(null!=s.s.Ya),t(0<s.s.Wb),t(null!=(r=s.l)),t(null!=(i=r.ma)),0!=s.xb){if(s.ca=i.ba,s.tb=i.tb,t(null!=s.ca),!Pn(i.Oa,r,Rr)){s.a=2;break n}if(!Fe(s,r.width))break n;if(r.da)break n;if((r.da||re(s.ca.S))&&mn(),11>s.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=s.ca.f.kb.F&&mn()),s.Pb&&0<s.s.ua&&null==s.s.vb.X&&!j(s.s.vb,s.s.Wa.Xa)){s.a=1;break n}s.xb=0}if(!Ee(s,s.V,s.Ba,s.c,s.i,r.o,be))break n;i.Dc=s.Ma,s=1;break t}t(0!=s.a),s=0}s=!s}s&&(n=e.a)}else n=e.a}else{if(null==(e=new We)){a=1;break e}if(e.Fa=i.na,e.P=i.P,e.qc=i.Sa,Xe(e,s)){if(0==(n=On(s.width,s.height,a.Oa,a.ba))){if(e.Aa=0,r=a.Oa,t(null!=(i=e)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(A=u=0;4>A;++A)12>(d=i.pb[A]).lc&&(d.ia=c*Ds[0>d.lc?0:d.lc]>>3),u|=d.ia;u&&(alert("todo:VP8InitRandom"),i.ia=1)}i.Ga=r.Id,100<i.Ga?i.Ga=100:0>i.Ga&&(i.Ga=0)}$e(e,s)||(n=e.a)}}else n=e.a}0==n&&null!=a.Oa&&a.Oa.fd&&(n=Qn(a.ba))}a=n}o=0!=a?null:11>o?l.f.RGBA.eb:l.f.kb.y}else o=null;return o};var Hs=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function A(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var d=[0],h=[0],f=[],g=new l,p=e,m=function(e,t){var n={},r=0,s=!1,i=0,o=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(u(e,t+=4),t+=8;t<e.length;){var a=c(e,t),l=u(e,t+=4);t+=4;var d=l+(1&l);switch(a){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=s?o:t-8,g.src_size=i+l+8,r++,s&&(s=!1,i=0,o=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var h=t+4;g.canvas_width=1+A(e,h),h+=3,g.canvas_height=1+A(e,h),h+=3;break;case"ALPH":s=!0,i=d+8,o=t-8;break;case"ANIM":(g=n.header).bgcolor=u(e,t),h=t+4,g.loop_count=(p=e)[(m=h)+0]|p[m+1]<<8,h+=2;break;case"ANMF":var f,g;(g=n.frames[r]={}).offset_x=2*A(e,t),t+=3,g.offset_y=2*A(e,t),t+=3,g.width=1+A(e,t),t+=3,g.height=1+A(e,t),t+=3,g.duration=A(e,t),t+=3,f=e[t++],g.dispose=1&f,g.blend=f>>1&1}"ANMF"!=a&&(t+=d)}var p,m;return n}}(p,0);m.response=p,m.rgbaoutput=!0,m.dataurl=!1;var y=m.header?m.header:null,v=m.frames?m.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],h=[y.canvas_width];for(var w=0;w<v.length&&0!=v[w].blend;w++);}var x=v[0],b=g.WebPDecodeRGBA(p,x.src_off,x.src_size,h,d);x.rgba=b,x.imgwidth=h[0],x.imgheight=d[0];for(var C=0;C<h[0]*d[0]*4;C++)f[C]=b[C];return this.width=h,this.height=d,this.data=f,this}!function(e){var t=function(t,r,l,c){var A=4,u=i;switch(c){case e.image_compression.FAST:A=1,u=s;break;case e.image_compression.MEDIUM:A=6,u=o;break;case e.image_compression.SLOW:A=9,u=a}var d=xf(t=n(t,r,l,u),{level:A});return e.__addimage__.arrayBufferToBinaryString(d)},n=function(e,t,n,r){for(var s,i,o,a=e.length/t,l=new Uint8Array(e.length+a),u=c(),d=0;d<a;d+=1){if(o=d*t,s=e.subarray(o,o+t),r)l.set(r(s,n,i),o+d);else{for(var h,f=u.length,g=[];h<f;h+=1)g[h]=u[h](s,n,i);var p=A(g.concat());l.set(g[p],o+d)}i=s}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},s=function(e,t){var n,r=[],s=e.length;r[0]=1;for(var i=0;i<s;i+=1)n=e[i-t]||0,r[i+1]=e[i]-n+256&255;return r},i=function(e,t,n){var r,s=[],i=e.length;s[0]=2;for(var o=0;o<i;o+=1)r=n&&n[o]||0,s[o+1]=e[o]-r+256&255;return s},o=function(e,t,n){var r,s,i=[],o=e.length;i[0]=3;for(var a=0;a<o;a+=1)r=e[a-t]||0,s=n&&n[a]||0,i[a+1]=e[a]+256-(r+s>>>1)&255;return i},a=function(e,t,n){var r,s,i,o,a=[],c=e.length;a[0]=4;for(var A=0;A<c;A+=1)r=e[A-t]||0,s=n&&n[A]||0,i=n&&n[A-t]||0,o=l(r,s,i),a[A+1]=e[A]-o+256&255;return a},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),s=Math.abs(e-n),i=Math.abs(e+t-n-n);return r<=s&&r<=i?e:s<=i?t:n},c=function(){return[r,s,i,o,a]},A=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,s,i){var o,a,l,c,A,u,d,h,f,g,p,m,y,v,w,x=this.decode.FLATE_DECODE,b="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new gp(n)).imgData,a=l.bits,o=l.colorSpace,A=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){f=(h=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,p=new Uint8Array(f*l.colors),g=new Uint8Array(f);var C,B=l.pixelBitlength-l.bits;for(v=0,w=0;v<f;v++){for(y=h[v],C=0;C<B;)p[w++]=y>>>C&255,C+=l.bits;g[v]=y>>>C&255}}if(16===l.bits){f=(h=new Uint32Array(l.decodePixels().buffer)).length,p=new Uint8Array(f*(32/l.pixelBitlength)*l.colors),g=new Uint8Array(f*(32/l.pixelBitlength)),m=l.colors>1,v=0,w=0;for(var k=0;v<f;)y=h[v++],p[w++]=y>>>0&255,m&&(p[w++]=y>>>16&255,y=h[v++],p[w++]=y>>>0&255),g[k++]=y>>>16&255;a=8}i!==e.image_compression.NONE?(n=t(p,l.width*l.colors,l.colors,i),d=t(g,l.width,1,i)):(n=p,d=g,x=void 0)}if(3===l.colorType&&(o=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var E=l.transparency.indexed,N=0;for(v=0,f=E.length;v<f;++v)N+=E[v];if((N/=255)===f-1&&-1!==E.indexOf(0))c=[E.indexOf(0)];else if(N!==f){for(h=l.decodePixels(),g=new Uint8Array(h.length),v=0,f=h.length;v<f;v++)g[v]=E[h[v]];d=t(g,l.width,1)}}var S=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(i);return x===this.decode.FLATE_DECODE&&(b="/Predictor "+S+" "),b+="/Colors "+A+" /BitsPerComponent "+a+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:s,data:n,index:r,filter:x,decodeParameters:b,transparency:c,palette:u,sMask:d,predictor:S,width:l.width,height:l.height,bitsPerComponent:a,colorSpace:o}}}}(rg.API),function(e){e.processGIF89A=function(t,n,r,s){var i=new pp(t),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},A=new yp(100).encode(c,100);return e.processJPEG.call(this,A,n,r,s)},e.processGIF87A=e.processGIF89A}(rg.API),vp.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vp.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){Ef.log("bit decode error:"+e)}},vp.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==n&&(this.pos+=4-n)}},vp.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},vp.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},vp.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,a=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,A=r*this.width*4+4*s;this.data[A]=l,this.data[A+1]=a,this.data[A+2]=o,this.data[A+3]=c}this.pos+=e}},vp.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,A=s*this.width*4+4*i;this.data[A]=c,this.data[A+1]=l,this.data[A+2]=a,this.data[A+3]=255}this.pos+=e}},vp.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},vp.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=o}},vp.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var i=new vp(t,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new yp(100).encode(l,100);return e.processJPEG.call(this,c,n,r,s)}}(rg.API),wp.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var i=new wp(t),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new yp(100).encode(l,100);return e.processJPEG.call(this,c,n,r,s)}}(rg.API),rg.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var A=r[c],u=r[c+1],d=r[c+2],h=r[c+3];i[a++]=A,i[a++]=u,i[a++]=d,o[l++]=h}var f=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},rg.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ap=rg.API,up=Ap.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:s.metadata.Unicode.kerning,A=c.fof?c.fof:1,u=!1!==t.doKerning,d=0,h=e.length,f=0,g=a[0]||l,p=[];for(n=0;n<h;n++)r=e.charCodeAt(n),"function"==typeof s.metadata.widthOfString?p.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(d=u&&"object"===(0,Eh.A)(c[r])&&!isNaN(parseInt(c[r][f],10))?c[r][f]/A:0,p.push((a[r]||g)/l+d)),f=r;return p},dp=Ap.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Ap.processArabic&&(e=Ap.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,s)/n:up.apply(this,arguments).reduce(function(e,t){return e+t},0)},hp=function(e,t,n,r){for(var s=[],i=0,o=e.length,a=0;i!==o&&a+t[i]<n;)a+=t[i],i++;s.push(e.slice(0,i));var l=i;for(a=0;i!==o;)a+t[i]>r&&(s.push(e.slice(l,i)),a=0,l=i),a+=t[i],i++;return l!==i&&s.push(e.slice(l,i)),s},fp=function(e,t,n){n||(n={});var r,s,i,o,a,l,c,A=[],u=[A],d=n.textIndent||0,h=0,f=0,g=e.split(" "),p=up.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?g[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),y=[];g.map(function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):y.push(e[0])}),g=y,l=dp.apply(this,[m,n])}for(i=0,o=g.length;i<o;i++){var v=0;if(r=g[i],l&&"\n"==r[0]&&(r=r.substr(1),v=1),d+h+(f=(s=up.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||v){if(f>t){for(a=hp.apply(this,[r,s,t-(d+h),t]),A.push(a.shift()),A=[a.pop()];a.length;)u.push([a.shift()]);f=s.slice(r.length-(A[0]?A[0].length:0)).reduce(function(e,t){return e+t},0)}else A=[r];u.push(A),d=f+l,h=p}else A.push(r),d+=h+f,h=p}return c=l?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},Ap.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(fp.apply(this,[r[a],o,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},s=0;s<16;s++)n[t[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=t[s];var i=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,s,a,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=i(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(s=i(t).slice(3),a="-"):(s=i(t).slice(2),a=""),s=a+s.slice(0,-1)+r[s.slice(-1)];else{if("object"!==(0,Eh.A)(t))throw new Error("Don't know what to do with value type "+(0,Eh.A)(t)+".");s=o(t)}l.push(n+s)}return l.push("}"),l.join("")},a=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,s,i,o={},a=1,l=o,c=[],A="",u="",d=e.length-1,h=1;h<d;h+=1)"'"==(i=e[h])?t?(s=t.join(""),t=void 0):t=[]:t?t.push(i):"{"==i?(c.push([l,s]),l={},s=void 0):"}"==i?((r=c.pop())[0][r[1]]=l,s=void 0,l=r[0]):"-"==i?a=-1:void 0===s?n.hasOwnProperty(i)?(A+=n[i],s=parseInt(A,16)*a,a=1,A=""):A+=i:n.hasOwnProperty(i)?(u+=n[i],l[s]=parseInt(u,16)*a,a=1,s=void 0,u=""):u+=i;return o},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},A={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=A.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(rg.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(void 0===i)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(r=!1===i.existsFileInVFS(s.postScriptName)?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(Ff(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(s,r)}}])}(rg),function(){function e(){return(Bf.canvg?Promise.resolve(Bf.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}rg.API.addSvgAsImage=function(t,n,r,s,i,o,a,l){if(isNaN(n)||isNaN(r))throw Ef.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw Ef.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=i;var A=c.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(e){return e.fromString(A,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),n,r,s,i,a,l)})}}(),rg.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},rg.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,A=0,u=0;function d(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var h=a.length;for(u=0;u<h;u+=1)n[a[u]].value=n[a[u]].defaultValue,n[a[u]].explicitSet=!1}if("object"===(0,Eh.A)(e))for(s in e)if(i=e[s],d(a,s)&&void 0!==i){if("boolean"===n[s].type&&"boolean"==typeof i)n[s].value=i;else if("name"===n[s].type&&d(n[s].valueSet,i))n[s].value=i;else if("integer"===n[s].type&&Number.isInteger(i))n[s].value=i;else if("array"===n[s].type){for(c=0;c<i.length;c+=1)if(r=!0,1===i[c].length&&"number"==typeof i[c][0])l.push(String(i[c]-1));else if(i[c].length>1){for(A=0;A<i[c].length;A+=1)"number"!=typeof i[c][A]&&(r=!1);!0===r&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+s.length+t.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+s+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(rg.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,s=["","0","00","000","0000"],i=[""],o=0,a=e.length;o<a;++o){if(n=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return i.join("");n=n.toString(16),i.push(s[4-n.length],n)}return i.join("")},r=function(e){var t,n,r,s,i,o,a;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,a=(n=Object.keys(e).sort(function(e,t){return e-t})).length;o<a;o++)t=n[o],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(s=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+s+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,s=t.out,i=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",A=0;A<l.length;A++)c+=String.fromCharCode(l[A]);var u=i();o({data:c,addLength1:!0,objectId:u}),s("endobj");var d=i();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),s("endobj");var h=i();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+Yf(n.fontName)),s("/FontFile2 "+u+" 0 R"),s("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),s("/Flags "+n.metadata.flags),s("/StemV "+n.metadata.stemV),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s(">>"),s("endobj");var f=i();s("<<"),s("/Type /Font"),s("/BaseFont /"+Yf(n.fontName)),s("/FontDescriptor "+h+" 0 R"),s("/W "+e.API.PDFObject.convert(a)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+n.encoding+")"),s(">>"),s(">>"),s("endobj"),n.objectNumber=i(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+d+" 0 R"),s("/BaseFont /"+Yf(n.fontName)),s("/Encoding /"+n.encoding),s("/DescendantFonts ["+f+" 0 R]"),s(">>"),s("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,s=t.out,i=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,l="",c=0;c<a.length;c++)l+=String.fromCharCode(a[c]);var A=i();o({data:l,addLength1:!0,objectId:A}),s("endobj");var u=i();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),s("endobj");var d=i();s("<<"),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s("/StemV "+n.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+A+" 0 R"),s("/Flags 96"),s("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),s("/FontName /"+Yf(n.fontName)),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s(">>"),s("endobj"),n.objectNumber=i();for(var h=0;h<n.metadata.hmtx.widths.length;h++)n.metadata.hmtx.widths[h]=parseInt(n.metadata.hmtx.widths[h]*(1e3/n.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Yf(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),s("endobj"),n.isAlreadyPutted=!0}}(t)}]);var s=function(e){var t,r=e.text||"",s=e.x,i=e.y,o=e.options||{},a=e.mutex||{},l=a.pdfEscape,c=a.activeFontKey,A=a.fonts,u=c,d="",h=0,f="",g=A[u].encoding;if("Identity-H"!==A[u].encoding)return{text:r,x:s,y:i,options:o,mutex:a};for(f=r,u=c,Array.isArray(r)&&(f=r[0]),h=0;h<f.length;h+=1)A[u].metadata.hasOwnProperty("cmap")&&(t=A[u].metadata.cmap.unicode.codeMap[f[h].charCodeAt(0)]),t||f[h].charCodeAt(0)<256&&A[u].metadata.hasOwnProperty("Unicode")?d+=f[h]:d+="";var p="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===g?p=l(d,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===g&&(p=n(d,A[u])),a.isHex=!0,{text:p,x:s,y:i,options:o,mutex:a}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1)Array.isArray(t[i])&&3===t[i].length?n.push([s(Object.assign({},r,{text:t[i][0]})).text,t[i][1],t[i][2]]):n.push(s(Object.assign({},r,{text:t[i]})).text);e.text=n}else e.text=s(Object.assign({},r,{text:t})).text}])}(rg),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(rg.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,s,i,o,a,l,c=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),p=!1,m=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,r=h[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},v=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},w=function(e,t,o,a){var l,c,A,u,d=t[a];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":p=!1;break;case"N":case"AN":break;case"EN":p&&(d="AN");break;case"AL":p=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(l=o[a-1])&&"AN"!==l||"EN"!==(c=t[a+1])&&"AN"!==c?d="N":p&&(c="AN"),d=c===l?c:"N";break;case"ES":d="EN"===(l=a>0?o[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===o[a-1]){d="EN";break}if(p){d="N";break}for(A=a+1,u=t.length;A<u&&"ET"===t[A];)A++;d=A<u&&"EN"===t[A]?"EN":"N";break;case"NSM":if(s&&!i){for(u=t.length,A=a+1;A<u&&"NSM"===t[A];)A++;if(A<u){var h=e[a],f=h>=1425&&h<=2303||64286===h;if(l=t[A],f&&("R"===l||"AL"===l)){d="R";break}}}d=a<1||"B"===(l=t[a-1])?"N":o[a-1];break;case"B":p=!1,n=!0,d=m;break;case"S":r=!0,d="N"}return d},x=function(e,t,n){var r=e.split("");return n&&b(r,n,{hiLevel:m}),r.reverse(),t&&t.reverse(),r.join("")},b=function(e,t,s){var i,o,a,l,c,h=-1,f=e.length,g=0,v=[],x=m?u:A,b=[];for(p=!1,n=!1,r=!1,o=0;o<f;o++)b[o]=y(e[o]);for(a=0;a<f;a++){if(c=g,v[a]=w(e,b,v,a),i=240&(g=x[c][d[v[a]]]),g&=15,t[a]=l=x[g][5],i>0)if(16===i){for(o=h;o<a;o++)t[o]=1;h=-1}else h=-1;if(x[g][6])-1===h&&(h=a);else if(h>-1){for(o=h;o<a;o++)t[o]=l;h=-1}"B"===b[a]&&(t[a]=0),s.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=m;for(var s=r-1;s>=0&&"WS"===e[s];s--)t[s]=m}}(b,t,f)},C=function(e,t,r,s,i){if(!(i.hiLevel<e)){if(1===e&&1===m&&!n)return t.reverse(),void(r&&r.reverse());for(var o,a,l,c,A=t.length,u=0;u<A;){if(s[u]>=e){for(l=u+1;l<A&&s[l]>=e;)l++;for(c=u,a=l-1;c<a;c++,a--)o=t[c],t[c]=t[a],t[a]=o,r&&(o=r[c],r[c]=r[a],r[a]=o);u=l}u++}}},B=function(e,t,n){var r=e.split(""),s={hiLevel:m};return n||(n=[]),b(r,n,s),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,s=0;s<e.length;s++)1===t[s]&&(r=f.indexOf(e[s]))>=0&&(e[s]=f[r+1])}(r,n,s),C(2,r,t,n,s),C(1,r,t,n,s),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===i&&(i=v(e)),void 0===a&&(a=v(e))}(e,t),s||!o||a)if(s&&o&&i^a)m=i?1:0,e=x(e,t,n);else if(!s&&o&&a)m=i?1:0,e=B(e,t,n),e=x(e,t);else if(!s||i||o||a){if(s&&!o&&i^a)e=x(e,t),i?(m=0,e=B(e,t,n)):(m=1,e=B(e,t,n),e=x(e,t));else if(s&&i&&!o&&a)m=1,e=B(e,t,n),e=x(e,t);else if(!s&&!o&&i^a){var r=l;i?(m=1,e=B(e,t,n),m=0,l=!1,e=B(e,t,n),l=r):(m=0,e=B(e,t,n),e=x(e,t),m=1,l=!1,e=B(e,t,n),l=r,e=x(e,t))}}else m=0,e=B(e,t,n);else m=i?1:0,e=B(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(s=e.isInputVisual,o=e.isOutputVisual,i=e.isInputRtl,a=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var s=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var i=0;for(s=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?s.push([n.doBidiReorder(t[i][0]),t[i][1],t[i][2]]):s.push([n.doBidiReorder(t[i])]);e.text=s}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(rg),rg.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new bp(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Mp(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Cp(this.contents),this.head=new Ep(this),this.name=new jp(this),this.cmap=new Sp(this),this.toUnicode={},this.hhea=new _p(this),this.maxp=new Lp(this),this.hmtx=new Up(this),this.post=new Ip(this),this.os2=new Fp(this),this.loca=new Dp(this),this.glyf=new Qp(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,s;for(s=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],s.push(Math.round(e*this.scaleFactor));return s}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,s,i,o;for(i=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=e.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return i*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var xp,bp=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,s,i,o,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^i)+256*(255^o)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*s+65536*i+256*o+a},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,s;for(s=[],n=0,r=e.length;n<r;n++)t=e[n],s.push(this.writeByte(t));return s},e}(),Cp=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,s,i,o,a,l,c,A,u,d,h,f;for(f in d=Object.keys(t).length,a=Math.log(2),A=16*Math.floor(Math.log(d)/a),i=Math.floor(A/a),c=16*d-A,(r=new bp).writeInt(this.scalarType),r.writeShort(d),r.writeShort(A),r.writeShort(i),r.writeShort(c),s=16*d,l=r.pos+s,o=null,h=[],t)for(u=t[f],r.writeString(f),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),h=h.concat(u),"head"===f&&(o=l),l+=u.length;l%4;)h.push(0),l++;return r.write(h),n=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,s;for(e=Pp.call(e);e.length%4;)e.push(0);for(r=new bp(e),n=0,t=0,s=e.length;t<s;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),Bp={}.hasOwnProperty,kp=function(e,t){for(var n in t)Bp.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};xp=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ep=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new bp).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Np=function(){function e(e,t){var n,r,s,i,o,a,l,c,A,u,d,h,f,g,p,m,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(d=e.readUInt16(),u=d/2,e.pos+=6,s=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,o=function(){var t,n;for(n=[],a=t=0;0<=r?t<r:t>r;a=0<=r?++t:--t)n.push(e.readUInt16());return n}(),a=p=0,y=s.length;p<y;a=++p)for(g=s[a],n=m=h=f[a];h<=g?m<=g:m>=g;n=h<=g?++m:--m)0===c[a]?i=n+l[a]:0!==(i=o[c[a]/2+(n-h)-(u-a)]||0)&&(i+=l[a]),this.codeMap[n]=65535&i}e.pos=A}return e.encode=function(e,t){var n,r,s,i,o,a,l,c,A,u,d,h,f,g,p,m,y,v,w,x,b,C,B,k,E,N,S,_,F,I,T,j,L,U,P,Q,O,R,D,M,H,V,K,q,z,W;switch(_=new bp,i=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,g=function(){var e=[];for(h=0;h<256;++h)e.push(0);return e}(),m={0:0},s={},F=0,L=i.length;F<L;F++)null==m[K=e[r=i[F]]]&&(m[K]=++f),s[r]={old:e[r],new:m[e[r]]},g[r]=m[e[r]];return _.writeUInt16(1),_.writeUInt16(0),_.writeUInt32(12),_.writeUInt16(0),_.writeUInt16(262),_.writeUInt16(0),_.write(g),{charMap:s,subtable:_.data,maxGlyphID:f+1};case"unicode":for(N=[],A=[],y=0,m={},n={},p=l=null,I=0,U=i.length;I<U;I++)null==m[w=e[r=i[I]]]&&(m[w]=++y),n[r]={old:w,new:m[w]},o=m[w]-r,null!=p&&o===l||(p&&A.push(p),N.push(r),l=o),p=r;for(p&&A.push(p),A.push(65535),N.push(65535),k=2*(B=N.length),C=2*Math.pow(Math.log(B)/Math.LN2,2),u=Math.log(C/2)/Math.LN2,b=2*B-C,a=[],x=[],d=[],h=T=0,P=N.length;T<P;h=++T){if(E=N[h],c=A[h],65535===E){a.push(0),x.push(0);break}if(E-(S=n[E].new)>=32768)for(a.push(0),x.push(2*(d.length+B-h)),r=j=E;E<=c?j<=c:j>=c;r=E<=c?++j:--j)d.push(n[r].new);else a.push(S-E),x.push(0)}for(_.writeUInt16(3),_.writeUInt16(1),_.writeUInt32(12),_.writeUInt16(4),_.writeUInt16(16+8*B+2*d.length),_.writeUInt16(0),_.writeUInt16(k),_.writeUInt16(C),_.writeUInt16(u),_.writeUInt16(b),H=0,Q=A.length;H<Q;H++)r=A[H],_.writeUInt16(r);for(_.writeUInt16(0),V=0,O=N.length;V<O;V++)r=N[V],_.writeUInt16(r);for(q=0,R=a.length;q<R;q++)o=a[q],_.writeUInt16(o);for(z=0,D=x.length;z<D;z++)v=x[z],_.writeUInt16(v);for(W=0,M=d.length;W<M;W++)f=d[W],_.writeUInt16(f);return{charMap:n,subtable:_.data,maxGlyphID:y+1}}},e}(),Sp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Np(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Np.encode(e,t),(r=new bp).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),_p=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Fp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Ip=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],s=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;s=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Tp=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},jp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,s,i,o,a,l,c,A,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(a={},s=c=0,A=n.length;c<A;s=++c)r=n[s],e.pos=r.offset,l=e.readString(r.length),i=new Tp(l,r),null==a[u=r.nameID]&&(a[u]=[]),a[r.nameID].push(i);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),Lp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Up=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,s,i,o,a;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,s;for(s=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)s.push(e.readInt16());return s}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)s=n[e],r.push(s.advance);return r}.call(this),n=this.widths[this.widths.length-1],a=[],t=i=0;0<=r?i<r:i>r;t=0<=r?++i:--i)a.push(this.widths.push(n));return a},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Pp=[].slice,Qp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,s,i,o,a,l,c,A;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),0===(r=s.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,i=(o=new bp(t.read(r))).readShort(),l=o.readShort(),A=o.readShort(),a=o.readShort(),c=o.readShort(),this.cache[e]=-1===i?new Rp(o,l,A,a,c):new Op(o,i,l,A,a,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,s,i,o,a;for(i=[],s=[],o=0,a=t.length;o<a;o++)r=e[t[o]],s.push(i.length),r&&(i=i.concat(r.encode(n)));return s.push(i.length),{table:i,offsets:s}},e}(),Op=function(){function e(e,t,n,r,s,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Rp=function(){function e(e,t,n,r,s){var i,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new bp(Pp.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Dp=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return kp(e,xp),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,s=0,i=0;i<n.length;++i)if(n[i]=r,s<t.length&&t[s]==i){++s,n[i]=r;var o=this.offsets[i],a=this.offsets[i+1]-o;a>0&&(r+=a)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),Mp=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,s,i,o,a;for(r={},i=0,o=e.length;i<o;i++)r[s=e[i]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(null!=(n=r[s])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in a=this.glyphsFor(t))n=a[s],r[s]=n;return r},e.prototype.encode=function(e,t){var n,r,s,i,o,a,l,c,A,u,d,h,f,g,p;for(r in n=Sp.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),d={0:0},p=n.charMap)d[(a=p[r]).old]=a.new;for(h in u=n.maxGlyphID,i)h in d||(d[h]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),A=Object.keys(c).sort(function(e,t){return e-t}),f=function(){var e,t,n;for(n=[],e=0,t=A.length;e<t;e++)o=A[e],n.push(c[o]);return n}(),s=this.font.glyf.encode(i,f,d),l=this.font.loca.encode(s.offsets,f),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();rg.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var e,s,i;for(i=[],e=0,s=n.length;e<s;e++)r=n[e],i.push(t.convert(r));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join("\n")}return""+n},t}();var Hp=n(5239),Vp=n.n(Hp);function Kp(){const{testid:e}=(0,s.g)(),[n,r]=(0,t.useState)(null),[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(!0),{user:d}=(0,c.A)(),h=(0,t.useRef)();(0,t.useEffect)(()=>{if(!d||!d.uid)return void l(!1);(async()=>{try{const t=(0,u.KR)(A.OO,"ExamSubmissions/".concat(e,"/").concat(d.uid)),n=await(0,u.Jt)(t),s=(0,u.KR)(A.OO,"Exam/".concat(e,"/questions")),i=await(0,u.Jt)(s),a=(0,u.KR)(A.OO,"Exam/".concat(e,"/name")),c=await(0,u.Jt)(a);o(c.val()||"");const h=n.val(),f=i.val();if(!h||!f)return void l(!1);const g=f.filter(e=>"true"===h[e]).length,p=Math.round(g/f.length*100),m=f.map((e,t)=>({id:e,questionNumber:t+1,correct:"true"===h[e]}));r({studentName:d.displayName||d.email,correctCount:g,totalQuestions:f.length,score:p,questions:m})}catch(t){console.error("Error fetching results:",t)}finally{l(!1)}})()},[e,d]);return a?(0,k.jsx)(Wd.A,{message:"Loading your results..."}):(0,k.jsxs)("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen",children:[(0,k.jsxs)("div",{ref:h,className:"bg-white rounded-lg shadow-xl p-8 max-w-4xl mx-auto",children:[(0,k.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-2",children:"Exam Results"}),(0,k.jsx)("h2",{className:"text-xl font-semibold text-center text-gray-600 mb-6",children:i||"Test ".concat(e)}),n?(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"bg-blue-100 p-4 rounded-lg text-center mb-4",children:(0,k.jsxs)("p",{className:"text-md font-semibold text-blue-900",children:[(0,k.jsx)("span",{className:"font-bold",children:"Student:"})," ",n.studentName]})}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center mb-8",children:[(0,k.jsxs)("div",{className:"bg-green-100 p-4 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm text-green-700 font-semibold",children:"Score"}),(0,k.jsxs)("p",{className:"text-lg font-bold text-green-900",children:[n.score,"%"]})]}),(0,k.jsxs)("div",{className:"bg-indigo-100 p-4 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm text-indigo-700 font-semibold",children:"Correct Answers"}),(0,k.jsx)("p",{className:"text-lg font-bold text-indigo-900",children:n.correctCount})]}),(0,k.jsxs)("div",{className:"bg-gray-200 p-4 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm text-gray-700 font-semibold",children:"Total Questions"}),(0,k.jsx)("p",{className:"text-lg font-bold text-gray-900",children:n.totalQuestions})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Detailed Breakdown"}),(0,k.jsx)("div",{className:"flex flex-wrap gap-2",children:n.questions.map(e=>(0,k.jsxs)("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium ".concat(e.correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),title:"Question ".concat(e.questionNumber,": ").concat(e.correct?"Correct":"Incorrect"),children:["Q",e.questionNumber]},e.id))})]})]}):(0,k.jsx)("div",{className:"text-center py-10",children:(0,k.jsx)("p",{className:"text-gray-500 text-lg",children:"No results found for this exam."})})]}),n&&(0,k.jsx)("div",{className:"mt-6 flex justify-center",children:(0,k.jsx)("button",{onClick:()=>{const t=h.current;Vp()(t).then(t=>{const n=t.toDataURL("image/png"),r=new rg("p","mm","a4",!0),s=r.internal.pageSize.getWidth(),o=r.internal.pageSize.getHeight(),a=t.width,l=t.height,c=Math.min(s/a,o/l),A=(s-a*c)/2;r.addImage(n,"PNG",A,30,a*c,l*c),r.save("results_".concat(i||e,".pdf"))})},className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Download PDF"})})]})}const qp=w("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),zp=w("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wp=w("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Gp=w("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),Jp=w("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xp=w("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Yp=e=>{let{children:t}=e;return(0,k.jsx)("div",{className:"overflow-x-auto shadow-md rounded-lg",children:(0,k.jsx)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:t})})},Zp=e=>{let{children:t,onClick:n,sortDirection:r}=e;return(0,k.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",onClick:n,children:(0,k.jsxs)("div",{className:"flex items-center",children:[t,r&&(0,k.jsx)("span",{className:"ml-2",children:"asc"===r?(0,k.jsx)(qp,{size:16}):(0,k.jsx)(zp,{size:16})})]})})},$p=e=>{let{children:t,isSelected:n,onClick:r}=e;return(0,k.jsx)("tr",{className:"".concat(n?"bg-blue-50 dark:bg-blue-900/30":"hover:bg-gray-50 dark:hover:bg-gray-800"," ").concat(r?"cursor-pointer":""),onClick:r,children:t})},em=e=>{let{children:t,className:n=""}=e;return(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-900 dark:text-gray-200 ".concat(n),children:t})};function tm(){const{testid:e}=(0,s.g)(),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),[g,p]=(0,t.useState)(null),[m,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[C,B]=(0,t.useState)(null),[E,N]=(0,t.useState)("studentId"),[S,_]=(0,t.useState)("asc"),F=((0,c.A)(),(0,t.useRef)()),[I,T]=(0,t.useState)({mcq:25,programming:25,sql:25,other:25}),[j,L]=(0,t.useState)(!1),[U,P]=(0,t.useState)(!1),Q=e=>{const t=String(e||"").toLowerCase();return t.includes("program")?"programming":"mcq"===t?"mcq":"sql"===t?"sql":"other"},[O,R]=(0,t.useState)(!1),[D,M]=(0,t.useState)(0),[H,V]=(0,t.useState)(""),[K,q]=(0,t.useState)({});(0,t.useEffect)(()=>{(async()=>{try{const[t,n,s,i,a,c,d]=await Promise.all([(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(e,"/Eligible"))),(0,u.Jt)((0,u.KR)(A.OO,"users")),(0,u.Jt)((0,u.KR)(A.OO,"ExamSubmissions/".concat(e))),(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(e,"/name"))),(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(e,"/questions"))),(0,u.Jt)((0,u.KR)(A.OO,"Marks/".concat(e))),(0,u.Jt)((0,u.KR)(A.OO,"ExamCodeSubmissions/".concat(e)))]),h=Object.values(t.val()||{}),f=n.val()||{},g=s.val()||{},p=a.val()||{},m=c.val()||{};o(i.val()||""),q(d.val()||{}),console.log("Exam Code Submissions:",d.val()||{});try{const[t,n]=await Promise.all([(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(e,"/configure/weightage"))),(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(e,"/configure/useWeightage")))]);if(t.exists()){const e=t.val()||{};T({mcq:Number(e.mcq)||0,programming:Number(e.programming)||0,sql:Number(e.sql)||0,other:Number(e.other)||0})}else{const e=new Set(Object.values(p).map(Q)),t=Array.from(e),n=t.length>0?Math.floor(100/t.length):25,r={mcq:0,programming:0,sql:0,other:0};t.forEach(e=>{r[e]=n});const s=100-n*t.length;s>0&&t[0]&&(r[t[0]]+=s),T(r)}n.exists()&&L(Boolean(n.val()))}catch(VE){console.error("Error loading weightage config:",VE)}if(!h.length)return void l(!1);const y=Object.fromEntries(Object.entries(f).map(e=>{let[t,n]=e;return[n.email,t]})),v=h.map(e=>y[e]).filter(Boolean);if(!v.length)return console.log("No matching users found for the provided emails"),void l(!1);const w=v.map(t=>(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(e,"/myquestions/").concat(t)))),x=v.map(t=>(0,u.Jt)((0,u.KR)(A.OO,"ExamCode/".concat(e,"/").concat(t)))),[b,C]=await Promise.all([Promise.all(w),Promise.all(x)]);console.log(C);const B=v.map((e,t)=>{const n=f[e]||{},r=b[t].val()||{},s=g[e]||{},i=C[t].val()||{},o=m[e]||{},a=Object.keys(r);let l=0;const c=[],A=Object.values(o).reduce((e,t)=>e+t,0)/a.length;for(const h of a){var u;const e=r[h],t=p[e]||"mcq";console.log(s);const n="true"===s[e];n&&l++;let a=null;"Programming"===t&&null!==(u=i[e])&&void 0!==u&&u.cpp&&(a=i[e].cpp),console.log(o),c.push({id:e||"No name",originalId:h,correct:n,type:t,code:a,mcqanswer:i[e]||null,marks:o[e]||0})}const d=a.length>0?Math.round(l/a.length*100):0;return{studentId:n.name||e,mail:n.email||"No email",uid:e,correctCount:l,totalQuestions:a.length,score:d,questions:c,totalMarks:A}});console.log("Processed student results:",B),r(B)}catch(t){console.error("Error fetching results:",t)}finally{l(!1)}})()},[e]);const z=e=>{E===e?_("asc"===S?"desc":"asc"):(N(e),_("asc"))},W=t.useMemo(()=>n.map(e=>{const t={mcq:{sum:0,count:0},programming:{sum:0,count:0},sql:{sum:0,count:0},other:{sum:0,count:0}};(e.questions||[]).forEach(e=>{const n=Q(e.type),r=Number(e.marks);isNaN(r)||(t[n].sum+=r,t[n].count+=1)});const n=Object.keys(t);let r=0,s=0;n.forEach(e=>{if(t[e].count>0){const n=t[e].sum/t[e].count,i=Number(I[e])||0;r+=i,s+=n*i}});const i=r>0?s/r:NaN;return(0,d.A)((0,d.A)({},e),{},{weightedMarks:i})}),[n,I]),G=[...W].sort((e,t)=>{let n,r;switch(E){case"studentId":n=e.studentId.toLowerCase(),r=t.studentId.toLowerCase();break;case"mail":n=e.mail.toLowerCase(),r=t.mail.toLowerCase();break;case"totalMarks":const s=j?e.weightedMarks:e.totalMarks,i=j?t.weightedMarks:t.totalMarks;n=isNaN(s)?-1:s,r=isNaN(i)?-1:i;break;case"correctCount":n=e.totalQuestions>0?e.correctCount/e.totalQuestions:0,r=t.totalQuestions>0?t.correctCount/t.totalQuestions:0;break;default:return 0}return n<r?"asc"===S?-1:1:n>r?"asc"===S?1:-1:0}),J=n.length,X=G.filter(e=>{const t=j?e.weightedMarks:e.totalMarks;return!isNaN(t)}),Y=X.length,Z=Y>0?X.reduce((e,t)=>e+(j?t.weightedMarks:t.totalMarks),0)/Y:null,$=Y>0?Math.max(...X.map(e=>j?e.weightedMarks:e.totalMarks)):null,ee=()=>{w(!1),f(null),p(null),y(null)};return a?(0,k.jsx)(Wd.A,{}):(0,k.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[(0,k.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",ref:F,children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:i||"Test Results"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Detailed performance analysis of all students"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[(0,k.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-700/40 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Total Attended"}),(0,k.jsxs)("p",{className:"text-2xl font-semibold text-blue-900 dark:text-blue-100",children:[Y," / ",J]})]}),(0,k.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-700/40 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-1",children:"Average Score"}),(0,k.jsx)("p",{className:"text-2xl font-semibold text-green-900 dark:text-green-100",children:null!==Z?"".concat(Z.toFixed(2),"%"):"N/A"})]}),(0,k.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-700/40 rounded-lg",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-200 mb-1",children:"Top Score"}),(0,k.jsx)("p",{className:"text-2xl font-semibold text-purple-900 dark:text-purple-100",children:null!==$?"".concat($.toFixed(2),"%"):"N/A"})]})]}),(0,k.jsx)("div",{className:"mb-4 p-4 border rounded-lg bg-gray-50 dark:bg-gray-900/40 border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 flex-1",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"MCQ (%)"}),(0,k.jsx)("input",{type:"number",min:"0",max:"100",value:I.mcq,onChange:e=>T(t=>(0,d.A)((0,d.A)({},t),{},{mcq:Math.max(0,Math.min(100,Number(e.target.value)||0))})),className:"w-full px-2 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-gray-100"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Programming (%)"}),(0,k.jsx)("input",{type:"number",min:"0",max:"100",value:I.programming,onChange:e=>T(t=>(0,d.A)((0,d.A)({},t),{},{programming:Math.max(0,Math.min(100,Number(e.target.value)||0))})),className:"w-full px-2 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-gray-100"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"SQL (%)"}),(0,k.jsx)("input",{type:"number",min:"0",max:"100",value:I.sql,onChange:e=>T(t=>(0,d.A)((0,d.A)({},t),{},{sql:Math.max(0,Math.min(100,Number(e.target.value)||0))})),className:"w-full px-2 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-gray-100"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Other (%)"}),(0,k.jsx)("input",{type:"number",min:"0",max:"100",value:I.other,onChange:e=>T(t=>(0,d.A)((0,d.A)({},t),{},{other:Math.max(0,Math.min(100,Number(e.target.value)||0))})),className:"w-full px-2 py-1.5 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm text-gray-900 dark:text-gray-100"})]})]}),(0,k.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("input",{id:"useWeightage",type:"checkbox",checked:j,onChange:async t=>{const n=t.target.checked;L(n);try{await(0,u.hZ)((0,u.KR)(A.OO,"Exam/".concat(e,"/configure/useWeightage")),n)}catch(nf){console.error(nf)}},className:"h-4 w-4"}),(0,k.jsx)("label",{htmlFor:"useWeightage",className:"text-sm text-gray-700 dark:text-gray-200",children:"Use weightage in scores"})]}),(0,k.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Total: ",["mcq","programming","sql","other"].reduce((e,t)=>e+(Number(I[t])||0),0),"%"]}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)("button",{onClick:()=>{const e=new Set;W.forEach(t=>(t.questions||[]).forEach(t=>e.add(Q(t.type))));const t=Array.from(e),n=t.length>0?Math.floor(100/t.length):25,r={mcq:0,programming:0,sql:0,other:0};t.forEach(e=>{r[e]=n});const s=100-n*t.length;s>0&&t[0]&&(r[t[0]]+=s),T(r)},className:"px-3 py-1.5 rounded-md border text-sm bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200",children:"Distribute equally"}),(0,k.jsx)("button",{disabled:U,onClick:async()=>{P(!0);try{await(0,u.hZ)((0,u.KR)(A.OO,"Exam/".concat(e,"/configure/weightage")),I)}catch(nf){console.error("Failed to save weights",nf)}finally{P(!1)}},className:"px-3 py-1.5 rounded-md bg-blue-600 hover:bg-blue-700 text-white text-sm disabled:opacity-60",children:U?"Saving...":"Save"})]})]})]})}),(0,k.jsxs)("div",{className:"flex justify-end mb-4 gap-2",children:[(0,k.jsxs)("button",{onClick:async()=>{const t=new rg("p","mm","a4"),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight(),s=15;let o=s,a=null;const l=[[230,240,255],[255,230,240],[240,255,230],[225,235,255],[255,240,225],[225,255,240],[240,225,255],[255,225,235],[220,245,255],[240,255,220],[255,220,245],[220,255,235]],c=r=>{void 0===r&&(r="Detailed"),t.setFillColor(245,248,255),t.rect(0,0,n,14,"F"),t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(40,80,160),t.text("".concat(i||e),s,9),t.setFont("helvetica","normal"),t.setTextColor(100,100,100),t.text("".concat(r," Report"),n-s,9,{align:"right"}),t.setDrawColor(220,220,220),t.line(s,14,n-s,14),o=18,t.setTextColor(0,0,0)},d=e=>o+e>r-s&&(t.addPage(),c(),a&&(t.setFillColor(...a),t.rect(0,14,n,r-14,"F")),!0),h=function(e,n,r,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;t.setFontSize(i);const o=t.splitTextToSize(String(null!==e&&void 0!==e?e:""),s);return t.text(o,n,r),o.length*(.35*i)},f=e=>{const t=parseInt(e);return isNaN(t)?e:(t+1).toString()};R(!0),M(0),V("Preparing report...");try{c(),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("AlgoCore Test Report",n/2,o,{align:"center"}),o+=10,t.setFontSize(12),t.setFont("helvetica","normal"),t.text("Test: ".concat(i||e),n/2,o,{align:"center"}),o+=8,t.setFontSize(9),t.text("Generated: ".concat((new Date).toLocaleString()),n/2,o,{align:"center"}),o+=12,t.setFont("helvetica","bold"),t.setFontSize(12),t.text("Students Summary (Click name to jump to details)",s,o),o+=8,t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(s,o-6,n-30,8,"F"),t.setFontSize(9),t.text("#",17,o),t.text("Student Name",23,o),t.text("Email",75,o),t.text("Score",135,o),t.text("Correct",155,o),t.text("Total",180,o),t.setTextColor(0,0,0),o+=8;const v=[];G.forEach((e,r)=>{d(8)&&(t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(s,o-6,n-30,8,"F"),t.setFontSize(9),t.text("#",17,o),t.text("Student Name",23,o),t.text("Email",75,o),t.text("Score",135,o),t.text("Correct",155,o),t.text("Total",180,o),t.setTextColor(0,0,0),o+=8);const i=t.internal.getNumberOfPages();r%2===1&&(t.setFillColor(245,245,245),t.rect(s,o-5,n-30,7,"F"));const a=e.studentId.length>20?e.studentId.substring(0,20)+"...":e.studentId;t.text("".concat(r+1),17,o),t.text(a,23,o);const l=t.getTextWidth(a),c=e.mail.length>25?e.mail.substring(0,25)+"...":e.mail;t.text(c,75,o);const A=j?e.weightedMarks:e.totalMarks,u=isNaN(A)?"N/A":"".concat(A.toFixed(1),"%");t.text(u,135,o),t.text("".concat(e.correctCount),160,o),t.text("".concat(e.totalQuestions),183,o),v.push({page:i,x:23,y:o,w:l,uid:e.uid}),o+=7});const w={},x=G.length;for(let i=0;i<G.length;i++){const v=G[i];t.addPage();const b=t.internal.getNumberOfPages();w[v.uid]=b,a=l[i%l.length];const C=v.studentId;c(C),t.setFillColor(...a),t.rect(0,14,n,r-14,"F"),t.setFontSize(8),t.setTextColor(60,90,160),t.text("Back to Summary",n-s,o,{align:"right"}),t.link(n-s-35,o-4,35,6,{pageNumber:1,top:18}),t.setTextColor(0,0,0),o+=6,t.setFont("helvetica","bold"),t.setFontSize(14),t.text("Student: ".concat(v.studentId),s,o),o+=7,t.setFont("helvetica","normal"),t.setFontSize(10),t.text("Email: ".concat(v.mail),s,o),o+=5,t.text("Student ID: ".concat(v.uid.substring(0,10),"..."),s,o),o+=5;const B=j?v.weightedMarks:v.totalMarks;t.text("Score: ".concat(isNaN(B)?"Not Attended":B.toFixed(2)+"%"),s,o),o+=8;const k=n-30,E=k/3,N=v.totalQuestions>0?Math.round(v.correctCount/v.totalQuestions*100):0;t.setFillColor(250,250,250),t.setDrawColor(230,230,230),t.rect(s,o-4,k,22,"F"),t.rect(s,o-4,k,22,"S"),t.setFont("helvetica","bold"),t.setFontSize(9),t.text("Score",19,o),t.text("Correct",19+E,o),t.text("Accuracy",19+2*E,o),t.setFont("helvetica","normal"),t.setFontSize(11),t.text(isNaN(B)?"N/A":"".concat(B.toFixed(1),"%"),19,o+12),t.text("".concat(v.correctCount," / ").concat(v.totalQuestions),19+E,o+12),t.text("".concat(N,"%"),19+2*E,o+12),o+=24;const S=["mcq","programming","sql","other"],_={mcq:{att:0,cor:0,sum:0},programming:{att:0,cor:0,sum:0},sql:{att:0,cor:0,sum:0},other:{att:0,cor:0,sum:0}};(v.questions||[]).forEach(e=>{const t=Q(e.type);_[t].att++,e.correct&&_[t].cor++;const n=Number(e.marks);isNaN(n)||(_[t].sum+=n)});const F=S.filter(e=>_[e].att>0);F.length&&(t.setFont("helvetica","bold"),t.setFontSize(11),t.text("Category Breakdown",s,o),o+=6,t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(s,o-5,k,7,"F"),t.setFontSize(9),t.text("Category",17,o),t.text("Attempted",67,o),t.text("Correct",103,o),t.text("Avg Mark",133,o),j&&t.text("Weight",165,o),t.setTextColor(0,0,0),o+=8,F.forEach((e,i)=>{o+8>r-s&&(t.addPage(),c(),a&&(t.setFillColor(...a),t.rect(0,14,n,r-14,"F"))),i%2===1&&(t.setFillColor(245,245,245),t.rect(s,o-5,k,7,"F"));const l=_[e].att?(_[e].sum/_[e].att).toFixed(1):"0.0",A=e.charAt(0).toUpperCase()+e.slice(1);t.setFontSize(9),t.text(A,17,o),t.text(String(_[e].att),75,o,{align:"right"}),t.text(String(_[e].cor),111,o,{align:"right"}),t.text(String(l),145,o,{align:"right"}),j&&t.text("".concat(Number(I[e])||0,"%"),195,o,{align:"right"}),o+=7}),o+=4),t.setFont("helvetica","bold"),t.setFontSize(12),t.text("Question Details",s,o),o+=6,t.setFont("helvetica","normal"),t.setFontSize(9);for(let r=0;r<(v.questions||[]).length;r++){const i=v.questions[r];let a={},l=null,c=null;try{const[t,n,r]=await Promise.all([(0,u.Jt)((0,u.KR)(A.OO,"questions/".concat(i.id))),(0,u.Jt)((0,u.KR)(A.OO,"ExamSubmissions/".concat(e,"/").concat(v.uid,"/").concat(i.id))),(0,u.Jt)((0,u.KR)(A.OO,"ExamCode/".concat(e,"/").concat(v.uid,"/").concat(i.id)))]);a=t.val()||{},l=n.val();const s=r.exists()?r.val():null;c="number"===typeof i.mcqanswer?i.mcqanswer:"number"===typeof s?s:null}catch(VE){console.error("Error fetching q/a for",i.id,VE)}d(16);const w=null===l||void 0===l?"Not Attended":i.correct?"Correct":"Wrong",x="Correct"===w?[0,128,0]:"Wrong"===w?[255,0,0]:[150,150,150],b=String(i.type||"").toUpperCase();t.setFillColor(240,240,240),t.rect(s,o-5,n-30,8,"F"),t.setFontSize(11),t.setFont("helvetica","bold"),t.text("Question ".concat(r+1," [").concat(b,"] - ").concat((Number(i.marks)||0).toFixed(2)," pts"),17,o),t.setTextColor(...x),t.text(w,n-s-25,o),t.setTextColor(0,0,0),o+=8,t.setFontSize(10),t.setFont("helvetica","bold");const C=h(a.questionname||i.id,17,o,n-30-4,10);if(o+=C+3,a.question){t.setFont("helvetica","italic"),t.setFontSize(9);const e=h(a.question,17,o,n-30-4,9);o+=e+3,t.setFont("helvetica","normal")}if("Programming"!==i.type&&a.options){d(8),t.setFont("helvetica","normal"),t.setFontSize(9),t.text("Options:",17,o),o+=5,t.setFont("helvetica","normal");const e=Object.entries(a.options);for(const[r,s]of e){d(7);const e=r===a.correctAnswer,i=null!==c?String(r)===String(c):String(r)===String(l);e?(t.setFillColor(200,255,200),t.rect(19,o-4,n-30-8,6,"F")):i&&!e&&(t.setFillColor(255,200,200),t.rect(19,o-4,n-30-8,6,"F"));const A="".concat(f(r),". ").concat(s),u=h(A,21,o,n-30-12,9);let g=23+t.getTextWidth(A);e&&(t.setTextColor(0,128,0),t.setFont("helvetica","bold"),t.text(" [CORRECT]",g,o)),i&&(t.setTextColor(0,0,255),t.setFont("helvetica","bold"),t.text(" [SELECTED]",g+(e?25:0),o)),t.setTextColor(0,0,0),o+=u+2}if(o+=2,t.setFont("helvetica","bold"),null===l||void 0===l)t.setTextColor(150,150,150),t.text("Student's Answer: Not Attended",17,o);else{const e=null!==c?c:null;if(null!==e){const n=f(String(e));t.text("Student's Answer: Option ".concat(n),17,o)}else{const e="true"===l?"Correct":"false"===l?"Wrong":"Unknown";t.text("Student's Answer: ".concat(e),17,o)}}t.setTextColor(0,0,0),o+=5,t.text("Correct Answer: Option ".concat(a.correctAnswer),17,o),o+=7}if("Programming"===i.type&&i.code){d(10),o+=14,t.setFont("helvetica","bold"),t.text("Code Submission:",17,o),o+=6,t.setFont("courier","normal"),t.setFontSize(7);const e=String(i.code).split("\n");for(let r=0;r<Math.min(e.length,60);r++){d(5);const s=e[r],i=s.length>95?s.substring(0,95)+"...":s;t.setFillColor(240,240,240),t.rect(17,o-3,n-30-4,4.5,"F"),t.setTextColor(20,20,20),t.text(i,19,o),t.setTextColor(0,0,0),o+=3.5}t.setFont("helvetica","normal"),t.setFontSize(9),o+=2}if(a.testcases){d(10),t.setFont("helvetica","bold"),t.text("Test Cases:",17,o),o+=6,t.setFont("helvetica","normal"),t.setFontSize(9);const e=a.testcases;for(let r=0;r<e.length;r++){var g,p,m,y;const l=e[r];d(10);const c=(null===K||void 0===K||null===(g=K[v.uid])||void 0===g?void 0:g[i.id])||{},A=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return!e||r.marks>e[1].marks?[n,r]:e},null);console.log("highest test case result",A);const u=A&&null!==(p=A[1])&&void 0!==p&&null!==(m=p.testResults)&&void 0!==m&&null!==(y=m[r])&&void 0!==y&&y.passed?!0===A[1].testResults[r].passed?"PASSED":"FAILED":"NOT RUN",h="PASSED"===u?[0,128,0]:"FAILED"===u?[255,0,0]:[150,150,150];t.setFillColor(240,240,240),t.rect(s,o-4,n-30,8,"F"),t.setFontSize(9),t.setFont("helvetica","bold"),t.text("Test Case ".concat(r+1),17,o),t.setTextColor(...h),t.text(u,n-s-20,o),t.setTextColor(0,0,0),o+=8,t.setFont("helvetica","bold"),t.setFontSize(8),t.text("Input:",19,o),o+=4,t.setFont("courier","normal"),t.setFontSize(7);const f=l.input||"No input",w=t.splitTextToSize(f,n-30-8);t.text(w,21,o),o+=3.5*w.length+2,d(15),t.setFont("helvetica","bold"),t.setFontSize(8),t.setTextColor(0,128,0),t.text("Expected Output:",19,o),o+=4,t.setFont("courier","normal"),t.setFontSize(7),t.setTextColor(0,0,0);const x=l.expectedOutput||"No expected output",b=t.splitTextToSize(x,n-30-8);if(t.text(b,21,o),o+=3.5*b.length+2,a.codeSubmission&&"FAILED"===u){d(15),t.setFont("helvetica","bold"),t.setFontSize(8),t.setTextColor(255,0,0),t.text("Actual Output:",19,o),o+=4,t.setFont("courier","normal"),t.setFontSize(7),t.setTextColor(0,0,0);const e="Code execution output would be shown here",r=t.splitTextToSize(e,n-30-8);t.text(r,21,o),o+=3.5*r.length+4}o+=3}}else t.setFont("helvetica","italic"),t.setFontSize(9),t.setTextColor(150,150,150),t.text("No test cases available",19,o),t.setTextColor(0,0,0),o+=7;if(o+=5,a.explanation){d(15),t.setFillColor(230,240,255);const e=o-3;t.setFont("helvetica","bold"),t.setFontSize(9),t.text("Explanation:",17,o),o+=5,t.setFont("helvetica","normal");const r=h(a.explanation,17,o,n-30-4,8);t.rect(s,e,n-30,r+8,"S"),o+=r+5}o+=5}M(Math.round((i+1)/x*100)),V("Processed ".concat(i+1," of ").concat(x," students")),i%3===0&&await new Promise(e=>setTimeout(e,0))}v.forEach(e=>{const n=w[e.uid];n&&(t.setPage(e.page),t.link(e.x,e.y-4,e.w,6,{pageNumber:n,top:s}))});const b=t.internal.getNumberOfPages();for(let s=1;s<=b;s++)t.setPage(s),t.setFontSize(8),t.setFont("helvetica","italic"),t.setTextColor(128,128,128),t.text("Page ".concat(s," of ").concat(b," - ").concat(i||e),n/2,r-10,{align:"center"});t.save("".concat(i||e,"_detailed_all_students.pdf"))}catch(nf){console.error("Error generating detailed report:",nf)}finally{R(!1),M(0),V("")}},className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors flex items-center gap-2",children:[(0,k.jsx)(Wp,{size:18}),"Download Detailed Report"]}),(0,k.jsxs)("button",{onClick:async()=>{const t=new rg("p","mm","a4"),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight(),s=15;let o=s;t.setFontSize(20),t.setFont("helvetica","bold"),t.text("Test Results Summary",n/2,o,{align:"center"}),o+=10,t.setFontSize(14),t.setFont("helvetica","normal"),t.text("Test: ".concat(i||e),n/2,o,{align:"center"}),o+=6,t.setFontSize(10),t.text("Generated: ".concat((new Date).toLocaleString()),n/2,o,{align:"center"}),o+=6,t.text("Total Students: ".concat(G.length),n/2,o,{align:"center"}),o+=15,t.setFontSize(12),t.setFont("helvetica","bold"),t.text("Overall Performance Summary",s,o),o+=8,t.setFontSize(9),t.setFont("helvetica","normal");const a=G.map(e=>j?e.weightedMarks:e.totalMarks).filter(e=>!isNaN(e)),l=a.length>0?(a.reduce((e,t)=>e+t,0)/a.length).toFixed(2):"N/A",c=a.length>0?Math.max(...a).toFixed(2):"N/A",A=a.length>0?Math.min(...a).toFixed(2):"N/A";if(t.text("Average Score: ".concat(l,"%"),20,o),o+=6,t.text("Highest Score: ".concat(c,"%"),20,o),o+=6,t.text("Lowest Score: ".concat(A,"%"),20,o),o+=6,t.text("Students Attended: ".concat(a.length," / ").concat(G.length),20,o),o+=8,t.setFont("helvetica","bold"),t.text("Scoring Mode",s,o),o+=6,t.setFont("helvetica","normal"),t.text("Mode: ".concat(j?"Weighted (category-wise)":"Standard (unweighted)"),20,o),o+=5,j){const e="Weights \u2014 MCQ: ".concat(Number(I.mcq)||0,"%, Programming: ").concat(Number(I.programming)||0,"%, SQL: ").concat(Number(I.sql)||0,"%, Other: ").concat(Number(I.other)||0,"%");t.text(e,20,o),o+=6}o+=8,t.setFont("helvetica","bold"),t.setFontSize(12),t.text("Students",s,o),o+=8,t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(s,o-6,n-30,8,"F"),t.setFontSize(9),t.text("#",17,o),t.text("Student Name",23,o),t.text("Email",75,o),t.text("Score",135,o),t.text("Correct",155,o),t.text("Total",180,o),t.setTextColor(0,0,0),o+=8,G.forEach((e,i)=>{o+10>r-s&&(t.addPage(),o=s,t.setFillColor(70,130,180),t.setTextColor(255,255,255),t.rect(s,o-6,n-30,8,"F"),t.setFontSize(9),t.text("#",17,o),t.text("Student Name",23,o),t.text("Email",75,o),t.text("Score",135,o),t.text("Correct",155,o),t.text("Total",180,o),t.setTextColor(0,0,0),o+=8),i%2===1&&(t.setFillColor(245,245,245),t.rect(s,o-5,n-30,7,"F")),t.setFontSize(9),t.text("".concat(i+1),17,o);const a=e.studentId.length>20?e.studentId.substring(0,20)+"...":e.studentId;t.text(a,23,o);const l=e.mail.length>25?e.mail.substring(0,25)+"...":e.mail;t.text(l,75,o);const c=j?e.weightedMarks:e.totalMarks,A=isNaN(c)?"N/A":"".concat(c.toFixed(1),"%");t.text(A,135,o),t.text("".concat(e.correctCount),160,o),t.text("".concat(e.totalQuestions),183,o),o+=7});const u=t.internal.getNumberOfPages();for(let d=1;d<=u;d++)t.setPage(d),t.setFontSize(8),t.setFont("helvetica","italic"),t.setTextColor(128,128,128),t.text("Page ".concat(d," of ").concat(u," - ").concat(i||e),n/2,r-10,{align:"center"});t.save("".concat(i||e,"_all_results.pdf"))},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,k.jsx)(Wp,{size:18}),"Download All Results"]})]}),(0,k.jsxs)(Yp,{children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)(Zp,{onClick:()=>z("studentId"),sortDirection:"studentId"===E?S:void 0,children:"Student ID"}),(0,k.jsx)(Zp,{onClick:()=>z("mail"),sortDirection:"mail"===E?S:void 0,children:"Email"}),(0,k.jsx)(Zp,{onClick:()=>z("totalMarks"),sortDirection:"totalMarks"===E?S:void 0,children:"Score"}),(0,k.jsx)(Zp,{onClick:()=>z("correctCount"),sortDirection:"correctCount"===E?S:void 0,children:"Correct"}),(0,k.jsx)("th",{className:"p-3",children:"Actions"})]})}),(0,k.jsx)("tbody",{children:G.length>0?G.map((n,r)=>(0,k.jsxs)(t.Fragment,{children:[(0,k.jsxs)($p,{isSelected:C===r,onClick:()=>B(C===r?null:r),children:[(0,k.jsx)(em,{children:(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:n.studentId.charAt(0).toUpperCase()}),(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:n.studentId}),(0,k.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",n.uid.substring(0,6),"..."]})]})]})}),(0,k.jsx)(em,{children:(0,k.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:n.mail})}),(0,k.jsx)(em,{children:(()=>{const e=j?n.weightedMarks:n.totalMarks,t=isNaN(e)?"bg-gray-100 text-gray-800":e>=70?"bg-green-100 text-green-800":e>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return(0,k.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat(t),children:isNaN(e)?"Not Attended":"".concat(e.toFixed(2),"%")})})()}),(0,k.jsx)(em,{children:(0,k.jsxs)("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:[n.correctCount," / ",n.totalQuestions]})}),(0,k.jsx)(em,{children:(0,k.jsxs)("button",{onClick:t=>{t.stopPropagation(),(async t=>{const n=new rg("p","mm","a4"),r=n.internal.pageSize.getWidth(),s=n.internal.pageSize.getHeight(),o=15;let a=o;const l={};try{for(const n of t.questions)try{const r=(0,u.KR)(A.OO,"questions/".concat(n.id)),s=(await(0,u.Jt)(r)).val()||{},i=(0,u.KR)(A.OO,"ExamSubmissions/".concat(e,"/").concat(t.uid,"/").concat(n.id));(await(0,u.Jt)(i)).val();let o=null;if("Programming"===n.type){const r=(0,u.KR)(A.OO,"ExamCode/".concat(e,"/").concat(t.uid,"/").concat(n.id,"/cpp"));console.log("Attempting to fetch code from: ExamCode/".concat(e,"/").concat(t.uid,"/").concat(n.id,"/cpp"));const s=await(0,u.Jt)(r);if(s.exists()){const e=s.val();console.log("Found code with UID:",e),o={code:e,language:"cpp"}}}console.log(o);const a=(0,d.A)({id:n.id,type:n.type,question:s.questionname||"No question text available",description:s.question||"",options:s.options||{},correctAnswer:s.correctAnswer,explanation:s.explanation||"",difficulty:s.difficulty||"Not specified",isCorrect:n.correct},s);l[n.id]=a}catch(p){console.error("Error fetching details for question ".concat(n.id,":"),p),l[n.id]={questionname:n.id,studentAnswer:null,isCorrect:n.correct,marks:n.marks,type:n.type}}}catch(p){console.error("Error fetching question details:",p)}const c=e=>a+e>s-o&&(n.addPage(),a=o,!0),h=function(e,t,r,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;n.setFontSize(i);const o=n.splitTextToSize(e,s);return n.text(o,t,r),o.length*(.35*i)},f=e=>{const t=parseInt(e);return isNaN(t)?e:(t+1).toString()};n.setFontSize(18),n.setFont("helvetica","bold"),n.text("Student Performance Report",r/2,a,{align:"center"}),a+=10,n.setFontSize(12),n.setFont("helvetica","normal"),n.text("Test: ".concat(i||e),o,a),a+=8,n.setDrawColor(200,200,200),n.line(o,a,r-o,a),a+=8,n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Student Information",o,a),a+=7,n.setFontSize(10),n.setFont("helvetica","normal"),n.text("Name: ".concat(t.studentId),o,a),a+=6,n.text("Email: ".concat(t.mail),o,a),a+=6,n.text("Student ID: ".concat(t.uid.substring(0,10),"..."),o,a),a+=10,c(40),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Performance Summary",o,a),a+=7,n.setFontSize(10),n.setFont("helvetica","normal"),n.text("Total Score: ".concat(isNaN(t.totalMarks)?"Not Attended":t.totalMarks.toFixed(2)+"%"),o,a),a+=6,n.text("Questions Attempted: ".concat(t.totalQuestions),o,a),a+=6,n.text("Correct Answers: ".concat(t.correctCount),o,a),a+=6,n.text("Incorrect Answers: ".concat(t.totalQuestions-t.correctCount),o,a),a+=6,n.text("Accuracy: ".concat(t.totalQuestions>0?Math.round(t.correctCount/t.totalQuestions*100):0,"%"),o,a),a+=12,c(40),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Detailed Question Analysis",o,a),a+=10;for(let e=0;e<t.questions.length;e++){const s=t.questions[e],i=l[s.id]||{};c(40),n.setFillColor(240,240,240),n.rect(o,a-5,r-30,8,"F"),n.setFontSize(11),n.setFont("helvetica","bold"),n.text("Question ".concat(e+1),17,a),null===i.studentAnswer||void 0===i.studentAnswer?(n.setTextColor(150,150,150),n.text("Not Attended",r-o-30,a)):s.correct?(n.setTextColor(0,128,0),n.text("Correct (+".concat(s.marks.toFixed(2),")"),r-o-35,a)):(n.setTextColor(255,0,0),n.text("Wrong (".concat(s.marks.toFixed(2),")"),r-o-30,a)),n.setTextColor(0,0,0),a+=10,n.setFontSize(10),n.setFont("helvetica","bold");const A=h(i.questionname||"No question text available",17,a,r-30-4,10);if(a+=A+3,i.description){n.setFont("helvetica","italic"),n.setFontSize(9);const e=h(i.description,17,a,r-30-4,9);a+=e+3,n.setFont("helvetica","normal")}if("Programming"!==s.type&&i.options){c(30),n.setFont("helvetica","normal"),n.setFontSize(9),n.text("Options:",17,a),a+=5,n.setFont("helvetica","normal");const e=Object.entries(i.options);for(const[t,s]of e){c(8);const e=t===i.correctAnswer,o=t===i.studentAnswer;e?(n.setFillColor(200,255,200),n.rect(19,a-4,r-30-8,6,"F")):o&&!e&&(n.setFillColor(255,200,200),n.rect(19,a-4,r-30-8,6,"F")),n.setFont("helvetica","normal");const l="".concat(f(t),". ").concat(s),A=h(l,21,a,r-30-12,9);let u=23+n.getTextWidth(l);e&&(n.setTextColor(0,128,0),n.setFont("helvetica","bold"),n.text(" [CORRECT]",u,a)),o&&(n.setTextColor(0,0,255),n.setFont("helvetica","bold"),n.text(" [SELECTED]",u+(e?25:0),a)),n.setTextColor(0,0,0),a+=A+2}if(a+=2,n.setFont("helvetica","bold"),null===i.studentAnswer||void 0===i.studentAnswer)n.setTextColor(150,150,150),n.text("Student's Answer: Not Attended",17,a);else{const e=null!==i.studentAnswer?i.studentAnswer:null;if(null!==e){const t=f(String(e));n.text("Student's Answer: Option ".concat(t),17,a)}else{const e="true"===i.studentAnswer?"Correct":"false"===i.studentAnswer?"Wrong":"Unknown";n.text("Student's Answer: ".concat(e),17,a)}}n.setTextColor(0,0,0),a+=5,n.text("Correct Answer: Option ".concat(i.correctAnswer),17,a),a+=7}if("Programming"===s.type){c(30),n.setFont("helvetica","bold"),n.setFontSize(10),n.text("Code Submission:",17,a),a+=6;const e=i.code;if(e){n.setFont("courier","normal"),n.setFontSize(7);const t=e.split("\n");for(const e of t){c(5)&&(n.setFont("courier","normal"),n.setFontSize(7));const t=e.length>95?e.substring(0,95)+"...":e;n.setFillColor(240,240,240),n.rect(17,a-3,r-30-4,4.5,"F"),n.setTextColor(20,20,20),n.text(t,19,a),n.setTextColor(0,0,0),a+=3.5}a+=5}else n.setFont("helvetica","italic"),n.setFontSize(9),n.setTextColor(150,150,150),n.text("No code submitted",19,a),n.setTextColor(0,0,0),a+=7}if(i.testCases){c(30),n.setFont("helvetica","bold"),n.setFontSize(10),n.text("Test Cases:",17,a),a+=6,n.setFont("helvetica","normal"),n.setFontSize(9);const e=i.testCases;for(let t=0;t<e.length;t++){const l=e[t];c(10);const A=s.correct?"PASSED":"FAILED",u=s.correct?[0,128,0]:[255,0,0];n.setFillColor(240,240,240),n.rect(o,a-4,r-30,8,"F"),n.setFontSize(9),n.setFont("helvetica","bold"),n.text("Test Case ".concat(t+1),17,a),n.setTextColor(...u),n.text(A,r-o-20,a),n.setTextColor(0,0,0),a+=8,n.setFont("helvetica","bold"),n.setFontSize(8),n.text("Input:",19,a),a+=4,n.setFont("courier","normal"),n.setFontSize(7);const d=l.input||"No input",h=n.splitTextToSize(d,r-30-8);n.text(h,21,a),a+=3.5*h.length+2,c(15),n.setFont("helvetica","bold"),n.setFontSize(8),n.setTextColor(0,128,0),n.text("Expected Output:",19,a),a+=4,n.setFont("courier","normal"),n.setFontSize(7),n.setTextColor(0,0,0);const f=l.expectedOutput||"No expected output",g=n.splitTextToSize(f,r-30-8);if(n.text(g,21,a),a+=3.5*g.length+2,i.codeSubmission&&"FAILED"===A){c(15),n.setFont("helvetica","bold"),n.setFontSize(8),n.setTextColor(255,0,0),n.text("Actual Output:",19,a),a+=4,n.setFont("courier","normal"),n.setFontSize(7),n.setTextColor(0,0,0);const e="Code execution output would be shown here",t=n.splitTextToSize(e,r-30-8);n.text(t,21,a),a+=3.5*t.length+4}a+=3}}else n.setFont("helvetica","italic"),n.setFontSize(9),n.setTextColor(150,150,150),n.text("No test cases available",19,a),n.setTextColor(0,0,0),a+=7;if(a+=5,i.explanation){c(15),n.setFillColor(230,240,255);const e=a-3;n.setFont("helvetica","bold"),n.setFontSize(9),n.text("Explanation:",17,a),a+=5,n.setFont("helvetica","normal");const t=h(i.explanation,17,a,r-30-4,8);n.rect(o,e,r-30,t+8,"S"),a+=t+5}a+=5}const g=n.internal.getNumberOfPages();for(let e=1;e<=g;e++)n.setPage(e),n.setFontSize(8),n.setFont("helvetica","italic"),n.setTextColor(128,128,128),n.text("Generated on ".concat((new Date).toLocaleDateString()," - Page ").concat(e," of ").concat(g),r/2,s-10,{align:"center"});n.save("".concat(t.studentId,"_").concat(i||e,"_detailed_report.pdf"))})(n)},className:"px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center gap-1.5 text-sm",title:"Download detailed student report",children:[(0,k.jsx)(Wp,{size:16}),"Download PDF"]})})]}),C===r&&(0,k.jsx)($p,{children:(0,k.jsxs)(em,{colSpan:"5",className:"p-6",children:[(0,k.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Question Details:"}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.questions.map((t,r)=>(0,k.jsxs)("div",{onClick:()=>async function(t,n,r,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"mcq",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(console.log("Fetching question details:",{questionId:t,studentId:n,studentuid:r,questionType:i,originalId:o,codeData:!!a}),t&&n){b(!0);try{const o=(0,u.KR)(A.OO,"questions/".concat(t)),c=(await(0,u.Jt)(o)).val()||{};console.log(t);let h=a;if("Programming"===i)try{const s=(0,u.KR)(A.OO,"ExamCode/".concat(e,"/").concat(r,"/").concat(t,"/cpp"));console.log("Attempting to fetch code from: ExamCode/".concat(e,"/").concat(r,"/").concat(t,"/cpp"));const i=await(0,u.Jt)(s);if(i.exists()){const e=i.val();console.log("Found code with UID:",e),h={code:e,language:"cpp"}}else{const r=(0,u.KR)(A.OO,"ExamCode/".concat(e,"/").concat(n,"/").concat(t,"/cpp"));console.log("Code not found with UID, trying with studentId: ExamCode/".concat(e,"/").concat(n,"/").concat(t,"/cpp"));const s=await(0,u.Jt)(r);if(s.exists()){const e=s.val();console.log("Found code with studentId:",e),h={code:e,language:"cpp"}}}}catch(l){console.error("Error fetching code:",l)}console.log(h);const g=(0,d.A)({id:t,type:i,question:c.questionname||"No question text available",description:c.question||"",options:c.options||{},correctAnswer:c.correctAnswer,explanation:c.explanation||"",difficulty:c.difficulty||"Not specified",isCorrect:s},c);p(g),y(h||null),f({id:t,studentId:n,type:i,isCorrect:s}),console.log(g),w(!0)}catch(l){console.error("Error fetching question details:",l)}finally{b(!1)}}}(t.id,n.studentId,n.uid,t.correct,t.type,t.originalId,t.code),className:"bg-white p-4 rounded-lg border border-gray-200 shadow-xs hover:shadow-sm transition-shadow cursor-pointer",children:[(0,k.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,k.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:t.id||"Question ".concat(r+1)}),(0,k.jsxs)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(t.marks>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[t.marks||0," points"]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat(t.correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.correct?"\u2713 Correct":"\u2717 Wrong"}),t.code&&(0,k.jsxs)("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-800 rounded-full text-xs flex items-center gap-1",children:[(0,k.jsx)(Gp,{size:12}),"Code"]})]})]},r))})]})})]},r)):(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"5",className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No results found for this exam"})})})]})]})}),v&&(0,k.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,k.jsxs)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[(0,k.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Question Details"}),(0,k.jsx)("button",{onClick:ee,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:(0,k.jsx)(Jp,{size:24})})]}),x?(0,k.jsx)("div",{className:"p-8 flex items-center justify-center",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,k.jsxs)("div",{className:"p-6",children:[(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,k.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(null!==h&&void 0!==h&&h.isCorrect?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:null!==h&&void 0!==h&&h.isCorrect?"\u2713 Correct Answer":"\u2717 Incorrect Answer"}),(0,k.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 rounded-full text-sm font-medium",children:(null===g||void 0===g?void 0:g.type)||"MCQ"})]}),(0,k.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:null===g||void 0===g?void 0:g.questionname}),(null===g||void 0===g?void 0:g.question)&&(0,k.jsxs)("div",{children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Description"}),(0,k.jsx)("p",{className:"mt-1 text-sm text-gray-900 dark:text-gray-200 whitespace-pre-wrap",children:null===g||void 0===g?void 0:g.question})]})]}),m?(0,k.jsxs)("div",{children:[(0,k.jsxs)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 flex items-center",children:[(0,k.jsx)(Gp,{className:"mr-2",size:16})," Code Submission"]}),(0,k.jsx)("pre",{className:"mt-2 p-4 bg-gray-50 dark:bg-gray-700 rounded-md text-sm text-gray-800 dark:text-gray-200 overflow-x-auto",children:m})]}):(0,k.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-md text-sm text-gray-500 dark:text-gray-400",children:"No code submission available"}),"Programming"===(null===g||void 0===g?void 0:g.type)&&(null===g||void 0===g?void 0:g.testCases)&&(0,k.jsxs)("div",{className:"mb-4",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,k.jsx)(Xp,{size:18,className:"text-purple-600"}),(0,k.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Test Cases"})]}),(0,k.jsx)("div",{className:"overflow-x-auto",children:(0,k.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,k.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Input"}),(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Expected Output"})]})}),(0,k.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Object.entries(g.testCases).map(e=>{let[t,n]=e;return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{className:"px-4 py-2 whitespace-pre-wrap text-sm text-gray-900 dark:text-gray-200",children:n.input}),(0,k.jsx)("td",{className:"px-4 py-2 whitespace-pre-wrap text-sm text-gray-900 dark:text-gray-200",children:n.expectedOutput})]},t)})})]})})]}),(null===g||void 0===g?void 0:g.options)&&Object.keys(g.options).length>0&&(0,k.jsxs)("div",{children:[(0,k.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Options:"}),(0,k.jsx)("div",{className:"space-y-2",children:Object.entries(g.options).map(e=>{let[t,n]=e;const r=parseInt(t),s=isNaN(r)?t:(r+1).toString();return(0,k.jsxs)("div",{className:"p-3 rounded-lg border ".concat(t===(null===g||void 0===g?void 0:g.correctAnswer)?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50"),children:[(0,k.jsxs)("span",{className:"font-medium",children:[s,":"]})," ",n,t===(null===g||void 0===g?void 0:g.correctAnswer)&&(0,k.jsx)("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:"(Correct Answer)"})]},t)})})]}),g.explanation&&(0,k.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[(0,k.jsx)("h4",{className:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Explanation:"}),(0,k.jsx)("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:g.explanation})]}),(0,k.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,k.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,k.jsx)("span",{className:"font-medium",children:"Status:"})," ",null!==h&&void 0!==h&&h.isCorrect?(0,k.jsx)("span",{className:"text-green-600 dark:text-green-400 ml-1",children:"Answered Correctly"}):(0,k.jsx)("span",{className:"text-red-600 dark:text-red-400 ml-1",children:"Incorrect Answer"})]}),(0,k.jsx)("button",{onClick:ee,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})]})]})}),O&&(0,k.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full p-6",children:[(0,k.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3",children:"Generating Detailed Report"}),(0,k.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:(0,k.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(D,"%")}})}),(0,k.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:H})]})})]})}const nm=(0,t.createContext)({});function rm(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}const sm="undefined"!==typeof window,im=sm?t.useLayoutEffect:t.useEffect,om=(0,t.createContext)(null);function am(e){return"object"===typeof e&&null!==e}function lm(e){return am(e)&&"offsetHeight"in e}const cm=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Am extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=lm(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function um(e){let{children:n,isPresent:r,anchorX:s,root:i}=e;const o=(0,t.useId)(),a=(0,t.useRef)(null),l=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,t.useContext)(cm);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:A,right:u}=l.current;if(r||!a.current||!e||!t)return;const d="left"===s?"left: ".concat(A):"right: ".concat(u);a.current.dataset.motionPopId=o;const h=document.createElement("style");c&&(h.nonce=c);const f=null!==i&&void 0!==i?i:document.head;return f.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(d,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{f.removeChild(h),f.contains(h)&&f.removeChild(h)}},[r]),(0,k.jsx)(Am,{isPresent:r,childRef:a,sizeRef:l,children:t.cloneElement(n,{ref:a})})}const dm=e=>{let{children:n,initial:r,isPresent:s,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:l,anchorX:c,root:A}=e;const u=rm(hm),h=(0,t.useId)();let f=!0,g=(0,t.useMemo)(()=>(f=!1,{id:h,initial:r,isPresent:s,custom:o,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;i&&i()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[s,u,i]);return a&&f&&(g=(0,d.A)({},g)),(0,t.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[s]),t.useEffect(()=>{!s&&!u.size&&i&&i()},[s]),"popLayout"===l&&(n=(0,k.jsx)(um,{isPresent:s,anchorX:c,root:A,children:n})),(0,k.jsx)(om.Provider,{value:g,children:n})};function hm(){return new Map}function fm(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(om);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:s,register:i}=n,o=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return i(o)},[e]);const a=(0,t.useCallback)(()=>e&&s&&s(o),[o,s,e]);return!r&&s?[!1,a]:[!0]}const gm=e=>e.key||"";function pm(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}const mm=e=>{let{children:n,custom:r,initial:s=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:A}=e;const[u,d]=fm(l),h=(0,t.useMemo)(()=>pm(n),[n]),f=l&&!u?[]:h.map(gm),g=(0,t.useRef)(!0),p=(0,t.useRef)(h),m=rm(()=>new Map),[y,v]=(0,t.useState)(h),[w,x]=(0,t.useState)(h);im(()=>{g.current=!1,p.current=h;for(let e=0;e<w.length;e++){const t=gm(w[e]);f.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[w,f.length,f.join("-")]);const b=[];if(h!==y){let e=[...h];for(let t=0;t<w.length;t++){const n=w[t],r=gm(n);f.includes(r)||(e.splice(t,0,n),b.push(n))}return"wait"===a&&b.length&&(e=b),x(pm(e)),v(h),null}const{forceRender:C}=(0,t.useContext)(nm);return(0,k.jsx)(k.Fragment,{children:w.map(e=>{const t=gm(e),n=!(l&&!u)&&(h===w||f.includes(t));return(0,k.jsx)(dm,{isPresent:n,initial:!(g.current&&!s)&&void 0,custom:r,presenceAffectsLayout:o,mode:a,root:A,onExitComplete:n?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(null===C||void 0===C||C(),x(p.current),l&&(null===d||void 0===d||d()),i&&i())},anchorX:c,children:e},t)})})};function ym(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy(function(){return e(...arguments)},{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function vm(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function wm(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function xm(e,t,n,r){if("function"===typeof t){const[s,i]=wm(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,i]=wm(r);t=t(void 0!==n?n:e.custom,s,i)}return t}function bm(e,t,n){const r=e.getProps();return xm(r,t,void 0!==n?n:r.custom,e)}function Cm(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const Bm=e=>e,km={},Em=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Nm={value:null,addProjectionMetrics:null};function Sm(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Em.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){o.has(t)&&(A.schedule(t),e()),l++,t(a)}const A={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{a=e,s?i=!0:(s=!0,[n,r]=[r,n],n.forEach(c),t&&Nm.value&&Nm.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,A.process(e)))}};return A}(i,t?n:void 0),e),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:A,update:u,preRender:d,render:h,postRender:f}=o,g=()=>{const i=km.useManualTiming?s.timestamp:performance.now();n=!1,km.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1)),s.timestamp=i,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),A.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},p=Em.reduce((t,i)=>{const a=o[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(g)),a.schedule(t,i,o)},t},{});return{schedule:p,cancel:e=>{for(let t=0;t<Em.length;t++)o[Em[t]].cancel(e)},state:s,steps:o}}const{schedule:_m,cancel:Fm,state:Im,steps:Tm}=Sm("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Bm,!0),jm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lm=(()=>new Set(jm))(),Um=new Set(["width","height","top","left","right","bottom",...jm]);function Pm(e,t){-1===e.indexOf(t)&&e.push(t)}function Qm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Om{constructor(){this.subscriptions=[]}add(e){return Pm(this.subscriptions,e),()=>Qm(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Rm(e,t){return t?e*(1e3/t):0}let Dm;function Mm(){Dm=void 0}const Hm={now:()=>(void 0===Dm&&Hm.set(Im.isProcessing||km.useManualTiming?Im.timestamp:performance.now()),Dm),set:e=>{Dm=e,queueMicrotask(Mm)}},Vm={current:void 0};class Km{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Hm.now();var s,i;if((t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev)&&(null===(s=t.events.change)||void 0===s||s.notify(t.current),t.dependents))for(const o of t.dependents)o.dirty();n&&(null===(i=t.events.renderRequest)||void 0===i||i.notify(t.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Hm.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Om);const n=this.events[e].add(t);return"change"===e?()=>{n(),_m.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Vm.current&&Vm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Hm.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Rm(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qm(e,t){return new Km(e,t)}const zm=e=>Array.isArray(e),Wm=["transitionEnd","transition"];function Gm(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qm(n))}function Jm(e){return zm(e)?e[e.length-1]||0:e}const Xm=e=>Boolean(e&&e.getVelocity);function Ym(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Xm(r)&&r.add))return n.add(t);if(!n&&km.WillChange){const n=new km.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const Zm=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),$m="data-"+Zm("framerAppearId");function ey(e){return e.props[$m]}const ty=(e,t)=>n=>t(e(n)),ny=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(ty)},ry=(e,t,n)=>n>t?t:n<e?e:n,sy=e=>1e3*e,iy=e=>e/1e3,oy={layout:0,mainThread:0,waapi:0};const ay=e=>t=>"string"===typeof t&&t.startsWith(e),ly=ay("--"),cy=ay("var(--"),Ay=e=>!!cy(e)&&uy.test(e.split("/*")[0].trim()),uy=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,dy={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},hy=(0,d.A)((0,d.A)({},dy),{},{transform:e=>ry(0,1,e)}),fy=(0,d.A)((0,d.A)({},dy),{},{default:1}),gy=e=>Math.round(1e5*e)/1e5,py=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const my=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,yy=(e,t)=>n=>Boolean("string"===typeof n&&my.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),vy=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[s,i,o,a]=r.match(py);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},wy=(0,d.A)((0,d.A)({},dy),{},{transform:e=>Math.round((e=>ry(0,255,e))(e))}),xy={test:yy("rgb","red"),parse:vy("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+wy.transform(t)+", "+wy.transform(n)+", "+wy.transform(r)+", "+gy(hy.transform(s))+")"}};const by={test:yy("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:xy.transform},Cy=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),By=Cy("deg"),ky=Cy("%"),Ey=Cy("px"),Ny=Cy("vh"),Sy=Cy("vw"),_y=(()=>(0,d.A)((0,d.A)({},ky),{},{parse:e=>ky.parse(e)/100,transform:e=>ky.transform(100*e)}))(),Fy={test:yy("hsl","hue"),parse:vy("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+ky.transform(gy(n))+", "+ky.transform(gy(r))+", "+gy(hy.transform(s))+")"}},Iy={test:e=>xy.test(e)||by.test(e)||Fy.test(e),parse:e=>xy.test(e)?xy.parse(e):Fy.test(e)?Fy.parse(e):by.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?xy.transform(e):Fy.transform(e),getAnimatableNone:e=>{const t=Iy.parse(e);return t.alpha=0,Iy.transform(t)}},Ty=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const jy="number",Ly="color",Uy=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function Py(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(Uy,e=>(Iy.test(e)?(r.color.push(i),s.push(Ly),n.push(Iy.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(jy),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:o,indexes:r,types:s}}function Qy(e){return Py(e).values}function Oy(e){const{split:t,types:n}=Py(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===jy?gy(e[i]):t===Ly?Iy.transform(e[i]):e[i]}return s}}const Ry=e=>"number"===typeof e?0:Iy.test(e)?Iy.getAnimatableNone(e):e;const Dy={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(py))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ty))||void 0===n?void 0:n.length)||0)>0},parse:Qy,createTransformer:Oy,getAnimatableNone:function(e){const t=Qy(e);return Oy(e)(t.map(Ry))}};function My(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Hy(e,t){return n=>n>0?t:e}const Vy=(e,t,n)=>e+(t-e)*n,Ky=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},qy=[by,xy,Fy];function zy(e){const t=(e=>qy.find(t=>t.test(e)))(e);if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let n=t.parse(e);return t===Fy&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=My(s,e,t+1/3),o=My(s,e,t),a=My(s,e,t-1/3)}else i=o=a=r;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:s}}(n)),n}const Wy=(e,t)=>{const n=zy(e),r=zy(t);if(!n||!r)return Hy(e,t);const s=(0,d.A)({},n);return e=>(s.red=Ky(n.red,r.red,e),s.green=Ky(n.green,r.green,e),s.blue=Ky(n.blue,r.blue,e),s.alpha=Vy(n.alpha,r.alpha,e),xy.transform(s))},Gy=new Set(["none","hidden"]);function Jy(e,t){return n=>Vy(e,t,n)}function Xy(e){return"number"===typeof e?Jy:"string"===typeof e?Ay(e)?Hy:Iy.test(e)?Wy:$y:Array.isArray(e)?Yy:"object"===typeof e?Iy.test(e)?Wy:Zy:Hy}function Yy(e,t){const n=[...e],r=n.length,s=e.map((e,n)=>Xy(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function Zy(e,t){const n=(0,d.A)((0,d.A)({},e),t),r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Xy(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const $y=(e,t)=>{const n=Dy.createTransformer(t),r=Py(e),s=Py(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Gy.has(e)&&!s.values.length||Gy.has(t)&&!r.values.length?function(e,t){return Gy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):ny(Yy(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var s;const o=t.types[i],a=e.indexes[o][r[o]],l=null!==(s=e.values[a])&&void 0!==s?s:0;n[i]=l,r[o]++}return n}(r,s),s.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),Hy(e,t))};function ev(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Vy(e,t,n);return Xy(e)(e,t)}const tv=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return _m.update(t,e)},stop:()=>Fm(t),now:()=>Im.isProcessing?Im.timestamp:Hm.now()}},nv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(1e4*e(i/(s-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},rv=2e4;function sv(e){let t=0;let n=e.next(t);for(;!n.done&&t<rv;)t+=50,n=e.next(t);return t>=rv?1/0:t}function iv(e,t,n){const r=Math.max(t-5,0);return Rm(n-e(r),t-r)}const ov={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},av=.001;function lv(e){let t,n,{duration:r=ov.duration,bounce:s=ov.bounce,velocity:i=ov.velocity,mass:o=ov.mass}=e;sy(ov.maxDuration);let a=1-s;a=ry(ov.minDamping,ov.maxDamping,a),r=ry(ov.minDuration,ov.maxDuration,iy(r)),a<1?(t=e=>{const t=e*a,n=t*r,s=t-i,o=Av(e,a),l=Math.exp(-n);return av-s/o*l},n=e=>{const n=e*a*r,s=n*i+i,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Av(Math.pow(e,2),a);return(-t(e)+av>0?-1:1)*((s-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<cv;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=sy(r),isNaN(l))return{stiffness:ov.stiffness,damping:ov.damping,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const cv=12;function Av(e,t){return e*Math.sqrt(1-t*t)}const uv=["duration","bounce"],dv=["stiffness","damping","mass"];function hv(e,t){return t.some(t=>void 0!==e[t])}function fv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ov.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ov.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:A,duration:u,velocity:h,isResolvedFromDuration:f}=function(e){let t=(0,d.A)({velocity:ov.velocity,stiffness:ov.stiffness,damping:ov.damping,mass:ov.mass,isResolvedFromDuration:!1},e);if(!hv(e,dv)&&hv(e,uv))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*ry(.05,1,1-(e.bounce||0))*Math.sqrt(s);t=(0,d.A)((0,d.A)({},t),{},{mass:ov.mass,stiffness:s,damping:i})}else{const n=lv(e);t=(0,d.A)((0,d.A)((0,d.A)({},t),n),{},{mass:ov.mass}),t.isResolvedFromDuration=!0}return t}((0,d.A)((0,d.A)({},n),{},{velocity:-iy(n.velocity||0)})),g=h||0,p=c/(2*Math.sqrt(l*A)),m=o-i,y=iy(Math.sqrt(l/A)),v=Math.abs(m)<5;let w;if(r||(r=v?ov.restSpeed.granular:ov.restSpeed.default),s||(s=v?ov.restDelta.granular:ov.restDelta.default),p<1){const e=Av(y,p);w=t=>{const n=Math.exp(-p*y*t);return o-n*((g+p*y*m)/e*Math.sin(e*t)+m*Math.cos(e*t))}}else if(1===p)w=e=>o-Math.exp(-y*e)*(m+(g+y*m)*e);else{const e=y*Math.sqrt(p*p-1);w=t=>{const n=Math.exp(-p*y*t),r=Math.min(e*t,300);return o-n*((g+p*y*m)*Math.sinh(r)+e*m*Math.cosh(r))/e}}const x={calculatedDuration:f&&u||null,next:e=>{const t=w(e);if(f)a.done=e>=u;else{let n=0===e?g:0;p<1&&(n=0===e?sy(g):iv(w,e,t));const i=Math.abs(n)<=r,l=Math.abs(o-t)<=s;a.done=i&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(sv(x),rv),t=nv(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function gv(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:A=.5,restSpeed:u}=e;const d=t[0],h={done:!1,value:d},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let g=r*n;const p=d+g,m=void 0===a?p:a(p);m!==p&&(g=m-d);const y=e=>-g*Math.exp(-e/s),v=e=>m+y(e),w=e=>{const t=y(e),n=v(e);h.done=Math.abs(t)<=A,h.value=h.done?m:n};let x,b;const C=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(h.value)&&(x=e,b=fv({keyframes:[h.value,f(h.value)],velocity:iv(v,e,h.value),damping:i,stiffness:o,restDelta:A,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return b||void 0!==x||(t=!0,w(e),C(e)),void 0!==x&&e>=x?b.next(e-x):(!t&&w(e),h)}}}fv.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)((0,d.A)((0,d.A)({},e),{},{keyframes:[0,t]})),r=Math.min(sv(n),rv);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:iy(r)}}(e,100,fv);return e.ease=t.ease,e.duration=sy(t.duration),e.type="keyframes",e};const pv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function mv(e,t,n,r){if(e===t&&n===r)return Bm;const s=t=>function(e,t,n,r,s){let i,o,a=0;do{o=t+(n-t)/2,i=pv(o,r,s)-e,i>0?n=o:t=o}while(Math.abs(i)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:pv(s(e),t,r)}const yv=mv(.42,0,1,1),vv=mv(0,0,.58,1),wv=mv(.42,0,.58,1),xv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bv=e=>t=>1-e(1-t),Cv=mv(.33,1.53,.69,.99),Bv=bv(Cv),kv=xv(Bv),Ev=e=>(e*=2)<1?.5*Bv(e):.5*(2-Math.pow(2,-10*(e-1))),Nv=e=>1-Math.sin(Math.acos(e)),Sv=bv(Nv),_v=xv(Nv),Fv=e=>Array.isArray(e)&&"number"===typeof e[0],Iv={linear:Bm,easeIn:yv,easeInOut:wv,easeOut:vv,circIn:Nv,circInOut:_v,circOut:Sv,backIn:Bv,backInOut:kv,backOut:Cv,anticipate:Ev},Tv=e=>{if(Fv(e)){e.length;const[t,n,r,s]=e;return mv(t,n,r,s)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),Iv[e]):e},jv=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function Lv(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],s=n||km.mix||ev,i=e.length-1;for(let o=0;o<i;o++){let n=s(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Bm:t;n=ny(e,n)}r.push(n)}return r}(t,r,s),l=a.length,c=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=jv(e[r],e[r+1],n);return a[r](s)};return n?t=>c(ry(e[0],e[i-1],t)):c}function Uv(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=jv(0,t,r);e.push(Vy(n,1,s))}}(t,e.length-1),t}function Pv(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(Tv):Tv(s),o={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:Uv(n),t),l=Lv(a,n,{ease:Array.isArray(i)?i:(c=n,A=i,c.map(()=>A||wv).splice(0,c.length-1))});var c,A;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const Qv=e=>null!==e;function Ov(e,t,n){let{repeat:r,repeatType:s="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.filter(Qv),a=i<0||r&&"loop"!==s&&r%2===1?0:o.length-1;return a&&void 0!==n?n:o[a]}const Rv={decay:gv,inertia:gv,tween:Pv,keyframes:Pv,spring:fv};function Dv(e){"string"===typeof e.type&&(e.type=Rv[e.type])}class Mv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Hv=e=>e/100;class Vv extends Mv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Hm.now()&&this.tick(Hm.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},oy.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Dv(e);const{type:t=Pv,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=e;let{keyframes:o}=e;const a=t||Pv;a!==Pv&&"number"!==typeof o[0]&&(this.mixKeyframes=ny(Hv,ev(o[0],o[1])),o=[0,100]);const l=a((0,d.A)((0,d.A)({},e),{},{keyframes:o}));"mirror"===s&&(this.mirroredGenerator=a((0,d.A)((0,d.A)({},e),{},{keyframes:[...o].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=sv(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:A,repeatType:u,repeatDelay:d,type:h,onUpdate:f,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const p=this.currentTime-l*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?p<0:p>r;this.currentTime=Math.max(p,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,v=n;if(A){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,A+1);Boolean(t%2)&&("reverse"===u?(n=1-n,d&&(n-=d/o)):"mirror"===u&&(v=i)),y=ry(0,1,n)*o}const w=m?{done:!1,value:c[0]}:v.next(y);s&&(w.value=s(w.value));let{done:x}=w;m||null===a||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const b=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return b&&h!==gv&&(w.value=Ov(c,this.options,g,this.speed)),f&&f(w.value),b&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return iy(this.calculatedDuration)}get time(){return iy(this.currentTime)}set time(e){var t;e=sy(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hm.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=iy(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=tv,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hm.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,oy.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const Kv=e=>180*e/Math.PI,qv=e=>{const t=Kv(Math.atan2(e[1],e[0]));return Wv(t)},zv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:qv,rotateZ:qv,skewX:e=>Kv(Math.atan(e[1])),skewY:e=>Kv(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Wv=e=>((e%=360)<0&&(e+=360),e),Gv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Jv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Xv={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gv,scaleY:Jv,scale:e=>(Gv(e)+Jv(e))/2,rotateX:e=>Wv(Kv(Math.atan2(e[6],e[5]))),rotateY:e=>Wv(Kv(Math.atan2(-e[2],e[0]))),rotateZ:qv,rotate:qv,skewX:e=>Kv(Math.atan(e[4])),skewY:e=>Kv(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Yv(e){return e.includes("scale")?1:0}function Zv(e,t){if(!e||"none"===e)return Yv(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,s;if(n)r=Xv,s=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=zv,s=t}if(!s)return Yv(t);const i=r[t],o=s[1].split(",").map($v);return"function"===typeof i?i(o):o[i]}function $v(e){return parseFloat(e.trim())}const ew=e=>e===dy||e===Ey,tw=new Set(["x","y","z"]),nw=jm.filter(e=>!tw.has(e));const rw={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Zv(n,"x")},y:(e,t)=>{let{transform:n}=t;return Zv(n,"y")}};rw.translateX=rw.x,rw.translateY=rw.y;const sw=new Set;let iw=!1,ow=!1,aw=!1;function lw(){if(ow){const e=Array.from(sw).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return nw.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,s]=t;null===(n=e.getValue(r))||void 0===n||n.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ow=!1,iw=!1,sw.forEach(e=>e.complete(aw)),sw.clear()}function cw(){sw.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ow=!0)})}class Aw{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(sw.add(this),iw||(iw=!0,_m.read(cw),_m.resolveKeyframes(lw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const s=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),sw.delete(this)}cancel(){"scheduled"===this.state&&(sw.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function uw(e){let t;return()=>(void 0===t&&(t=e()),t)}const dw=uw(()=>void 0!==window.ScrollTimeline),hw={};function fw(e,t){const n=uw(e);return()=>{var e;return null!==(e=hw[t])&&void 0!==e?e:n()}}const gw=fw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(VE){return!1}return!0},"linearEasing"),pw=e=>{let[t,n,r,s]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(s,")")},mw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pw([0,.65,.55,1]),circOut:pw([.55,0,1,.45]),backIn:pw([.31,.01,.66,-.59]),backOut:pw([.33,1.53,.69,.99])};function yw(e,t){return e?"function"===typeof e?gw()?nv(e,t):"ease-out":Fv(e)?pw(e):Array.isArray(e)?e.map(e=>yw(e,t)||mw.easeOut):mw[e]:void 0}function vw(e,t,n){let{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const A={[t]:n};l&&(A.offset=l);const u=yw(a,s);Array.isArray(u)&&(A.easing=u),Nm.value&&oy.waapi++;const d={delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===o?"alternate":"normal"};c&&(d.pseudoElement=c);const h=e.animate(A,d);return Nm.value&&h.finished.finally(()=>{oy.waapi--}),h}function ww(e){return"function"===typeof e&&"applyToOptions"in e}const xw=["type"];class bw extends Mv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:o,onComplete:a}=e;this.isPseudoElement=Boolean(s),this.allowFlatten=i,this.options=e,e.type;const l=function(e){let{type:t}=e,n=h(e,xw);return ww(t)&&gw()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(s=n.ease)&&void 0!==s||(n.ease="easeOut"),n);var r,s}(e);this.animation=vw(t,n,r,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const e=Ov(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===a||void 0===a||a(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(VE){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return iy(Number(n))}get time(){return iy(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=sy(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&dw()?(this.animation.timeline=t,Bm):n(this)}}const Cw={anticipate:Ev,backInOut:kv,circInOut:_v};function Bw(e){"string"===typeof e.ease&&e.ease in Cw&&(e.ease=Cw[e.ease])}const kw=["motionValue","onUpdate","onComplete","element"];class Ew extends bw{constructor(e){Bw(e),Dv(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:s,onComplete:i,element:o}=n,a=h(n,kw);if(!r)return;if(void 0!==e)return void r.set(e);const l=new Vv((0,d.A)((0,d.A)({},a),{},{autoplay:!1})),c=sy(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(l.sample(c-10).value,l.sample(c).value,10),l.stop()}}const Nw=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Dy.test(e)&&"0"!==e||e.startsWith("url(")));const Sw=new Set(["opacity","clipPath","filter","transform"]),_w=uw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Fw=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Iw extends Mv{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:l,name:c,motionValue:A,element:u}=e,f=h(e,Fw);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Hm.now();const g=(0,d.A)({autoplay:n,delay:r,type:s,repeat:i,repeatDelay:o,repeatType:a,name:c,motionValue:A,element:u},f),p=(null===u||void 0===u?void 0:u.KeyframeResolver)||Aw;this.keyframeResolver=new p(l,(e,t,n)=>this.onKeyframesResolved(e,t,g,!n),c,A,u),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:i,velocity:o,delay:a,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Hm.now(),function(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],o=Nw(s,t),a=Nw(i,t);return"You are trying to animate ".concat(t,' from "').concat(s,'" to "').concat(i,'". "').concat(o?i:s,'" is not an animatable value.'),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||ww(n))&&r)}(e,s,i,o)||(!km.instantAnimations&&a||null===c||void 0===c||c(Ov(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const A=r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,u=(0,d.A)((0,d.A)({startTime:A,finalKeyframe:t},n),{},{keyframes:e}),h=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!lm(null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return _w()&&r&&Sw.has(r)&&("transform"!==r||!c)&&!l&&!s&&"mirror"!==i&&0!==o&&"inertia"!==a}(u)?new Ew((0,d.A)((0,d.A)({},u),{},{element:u.motionValue.owner.current})):new Vv(u);h.finished.then(()=>this.notifyFinished()).catch(Bm),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),aw=!0,cw(),lw(),aw=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Tw=e=>null!==e;const jw={type:"spring",stiffness:500,damping:25,restSpeed:10},Lw={type:"keyframes",duration:.8},Uw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pw=(e,t)=>{let{keyframes:n}=t;return n.length>2?Lw:Lm.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:jw:Uw},Qw=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Ow=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return o=>{const a=Cm(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=sy(l);const A=(0,d.A)((0,d.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{},{delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:A}=e,u=h(e,Qw);return!!Object.keys(u).length})(a)||Object.assign(A,Pw(e,A)),A.duration&&(A.duration=sy(A.duration)),A.repeatDelay&&(A.repeatDelay=sy(A.repeatDelay)),void 0!==A.from&&(A.keyframes[0]=A.from);let u=!1;if((!1===A.type||0===A.duration&&!A.repeatDelay)&&(A.duration=0,0===A.delay&&(u=!0)),(km.instantAnimations||km.skipAnimations)&&(u=!0,A.duration=0,A.delay=0),A.allowFlatten=!a.type&&!a.ease,u&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:s="loop"}=t;const i=e.filter(Tw),o=r&&"loop"!==s&&r%2===1?0:i.length-1;return o&&void 0!==n?n:i[o]}(A.keyframes,a);if(void 0!==e)return void _m.update(()=>{A.onUpdate(e),A.onComplete()})}return a.isSync?new Vv(A):new Iw(A)}},Rw=["transition","transitionEnd"];function Dw(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function Mw(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:o}=t,a=h(t,Rw);r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in a){var A;const t=e.getValue(u,null!==(A=e.latestValues[u])&&void 0!==A?A:null),r=a[u];if(void 0===r||c&&Dw(c,u))continue;const s=(0,d.A)({delay:n},Cm(i||{},u)),o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!s.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=ey(e);if(t){const e=window.MotionHandoffAnimation(t,u,_m);null!==e&&(s.startTime=e,h=!0)}}Ym(e,u),t.start(Ow(u,t,r,e.shouldReduceMotion&&Um.has(u)?{type:!1}:s,e,h));const f=t.animation;f&&l.push(f)}return o&&Promise.all(l).then(()=>{_m.update(()=>{o&&function(e,t){let n=bm(e,t)||{},{transitionEnd:r={},transition:s={}}=n,i=h(n,Wm);i=(0,d.A)((0,d.A)({},i),r);for(const o in i)Gm(e,o,Jm(i[o]))}(e,o)})}),l}function Hw(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=bm(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(Mw(e,s,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0;const a=[],l=e.variantChildren.size,c=(l-1)*s,A="function"===typeof r,u=A?e=>r(e,l):1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*s}:function(){return c-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*s};return Array.from(e.variantChildren).sort(Vw).forEach((e,s)=>{e.notify("AnimationStart",t),a.push(Hw(e,t,(0,d.A)((0,d.A)({},o),{},{delay:n+(A?0:r)+u(s)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,n,s,o,a,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then(()=>t())}return Promise.all([o(),a(r.delay)])}function Vw(e,t){return e.sortNodePosition(t)}function Kw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function qw(e){return"string"===typeof e||Array.isArray(e)}const zw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ww=["initial",...zw],Gw=Ww.length;function Jw(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Jw(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Gw;n++){const r=Ww[n],s=e.props[r];(qw(s)||!1===s)&&(t[r]=s)}return t}const Xw=["transition","transitionEnd"],Yw=[...zw].reverse(),Zw=zw.length;function $w(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>Hw(e,t,r));n=Promise.all(s)}else if("string"===typeof t)n=Hw(e,t,r);else{const s="function"===typeof t?bm(e,t,r.custom):t;n=Promise.all(Mw(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function ex(e){let t=$w(e),n=rx(),r=!0;const s=t=>(n,r)=>{var s;const i=bm(e,r,"exit"===t?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);if(i){const{transition:e,transitionEnd:t}=i,r=h(i,Xw);n=(0,d.A)((0,d.A)((0,d.A)({},n),r),t)}return n};function i(i){const{props:o}=e,a=Jw(e.parent)||{},l=[],c=new Set;let A={},u=1/0;for(let t=0;t<Zw;t++){const h=Yw[t],f=n[h],g=void 0!==o[h]?o[h]:a[h],p=qw(g),m=h===i?f.isActive:null;!1===m&&(u=t);let y=g===a[h]&&g!==o[h]&&p;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys=(0,d.A)({},A),!f.isActive&&null===m||!g&&!f.prevProp||vm(g)||"boolean"===typeof g)continue;const v=tx(f.prevProp,g);let w=v||h===i&&f.isActive&&!y&&p||t>u&&p,x=!1;const b=Array.isArray(g)?g:[g];let C=b.reduce(s(h),{});!1===m&&(C={});const{prevResolvedValues:B={}}=f,k=(0,d.A)((0,d.A)({},B),C),E=t=>{w=!0,c.has(t)&&(x=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=C[e],n=B[e];if(A.hasOwnProperty(e))continue;let r=!1;r=zm(t)&&zm(n)?!Kw(t,n):t!==n,r?void 0!==t&&null!==t?E(e):c.add(e):void 0!==t&&c.has(e)?E(e):f.protectedKeys[e]=!0}f.prevProp=g,f.prevResolvedValues=C,f.isActive&&(A=(0,d.A)((0,d.A)({},A),C)),r&&e.blockInitialAnimation&&(w=!1);w&&(!(y&&v)||x)&&l.push(...b.map(e=>({animation:e,options:{type:h}})))}if(c.size){const t={};if("boolean"!==typeof o.initial){const n=bm(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=i(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=rx(),r=!0}}}function tx(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Kw(t,e)}function nx(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rx(){return{animate:nx(!0),whileInView:nx(),whileHover:nx(),whileTap:nx(),whileDrag:nx(),whileFocus:nx(),exit:nx()}}class sx{constructor(e){this.isMounted=!1,this.node=e}update(){}}let ix=0;const ox={animation:{Feature:class extends sx{constructor(e){super(e),e.animationState||(e.animationState=ex(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends sx{constructor(){super(...arguments),this.id=ix++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},ax={x:!1,y:!1};function lx(){return ax.x||ax.y}function cx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Ax=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function ux(e){return{point:{x:e.pageX,y:e.pageY}}}function dx(e,t,n,r){return cx(e,t,(e=>t=>Ax(t)&&e(t,ux(t)))(n),r)}function hx(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function fx(e){return e.max-e.min}function gx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Vy(t.min,t.max,e.origin),e.scale=fx(n)/fx(t),e.translate=Vy(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function px(e,t,n,r){gx(e.x,t.x,n.x,r?r.originX:void 0),gx(e.y,t.y,n.y,r?r.originY:void 0)}function mx(e,t,n){e.min=n.min+t.min,e.max=e.min+fx(t)}function yx(e,t,n){e.min=t.min-n.min,e.max=e.min+fx(t)}function vx(e,t,n){yx(e.x,t.x,n.x),yx(e.y,t.y,n.y)}const wx=()=>({x:{min:0,max:0},y:{min:0,max:0}});function xx(e){return[e("x"),e("y")]}function bx(e){return void 0===e||1===e}function Cx(e){let{scale:t,scaleX:n,scaleY:r}=e;return!bx(t)||!bx(n)||!bx(r)}function Bx(e){return Cx(e)||kx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kx(e){return Ex(e.x)||Ex(e.y)}function Ex(e){return e&&"0%"!==e}function Nx(e,t,n){return n+t*(e-n)}function Sx(e,t,n,r,s){return void 0!==s&&(e=Nx(e,s,r)),Nx(e,n,r)+t}function _x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=Sx(e.min,t,n,r,s),e.max=Sx(e.max,t,n,r,s)}function Fx(e,t){let{x:n,y:r}=t;_x(e.x,n.translate,n.scale,n.originPoint),_x(e.y,r.translate,r.scale,r.originPoint)}const Ix=.999999999999,Tx=1.0000000000001;function jx(e,t){e.min=e.min+t,e.max=e.max+t}function Lx(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;_x(e,t,n,Vy(e.min,e.max,s),r)}function Ux(e,t){Lx(e.x,t.x,t.scaleX,t.scale,t.originX),Lx(e.y,t.y,t.scaleY,t.scale,t.originY)}function Px(e,t){return hx(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Qx=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function Ox(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const Rx=(e,t)=>Math.abs(e-t);class Dx{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Vx(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Rx(e.x,t.x),r=Rx(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=Im;this.history.push((0,d.A)((0,d.A)({},r),{},{timestamp:s}));const{onStart:i,onMove:o}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Mx(t,this.transformPagePoint),_m.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Vx("pointercancel"===e.type?this.lastMoveEventInfo:Mx(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Ax(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const o=Mx(ux(e),this.transformPagePoint),{point:a}=o,{timestamp:l}=Im;this.history=[(0,d.A)((0,d.A)({},a),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,Vx(o,this.history)),this.removeListeners=ny(dx(this.contextWindow,"pointermove",this.handlePointerMove),dx(this.contextWindow,"pointerup",this.handlePointerUp),dx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fm(this.updatePoint)}}function Mx(e,t){return t?{point:t(e.point)}:e}function Hx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vx(e,t){let{point:n}=e;return{point:n,delta:Hx(n,qx(t)),offset:Hx(n,Kx(t)),velocity:zx(t,.1)}}function Kx(e){return e[0]}function qx(e){return e[e.length-1]}function zx(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=qx(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>sy(t)));)n--;if(!r)return{x:0,y:0};const i=iy(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Wx(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Gx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Jx=.35;function Xx(e,t,n){return{min:Yx(e,t),max:Yx(e,n)}}function Yx(e,t){return"number"===typeof e?e:e[t]||0}const Zx=new WeakMap;class $x{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new Dx(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ux(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?ax[i]?null:(ax[i]=!0,()=>{ax[i]=!1}):ax.x||ax.y?null:(ax.x=ax.y=!0,()=>{ax.x=ax.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xx(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ky.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=fx(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&_m.postRender(()=>s(e,t)),Ym(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>xx(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:n,contextWindow:Qx(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&_m.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!eb(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?Vy(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?Vy(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&Ox(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:Wx(e.x,r,i),y:Wx(e.y,n,s)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jx;return!1===e?e=0:!0===e&&(e=Jx),{x:Xx(e,"left","right"),y:Xx(e,"top","bottom")}}(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xx(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ox(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=Px(e,n),{scroll:s}=t;return s&&(jx(r.x,s.offset.x),jx(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Gx(e.x,t.x),y:Gx(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=hx(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=xx(o=>{if(!eb(o,t,this.currentDirection))return;let l=a&&a[o]||{};i&&(l={min:0,max:0});const c=r?200:1e6,A=r?40:1e7,u=(0,d.A)((0,d.A)({type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10},s),l);return this.startAxisValueAnimation(o,u)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Ym(this.visualElement,e),n.start(Ow(e,n,0,t,this.visualElement,!1))}stopAnimation(){xx(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xx(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){xx(t=>{const{drag:n}=this.getProps();if(!eb(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-Vy(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Ox(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};xx(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=fx(e),s=fx(t);return s>r?n=jv(t.min,t.max-r,e.min):r>s&&(n=jv(e.min,e.max-s,t.min)),ry(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xx(t=>{if(!eb(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(Vy(s,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;Zx.set(this.visualElement,this);const e=dx(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Ox(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),_m.read(t);const s=cx(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(xx(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=Jx,dragMomentum:o=!0}=e;return(0,d.A)((0,d.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:o})}}function eb(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const tb=e=>(t,n)=>{e&&_m.postRender(()=>e(t,n))};const{schedule:nb,cancel:rb}=Sm(queueMicrotask,!1),sb=(0,t.createContext)({}),ib={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ob(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ab={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Ey.test(e))return e;e=parseFloat(e)}const n=ob(e,t.target.x),r=ob(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},lb={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=Dy.parse(e);if(i.length>5)return s;const o=Dy.createTransformer(e),a="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+a]/=l,i[1+a]/=c;const A=Vy(l,c,.5);return"number"===typeof i[2+a]&&(i[2+a]/=A),"number"===typeof i[3+a]&&(i[3+a]/=A),o(i)}},cb={};let Ab=!1;class ub extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;!function(e){for(const t in e)cb[t]=e[t],ly(t)&&(cb[t].isCSSVariable=!0)}(hb),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),Ab&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions((0,d.A)((0,d.A)({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),ib.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:i}=n;return i?(i.isPresent=s,Ab=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||_m.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),nb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function db(e){const[n,r]=fm(),s=(0,t.useContext)(nm);return(0,k.jsx)(ub,(0,d.A)((0,d.A)({},e),{},{layoutGroup:s,switchLayoutGroup:(0,t.useContext)(sb),isPresent:n,safeToRemove:r}))}const hb={borderRadius:(0,d.A)((0,d.A)({},ab),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ab,borderTopRightRadius:ab,borderBottomLeftRadius:ab,borderBottomRightRadius:ab,boxShadow:lb};function fb(e){return am(e)&&"ownerSVGElement"in e}const gb=(e,t)=>e.depth-t.depth;class pb{constructor(){this.children=[],this.isDirty=!1}add(e){Pm(this.children,e),this.isDirty=!0}remove(e){Qm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gb),this.isDirty=!1,this.children.forEach(e)}}function mb(e,t){const n=Hm.now(),r=s=>{let{timestamp:i}=s;const o=i-n;o>=t&&(Fm(r),e(o-t))};return _m.setup(r,!0),()=>Fm(r)}function yb(e){return Xm(e)?e.get():e}const vb=["TopLeft","TopRight","BottomLeft","BottomRight"],wb=vb.length,xb=e=>"string"===typeof e?parseFloat(e):e,bb=e=>"number"===typeof e||Ey.test(e);function Cb(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Bb=Eb(0,.5,Sv),kb=Eb(.5,.95,Bm);function Eb(e,t,n){return r=>r<e?0:r>t?1:n(jv(e,t,r))}function Nb(e,t){e.min=t.min,e.max=t.max}function Sb(e,t){Nb(e.x,t.x),Nb(e.y,t.y)}function _b(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Fb(e,t,n,r,s){return e=Nx(e-=t,1/n,r),void 0!==s&&(e=Nx(e,1/s,r)),e}function Ib(e,t,n,r,s){let[i,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ky.test(t)&&(t=parseFloat(t),t=Vy(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=Vy(i.min,i.max,r);e===i&&(a-=t),e.min=Fb(e.min,t,n,a,s),e.max=Fb(e.max,t,n,a,s)}(e,t[i],t[o],t[a],t.scale,r,s)}const Tb=["x","scaleX","originX"],jb=["y","scaleY","originY"];function Lb(e,t,n,r){Ib(e.x,t,Tb,n?n.x:void 0,r?r.x:void 0),Ib(e.y,t,jb,n?n.y:void 0,r?r.y:void 0)}function Ub(e){return 0===e.translate&&1===e.scale}function Pb(e){return Ub(e.x)&&Ub(e.y)}function Qb(e,t){return e.min===t.min&&e.max===t.max}function Ob(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Rb(e,t){return Ob(e.x,t.x)&&Ob(e.y,t.y)}function Db(e){return fx(e.x)/fx(e.y)}function Mb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Hb{constructor(){this.members=[]}add(e){Pm(this.members,e),e.scheduleRender()}remove(e){if(Qm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Vb={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Kb=["","X","Y","Z"];let qb=0;function zb(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Wb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ey(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",_m,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Wb(r)}function Gb(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=qb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nm.value&&(Vb.nodes=Vb.calculatedTargetDeltas=Vb.calculatedProjections=0),this.nodes.forEach(Yb),this.nodes.forEach(sC),this.nodes.forEach(iC),this.nodes.forEach(Zb),Nm.addProjectionMetrics&&Nm.addProjectionMetrics(Vb)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new pb)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Om),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=fb(e)&&!(fb(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const s=()=>this.root.updateBlockedByResize=!1;_m.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=mb(s,250),ib.hasAnimatedSinceResize&&(ib.hasAnimatedSinceResize=!1,this.nodes.forEach(rC)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||s)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||i.getDefaultTransition()||uC,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!Rb(this.targetLayout,s),A=!n&&r;if(this.options.layoutRoot||this.resumeFrom||A||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=(0,d.A)((0,d.A)({},Cm(o,"layout")),{},{onPlay:a,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,A)}else n||rC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oC),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(eC);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(tC);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nC),this.nodes.forEach(Jb),this.nodes.forEach(Xb)):this.nodes.forEach(tC),this.clearAllSnapshots();const e=Hm.now();Im.delta=ry(0,1e3/60,e-Im.timestamp),Im.timestamp=e,Im.isProcessing=!0,Tm.update.process(Im),Tm.preRender.process(Im),Tm.render.process(Im),Im.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($b),this.sharedNodes.forEach(aC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_m.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_m.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||fx(this.snapshot.measuredBox.x)||fx(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Pb(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Bx(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),fC((r=n).x),fC(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(pC))){const{scroll:e}=this.root;e&&(jx(n.x,e.offset.x),jx(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Sb(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:s,options:i}=t;t!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&Sb(n,e),jx(n.x,s.offset.x),jx(n.y,s.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Sb(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Ux(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Bx(e.latestValues)&&Ux(n,e.latestValues)}return Bx(this.latestValues)&&Ux(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Sb(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Bx(e.latestValues))continue;Cx(e.latestValues)&&e.updateSnapshot();const r=wx();Sb(r,e.measurePageBox()),Lb(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Bx(this.latestValues)&&Lb(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,d.A)((0,d.A)((0,d.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Im.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:i}=this.options;if(this.layout&&(s||i)){if(this.resolvedRelativeTargetAt=Im.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},vx(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Sb(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,mx(o.x,a.x,l.x),mx(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Sb(this.target,this.layout.layoutBox),Fx(this.target,this.targetDelta)):Sb(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},vx(this.relativeTargetOrigin,this.target,e.target),Sb(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nm.value&&Vb.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Cx(this.parent.latestValues)&&!kx(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Im.timestamp&&(r=!1),r)return;const{layout:s,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!i)return;Sb(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,o;t.x=t.y=1;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ux(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Fx(e,o)),r&&Bx(i.latestValues)&&Ux(e,i.latestValues))}t.x<Tx&&t.x>Ix&&(t.x=1),t.y<Tx&&t.y>Ix&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(_b(this.prevProjectionDelta.x,this.projectionDelta.x),_b(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),px(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&Mb(this.projectionDelta.x,this.prevProjectionDelta.x)&&Mb(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Nm.value&&Vb.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s=(0,d.A)({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,A=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(AC));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;lC(i.x,e.x,n),lC(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vx(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){cC(e.x,t.x,n.x,r),cC(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),u&&function(e,t){return Qb(e.x,t.x)&&Qb(e.y,t.y)}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Sb(u,this.relativeTarget)),a&&(this.animationValues=s,function(e,t,n,r,s,i){var o,a;if(s)e.opacity=Vy(0,null!==(o=n.opacity)&&void 0!==o?o:1,Bb(r)),e.opacityExit=Vy(null!==(a=t.opacity)&&void 0!==a?a:1,0,kb(r));else if(i){var l,c;e.opacity=Vy(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let A=0;A<wb;A++){const s="border".concat(vb[A],"Radius");let i=Cb(t,s),o=Cb(n,s);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||bb(i)===bb(o)?(e[s]=Math.max(Vy(xb(i),xb(o),r),0),(ky.test(o)||ky.test(i))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=Vy(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,A,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Fm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_m.update(()=>{ib.hasAnimatedSinceResize=!0,oy.layout++,this.motionValue||(this.motionValue=qm(0)),this.currentAnimation=function(e,t,n){const r=Xm(e)?e:qm(e);return r.start(Ow("",r,t,n)),r.animation}(this.motionValue,[0,1e3],(0,d.A)((0,d.A)({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{oy.layout--},onComplete:()=>{oy.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&gC(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=fx(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=fx(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Sb(t,n),Ux(t,s),px(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Hb);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&zb("z",e,r,this.animationValues);for(let s=0;s<Kb.length;s++)zb("rotate".concat(Kb[s]),e,r,this.animationValues),zb("skew".concat(Kb[s]),e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=yb(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=yb(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!Bx(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const s=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((s||i||o)&&(r="translate3d(".concat(s,"px, ").concat(i,"px, ").concat(o,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:o,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),o&&(r+="skewX(".concat(o,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);n&&(i=n(s,i)),e.transform=i;const{x:o,y:a}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*o.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=s.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const A in cb){if(void 0===s[A])continue;const{correct:t,applyTo:n,isCSSVariable:o}=cb[A],a="none"===i?s[A]:t(s[A],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else o?this.options.visualElement.renderState.vars[A]=a:e[A]=a}this.options.layoutId&&(e.pointerEvents=r===this?yb(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(eC),this.root.sharedNodes.clear()}}}function Jb(e){e.updateLayout()}function Xb(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;"size"===s?xx(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],s=fx(r);r.min=t[e].min,r.max=r.min+s}):gC(s,n.layoutBox,t)&&xx(r=>{const s=i?n.measuredBox[r]:n.layoutBox[r],o=fx(t[r]);s.max=s.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};px(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?px(a,e.applyTransform(r,!0),n.measuredBox):px(a,t,n.layoutBox);const l=!Pb(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const o={x:{min:0,max:0},y:{min:0,max:0}};vx(o,n.layoutBox,s.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};vx(a,t,i.layoutBox),Rb(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Yb(e){Nm.value&&Vb.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Zb(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $b(e){e.clearSnapshot()}function eC(e){e.clearMeasurements()}function tC(e){e.isLayoutDirty=!1}function nC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sC(e){e.resolveTargetDelta()}function iC(e){e.calcProjection()}function oC(e){e.resetSkewAndRotation()}function aC(e){e.removeLeadSnapshot()}function lC(e,t,n){e.translate=Vy(t.translate,0,n),e.scale=Vy(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cC(e,t,n,r){e.min=Vy(t.min,n.min,r),e.max=Vy(t.max,n.max,r)}function AC(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const uC={duration:.45,ease:[.4,0,.1,1]},dC=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hC=dC("applewebkit/")&&!dC("chrome/")?Math.round:Bm;function fC(e){e.min=hC(e.min),e.max=hC(e.max)}function gC(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Db(t),s=Db(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function pC(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const mC=Gb({attachResizeListener:(e,t)=>cx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yC={current:void 0},vC=Gb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yC.current){const e=new mC({});e.mount(window),e.setOptions({layoutScroll:!0}),yC.current=e}return yC.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),wC={pan:{Feature:class extends sx{constructor(){super(...arguments),this.removePointerDownListener=Bm}onPointerDown(e){this.session=new Dx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:tb(e),onStart:tb(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&_m.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=dx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends sx{constructor(e){super(e),this.removeGroupControls=Bm,this.removeListeners=Bm,this.controls=new $x(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bm}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:vC,MeasureLayout:db}};function xC(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let s=document;t&&(s=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,(0,d.A)((0,d.A)({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function bC(e){return!("touch"===e.pointerType||lx())}function CC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&_m.postRender(()=>s(t,ux(t)))}const BC=(e,t)=>!!t&&(e===t||BC(e,t.parentElement)),kC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const EC=new WeakSet;function NC(e){return t=>{"Enter"===t.key&&e(t)}}function SC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function _C(e){return Ax(e)&&!lx()}function FC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=xC(e,n),o=e=>{const r=e.currentTarget;if(!_C(e))return;EC.add(r);const i=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),EC.has(r)&&EC.delete(r),_C(e)&&"function"===typeof i&&i(e,{success:t})},a=e=>{o(e,r===window||r===document||n.useGlobalTarget||BC(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,s),window.addEventListener("pointercancel",l,s)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,s),lm(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=NC(()=>{if(EC.has(n))return;SC(n,"down");const e=NC(()=>{SC(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>SC(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,s)),t=e,kC.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function IC(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&_m.postRender(()=>s(t,ux(t)))}const TC=["root"],jC=new WeakMap,LC=new WeakMap,UC=e=>{const t=jC.get(e.target);t&&t(e)},PC=e=>{e.forEach(UC)};function QC(e,t,n){const r=function(e){let{root:t}=e,n=h(e,TC);const r=t||document;LC.has(r)||LC.set(r,{});const s=LC.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(PC,(0,d.A)({root:t},n))),s[i]}(t);return jC.set(e,n),r.observe(e),()=>{jC.delete(e),r.unobserve(e)}}const OC={some:0,all:1};const RC={inView:{Feature:class extends sx{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:OC[r]};return QC(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends sx{mount(){const{current:e}=this.node;e&&(this.unmount=FC(e,(e,t)=>(IC(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return IC(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends sx{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(VE){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ny(cx(this.node.current,"focus",()=>this.onFocus()),cx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends sx{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=xC(e,n),o=e=>{if(!bC(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{bC(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,s)};return r.forEach(e=>{e.addEventListener("pointerenter",o,s)}),i}(e,(e,t)=>(CC(this.node,t,"Start"),e=>CC(this.node,e,"End"))))}unmount(){}}}},DC={layout:{ProjectionNode:vC,MeasureLayout:db}},MC=(0,t.createContext)({strict:!1}),HC=(0,t.createContext)({});function VC(e){return vm(e.animate)||Ww.some(t=>qw(e[t]))}function KC(e){return Boolean(VC(e)||e.variants)}function qC(e){const{initial:n,animate:r}=function(e,t){if(VC(e)){const{initial:t,animate:n}=e;return{initial:!1===t||qw(t)?t:void 0,animate:qw(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(HC));return(0,t.useMemo)(()=>({initial:n,animate:r}),[zC(n),zC(r)])}function zC(e){return Array.isArray(e)?e.join(" "):e}const WC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},GC={};for(const n in WC)GC[n]={isEnabled:e=>WC[n].some(t=>!!e[t])};const JC=Symbol.for("motionComponentSymbol");function XC(e,n,r){return(0,t.useCallback)(t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Ox(r)&&(r.current=t))},[n])}function YC(e,n,r,s,i){var o,a,l,c;const{visualElement:A}=(0,t.useContext)(HC),u=(0,t.useContext)(MC),d=(0,t.useContext)(om),h=(0,t.useContext)(cm).reducedMotion,f=(0,t.useRef)(null);s=s||u.renderer,!f.current&&s&&(f.current=s(e,{visualState:n,parent:A,props:r,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:h}));const g=f.current,p=(0,t.useContext)(sb);!g||g.projection||!i||"html"!==g.type&&"svg"!==g.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:A}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ZC(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(o)||a&&Ox(a),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:A,layoutScroll:l,layoutRoot:c})}(f.current,r,i,p);const m=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{g&&m.current&&g.update(r,d)});const y=r[$m],v=(0,t.useRef)(Boolean(y)&&!(null!==(o=(a=window).MotionHandoffIsComplete)&&void 0!==o&&o.call(a,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return im(()=>{g&&(m.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),nb.render(g.render),v.current&&g.animationState&&g.animationState.animateChanges())}),(0,t.useEffect)(()=>{g&&(!v.current&&g.animationState&&g.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)}),v.current=!1))}),g}function ZC(e){if(e)return!1!==e.options.allowProjection?e.projection:ZC(e.parent)}function $C(e){var n,r;let{preloadedFeatures:s,createVisualElement:i,useRender:o,useVisualState:a,Component:l}=e;function c(e,n){let r;const s=(0,d.A)((0,d.A)((0,d.A)({},(0,t.useContext)(cm)),e),{},{layoutId:eB(e)}),{isStatic:c}=s,A=qC(e),u=a(e,c);if(!c&&sm){!function(){(0,t.useContext)(MC).strict;0}();const e=function(e){const{drag:t,layout:n}=GC;if(!t&&!n)return{};const r=(0,d.A)((0,d.A)({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);r=e.MeasureLayout,A.visualElement=YC(l,u,s,i,e.ProjectionNode)}return(0,k.jsxs)(HC.Provider,{value:A,children:[r&&A.visualElement?(0,k.jsx)(r,(0,d.A)({visualElement:A.visualElement},s)):null,o(l,e,XC(u,A.visualElement,n),u,c,A.visualElement)]})}s&&function(e){for(const t in e)GC[t]=(0,d.A)((0,d.A)({},GC[t]),e[t])}(s),c.displayName="motion.".concat("string"===typeof l?l:"create(".concat(null!==(n=null!==(r=l.displayName)&&void 0!==r?r:l.name)&&void 0!==n?n:"",")"));const A=(0,t.forwardRef)(c);return A[JC]=l,A}function eB(e){let{layoutId:n}=e;const r=(0,t.useContext)(nm).id;return r&&void 0!==n?r+"-"+n:n}function tB(e,t){let{layout:n,layoutId:r}=t;return Lm.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!cb[e]||"opacity"===e)}const nB=(e,t)=>t&&"number"===typeof e?t.transform(e):e,rB=(0,d.A)((0,d.A)({},dy),{},{transform:Math.round}),sB={rotate:By,rotateX:By,rotateY:By,rotateZ:By,scale:fy,scaleX:fy,scaleY:fy,scaleZ:fy,skew:By,skewX:By,skewY:By,distance:Ey,translateX:Ey,translateY:Ey,translateZ:Ey,x:Ey,y:Ey,z:Ey,perspective:Ey,transformPerspective:Ey,opacity:hy,originX:_y,originY:_y,originZ:Ey},iB=(0,d.A)((0,d.A)({borderWidth:Ey,borderTopWidth:Ey,borderRightWidth:Ey,borderBottomWidth:Ey,borderLeftWidth:Ey,borderRadius:Ey,radius:Ey,borderTopLeftRadius:Ey,borderTopRightRadius:Ey,borderBottomRightRadius:Ey,borderBottomLeftRadius:Ey,width:Ey,maxWidth:Ey,height:Ey,maxHeight:Ey,top:Ey,right:Ey,bottom:Ey,left:Ey,padding:Ey,paddingTop:Ey,paddingRight:Ey,paddingBottom:Ey,paddingLeft:Ey,margin:Ey,marginTop:Ey,marginRight:Ey,marginBottom:Ey,marginLeft:Ey,backgroundPositionX:Ey,backgroundPositionY:Ey},sB),{},{zIndex:rB,fillOpacity:hy,strokeOpacity:hy,numOctaves:rB}),oB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aB=jm.length;function lB(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(Lm.has(l))o=!0;else if(ly(l))s[l]=e;else{const t=nB(e,iB[l]);l.startsWith("origin")?(a=!0,i[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<aB;i++){const o=jm[i],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=nB(a,iB[o]);l||(s=!1,r+="".concat(oB[o]||o,"(").concat(e,") ")),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const cB=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AB(e,t,n){for(const r in t)Xm(t[r])||tB(r,n)||(e[r]=t[r])}function uB(e,n){const r={};return AB(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return lB(e,n,r),Object.assign({},e.vars,e.style)},[n])}(e,n)),r}function dB(e,t){const n={},r=uB(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const hB={offset:"stroke-dashoffset",array:"stroke-dasharray"},fB={offset:"strokeDashoffset",array:"strokeDasharray"};const gB=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function pB(e,t,n,r,s){let{attrX:i,attrY:o,attrScale:a,pathLength:l,pathSpacing:c=1,pathOffset:A=0}=t;if(lB(e,h(t,gB),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:d}=e;var f,g;(u.transform&&(d.transform=u.transform,delete u.transform),d.transform||u.transformOrigin)&&(d.transformOrigin=null!==(f=u.transformOrigin)&&void 0!==f?f:"50% 50%",delete u.transformOrigin);d.transform&&(d.transformBox=null!==(g=null===s||void 0===s?void 0:s.transformBox)&&void 0!==g?g:"fill-box",delete u.transformBox);void 0!==i&&(u.x=i),void 0!==o&&(u.y=o),void 0!==a&&(u.scale=a),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?hB:fB;e[i.offset]=Ey.transform(-r);const o=Ey.transform(t),a=Ey.transform(n);e[i.array]="".concat(o," ").concat(a)}(u,l,c,A,!1)}const mB=()=>(0,d.A)((0,d.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),yB=e=>"string"===typeof e&&"svg"===e.toLowerCase();function vB(e,n,r,s){const i=(0,t.useMemo)(()=>{const t=mB();return pB(t,n,yB(s),e.transformTemplate,e.style),(0,d.A)((0,d.A)({},t.attrs),{},{style:(0,d.A)({},t.style)})},[n]);if(e.style){const t={};AB(t,e.style,e),i.style=(0,d.A)((0,d.A)({},t),i.style)}return i}const wB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xB(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wB.has(e)}let bB=e=>!xB(e);try{"function"===typeof(CB=require("@emotion/is-prop-valid").default)&&(bB=e=>e.startsWith("on")?!xB(e):CB(e))}catch(KE){}var CB;const BB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kB(e){return"string"===typeof e&&!e.includes("-")&&!!(BB.indexOf(e)>-1||/[A-Z]/.test(e))}function EB(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,s,i,o)=>{let{latestValues:a}=i;const l=(kB(n)?vB:dB)(r,a,o,n),c=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(bB(s)||!0===n&&xB(s)||!t&&!xB(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(r,"string"===typeof n,e),A=n!==t.Fragment?(0,d.A)((0,d.A)((0,d.A)({},c),l),{},{ref:s}):{},{children:u}=r,h=(0,t.useMemo)(()=>Xm(u)?u.get():u,[u]);return(0,t.createElement)(n,(0,d.A)((0,d.A)({},A),{},{children:h}))}}const NB=["transitionEnd","transition"];const SB=e=>(n,r)=>{const s=(0,t.useContext)(HC),i=(0,t.useContext)(om),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i}=e;return{latestValues:_B(t,n,r,s),renderState:i()}}(e,n,s,i);return r?o():rm(o)};function _B(e,t,n,r){const s={},i=r(e,{});for(const d in i)s[d]=yb(i[d]);let{initial:o,animate:a}=e;const l=VC(e),c=KC(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let A=!!n&&!1===n.initial;A=A||!1===o;const u=A?a:o;if(u&&"boolean"!==typeof u&&!vm(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=xm(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=h(r,NB);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[A?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}function FB(e,t,n){const{style:r}=e,s={};for(const o in r){var i;(Xm(r[o])||t.style&&Xm(t.style[o])||tB(o,e)||void 0!==(null===n||void 0===n||null===(i=n.getValue(o))||void 0===i?void 0:i.liveStyle))&&(s[o]=r[o])}return s}const IB={useVisualState:SB({scrapeMotionValuesFromProps:FB,createRenderState:cB})};function TB(e,t,n){const r=FB(e,t,n);for(const s in e)if(Xm(e[s])||Xm(t[s])){r[-1!==jm.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}const jB={useVisualState:SB({scrapeMotionValuesFromProps:TB,createRenderState:mB})};function LB(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};const s=kB(n)?jB:IB;return $C((0,d.A)((0,d.A)({},s),{},{preloadedFeatures:e,useRender:EB(r),createVisualElement:t,Component:n}))}}const UB=e=>t=>t.test(e),PB=[dy,Ey,ky,By,Sy,Ny,{test:e=>"auto"===e,parse:e=>e}],QB=e=>PB.find(UB(e)),OB=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),RB=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function DB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,s]=function(e){const t=RB.exec(e);if(!t)return[,];const[,n,r,s]=t;return["--".concat(null!==n&&void 0!==n?n:r),s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return OB(e)?parseFloat(e):e}return Ay(s)?DB(s,t,n+1):s}const MB=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function HB(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||MB(e))}const VB=new Set(["brightness","contrast","saturate","opacity"]);function KB(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(py)||[];if(!r)return e;const s=n.replace(r,"");let i=VB.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const qB=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,zB=(0,d.A)((0,d.A)({},Dy),{},{getAnimatableNone:e=>{const t=e.match(qB);return t?t.map(KB).join(" "):e}}),WB=(0,d.A)((0,d.A)({},iB),{},{color:Iy,backgroundColor:Iy,outlineColor:Iy,fill:Iy,stroke:Iy,borderColor:Iy,borderTopColor:Iy,borderRightColor:Iy,borderBottomColor:Iy,borderLeftColor:Iy,filter:zB,WebkitFilter:zB}),GB=e=>WB[e];function JB(e,t){let n=GB(e);return n!==zB&&(n=Dy),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const XB=new Set(["auto","none","0"]);class YB extends Aw{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Ay(n))){const r=DB(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Um.has(n)||2!==e.length)return;const[r,s]=e,i=QB(r),o=QB(s);if(i!==o)if(ew(i)&&ew(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else rw[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||HB(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"===typeof t&&!XB.has(t)&&Py(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=JB(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rw[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=rw[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const ZB=[...PB,Iy,Dy],$B={current:null},ek={current:!1};const tk=new WeakMap;const nk=["willChange"],rk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sk{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Aw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Hm.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,_m.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget=(0,d.A)({},l),this.initialValues=n.initial?(0,d.A)({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=VC(n),this.isVariantNode=KC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const A=this.scrapeMotionValuesFromProps(n,{},this),{willChange:u}=A,f=h(A,nk);for(const d in f){const e=f[d];void 0!==l[d]&&Xm(e)&&e.set(l[d],!1)}}mount(e){this.current=e,tk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ek.current||function(){if(ek.current=!0,sm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$B.current=e.matches;e.addEventListener("change",t),t()}else $B.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||$B.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fm(this.notifyUpdate),Fm(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Lm.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&_m.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in GC){const t=GC[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<rk.length;n++){const t=rk[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Xm(s))e.addValue(r,s);else if(Xm(i))e.addValue(r,qm(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,qm(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=qm(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(OB(r)||MB(r))?r=parseFloat(r):!(e=>ZB.find(UB(e)))(r)&&Dy.test(t)&&(r=JB(e,t)),this.setBaseTarget(e,Xm(r)?r.get():r)),Xm(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const s=xm(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);s&&(n=s[e])}if(t&&void 0!==n)return n;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||Xm(s)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new Om),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class ik extends sk{constructor(){super(...arguments),this.KeyframeResolver=YB}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xm(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}function ok(e,t,n,r){let{style:s,vars:i}=t;const o=e.style;let a;for(a in s)o[a]=s[a];for(a in null===r||void 0===r||r.applyProjectionStyles(o,n),i)o.setProperty(a,i[a])}class ak extends ik{constructor(){super(...arguments),this.type="html",this.renderInstance=ok}readValueFromInstance(e,t){var n,r;if(Lm.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?Yv(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Zv(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),s=(ly(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof s?s.trim():s}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Px(e,n)}build(e,t,n){lB(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return FB(e,t,n)}}const lk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class ck extends ik{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wx}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Lm.has(t)){const e=GB(t);return e&&e.default||0}return t=lk.has(t)?t:Zm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return TB(e,t,n)}build(e,t,n){pB(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){ok(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(lk.has(s)?s:Zm(s),t.attrs[s])}(e,t,0,r)}mount(e){this.isSVGTag=yB(e.tagName),super.mount(e)}}const Ak=(e,n)=>kB(e)?new ck(n):new ak(n,{allowProjection:e!==t.Fragment}),uk=ym(LB((0,d.A)((0,d.A)((0,d.A)((0,d.A)({},ox),RC),wC),DC),Ak)),dk=e=>{let{videoRef:n,detections:r,isActive:s}=e;const i=(0,t.useRef)(null);return(0,t.useEffect)(()=>{const e=i.current,t=n.current;if(!e||!t)return;const o=e.getContext("2d");o&&(e.width=t.videoWidth,e.height=t.videoHeight,o.clearRect(0,0,e.width,e.height),s&&0!==r.length&&r.forEach((e,t)=>{const[n,s,i,a]=e.bbox,l=1===r.length?"#10b981":"#ef4444";o.strokeStyle=l,o.lineWidth=3,o.fillStyle=l,o.strokeRect(n,s,i,a);const c="Person ".concat(t+1," (").concat(Math.round(100*e.score),"%)"),A=o.measureText(c).width+10;o.fillRect(n,s-25,A,25),o.fillStyle="white",o.font="14px Arial",o.fillText(c,n+5,s-8)}))},[r,s]),(0,k.jsx)("canvas",{ref:i,className:"absolute inset-0 pointer-events-none",style:{width:"100%",height:"100%",objectFit:"cover"}})};var hk=n(5200);const fk=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),gk=()=>(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9h8M8 15h8"})});const pk=function(e){let{data:n}=e;const{testid:r}=(0,s.g)(),{user:i}=(0,c.A)(),[o,a]=(0,t.useState)("description"),[d,h]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[y,v]=(0,t.useState)(!0),[w,x]=(0,t.useState)(45),{theme:b}=(0,l.D)();(0,t.useEffect)(()=>{(async()=>{if(i&&null!==n&&void 0!==n&&n.questionname){v(!0);try{const e=(0,u.KR)(A.OO,"ExamCode/".concat(r,"/").concat(i.uid,"/").concat(n.questionname)),t=await(0,u.Jt)(e);if(t.exists()){const e=t.val();h(e),m(e),g(!0)}else h(null),m(null),g(!1)}catch(e){console.error("Failed to fetch submission:",e),h(null),m(null),g(!1)}finally{v(!1)}}else v(!1)})()},[n,i,r]);const C=null!==d&&d!==p;return(0,k.jsx)("div",{className:"flex flex-col h-screen w-full bg-white dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden shadow-sm",style:{width:"".concat(w,"%")},children:[(0,k.jsx)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("button",{className:"px-6 py-4 text-sm font-medium ".concat("description"===o?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400"),onClick:()=>a("description"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(fk,{}),"Description"]})})}),(0,k.jsx)("div",{className:"p-6 flex-1 overflow-y-auto",children:"description"===o&&(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white break-words",children:null===n||void 0===n?void 0:n.questionname}),(0,k.jsx)("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:(0,k.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full text-sm font-medium",children:null===n||void 0===n?void 0:n.difficulty})})]}),(0,k.jsx)("div",{className:"space-y-6",children:(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Statement"}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:null===n||void 0===n?void 0:n.question})]})})]})})]}),(0,k.jsx)("div",{className:"w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 cursor-col-resize flex items-center justify-center",children:(0,k.jsx)(gk,{})}),(0,k.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-50 dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"p-6 overflow-y-auto h-full",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Select the correct answer"}),(0,k.jsx)("div",{className:"space-y-4 mb-8",children:null===n||void 0===n?void 0:n.options.map((e,t)=>{let n="p-4 border rounded-lg cursor-pointer transition-colors duration-150 ";return n+=f?d===t?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-800 dark:text-blue-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300":d===t?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-700 text-blue-800 dark:text-blue-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:border-blue-300 dark:hover:border-blue-600",(0,k.jsx)("div",{className:n,onClick:()=>(e=>{y||(h(e),e!==p&&g(!1))})(t),children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsxs)("span",{className:"font-medium mr-3",children:[String.fromCharCode(65+t),"."]}),(0,k.jsx)("span",{children:e})]})},t)})}),(0,k.jsx)("div",{className:"mt-auto pt-6",children:C?(0,k.jsx)("button",{onClick:async()=>{if(null!==d&&i){g(!0);try{const e=(0,u.KR)(A.OO,"ExamCode/".concat(r,"/").concat(i.uid,"/").concat(n.questionname,"/")),t=(0,u.KR)(A.OO,"ExamSubmissions/".concat(r,"/").concat(i.uid,"/").concat(n.questionname,"/")),s=(0,u.KR)(A.OO,"Marks/".concat(r,"/").concat(i.uid,"/").concat(n.questionname,"/"));await(0,u.hZ)(e,d),await(0,u.hZ)(t,d+1===n.correctAnswer?"true":"false"),await(0,u.hZ)(s,d+1===n.correctAnswer?100:0),m(d)}catch(e){console.error("Error saving answer: ",e),g(!1)}}},className:"w-full px-6 py-3 rounded-lg font-medium text-sm bg-blue-600 hover:bg-blue-700 text-white transition-colors duration-150",children:"Submit Answer"}):f&&null!==d?(0,k.jsx)("p",{className:"text-center text-green-600 dark:text-green-400 font-medium",children:"Answer Submitted"}):null})]})})]})})},mk=w("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var yk=n(3441);function vk(e){return(0,yk.k5)({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.49991 0.877045C3.84222 0.877045 0.877075 3.84219 0.877075 7.49988C0.877075 11.1575 3.84222 14.1227 7.49991 14.1227C11.1576 14.1227 14.1227 11.1575 14.1227 7.49988C14.1227 3.84219 11.1576 0.877045 7.49991 0.877045ZM1.82708 7.49988C1.82708 4.36686 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1727 4.36686 13.1727 7.49988C13.1727 10.6329 10.6329 13.1727 7.49991 13.1727C4.36689 13.1727 1.82708 10.6329 1.82708 7.49988ZM10.1589 5.53774C10.3178 5.31191 10.2636 5.00001 10.0378 4.84109C9.81194 4.68217 9.50004 4.73642 9.34112 4.96225L6.51977 8.97154L5.35681 7.78706C5.16334 7.59002 4.84677 7.58711 4.64973 7.78058C4.45268 7.97404 4.44978 8.29061 4.64325 8.48765L6.22658 10.1003C6.33054 10.2062 6.47617 10.2604 6.62407 10.2483C6.77197 10.2363 6.90686 10.1591 6.99226 10.0377L10.1589 5.53774Z",fill:"currentColor"},child:[]}]})(e)}function wk(e){return(0,yk.k5)({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877075 7.49988C0.877075 3.84219 3.84222 0.877045 7.49991 0.877045C11.1576 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1575 0.877075 7.49988ZM7.49991 1.82704C4.36689 1.82704 1.82708 4.36686 1.82708 7.49988C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49988C13.1727 4.36686 10.6329 1.82704 7.49991 1.82704ZM9.85358 5.14644C10.0488 5.3417 10.0488 5.65829 9.85358 5.85355L8.20713 7.49999L9.85358 9.14644C10.0488 9.3417 10.0488 9.65829 9.85358 9.85355C9.65832 10.0488 9.34173 10.0488 9.14647 9.85355L7.50002 8.2071L5.85358 9.85355C5.65832 10.0488 5.34173 10.0488 5.14647 9.85355C4.95121 9.65829 4.95121 9.3417 5.14647 9.14644L6.79292 7.49999L5.14647 5.85355C4.95121 5.65829 4.95121 5.3417 5.14647 5.14644C5.34173 4.95118 5.65832 4.95118 5.85358 5.14644L7.50002 6.79289L9.14647 5.14644C9.34173 4.95118 9.65832 4.95118 9.85358 5.14644Z",fill:"currentColor"},child:[]}]})(e)}function xk(e){return(0,yk.k5)({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"},child:[]}]})(e)}const bk=function(e){var n,r,i,o;let{question:a}=e;const[h,f]=(0,t.useState)(""),[g,p]=(0,t.useState)(!1),[m,y]=(0,t.useState)("description"),[v,w]=(0,t.useState)(null),[x,b]=(0,t.useState)([]),[C,B]=(0,t.useState)(0),[E,N]=(0,t.useState)(!1),[S,_]=(0,t.useState)(45),[F,I]=(0,t.useState)("cpp"),{theme:K}=(0,l.D)(),[q,z]=(0,t.useState)([]),[W,G]=(0,t.useState)([]),[J,X]=(0,t.useState)(null),[Y,Z]=(0,t.useState)("none"),[$,ee]=(0,t.useState)(0),[te,ne]=(0,t.useState)(!1),[re,se]=(0,t.useState)(""),{testid:ie}=(0,s.g)(),{user:oe}=(0,c.A)(),ae=null===oe||void 0===oe?void 0:oe.uid,[le,ce]=(0,t.useState)("not_attended"),[Ae,ue]=(0,t.useState)([]),de=(0,t.useCallback)(async e=>{try{f(e),await f(e),_d.success("Copied to Editor")}catch(t){_d.error("Failed to copy")}ne(!1),se("")},[]);(0,t.useEffect)(()=>{(async()=>{if(null===oe||void 0===oe||!oe.uid||!ie||!a)return;const e="ExamCodeSubmissions/".concat(ie,"/").concat(ae,"/").concat(a),t=await(0,u.Jt)((0,u.KR)(A.OO,e));if(t.exists()){const e=t.val(),n=Object.entries(e).map(e=>{let[t,n]=e;return(0,d.A)({timestamp:t},n)});ue(n.reverse())}else ue([])})()},[oe,ie,a,$]),(0,t.useEffect)(()=>{const e=e=>(e.preventDefault(),e.stopPropagation(),!1),t=e=>(e.preventDefault(),e.stopPropagation(),!1),n=e=>(e.preventDefault(),e.stopPropagation(),e.clipboardData&&(e.clipboardData.setData("text/plain",""),e.clipboardData.clearData()),_d.error("Copy-paste is disabled in this environment"),!1),r=e=>(e.preventDefault(),e.stopPropagation(),!1),s={capture:!0,passive:!1};document.addEventListener("copy",e,s),document.addEventListener("cut",e,s),document.addEventListener("paste",n,s),document.addEventListener("contextmenu",t,s),document.addEventListener("drop",r,s),document.addEventListener("dragover",r,s);const i=e=>{const t=(e.ctrlKey||e.metaKey)&&["v","V","Insert"].includes(e.key),n=(e.ctrlKey||e.metaKey)&&["c","C","Insert","F3","F16","F24"].includes(e.key),r=(e.ctrlKey||e.metaKey)&&["x","X","Delete"].includes(e.key);if(t||n||r)return e.preventDefault(),e.stopPropagation(),window.getSelection().removeAllRanges(),t&&_d.error("Pasting is disabled in this environment"),!1};document.addEventListener("keydown",i,{capture:!0});const o=e=>{if(e.target.isContentEditable)return e.preventDefault(),e.stopPropagation(),!1};document.addEventListener("paste",o,{capture:!0});const a=()=>{document.activeElement&&"IFRAME"===document.activeElement.tagName&&document.activeElement.blur()};return window.addEventListener("blur",a),()=>{document.removeEventListener("copy",e,s),document.removeEventListener("cut",e,s),document.removeEventListener("paste",n,s),document.removeEventListener("contextmenu",t,s),document.removeEventListener("drop",r,s),document.removeEventListener("dragover",r,s),document.removeEventListener("keydown",i,{capture:!0}),document.removeEventListener("paste",o,{capture:!0}),window.removeEventListener("blur",a)}},[]);const he=(0,t.useRef)(null),fe=(0,t.useRef)(null),ge=(0,t.useRef)(null),pe=(0,t.useRef)(null),me=(0,t.useRef)(null),ye=e=>{e&&(e.style.height="auto",e.style.height="".concat(Math.min(e.scrollHeight,200),"px"))};(0,t.useEffect)(()=>{const e=setTimeout(()=>{he.current&&ye(he.current),fe.current&&ye(fe.current)},100);return()=>clearTimeout(e)},[C,q,m]);const ve=(0,t.useCallback)(async()=>{if(ae&&ie&&a)try{const e=(0,u.KR)(A.OO,"ExamSubmissions/".concat(ie,"/").concat(ae,"/").concat(a,"/")),t=await(0,u.Jt)(e);if(t.exists()){const e=t.val();ce("true"===e?"correct":"wrong")}else ce("not_attended")}catch(e){console.error("Error fetching submission status:",e),ce("not_attended")}},[ie,a,ae]);(0,t.useEffect)(()=>{console.log(a),ve()},[a,ve]);const we=(0,t.useCallback)(async()=>{if(ae&&ie&&a)try{const e=(0,u.KR)(A.OO),t="ExamCode/".concat(ie,"/").concat(ae,"/").concat(a,"/").concat(F),n=await(0,u.Jt)((0,u.jf)(e,t));if(console.log(n.val()),n.exists()){const e=n.val();f(e),console.log("Code loaded successfully!")}else f(H[F]||""),console.log("No saved code found, using default template")}catch(e){console.error("Error loading code:",e),f(H[F]||"")}},[F,ie,a,ae]),xe=(0,t.useCallback)(async e=>{if(ae&&ie&&a)try{const t="ExamCode/".concat(ie,"/").concat(ae,"/").concat(a,"/").concat(F),n=(0,u.KR)(A.OO,t);await(0,u.hZ)(n,e),console.log("Code auto-saved successfully!")}catch(t){console.error("Error saving code:",t)}},[F,ie,a,ae]),be=(0,t.useCallback)(e=>{f(e),ge.current&&clearTimeout(ge.current),ge.current=setTimeout(()=>{xe(e)},500)},[xe]),Ce=(0,t.useCallback)(e=>{const t=e.target.value;I(t)},[]),Be=(0,t.useCallback)(async()=>{const e=H[F]||"";f(e),await xe(e),_d.success("Code reset to default template"),p(!1)},[F,xe]);(0,t.useEffect)(()=>{J&&ae&&we()},[we,J,ae]),(0,t.useEffect)(()=>()=>{ge.current&&clearTimeout(ge.current)},[]),(0,t.useEffect)(()=>{(async()=>{try{const i=(0,u.KR)(A.OO,"questions/".concat(a)),[o]=await Promise.all([(0,u.Jt)(i)]);if(console.log(o.val()),o.exists()){var e,t,n,r,s;const i=o.val(),a=[{input:null===i||void 0===i||null===(e=i.testcases[0])||void 0===e?void 0:e.input,expectedOutput:null===i||void 0===i||null===(t=i.testcases[0])||void 0===t?void 0:t.expectedOutput},...null!==i&&void 0!==i&&null!==(n=i.testcases[1])&&void 0!==n&&n.expectedOutput?[{input:null===i||void 0===i||null===(r=i.testcases[1])||void 0===r?void 0:r.input,expectedOutput:null===i||void 0===i||null===(s=i.testcases[1])||void 0===s?void 0:s.expectedOutput}]:[]];z(a),console.log(i),X(i)}}catch(i){console.error("Error fetching data from Firebase:",i)}})(),console.log(a)},[a]),(0,t.useEffect)(()=>()=>{me.current&&me.current.disconnect()},[]),(0,t.useEffect)(()=>{pe.current&&pe.current.layout()},[S]);const ke=(0,t.useCallback)(e=>{N(!0),e.preventDefault()},[]),Ee=(0,t.useCallback)(e=>{if(!E)return;const t=document.body.getBoundingClientRect();let n=((e.touches?e.touches[0].clientX:e.clientX)-t.left)/t.width*100;n=Math.max(18,Math.min(70,n)),_(n)},[E]),Ne=(0,t.useCallback)(()=>{N(!1)},[]);return(0,t.useEffect)(()=>(E?(window.addEventListener("mousemove",Ee),window.addEventListener("mouseup",Ne),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(window.removeEventListener("mousemove",Ee),window.removeEventListener("mouseup",Ne),document.body.style.cursor="",document.body.style.userSelect=""),()=>{window.removeEventListener("mousemove",Ee),window.removeEventListener("mouseup",Ne),document.body.style.cursor="",document.body.style.userSelect=""}),[E,Ee,Ne]),(0,k.jsxs)("div",{className:"h-[calc(100vh-5rem)] w-full flex bg-white dark:bg-dark-primary select-none overflow-hidden",children:["      ",(0,k.jsx)(Rd,{}),(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary border-r border-gray-200 dark:border-dark-tertiary flex flex-col overflow-hidden h-full",style:{width:"".concat(S,"%")},children:[(0,k.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-dark-tertiary",children:[(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("description"===m?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>y("description"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(R,{}),"Description"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("testcases"===m?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>y("testcases"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(O,{}),"Test Cases"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("output"===m?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>y("output"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(Q,{}),"Output"]})}),(0,k.jsx)("button",{className:"px-4 py-3 text-sm font-medium ".concat("submissions"===m?"text-[#4285F4] border-b-2 border-[#4285F4]":"text-gray-600 dark:text-gray-400 hover:text-[#4285F4] dark:hover:text-white"),onClick:()=>y("submissions"),children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(P,{}),"Submissions"]})})]}),(0,k.jsxs)("div",{className:"p-6 flex-1 min-h-0 overflow-auto",style:{height:"100%"},children:["description"===m&&(0,k.jsxs)("div",{className:"text-gray-700 dark:text-gray-400",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white break-words flex items-center gap-2",children:[String(null===J||void 0===J?void 0:J.questionname),"not_submitted"===le&&(0,k.jsx)(xk,{className:"text-yellow-500"}),"correct"===le&&(0,k.jsx)(vk,{className:"text-green-500"}),"wrong"===le&&(0,k.jsx)(wk,{className:"text-red-500"})]}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[(0,k.jsx)("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full text-sm font-medium",children:"Easy"}),(0,k.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(U,{}),(0,k.jsx)("span",{className:"text-sm",children:"2.5K"})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[(0,k.jsx)(P,{}),(0,k.jsx)("span",{className:"text-sm",children:"15 min"})]})]})]}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)("p",{className:"break-words",children:null===J||void 0===J?void 0:J.question}),(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Example 1:"}),(0,k.jsx)("pre",{className:"bg-gray-50 dark:bg-dark-secondary p-4 rounded-lg font-mono whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200",children:null===J||void 0===J?void 0:J.Example[0]})]}),(null===J||void 0===J?void 0:J.Example[1])&&(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Example 2:"}),(0,k.jsx)("pre",{className:"bg-gray-50 dark:bg-dark-secondary p-4 rounded-lg font-mono whitespace-pre-wrap break-words text-gray-800 dark:text-gray-200",children:null===J||void 0===J?void 0:J.Example[1]})]}),(0,k.jsxs)("div",{className:"mt-6",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:"Constraints:"}),(0,k.jsx)("ul",{className:"list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-400",children:null===J||void 0===J?void 0:J.constraints.map(e=>(0,k.jsx)("li",{children:e}))})]})]})]}),"testcases"===m&&(0,k.jsx)("div",{className:"space-y-6",children:(null===J||void 0===J||null===(n=J.testcases)||void 0===n?void 0:n.length)>=3&&"regex"===(null===J||void 0===J||null===(r=J.testcases)||void 0===r?void 0:r[2].input)?(0,k.jsx)("h1",{children:"No input"}):(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-900 dark:text-white",children:" Manual Test Cases "}),(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[q.map((e,t)=>(0,k.jsxs)("button",{className:"px-4 py-2 rounded-t-lg font-medium border-b-2 transition-colors duration-150 focus:outline-none ".concat(C===t?"border-[#4285F4] text-[#4285F4] bg-white dark:bg-dark-secondary":"border-transparent text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-dark-tertiary hover:text-[#4285F4]"),onClick:()=>B(t),children:["Case ",t+1]},t)),(0,k.jsx)("button",{className:"ml-2 px-3 py-2 rounded-full bg-[#4285F4] text-white hover:bg-[#357ae8] text-lg font-bold",onClick:()=>{z([...q,{input:"",expectedOutput:""}]),B(q.length)},children:"+"})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-dark-secondary rounded-lg p-4 mb-4",children:[(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 font-medium",children:"Input"}),(0,k.jsx)("div",{className:"relative",children:(0,k.jsx)("textarea",{ref:he,className:"w-full p-2 border border-gray-300 dark:border-dark-tertiary rounded-md bg-white dark:bg-dark-secondary text-gray-900 dark:text-white font-mono text-base min-h-[80px] resize-y whitespace-pre overflow-x-auto",value:(null===(i=q[C])||void 0===i?void 0:i.input)||"",onChange:e=>{const t=[...q];t[C].input=e.target.value,z(t),requestAnimationFrame(()=>{ye(e.target)})},onInput:e=>ye(e.target),placeholder:"Enter input (supports multiple lines)",rows:1,style:{minHeight:"40px",maxHeight:"200px",overflowY:"auto",overflowX:"auto",whiteSpace:"pre",width:"100%",boxSizing:"border-box",minWidth:"100%",maxWidth:"100%"}})})]}),(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsx)("label",{className:"block text-gray-700 dark:text-gray-300 mb-1 font-medium",children:"Expected Output"}),(0,k.jsx)("div",{className:"relative",children:(0,k.jsx)("textarea",{ref:fe,className:"w-full p-2 border border-gray-300 dark:border-dark-tertiary rounded-md bg-white dark:bg-dark-secondary text-gray-900 dark:text-white font-mono text-base min-h-[80px] resize-y whitespace-pre overflow-x-auto",value:(null===(o=q[C])||void 0===o?void 0:o.expectedOutput)||"",onChange:e=>{const t=[...q];t[C].expectedOutput=e.target.value,z(t),requestAnimationFrame(()=>{ye(e.target)})},onInput:e=>ye(e.target),placeholder:"Enter expected output (supports multiple lines)",rows:1,style:{minHeight:"40px",maxHeight:"200px",overflowY:"auto",overflowX:"auto",whiteSpace:"pre",width:"100%",boxSizing:"border-box",minWidth:"100%",maxWidth:"100%"}})})]})]}),(0,k.jsx)("div",{className:"flex justify-end mt-4",children:(0,k.jsx)("button",{className:"text-red-500 hover:text-red-700 font-medium",onClick:()=>{const e=q.filter((e,t)=>t!==C);z(e.length?e:[{input:"",expectedOutput:""}]),B(e=>Math.max(0,e-1))},disabled:q.length<=1,title:"Delete this test case",children:"Delete Case"})})]})]})}),"output"===m&&(0,k.jsx)("div",{className:"py-8 px-4 flex flex-col items-center",children:v?(0,k.jsx)("pre",{className:"text-red-600 dark:text-red-400 whitespace-pre-wrap break-words",children:v}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(V,{testResults:x,runsubmit:Y})})}),"submissions"===m&&(0,k.jsx)("div",{className:"space-y-4",children:0===Ae.length?(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"No submissions yet for this question."}):(0,k.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-dark-tertiary",children:(0,k.jsxs)("table",{className:"min-w-full table-auto divide-y divide-gray-200 dark:divide-dark-tertiary",children:[(0,k.jsx)("thead",{className:"bg-gray-50 dark:bg-dark-secondary",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Time"}),(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Language"}),(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Status"}),(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Marks"}),(0,k.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Actions"})]})}),(0,k.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-tertiary",children:Ae.map((e,t)=>(0,k.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-hover transition",children:[(0,k.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap",children:(()=>{const t=e.timestamp.replace(/T(\d{2})_(\d{2})_(\d{2})_(\d{3})Z/,"T$1:$2:$3.$4Z"),n=new Date(t);return isNaN(n.getTime())?"N/A":n.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})()}),(0,k.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap",children:e.language}),(0,k.jsx)("td",{className:"px-4 py-2 text-sm font-medium text-center whitespace-nowrap",children:0===e.marks?(0,k.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-red-100 text-red-700 font-semibold",children:"Failed"}):100===e.marks?(0,k.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-green-100 text-green-700 font-semibold",children:"Passed"}):(0,k.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full bg-yellow-100 text-yellow-700 font-semibold",children:"Partial"})}),(0,k.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 text-center whitespace-nowrap",children:[e.marks,"/100"]}),(0,k.jsx)("td",{className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 flex items-center gap-2",children:(0,k.jsx)("button",{onClick:()=>{return t=e.code,se(t),void ne(!0);var t},className:"text-gray-400 hover:text-blue-500 transition",title:"Copy code",children:(0,k.jsx)(mk,{size:16})})})]},t))})]})})})]})]}),(0,k.jsx)("div",{className:"w-1 bg-gray-200 dark:bg-dark-tertiary hover:bg-[#4285F4] cursor-col-resize flex items-center justify-center group transition-colors duration-150 ".concat(E?"bg-[#4285F4]":""),onMouseDown:ke,style:{zIndex:10},children:(0,k.jsx)(D,{size:16,className:"text-gray-400 group-hover:text-[#4285F4] opacity-0 group-hover:opacity-100"})}),(0,k.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-auto",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary border-t border-gray-200 dark:border-dark-tertiary p-2 flex justify-end gap-6",children:[(0,k.jsx)("div",{className:"flex items-center gap-4",children:(0,k.jsx)("select",{className:"bg-white dark:bg-dark-secondary text-gray-900 dark:text-white border border-gray-300 dark:border-dark-tertiary rounded-lg px-3 py-2 focus:ring-2 focus:ring-[#4285F4] focus:border-transparent",value:F,onChange:Ce,children:(0,k.jsx)("option",{value:"cpp",children:"C"})})}),(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsxs)("button",{onClick:()=>p(!0),className:"bg-gray-200 hover:bg-gray-300 dark:bg-dark-tertiary dark:hover:bg-dark-tertiary/80 text-gray-800 dark:text-gray-100 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors duration-150",title:"Reset to default template",children:[(0,k.jsx)(M,{}),"Reset Code"]}),(0,k.jsxs)("button",{onClick:async()=>{if(!q||0===q.length)return void console.error("No test cases available");Z("run");const e=q;console.log("Running test cases:",e);try{const o=e.map(e=>({input:e.input||"",expected:e.expectedOutput||"",output:"",passed:!1,status:"running",isFirstFailure:!1}));b(o),w(null),y("output");const a=[...o];let l=!1;for(let c=0;c<e.length;c++){const{input:o,expectedOutput:A}=e[c];try{var t,n;const{run:e}=await yn(F,h,o);if("regex2"===(null===J||void 0===J||null===(t=J.testcases[2])||void 0===t?void 0:t.input)){const t=e.output.match(J.testcases[2].expectedOutput);console.log(e.output),console.log(J.testcases[2].expectedOutput);const n=new RegExp(/^PID of example\.c = \d+\n(?:[A-Za-z]{3} ){2}\d{1,2} \d{2}:\d{2}:\d{2} [A-Z]+ \d{4}\n?$/);console.log(n.test(e.output)),a[c]={input:o,expected:A,output:e.output,passed:n.test(e.output),status:"done",isFirstFailure:!t&&!l},t||l||(l=!0,B(c))}else if("regex"===(null===J||void 0===J||null===(n=J.testcases[2])||void 0===n?void 0:n.input)){var r,s;const t=e.output.match(null===J||void 0===J||null===(r=J.testcases[2])||void 0===r?void 0:r.expectedOutput);console.log(e.output),console.log(null===J||void 0===J||null===(s=J.testcases[2])||void 0===s?void 0:s.expectedOutput);const n=new RegExp(/^Child => PPID: \d+, PID: \d+\nParent => PID: \d+\nWaiting for child process to finish\.\nChild process finished\.\n?$/);console.log(n.test(e.output)),a[c]={input:o,expected:A,output:e.output,passed:n.test(e.output),status:"done",isFirstFailure:!t&&!l},t||l||(l=!0,B(c))}else{const t=e.output||"",n=t?t.split("\n").filter(e=>""!==e):[],r=A?A.split("\n").filter(e=>""!==e):[],s=n.length===r.length&&n.every((e,t)=>e.trimEnd()===r[t].trimEnd());a[c]={input:o,expected:A,output:t,passed:s,status:"done",isFirstFailure:!s&&!l},s||l||(l=!0,B(c))}}catch(i){console.error("Error executing test case ".concat(c+1,":"),i),a[c]={input:o,expected:A||"",output:i.message||"Error executing code",passed:!1,status:"done",isFirstFailure:!l},l||(l=!0,B(c))}b([...a]),await new Promise(e=>setTimeout(e,300))}}catch(i){console.error("Error during test cases:",i),b([{input:"",expected:"",output:i.message||"Error executing test cases",passed:!1,status:"done",isFirstFailure:!0}])}},className:"bg-[#4285F4] hover:bg-[#4285F4]/90 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors duration-150",children:[(0,k.jsx)(j,{}),"Run Code"]}),(0,k.jsxs)("button",{onClick:async()=>{if(!J||!J.testcases)return void console.error("Question data not loaded");Z("submit");const e=J.testcases,t=e.map(e=>({input:e.input,expected:e.expectedOutput,output:"",passed:!1,status:"running"}));b(t),w(null),y("output");const n=[...t];for(let a=0;a<e.length;a++){var r,s;const{input:t,expectedOutput:i}=e[a],{run:o}=await yn(F,h,t);if("regex2"===(null===J||void 0===J||null===(r=J.testcases[2])||void 0===r?void 0:r.input)){o.output.match(J.testcases[2].expectedOutput);console.log(o.output),console.log(J.testcases[2].expectedOutput);const e=new RegExp(/^PID of example\.c = \d+\n(?:[A-Za-z]{3} ){2}\d{1,2} \d{2}:\d{2}:\d{2} [A-Z]+ \d{4}\n?$/);console.log(e.test(o.output)),n[a]={input:t,expected:i,output:o.output,passed:e.test(o.output),status:"done"},b([...n]),await new Promise(e=>setTimeout(e,300));continue}if("regex"===(null===J||void 0===J||null===(s=J.testcases[2])||void 0===s?void 0:s.input)){o.output.match(J.testcases[2].expectedOutput);console.log(o.output),console.log(J.testcases[2].expectedOutput);const e=new RegExp(/^Child => PPID: \d+, PID: \d+\nParent => PID: \d+\nWaiting for child process to finish\.\nChild process finished\.\n?$/);console.log(e.test(o.output)),n[a]={input:t,expected:i,output:o.output,passed:e.test(o.output),status:"done"},b([...n]),await new Promise(e=>setTimeout(e,300));continue}const l=o.output?o.output.split("\n"):["No output received."];for(;""===l[l.length-1];)l.pop();const c=i.split("\n");for(;""===c[c.length-1];)c.pop();const A=l.length===c.length&&l.every((e,t)=>e.trimEnd()===c[t].trimEnd());n[a]={input:t,expected:i,output:o.output,passed:A,status:"done"},b([...n])}const i=n.every(e=>e.passed);n.filter(e=>e.passed).length;let o=0,l=0,c=n.length;n.forEach((e,t)=>{e.passed&&(t<2?o+=1:l+=1)});let d=o/2*.3+l/(c-2)*.7;n.length<=2&&(d=o/2*1),await(async(e,t,n,r)=>{if(console.log("logging submission"),console.log(null===oe||void 0===oe?void 0:oe.email),null===oe||void 0===oe||!oe.uid)return;const s=(new Date).toISOString(),i=(o=s)?o.replace(/[.#$/\[\]:]/g,"_"):"";var o;const l="ExamCodeSubmissions/".concat(ie,"/").concat(ae,"/").concat(a,"/").concat(i);try{await(0,u.hZ)((0,u.KR)(A.OO,l),{language:F,status:e,code:t,marks:100*n||0,testResults:r||[]}),console.log("Submission logged successfully."),ee(e=>e+1)}catch(c){console.error("Error logging submission:",c)}})(i?"correct":"wrong",h,d,n),_d.success("Submitted",{autoClose:1e3});const f=i?"true":"false",g=(0,u.KR)(A.OO,"ExamSubmissions/".concat(ie,"/").concat(oe.uid,"/").concat(a,"/")),p=(0,u.KR)(A.OO,"Marks/".concat(ie,"/").concat(oe.uid,"/").concat(a,"/")),m=await(0,u.Jt)(p);m.exists()&&m.val()>=100*d||(await(0,u.hZ)(g,f),await(0,u.hZ)(p,100*d),ce(i?"correct":"wrong"),console.log("Saved to Firebase:",f))},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors duration-150",children:[(0,k.jsx)(L,{}),"Submit"]})]})]}),(0,k.jsx)("div",{className:"flex-1 bg-white dark:bg-gray-900 min-w-0 overflow-auto",children:(0,k.jsx)(T.Ay,{height:"100%",defaultLanguage:"cpp",language:"cpp"===F?"cpp":F,theme:"dark"===K?"vs-dark":"vs-light",value:h,onChange:be,onMount:function(e,t){pe.current=e,me.current&&me.current.disconnect(),me.current=new ResizeObserver(()=>{pe.current&&pe.current.layout()});const n=e.getContainerDomNode();n&&me.current.observe(n),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KeyC,()=>{if(null===Md("copyDisabled"))return _d.error("Copy disabled!",{position:"top-right",autoClose:3e3}),void Dd("copyDisabled",!0,5e3)}),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KeyV,()=>{if(null===Md("pasteDisabled"))return _d.error("Paste disabled!",{position:"top-right",autoClose:3e3}),void Dd("pasteDisabled",!0,5e3)})},options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",roundedSelection:!1,scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",tabSize:2,dragAndDrop:!0,formatOnPaste:!0,formatOnType:!0}})})]}),g&&(0,k.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true",children:(0,k.jsxs)("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:[(0,k.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Reset Code"})}),(0,k.jsx)("div",{className:"px-6 py-5 text-sm text-gray-700 dark:text-gray-300",children:"This will replace your current code with the default template for the selected language. This action cannot be undone."}),(0,k.jsxs)("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[(0,k.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Cancel"}),(0,k.jsx)("button",{onClick:Be,className:"px-5 py-2 text-sm font-medium bg-red-600 hover:bg-red-700 text-white rounded-md",children:"Reset"})]})]})}),te&&(0,k.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true",children:(0,k.jsxs)("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:[(0,k.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Confirm Copy"})}),(0,k.jsx)("div",{className:"px-6 py-5 text-sm text-gray-700 dark:text-gray-300",children:"Are you sure you want to copy this code snippet to your clipboard?"}),(0,k.jsxs)("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[(0,k.jsx)("button",{onClick:()=>ne(!1),className:"px-4 py-2 text-sm font-medium bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600",children:"Cancel"}),(0,k.jsx)("button",{onClick:()=>de(re),className:"px-5 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-md",children:"Confirm Copy"})]})]})})]})},Ck=e=>{let{question:n}=e;const[r,s]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{console.log(null===r||void 0===r?void 0:r.type),(async()=>{o(!0);try{const e=(0,u.KR)(A.OO,"questions/".concat(n)),[t]=await Promise.all([(0,u.Jt)(e)]);if(console.log(t.val()),t.exists()){const e=t.val();console.log(e),s(e)}}catch(e){console.error("Error fetching data from Firebase:",e)}finally{o(!1)}})()},[n]),i?(0,k.jsx)(Wd.A,{message:"Loading question, please wait..."}):r?(0,k.jsxs)("div",{children:["Programming"===(null===r||void 0===r?void 0:r.type)&&(0,k.jsx)(bk,{question:n}),"MCQ"===(null===r||void 0===r?void 0:r.type)&&(0,k.jsx)(pk,{data:r})]}):(0,k.jsx)("p",{children:"No data found"})},Bk=e=>{var n,r;let{Questions:i,startTime:o,onExamComplete:a,duration:h,examName:f,setviolation:g,setIsViolationReady:p,videoRef:m,detections:y,isProctoringActive:v}=e;const{testid:w}=(0,s.g)(),{theme:C,toggleTheme:B}=(0,l.D)(),[E,N]=(0,t.useState)({}),[S,_]=(0,t.useState)("description"),[F,I]=(0,t.useState)(()=>{if(console.log(o),!o)return null;const e=60*h,t=new Date(o),n=new Date;console.log("Start Time:",t),console.log("Current Time:",n);const r=Math.floor((n-t)/1e3);console.log("Elapsed Seconds:",r);const s=Math.max(0,e-r);return console.log("Remaining Time:",s),s}),{user:T}=(0,c.A)();(0,t.useEffect)(()=>{if(!T||!w)return;const e=(0,u.KR)(A.OO,"ExamSubmissions/".concat(w,"/").concat(T.uid,"/"));(0,u.Zy)(e,e=>{if(e.exists()){const t=e.val();N(t||{})}},e=>{console.error("Error in real-time listener:",e)});return()=>{(0,u.AU)(e,"value")}},[w,T]);const j=(0,t.useCallback)(e=>{if(console.log(e),console.log(i.length),!i||e<0||e>=i.length)return void console.error("Invalid question index or test data not loaded");W(e);i[e];window.scrollTo({top:0,behavior:"smooth"})},[]),L=(0,t.useCallback)(e=>{j(e),_("description"),K(!1)},[j]),[U,P]=(0,t.useState)(navigator.onLine),[Q,O]=(0,t.useState)(null),[R,D]=(0,t.useState)("4g"),M=(0,t.useCallback)(async()=>{if(!navigator.onLine)return null;try{const e=1e5,t="https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png?t=".concat(Date.now()),n=performance.now(),r=await fetch(t,{cache:"no-store"});await r.blob();const s=(performance.now()-n)/1e3;if(s>0){const t=8*e/s/1048576;return console.log("Measured speed:",t.toFixed(2),"Mbps"),Math.max(.1,Math.min(t,100))}return null}catch(e){return console.log("Speed test failed:",e.message),null}},[]),H=(0,t.useCallback)(async()=>{if(!navigator.onLine)return O(null),void D("offline");const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;e&&e.effectiveType&&D(e.effectiveType);const t=await M();if(null!==t)console.log("Using measured speed:",t),O(t);else if(e&&e.downlink){const t=.2*(Math.random()-.5),n=e.downlink*(1+t);console.log("Using connection.downlink:",n),O(Math.max(.1,n))}else if(e&&e.effectiveType){const t={"slow-2g":.05,"2g":.25,"3g":1.5,"4g":10}[e.effectiveType]||1,n=.3*(Math.random()-.5),r=Math.max(.1,t*(1+n));console.log("Using effectiveType estimate:",e.effectiveType,r),O(r)}else console.log("No connection API, using default 5 Mbps"),O(5)},[M]);(0,t.useEffect)(()=>{const e=()=>{P(!0),H()},t=()=>{P(!1),O(null)},n=()=>{H()};window.addEventListener("online",e),window.addEventListener("offline",t);const r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;r&&r.addEventListener("change",n),H();const s=setInterval(()=>{navigator.onLine&&H()},1e4);return()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t),r&&r.removeEventListener("change",n),clearInterval(s)}},[H]),(0,t.useEffect)(()=>{if(!o)return;const e=()=>{const e=60*h,t=new Date(o),n=new Date,r=Math.floor((n-t)/1e3),s=Math.max(0,e-r);I(s),s<=0&&a()};e();const t=setInterval(e,1e3);return()=>clearInterval(t)},[o,a]);const[V,K]=(0,t.useState)(!1),q=(0,t.useRef)(null),[z,W]=(0,t.useState)(0),[G,J]=(0,t.useState)(""),[X,Y]=(0,t.useState)({}),[Z,$]=(0,t.useState)(!1),[ee,te]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=e=>{q.current&&!q.current.contains(e.target)&&K(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{console.log(i[0])},[]),(0,t.useEffect)(()=>{if(!i||0===i.length)return Object.keys(X).length>0&&Y({}),void J("");const e=i[z];e&&Object.prototype.hasOwnProperty.call(X,e)?J(X[e]||""):J("")},[i,z,X]),(0,t.useEffect)(()=>{if(!i||0===i.length)return void(Object.keys(X).length>0&&Y({}));const e=i.filter(e=>e&&!Object.prototype.hasOwnProperty.call(X,e));if(0===e.length)return;let t=!0;return(async()=>{try{const n=await Promise.all(e.map(async e=>{try{const t=(0,u.KR)(A.OO,"questions/".concat(e)),n=await(0,u.Jt)(t),r=n.exists()?n.val():null;return[e,(null===r||void 0===r?void 0:r.type)||""]}catch(t){return console.error("Error fetching question type:",t),[e,""]}}));if(!t)return;Y(e=>{const t=(0,d.A)({},e);return n.forEach(e=>{let[n,r]=e;n&&(t[n]=r)}),t})}catch(n){console.error("Error fetching question types:",n)}})(),()=>{t=!1}},[i,X]);const ne=(0,t.useCallback)(()=>{i&&z<i.length-1&&(j(z+1),_("description"))},[z,null===i||void 0===i?void 0:i.length,j]),re=(0,t.useCallback)(()=>{z>0&&(j(z-1),_("description"))},[z,j]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden relative",children:[(0,k.jsxs)("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsx)("button",{onClick:()=>K(!V),className:"p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none hamburger-menu","aria-label":"Toggle menu",children:(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,k.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:f}),v&&m&&(0,k.jsxs)("div",{className:"relative w-16 h-16 bg-gray-900 rounded-lg overflow-hidden shadow-md border border-red-500",children:[(0,k.jsx)("video",{ref:m,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,k.jsx)(dk,{videoRef:m,detections:y,isActive:!0}),(0,k.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 flex items-center justify-center gap-1 bg-red-600/90 text-white px-1 py-0.5 text-[8px]",children:[(0,k.jsx)("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse"}),"LIVE"]})]})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,k.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full text-white font-bold text-sm shadow-md",children:(null===T||void 0===T||null===(n=T.name)||void 0===n||null===(r=n.charAt(0))||void 0===r?void 0:r.toUpperCase())||"U"}),(0,k.jsx)("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:(null===T||void 0===T?void 0:T.name)||"User"})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[(0,k.jsx)("svg",{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,k.jsx)("span",{className:"text-sm font-semibold text-yellow-700 dark:text-yellow-300",children:null!==F?(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n<10?"0":"").concat(n)})(F):"Loading..."})]}),(0,k.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,k.jsxs)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:[z+1," / ",i.length]}),(0,k.jsx)("div",{className:"w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,k.jsx)("div",{className:"h-full bg-blue-600 dark:bg-blue-500 transition-all duration-300",style:{width:"".concat((z+1)/i.length*100,"%")}})})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsxs)("button",{onClick:re,disabled:0===z,className:"group flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-blue-500 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-gray-300 dark:disabled:hover:border-gray-600 disabled:hover:text-gray-700 dark:disabled:hover:text-gray-300 shadow-sm",title:"Previous Question",children:[(0,k.jsx)(hk.irw,{className:"w-4 h-4"}),(0,k.jsx)("span",{className:"hidden md:inline",children:"Previous"})]}),(0,k.jsxs)("button",{onClick:ne,disabled:z===i.length-1,className:"group flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-blue-500 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-gray-300 dark:disabled:hover:border-gray-600 disabled:hover:text-gray-700 dark:disabled:hover:text-gray-300 shadow-sm",title:"Next Question",children:[(0,k.jsx)("span",{className:"hidden md:inline",children:"Next"}),(0,k.jsx)(hk.fOo,{className:"w-4 h-4"})]}),(0,k.jsx)("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:U?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),(0,k.jsx)("div",{className:"flex flex-col",children:null!==Q?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("span",{className:"text-xs font-semibold",children:Q>=1?(0,k.jsxs)("span",{className:"text-green-600 dark:text-green-400",children:[Q.toFixed(1)," Mbps"]}):(0,k.jsxs)("span",{className:"text-yellow-600 dark:text-yellow-400",children:[(1024*Q).toFixed(0)," Kbps"]})})}):(0,k.jsx)("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Online"})})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(b,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),(0,k.jsx)("span",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Offline"})]})}),(0,k.jsx)("button",{onClick:B,className:"group flex items-center justify-center w-9 h-9 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-700 dark:text-gray-300 hover:border-blue-500 dark:hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200",title:"Toggle theme",children:"dark"===C?(0,k.jsx)(hk.Wh$,{className:"w-4 h-4"}):(0,k.jsx)(hk.hkc,{className:"w-4 h-4"})})]})]})]}),(0,k.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,k.jsx)(mm,{children:V&&(0,k.jsxs)(uk.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween"},className:"fixed top-0 left-0 z-50 h-full w-64 bg-white dark:bg-gray-800 shadow-lg border-r border-gray-200 dark:border-gray-700",ref:q,children:[(0,k.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Questions"}),(0,k.jsx)("button",{onClick:()=>K(!1),className:"absolute top-3 right-3 p-1 text-gray-400 hover:text-gray-500 dark:text-gray-400 dark:hover:text-gray-300",children:(0,k.jsx)(hk.yGN,{size:20})})]}),(0,k.jsx)("div",{className:"overflow-y-auto h-[calc(100%-9rem)]",children:null===i||void 0===i?void 0:i.map((e,t)=>{const n=X[e],r=null===n||void 0===n?void 0:n.toLowerCase(),s=null===E||void 0===E?void 0:E[e],i=!0===s||"true"===s,o=!1===s||"false"===s,a=void 0!==s&&null!==s&&""!==s;let l=null;return"mcq"===r?l=a?(0,k.jsx)(hk.A3x,{className:"ml-2 flex-shrink-0 text-green-500"}):(0,k.jsx)(hk.DQs,{className:"ml-2 flex-shrink-0 text-gray-400"}):"programming"===r&&(a?i?l=(0,k.jsx)(hk.A3x,{className:"ml-2 flex-shrink-0 text-green-500"}):o&&(l=(0,k.jsx)(hk.q_G,{className:"ml-2 flex-shrink-0 text-red-500"})):l=(0,k.jsx)(hk.DQs,{className:"ml-2 flex-shrink-0 text-gray-400"})),(0,k.jsx)("button",{onClick:()=>{L(t),K(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ".concat(z===t?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300":"text-gray-700 dark:text-gray-300"),children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("span",{className:"w-6 h-6 flex items-center justify-center rounded-full mr-2 text-sm font-medium ".concat(z===t?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-200":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"),children:t+1}),(0,k.jsxs)("div",{className:"flex flex-col flex-1 min-w-0",children:[(0,k.jsx)("span",{className:"truncate text-sm font-medium",children:e}),(0,k.jsx)("span",{className:"text-[11px] uppercase tracking-wide font-semibold text-purple-600 dark:text-purple-300",children:n||"Loading"})]}),l]})},t)})}),(0,k.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("button",{onClick:()=>{$(!0),K(!1)},className:"w-full flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white text-sm font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:ee,title:"Submit Exam",children:ee?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,k.jsx)("span",{children:"Submitting..."})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(hk.YrT,{className:"w-4 h-4"}),(0,k.jsx)("span",{children:"Submit Exam"})]})})})]})}),(0,k.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:(0,k.jsx)(Ck,{question:i[z]})})]})]}),(0,k.jsx)(mm,{children:Z&&(0,k.jsx)(uk.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,k.jsxs)(uk.div,{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",initial:{scale:.9},animate:{scale:1},exit:{scale:.9},transition:{duration:.2},children:[(0,k.jsxs)("div",{className:"flex items-center mb-4",children:[(0,k.jsx)(hk.eHT,{className:"w-6 h-6 text-yellow-500 mr-2"}),(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Confirm Submission"})]}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"Are you sure you want to submit your exam? Once submitted, you won't be able to make any changes."}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,k.jsx)("button",{onClick:()=>$(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",disabled:ee,children:"Cancel"}),(0,k.jsx)("button",{onClick:async()=>{te(!0);try{const e=(0,u.KR)(A.OO,"Exam/".concat(w,"/Properties/Progress/").concat(T.uid,"/status"));await(0,u.hZ)(e,"completed"),g(0),p(!1);const t=(0,u.KR)(A.OO,"Exam/".concat(w,"/Properties2/Progress/").concat(T.uid,"/"));await(0,u.hZ)(t,0),$(!1),a&&a()}catch(e){console.error("Error submitting exam:",e),alert("There was an error submitting the exam. Please try again.")}finally{te(!1)}},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md hover:bg-green-700 transition-colors flex items-center justify-center min-w-[100px]",disabled:ee,children:ee?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit"})]})]})})})]})},kk=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[i,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{s(!0);const e=await globalThis.cocoSsd.load();n(e),o(null)}catch(nf){o("Failed to load detection model"),console.error("Model loading error:",nf)}finally{s(!1)}})()},[]);const a=(0,t.useCallback)(async t=>{if(!e||!t)return[];try{return(await e.detect(t)).filter(e=>"person"===e.class).map(e=>({class:e.class,score:e.score,bbox:e.bbox}))}catch(nf){return console.error("Detection error:",nf),[]}},[e]);return{detectPersons:a,isLoading:r,error:i,modelReady:!!e}},Ek=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Nk=(()=>{if("undefined"===typeof document)return!1;const e=Ek[0],t={};for(const n of Ek){if((null===n||void 0===n?void 0:n[1])in document){for(const[r,s]of n.entries())t[e[r]]=s;return t}}return!1})(),Sk={change:Nk.fullscreenchange,error:Nk.fullscreenerror};let _k={request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,t=arguments.length>1?arguments[1]:void 0;return new Promise((n,r)=>{const s=()=>{_k.off("change",s),n()};_k.on("change",s);const i=e[Nk.requestFullscreen](t);i instanceof Promise&&i.then(s).catch(r)})},exit:()=>new Promise((e,t)=>{if(!_k.isFullscreen)return void e();const n=()=>{_k.off("change",n),e()};_k.on("change",n);const r=document[Nk.exitFullscreen]();r instanceof Promise&&r.then(n).catch(t)}),toggle:(e,t)=>_k.isFullscreen?_k.exit():_k.request(e,t),onchange(e){_k.on("change",e)},onerror(e){_k.on("error",e)},on(e,t){const n=Sk[e];n&&document.addEventListener(n,t,!1)},off(e,t){const n=Sk[e];n&&document.removeEventListener(n,t,!1)},raw:Nk};Object.defineProperties(_k,{isFullscreen:{get:()=>Boolean(document[Nk.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return null!==(e=document[Nk.fullscreenElement])&&void 0!==e?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[Nk.fullscreenEnabled])}}),Nk||(_k={isEnabled:!1});const Fk=_k,Ik=e=>{let{violation:n,setviolation:r,isViolationReady:s,testid:i,enableViolationTracking:o=!0}=e;const{user:a}=(0,c.A)(),[l,d]=((0,t.useRef)(null),(0,t.useState)(!1)),[h,f]=(0,t.useState)(0),[g,p]=(0,t.useState)(0),[m,y]=(0,t.useState)(0),[v,w]=(0,t.useState)(0),[x,b]=(0,t.useState)(0),[C,B]=(0,t.useState)(0),E=(0,t.useRef)(null),N=(0,t.useRef)(null),S=(0,t.useRef)(null),_=(0,t.useRef)(!1),F=(0,t.useRef)(!1),I=(0,t.useRef)(null),T=(0,t.useRef)(null),j=(0,t.useRef)(null),L=(0,t.useRef)(null),U=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o&&i&&null!==a&&void 0!==a&&a.uid)try{const n=(0,u.KR)(A.OO,"Exam/".concat(i,"/Violations/").concat(a.uid)),r=(0,u.VC)(n);await(0,u.hZ)(r,{reason:e,timestamp:(new Date).toISOString(),details:t,userAgent:navigator.userAgent,screenSize:"".concat(window.screen.width,"x").concat(window.screen.height),windowSize:"".concat(window.innerWidth,"x").concat(window.innerHeight)}),console.log("[Violation Logged] ".concat(e),t)}catch(n){console.error("Error logging violation:",n)}},P=()=>{_.current||(_.current=!0,p(e=>e+1),s&&(r(e=>"number"===typeof e?e+1:1),U("tab_switch_detected",{detectedAt:(new Date).toISOString(),reason:"Immediate tab/window blur"})))};(0,t.useEffect)(()=>{if(!Fk.isEnabled)return;const e=()=>{const e=Fk.isFullscreen;d(e),e||(S.current=Date.now(),_.current=!1,E.current=null,F.current=!0,I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{!Fk.isFullscreen&&s&&(console.warn("[Violation] Fullscreen exit detected"),U("fullscreen_exit",{exitTime:(new Date).toISOString(),gracePeriod:"1000ms"}),r(e=>e+1),f(e=>e+1)),I.current=null},1e3))};return Fk.on("change",e),()=>Fk.off("change",e)},[s,r]),(0,t.useEffect)(()=>{const e=()=>{if(!document.hidden&&!E.current){if(F.current)return void(F.current=!1);E.current=Date.now(),P(),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{if(!document.hasFocus()&&s){console.warn("[Violation] Window blur >2s");const e=Date.now()-E.current;U("window_blur",{duration:"".concat(e,"ms"),gracePeriod:"2000ms",hasFocus:document.hasFocus()})}T.current=null},2e3)}},t=()=>{if(E.current){const e=Date.now()-E.current;b(t=>t+e),E.current=null}_.current=!1},n=()=>{if(document.hidden)E.current=Date.now(),P(),T.current&&(clearTimeout(T.current),T.current=null),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{if(document.hidden&&s){console.warn("[Violation] Page hidden >2s");const e=Date.now()-E.current;U("tab_switch",{duration:"".concat(e,"ms"),gracePeriod:"2000ms",pageHidden:document.hidden,visibilityState:document.visibilityState})}j.current=null},2e3);else if(E.current){const e=Date.now()-E.current;b(t=>t+e),E.current=null,_.current=!1,F.current=!1}};return window.addEventListener("blur",e),window.addEventListener("focus",t),document.addEventListener("visibilitychange",n),()=>{window.removeEventListener("blur",e),window.removeEventListener("focus",t),document.removeEventListener("visibilitychange",n),T.current&&clearTimeout(T.current),j.current&&clearTimeout(j.current)}},[s,r]),(0,t.useEffect)(()=>{const e=e=>{if(e.clientY<=0||e.clientX<=0||e.clientX>=window.innerWidth||e.clientY>=window.innerHeight){N.current=Date.now();const t={x:e.clientX,y:e.clientY};L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{if(Date.now()-N.current>2e3&&s){console.warn("[Violation] Mouse left screen >2s");const e=Date.now()-N.current;U("mouse_leave",{duration:"".concat(e,"ms"),gracePeriod:"2000ms",lastPosition:t}),r(e=>e+1),y(e=>e+1)}L.current=null},2e3)}},t=()=>{if(N.current){const e=Date.now()-N.current;B(t=>t+e),N.current=null}};return document.addEventListener("mouseleave",e),document.addEventListener("mouseenter",t),()=>{document.removeEventListener("mouseleave",e),document.removeEventListener("mouseenter",t),L.current&&clearTimeout(L.current)}},[s,r]),(0,t.useEffect)(()=>{const e=()=>{!document.hidden&&document.hasFocus()||w(e=>e+1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);return(0,k.jsx)("div",{style:{display:"none"}})},Tk=()=>{const[e,n]=(0,t.useState)("loading"),[r,i]=(0,t.useState)([]),[o,a]=(0,t.useState)(null),[l,h]=(0,t.useState)(null),[f,g]=(0,t.useState)(null),[p,m]=(0,t.useState)(!1),[y,v]=(0,t.useState)({}),[w,x]=(0,t.useState)(1800),b=(0,t.useRef)(null),[C,B]=(0,t.useState)(!1),[E,N]=(0,t.useState)(null),[S,_]=(0,t.useState)(null),[F,I]=(0,t.useState)(""),[T,j]=(0,t.useState)(!1),[L,U]=(0,t.useState)(0),P=(0,t.useRef)(null),Q=(0,t.useRef)(null),O=(0,t.useRef)(null),R=(0,t.useRef)(null),D=(0,t.useRef)(null),[M,H]=(0,t.useState)(!1),[V,K]=(0,t.useState)(""),[q,z]=(0,t.useState)(!1),[W,G]=(0,t.useState)([]),J=(0,t.useRef)(null),X=(0,t.useRef)(null),[Y,Z]=(0,t.useState)(null),$=(0,t.useRef)(null),[ee,te]=(0,t.useState)(null),ne=(0,t.useRef)(null),re=(0,t.useRef)(null),se=(0,t.useRef)({noPerson:!1,multiPerson:!1}),[ie,oe]=(0,t.useState)([]),[ae,le]=(0,t.useState)([]),[ce,Ae]=(0,t.useState)(""),[ue,de]=(0,t.useState)(""),[he,fe]=(0,t.useState)({enableVideoProctoring:!0,enableFullscreen:!0,blockOnViolations:!1}),{detectPersons:ge,isLoading:pe,error:me,modelReady:ye}=kk(),{testid:ve}=(0,s.g)(),{user:we}=(0,c.A)(),{isStreaming:xe,connectionStatus:be,activeConnections:Ce}=function(e,n,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const[o,a]=(0,t.useState)("disconnected"),[l,c]=(0,t.useState)(0),h=(0,t.useRef)(new Map),f=(0,t.useRef)(new Map),g=(0,t.useRef)([]),p={iceServers:(()=>{const e=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}],t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TURN_URL,n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TURN_USERNAME,r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TURN_CREDENTIAL;if(t&&n&&r&&e.push({urls:t,username:n,credential:r}),"undefined"!==typeof window&&window.__TURN_CONFIG__){const t=window.__TURN_CONFIG__;t.urls&&e.push({urls:t.urls,username:t.username,credential:t.credential})}return e})(),iceCandidatePoolSize:10,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",iceTransportPolicy:"all",sdpSemantics:"unified-plan"},m=()=>{console.log("[WebRTC] Cleaning up connections"),h.current.forEach((e,t)=>{console.log("[WebRTC] Closing connection with admin:",t),e.close()}),h.current.clear(),f.current.clear(),g.current.forEach(e=>{"function"===typeof e&&e()}),g.current=[],e&&n&&(0,u.TF)((0,u.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n))),a("disconnected"),c(0)};(0,t.useEffect)(()=>{if(!i||!r||!e||!n)return console.log("[WebRTC] Not initializing:",{isActive:i,hasStream:!!r,testid:e,userId:n}),void m();console.log("[WebRTC] ===== Starting WebRTC Stream for user:",n,"====="),a("initializing");const t=(0,u.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n));(0,u.hZ)(t,{active:!0,userId:n,timestamp:Date.now(),status:"available"}),(0,u.yX)(t).remove();const o=(0,u.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/viewers")),l=(0,u.Zy)(o,async e=>{const t=e.val();if(t){console.log("[WebRTC] Active viewers:",Object.keys(t));for(const[e,n]of Object.entries(t)){if(h.current.has(e)){const t=h.current.get(e);if("connected"===t.connectionState||"connecting"===t.connectionState)continue}console.log("[WebRTC] Setting up connection for viewer:",e),await y(e,r,s)}}});return g.current.push(l),a("ready"),m},[i,r,s,e,n]);const y=async function(t,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.log("[WebRTC] Creating peer connection for:",t),console.log("[WebRTC] Camera stream:",!!r,"Screen stream:",!!s);const i=h.current.get(t);i&&i.close();const o=new RTCPeerConnection(p);h.current.set(t,o),f.current.set(t,[]),r&&r.getTracks().forEach(e=>{e.enabled=!0;const t=o.addTrack(e,r);if(console.log("[WebRTC] Added CAMERA track:",e.kind,"with label:",e.label,"enabled:",e.enabled,"muted:",e.muted,"readyState:",e.readyState),"video"===e.kind){const e=t.getParameters();e.encodings&&0!==e.encodings.length||(e.encodings=[{}]),e.encodings[0].maxBitrate=2e6,e.encodings[0].maxFramerate=30,e.encodings[0].scaleResolutionDownBy=1,t.setParameters(e).then(()=>console.log("[WebRTC] Camera video encoding parameters set")).catch(e=>console.error("[WebRTC] Failed to set camera encoding params:",e))}else if("audio"===e.kind){const e=t.getParameters();e.encodings&&0!==e.encodings.length||(e.encodings=[{}]),e.encodings[0].maxBitrate=128e3,t.setParameters(e).then(()=>console.log("[WebRTC] Camera audio encoding parameters set")).catch(e=>console.error("[WebRTC] Failed to set audio encoding params:",e))}}),s&&s.getTracks().forEach(e=>{const t=o.addTrack(e,s);if(console.log("[WebRTC] Added SCREEN SHARE track:",e.kind,"with label:",e.label),"video"===e.kind){const e=t.getParameters();e.encodings&&0!==e.encodings.length||(e.encodings=[{}]),e.encodings[0].maxBitrate=3e6,e.encodings[0].maxFramerate=30,e.encodings[0].scaleResolutionDownBy=1,t.setParameters(e).then(()=>console.log("[WebRTC] Screen share encoding parameters set")).catch(e=>console.error("[WebRTC] Failed to set screen encoding params:",e))}}),o.onicecandidate=r=>{if(r.candidate){const s=(0,u.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/ice/").concat(t,"/student/").concat(Date.now()));(0,u.hZ)(s,r.candidate.toJSON())}};const l={value:!1};o.onconnectionstatechange=()=>{if(console.log("[WebRTC] Connection state [".concat(t,"]:"),o.connectionState),"connected"===o.connectionState)a("streaming"),v();else if("failed"===o.connectionState)if(l.value||"function"!==typeof o.restartIce)h.current.delete(t),v();else{console.warn("[WebRTC] Connection failed, attempting ICE restart for viewer:",t),l.value=!0;try{o.restartIce()}catch(VE){console.error("[WebRTC] ICE restart error:",VE)}}else"closed"===o.connectionState&&(h.current.delete(t),v())},o.oniceconnectionstatechange=()=>{console.log("[WebRTC] ICE state [".concat(t,"]:"),o.iceConnectionState)},o.onicegatheringstatechange=()=>{console.log("[WebRTC] ICE gathering [".concat(t,"]:"),o.iceGatheringState)};const c=await o.createOffer({offerToReceiveVideo:!1,offerToReceiveAudio:!1,voiceActivityDetection:!1,iceRestart:!1}),m=e=>{try{let n=e.split("\n");const r=n.findIndex(e=>e.startsWith("m=video"));if(-1!==r){var t;const e=null===(t=n.filter(e=>e.startsWith("a=rtpmap:")).map(e=>{var t;return{pt:null===(t=e.match(/a=rtpmap:(\d+)/))||void 0===t?void 0:t[1],codec:e.toLowerCase()}}).find(e=>e.codec.includes("h264")))||void 0===t?void 0:t.pt;if(e){const t=n[r].split(" "),s=t.slice(0,3),i=t.slice(3).filter(Boolean),o=[e,...i.filter(t=>t!==e)];n[r]=[...s,...o].join(" ")}const s=r+1;n.splice(s,0,"b=AS:2000","b=TIAS:2000000")}return n.join("\n")}catch(VE){return console.error("[WebRTC] SDP optimization error:",VE),e}},y=(0,d.A)((0,d.A)({},c),{},{sdp:m(c.sdp)});await o.setLocalDescription(y),console.log("[WebRTC] Sending offer to viewer:",t),await(0,u.hZ)((0,u.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/offers/").concat(t)),{sdp:y.sdp,type:y.type,timestamp:Date.now()});const w=(0,u.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/answers/").concat(t)),x=(0,u.Zy)(w,async e=>{const n=e.val();if(n&&n.sdp&&(console.log("[WebRTC] Received answer from:",t),"have-local-offer"===o.signalingState))try{await o.setRemoteDescription(new RTCSessionDescription(n));const e=f.current.get(t)||[];for(const t of e)await o.addIceCandidate(new RTCIceCandidate(t));f.current.set(t,[]),console.log("[WebRTC] Remote description set and candidates processed")}catch(r){console.error("[WebRTC] Error setting remote description:",r)}});g.current.push(x);const b=(0,u.KR)(A.OO,"LiveStreams/".concat(e,"/").concat(n,"/ice/").concat(t,"/viewer")),C=(0,u.Zy)(b,e=>{const n=e.val();n&&Object.values(n).forEach(async e=>{if(o.remoteDescription)try{await o.addIceCandidate(new RTCIceCandidate(e))}catch(n){console.error("[WebRTC] Error adding ICE candidate:",n)}else{const n=f.current.get(t)||[];n.push(e),f.current.set(t,n)}})});g.current.push(C)}catch(i){console.error("[WebRTC] Error setting up peer connection:",i),h.current.delete(t)}},v=()=>{let e=0;h.current.forEach(t=>{"connected"===t.connectionState&&e++}),c(e)};return{isStreaming:"streaming"===o||l>0,connectionStatus:o,activeConnections:l}}(ve,null===we||void 0===we?void 0:we.uid,Y,ee,"exam"===e&&he.enableVideoProctoring),{isReceivingAudio:Be,adminConnectionStatus:ke}=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const[s,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)("disconnected"),l=(0,t.useRef)(new Map),c=(0,t.useRef)([]),d=(0,t.useRef)(null),h={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"}],iceCandidatePoolSize:10,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},f=()=>{console.log("[AdminAudioReceiver] Cleaning up admin audio connections"),l.current.forEach((e,t)=>{console.log("[AdminAudioReceiver] Closing connection with admin:",t),e.close()}),l.current.clear(),d.current&&(d.current.srcObject=null,d.current.remove(),d.current=null),c.current.forEach(e=>{"function"===typeof e&&e()}),c.current=[],i(!1),a("disconnected")},g=async t=>{try{console.log("[AdminAudioReceiver] Creating peer connection for admin:",t);const r=l.current.get(t);r&&r.close();const s=new RTCPeerConnection(h);l.current.set(t,s),s.ontrack=e=>{if(console.log("[AdminAudioReceiver] ===== ADMIN AUDIO TRACK RECEIVED ====="),console.log("[AdminAudioReceiver] Track kind:",e.track.kind),console.log("[AdminAudioReceiver] Track readyState:",e.track.readyState),console.log("[AdminAudioReceiver] Track enabled:",e.track.enabled),e.streams&&e.streams.length>0){const t=e.streams[0];console.log("[AdminAudioReceiver] Stream ID:",t.id),console.log("[AdminAudioReceiver] Stream active:",t.active),console.log("[AdminAudioReceiver] Stream tracks:",t.getTracks().map(e=>"".concat(e.kind,":").concat(e.readyState))),d.current||(d.current=document.createElement("audio"),d.current.autoplay=!0,d.current.volume=1,d.current.muted=!1,document.body.appendChild(d.current),console.log("[AdminAudioReceiver] Audio element created and added to DOM")),d.current.srcObject=t,d.current.play().then(()=>{console.log("[AdminAudioReceiver] \u2705 Admin audio playback started successfully"),console.log("[AdminAudioReceiver] Audio element volume:",d.current.volume),console.log("[AdminAudioReceiver] Audio element muted:",d.current.muted),i(!0),a("receiving")}).catch(e=>{console.error("[AdminAudioReceiver] Error playing admin audio:",e);const t=()=>{d.current.play().then(()=>{console.log("[AdminAudioReceiver] \u2705 Audio started after user interaction"),document.removeEventListener("click",t)}).catch(e=>console.error("[AdminAudioReceiver] Still failed:",e))};document.addEventListener("click",t,{once:!0})})}},s.onicecandidate=r=>{if(r.candidate){console.log("[AdminAudioReceiver] Sending ICE candidate:",r.candidate.type);const s=(0,u.KR)(A.OO,"AdminAudio/".concat(e,"/").concat(n,"/ice/").concat(t,"/student/").concat(Date.now()));(0,u.hZ)(s,r.candidate.toJSON()).catch(e=>{console.error("[AdminAudioReceiver] Error sending ICE candidate:",e)})}},s.onconnectionstatechange=()=>{const e=s.connectionState;console.log("[AdminAudioReceiver] Connection state [".concat(t,"]:"),e),"connected"===e?(console.log("[AdminAudioReceiver] \u2705 Admin audio connection established"),a("receiving")):"failed"===e||"disconnected"===e?(console.error("[AdminAudioReceiver] Connection ".concat(e," with admin:"),t),l.current.delete(t),0===l.current.size&&i(!1)):"closed"===e&&(l.current.delete(t),0===l.current.size&&i(!1))},s.oniceconnectionstatechange=()=>{console.log("[AdminAudioReceiver] ICE state [".concat(t,"]:"),s.iceConnectionState)};const o=(0,u.KR)(A.OO,"AdminAudio/".concat(e,"/").concat(n,"/offers/").concat(t)),f=(0,u.Zy)(o,async r=>{const i=r.val();if(i&&i.sdp)if(console.log("[AdminAudioReceiver] Received offer from admin:",t),console.log("[AdminAudioReceiver] Current signaling state:",s.signalingState),"stable"===s.signalingState)try{await s.setRemoteDescription(new RTCSessionDescription(i)),console.log("[AdminAudioReceiver] Remote description set");const r=await s.createAnswer();await s.setLocalDescription(r),console.log("[AdminAudioReceiver] Local description set"),console.log("[AdminAudioReceiver] Sending answer to admin"),await(0,u.hZ)((0,u.KR)(A.OO,"AdminAudio/".concat(e,"/").concat(n,"/answers/").concat(t)),{sdp:r.sdp,type:r.type,timestamp:Date.now()}),console.log("[AdminAudioReceiver] Answer sent successfully")}catch(o){console.error("[AdminAudioReceiver] Error handling offer:",o)}else console.log("[AdminAudioReceiver] Skipping offer, wrong signaling state:",s.signalingState)});c.current.push(f);const g=(0,u.KR)(A.OO,"AdminAudio/".concat(e,"/").concat(n,"/ice/").concat(t,"/admin")),p=(0,u.Zy)(g,e=>{const t=e.val();t&&Object.values(t).forEach(async e=>{if("closed"!==s.signalingState&&"closed"!==s.connectionState)try{await s.addIceCandidate(new RTCIceCandidate(e)),console.log("[AdminAudioReceiver] Added admin ICE candidate")}catch(t){"closed"!==s.signalingState&&"closed"!==s.connectionState&&console.error("[AdminAudioReceiver] Error adding ICE candidate:",t)}else console.log("[AdminAudioReceiver] Peer connection closed, skipping ICE candidate")})});c.current.push(p)}catch(r){console.error("[AdminAudioReceiver] Error setting up admin audio connection:",r),l.current.delete(t)}};return(0,t.useEffect)(()=>{if(!r||!e||!n)return console.log("[AdminAudioReceiver] Not initializing:",{isActive:r,testid:e,userId:n}),void f();console.log("[AdminAudioReceiver] ===== Listening for admin audio for user:",n,"====="),a("listening");const t=(0,u.KR)(A.OO,"AdminAudio/".concat(e,"/").concat(n,"/admin")),s=(0,u.Zy)(t,async e=>{const t=e.val();if(!t)return console.log("[AdminAudioReceiver] No active admin speakers, cleaning up connections"),l.current.forEach((e,t)=>{console.log("[AdminAudioReceiver] Closing connection with admin:",t),e.close()}),l.current.clear(),d.current&&d.current.srcObject&&(d.current.srcObject.getTracks().forEach(e=>e.stop()),d.current.srcObject=null),void i(!1);console.log("[AdminAudioReceiver] Active admin speakers:",Object.keys(t)),l.current.forEach((e,n)=>{t[n]&&t[n].active||(console.log("[AdminAudioReceiver] Admin no longer active, closing connection:",n),e.close(),l.current.delete(n))});for(const[n,r]of Object.entries(t))if(r.active){if(l.current.has(n)){const e=l.current.get(n);if("connected"===e.connectionState||"connecting"===e.connectionState){console.log("[AdminAudioReceiver] Already connected to admin:",n);continue}"closed"!==e.connectionState&&"failed"!==e.connectionState||(console.log("[AdminAudioReceiver] Removing stale connection for admin:",n),l.current.delete(n))}console.log("[AdminAudioReceiver] Setting up connection for admin:",n),await g(n)}else console.log("[AdminAudioReceiver] Admin not active:",n)});return c.current.push(s),f},[r,e,n]),{isReceivingAudio:s,adminConnectionStatus:o}}(ve,null===we||void 0===we?void 0:we.uid,M&&("exam"===e||"instructions"===e||"resume"===e)),[Ee,Ne]=(0,t.useState)(null),[Se,_e]=(0,t.useState)(null),[Fe,Ie]=(0,t.useState)(!1);(0,t.useEffect)(()=>{console.log(p)},[p]),(0,t.useEffect)(()=>{console.log("[DynamicExam] Streaming status:",{isStreaming:xe,connectionStatus:be,activeConnections:Ce,hasProctorStream:!!Y,stage:e,enableVideoProctoring:he.enableVideoProctoring})},[xe,be,Ce,Y,e,he.enableVideoProctoring]),(0,t.useEffect)(()=>{console.log("[DynamicExam] Admin audio status:",{isReceivingAudio:Be,adminConnectionStatus:ke,permVerified:M,stage:e,userId:null===we||void 0===we?void 0:we.uid,testid:ve})},[Be,ke,M,e,null===we||void 0===we?void 0:we.uid,ve]);const Te=async function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var r,s;const i=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/Progress/").concat(we.uid)),o=await(0,u.Jt)(i),a=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/status")),l=await(0,u.Jt)(a);console.log(l.val());const c=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties")),d=await(0,u.Jt)(c),f=d.exists()?d.val():{},g=await(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(ve,"/duration"))),p=null!==(r=null!==(s=null===f||void 0===f?void 0:f.duration)&&void 0!==s?s:g.val())&&void 0!==r?r:w,m=Number(p)||60;if("completed"===l.val().toLowerCase())return n("completed"),!0;if(o.exists()){const r=o.val(),s="string"===typeof r?r:null===r||void 0===r?void 0:r.status,i="string"===typeof s&&"completed"===s.toLowerCase(),a="object"===typeof r&&null!==r?r:{},l=a.startTime||(null===f||void 0===f?void 0:f.startTime);if(!i&&l){const e=new Date(l);if((Date.now()-e.getTime())/6e4>=m){const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/Progress/").concat(we.uid,"/status"));return await(0,u.hZ)(e,"completed"),await He(),!0}}if(i||!0===a.completed)return n("completed"),!0;if("string"===typeof s&&"blocked"===s.toLowerCase())return n("blocked"),!0;if(console.log(r),a.startTime)return t&&"exam"!==e&&n("resume"),h(a.startTime),!1}return!1}catch(i){return console.error("Error checking exam status:",i),!1}},je=(0,t.useCallback)(e=>{K(e),z(!0),setTimeout(()=>z(!1),5e3)},[]),Le=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ve&&null!==we&&void 0!==we&&we.uid)try{const n=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Violations/").concat(we.uid)),r=(0,u.VC)(n);await(0,u.hZ)(r,{reason:e,timestamp:(new Date).toISOString(),details:t,userAgent:navigator.userAgent,screenSize:"".concat(window.screen.width,"x").concat(window.screen.height),windowSize:"".concat(window.innerWidth,"x").concat(window.innerHeight)}),console.log("[Violation Logged] ".concat(e),t)}catch(n){console.error("Error logging violation:",n)}},[ve,we]),Ue=(0,t.useCallback)(async()=>{if(!P.current||"exam"!==e||!X.current)return;const t=await ge(P.current);G(t);const n=t.length,r=Date.now();if(0===n){if(ne.current){const e=(r-ne.current)/1e3;e>=5&&!se.current.noPerson&&(je("\u26a0\ufe0f No person detected for 5 seconds - Violation recorded"),g(e=>(e||0)+1),Le("No Person Detected",{duration:"".concat(e.toFixed(1)," seconds"),personCount:0,detectionTime:(new Date).toISOString()}),se.current.noPerson=!0)}else ne.current=r,se.current.noPerson=!1;re.current=null,se.current.multiPerson=!1}else if(n>1){if(re.current){const e=(r-re.current)/1e3;e>=5&&!se.current.multiPerson&&(je("\u26a0\ufe0f Multiple persons detected for 5 seconds - Violation recorded"),g(e=>(e||0)+1),Le("Multiple Persons Detected",{duration:"".concat(e.toFixed(1)," seconds"),personCount:n,detectionTime:(new Date).toISOString()}),se.current.multiPerson=!0)}else re.current=r,se.current.multiPerson=!1;ne.current=null,se.current.noPerson=!1}else ne.current=null,re.current=null,se.current.noPerson=!1,se.current.multiPerson=!1},[ge,e,je,g]);(0,t.useEffect)(()=>("exam"===e&&X.current&&he.enableVideoProctoring?(P.current&&X.current&&(P.current.srcObject=X.current),X.current&&!Y&&Z(X.current),ye&&(J.current=setInterval(Ue,1e3))):(J.current&&clearInterval(J.current),ne.current=null,re.current=null,se.current={noPerson:!1,multiPerson:!1}),()=>{J.current&&clearInterval(J.current)}),[e,ye,Ue,he.enableVideoProctoring,Y]);const Pe=()=>{try{if(D.current&&cancelAnimationFrame(D.current),D.current=null,O.current&&O.current.disconnect&&O.current.disconnect(),O.current=null,R.current&&R.current.close&&R.current.close(),R.current=null,Q.current&&Q.current.getTracks().forEach(e=>e.stop()),Q.current=null,P.current)try{P.current.srcObject=null}catch(Wf){}$.current&&($.current.getTracks().forEach(e=>e.stop()),$.current=null)}catch(Wf){}},Qe=async()=>{try{const e=await navigator.mediaDevices.enumerateDevices(),t=e.filter(e=>"videoinput"===e.kind),n=e.filter(e=>"audioinput"===e.kind);oe(t),le(n),t.length>0&&!ce&&Ae(t[0].deviceId),n.length>0&&!ue&&de(n[0].deviceId)}catch(VE){console.error("Error enumerating devices:",VE)}},Oe=async()=>{j(!0),I(""),N(null),_(null),U(0),Pe();try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Media devices not supported");const e={video:ce?{deviceId:{exact:ce},width:{ideal:1280,max:1920},height:{ideal:720,max:1080},frameRate:{ideal:30,max:30}}:{width:{ideal:1280,max:1920},height:{ideal:720,max:1080},frameRate:{ideal:30,max:30}},audio:ue?{deviceId:{exact:ue},echoCancellation:!0,noiseSuppression:!0}:{echoCancellation:!0,noiseSuppression:!0}};console.log("[Camera] Requesting media with constraints:",e);const t=await navigator.mediaDevices.getUserMedia(e);if(console.log("[Camera] Got stream with tracks:",t.getTracks().map(e=>"".concat(e.kind,":").concat(e.label))),Q.current=t,P.current)try{P.current.srcObject=t}catch(Wf){}const n=t.getVideoTracks()[0],r=t.getAudioTracks()[0];console.log("[Camera] Video track:",null===n||void 0===n?void 0:n.label,"State:",null===n||void 0===n?void 0:n.readyState),console.log("[Camera] Audio track:",null===r||void 0===r?void 0:r.label,"State:",null===r||void 0===r?void 0:r.readyState),N(Boolean(n&&"live"===n.readyState)),_(Boolean(r&&"live"===r.readyState)),await Qe();const s=new(window.AudioContext||window.webkitAudioContext);R.current=s;const i=s.createMediaStreamSource(t),o=s.createAnalyser();o.fftSize=256,O.current=o,i.connect(o);const a=new Uint8Array(o.frequencyBinCount),l=()=>{o.getByteTimeDomainData(a);let e=0;for(let r=0;r<a.length;r++){const t=(a[r]-128)/128;e+=t*t}const t=Math.sqrt(e/a.length),n=Math.min(100,Math.max(0,Math.round(180*t)));U(n),D.current=requestAnimationFrame(l)};l()}catch(VE){console.error("[Camera] Error:",VE),I((null===VE||void 0===VE?void 0:VE.message)||"Failed to access camera/microphone"),N(!1),_(!1)}finally{j(!1)}},Re=async()=>{B(!0),H(!1),await Qe(),Oe()};(0,t.useEffect)(()=>{(async()=>{if(!p)return;if(ve&&we&&null!==f){const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties2/Progress/").concat(we.uid));await(0,u.hZ)(e,f)}const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties2/Progress/").concat(we.uid,"/stage")),t=await(0,u.Jt)(e);he.blockOnViolations&&f>=2&&"completed"!=t.val()&&(console.log(t.val()),Ve())})()},[f,p,ve,we,he.blockOnViolations]);(0,t.useEffect)(()=>{ve&&(async()=>{try{await Te();Me();const e=await(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(ve,"/name")));Ne(e.val());const t=(0,u.KR)(A.OO,"Exam/".concat(ve,"/proctorSettings")),r=await(0,u.Jt)(t);if(r.exists()){const e=r.val();fe({enableVideoProctoring:void 0===e.enableVideoProctoring||e.enableVideoProctoring,enableFullscreen:void 0===e.enableFullscreen||e.enableFullscreen,blockOnViolations:!0===e.blockOnViolations})}const s=await(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(ve,"/configure/questionsPerType")));v(s.val()),console.log(s.val());const o=await(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(ve,"/myquestions/").concat(we.uid)));if(o.exists())i(o.val());else{const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/questions")),t=await(0,u.Jt)(e);if(!t.exists())return void console.error("No questions found for this test");const n=t.val(),r=await(0,u.Jt)((0,u.KR)(A.OO,"Exam/".concat(ve,"/configure/questionsPerType")));if(!r.exists())return void console.error("No question configuration found");const s=r.val();let o=[];const a=Object.entries(n),l=new Set;let c=!1;for(const[i,A]of Object.entries(s)){const e=a.filter(e=>{let[t,n]=e;return n.toLowerCase()===i.toLowerCase()}).filter(e=>{let[t]=e;return!l.has(t)});e.length<A&&(console.warn("Warning: Not enough questions of type ".concat(i,". Requested: ").concat(A,", Available: ").concat(e.length)),c=!0)}const d=c?Object.fromEntries(Object.entries(s).map(e=>{let[t,n]=e;const r=a.filter(e=>{let[n,r]=e;return r.toLowerCase()===t.toLowerCase()}).filter(e=>{let[t]=e;return!l.has(t)});return[t,Math.min(n,r.length)]})):s;for(const[i,A]of Object.entries(d)){if(A<=0)continue;const e=a.filter(e=>{let[t,n]=e;return n.toLowerCase()===i.toLowerCase()}).filter(e=>{let[t]=e;return!l.has(t)});if(0===e.length){console.warn("No available questions of type ".concat(i," after filtering"));continue}const t=[...e].sort(()=>Math.random()-.5).slice(0,A);o=[...o,...t.map(e=>{let[t]=e;return t})],t.forEach(e=>{let[t]=e;return l.add(t)}),console.log("Selected ".concat(t.length," questions of type ").concat(i))}o.length>0?(await(0,u.hZ)((0,u.KR)(A.OO,"Exam/".concat(ve,"/myquestions/").concat(we.uid)),o),i(o)):console.error("No questions selected based on configuration")}await(async()=>{try{const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties2/Progress/").concat(we.uid)),t=await(0,u.Jt)(e);if(t.exists()){const e=t.val();g(e)}else g(0);m(!0)}catch(e){console.error("Error checking exam status:",e)}})(),n(e=>"loading"===e?"instructions":e)}catch(e){console.error("Error fetching data:",e),n("instructions")}})(),(async()=>{try{const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/duration")),t=await(0,u.Jt)(e);if(t.exists()){const e=t.val();x(e),console.log(e)}}catch(e){console.error("Error checking exam status:",e)}})()},[ve]),(0,t.useEffect)(()=>{const t=async()=>{if(!(null!==document.fullscreenElement)&&"exam"===e){console.log("Exited full screen, checking exam status...");await Te()||n("warning")}};return document.addEventListener("fullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t)}},[e,ve]),(0,t.useEffect)(()=>{const t=async()=>{const e=await(async()=>{try{const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties")),t=await(0,u.Jt)(e);if(t.exists()){const e=t.val(),n=new Date(e.startTime),r=e.duration||60,s=new Date(n.getTime()+6e4*r);if(new Date>s)return await He(),!0}return!1}catch(e){return console.error("Error checking exam duration:",e),!1}})();if(e){const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/Progress/").concat(we.uid));await(0,u.hZ)(e,"completed"),n("completed"),Me()}};"exam"===e&&t()},[e]);const De=async()=>{try{if(he.enableVideoProctoring&&!M)return void Re();if(await Te())return;b.current.requestFullscreen&&await b.current.requestFullscreen(),n("exam")}catch(e){console.error("Failed to re-enter fullscreen:",e)}},Me=async()=>{if(null!==we&&void 0!==we&&we.uid){Ie(!0);try{const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/myquestions/").concat(we.uid)),t=(await(0,u.Jt)(e)).val()||[],n=(0,u.KR)(A.OO,"ExamSubmissions/".concat(ve,"/").concat(we.uid)),r=(await(0,u.Jt)(n)).val()||{},s=(0,u.KR)(A.OO,"Marks/".concat(ve,"/").concat(we.uid)),i=(await(0,u.Jt)(s)).val()||{};console.log(t),console.log(r),console.log(i);let o=0;const a=[];let l=0;for(const d of t){const e="true"===r[d];e&&o++;const t=(0,u.KR)(A.OO,"questions/".concat(d,"/type")),n=(await(0,u.Jt)(t)).val()||"mcq";console.log(i[d]||0),a.push({id:d,correct:e,type:n,mark:i[d]||0}),l+=i[d]||0}const c=t.length>0?Math.round(l/t.length):0;_e({score:c,correctCount:o,totalQuestions:t.length,questions:a,totalMarks:l})}catch(e){console.error("Error fetching results:",e)}finally{Ie(!1)}}},He=async()=>{try{const e=(0,u.KR)(A.OO,"ExamSubmissions/".concat(ve,"/status"));await(0,u.hZ)(e,"completed"),a("completed"),n("completed"),Me()}catch(e){console.error("Error marking exam as completed:",e)}},Ve=async()=>{try{const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/Progress/").concat(we.uid,"/status")),t=await(0,u.Jt)(e);console.log(t.val());const r=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/status"));if("completed"===(await(0,u.Jt)(r)).val().toLowerCase()||t.exists()&&"completed"===t.val()){const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/Progress/").concat(we.uid,"/status"));return await(0,u.hZ)(e,"completed"),n("completed"),void Me()}console.log("2 my block"),n("blocked"),await(0,u.hZ)(e,"blocked")}catch(e){console.error("Error marking exam as blocked:",e)}};return(0,k.jsxs)("div",{ref:b,className:"h-screen bg-gray-100 dark:bg-gray-900",children:["loading"===e&&(0,k.jsx)(Wd.A,{message:"Loading exam, please wait..."}),"instructions"===e&&(0,k.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"w-full max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[(0,k.jsxs)("div",{className:"bg-blue-600 dark:bg-blue-700 px-6 py-4",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Exam Instructions"}),(0,k.jsx)("p",{className:"text-blue-100",children:"Please read the instructions carefully before starting"})]}),(0,k.jsxs)("div",{className:"p-6 md:p-8",children:[(0,k.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 mb-8",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:Ee||"Loading Exam..."}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,k.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Duration:"})," ",w?"".concat(Math.floor(w)," minutes"):"Loading..."]})]}),(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,k.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Questions:"})," ",(null===r||void 0===r?void 0:r.length)||0," total"]})]})]}),(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Question Types:"}),y&&(0,k.jsx)("div",{className:"space-y-1",children:Object.entries(y).map(e=>{let[t,n]=e;return n>0&&(0,k.jsxs)("div",{className:"flex justify-between items-center",children:[(0,k.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:t}),(0,k.jsxs)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-200 rounded-full",children:[n," ",1===n?"question":"questions"]})]},t)})})]})]})]}),(0,k.jsxs)("div",{className:"mb-8",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Important Instructions"}),(0,k.jsxs)("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:[(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,k.jsx)("span",{children:"This exam must be taken in full-screen mode. The test will automatically start in full-screen."})]}),he.enableFullscreen&&(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,k.jsx)("span",{children:"Exiting full screen will be tracked as a violation. Multiple violations may result in exam termination."})]}),he.enableVideoProctoring&&(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,k.jsx)("span",{children:"Video proctoring is enabled. Your camera will monitor for multiple persons or no person during the exam."})]}),(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),(0,k.jsx)("span",{children:"Do not refresh the page or switch tabs during the exam, as this may be flagged as suspicious activity."})]}),(0,k.jsxs)("li",{className:"flex items-start",children:[(0,k.jsx)("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,k.jsx)("span",{children:"Your progress is automatically saved. You can resume the exam if you get disconnected."})]})]})]}),(0,k.jsx)("div",{className:"flex flex-col sm:flex-row justify-center gap-4 pt-4",children:(0,k.jsxs)("button",{onClick:he.enableVideoProctoring?Re:async()=>{try{if(he.enableVideoProctoring&&!M)return void Re();const e=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/Progress/").concat(we.uid)),t=await(0,u.Jt)(e);if(t.exists()&&t.val().startTime&&!t.val().completed)return console.log("meow"),void n("resume");if(t.exists()&&("completed"===t.val().status||!0===t.val().completed))return;const r=(new Date).toISOString();await(0,u.hZ)((0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/Progress/").concat(we.uid)),{startTime:r,status:"started"}),h(r),b.current.requestFullscreen&&await b.current.requestFullscreen(),n("exam")}catch(e){console.error("Failed to enter fullscreen:",e)}},className:"inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[(0,k.jsxs)("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Start Exam Now"]})})]})]})}),"exam"===e&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Ik,{violation:f,setviolation:g,setIsViolationReady:m,isViolationReady:p,testid:ve,enableViolationTracking:he.enableFullscreen}),(0,k.jsx)(Bk,{setviolation:g,setIsViolationReady:m,Questions:r,onExamComplete:He,startTime:l,duration:w,examName:Ee,videoRef:P,detections:W,isProctoringActive:he.enableVideoProctoring&&!!X.current}),Be&&(0,k.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,k.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 rounded-lg shadow-lg bg-blue-600 text-white animate-pulse",children:[(0,k.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})}),(0,k.jsx)("span",{className:"text-sm font-medium",children:"Admin is speaking"})]})})]}),"warning"===e&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Ik,{violation:f,setviolation:g,testid:ve,isViolationReady:p,enableViolationTracking:he.enableFullscreen}),(0,k.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-100 dark:bg-gray-900",children:(0,k.jsxs)("div",{className:"w-full max-w-3xl mx-auto p-8 rounded-xl shadow-lg bg-white dark:bg-gray-800 text-center space-y-6",children:[(0,k.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:Ee}),(0,k.jsx)("p",{className:"text-sm text-gray-500",children:"You exited fullscreen mode. Please return to fullscreen to continue your test."}),(0,k.jsx)("button",{onClick:he.enableVideoProctoring?Re:De,className:"px-6 py-3 rounded-md font-semibold text-white transition-colors bg-red-600 hover:bg-red-700",children:"Return to Fullscreen"})]})})]}),"resume"===e&&(0,k.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:(0,k.jsx)("div",{className:"w-full max-w-lg mx-auto",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,k.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 px-6 py-8 border-b border-yellow-100 dark:border-yellow-900/20",children:(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"w-12 h-12 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Exam Paused"}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:Ee})]})]})}),(0,k.jsxs)("div",{className:"px-6 py-6 space-y-6",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:(0,k.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null===we||void 0===we?void 0:we.name)||"User"})}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Your exam has been paused. Click below to resume and continue from where you left off."})]}),y&&Object.entries(y).some(e=>{let[t,n]=e;return n>0})&&(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-3",children:"Exam Information"}),(0,k.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(y).map(e=>{let[t,n]=e;return n>0&&(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-md px-3 py-2",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:t.toLowerCase()}),(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[n," ",1===n?"Q":"Qs"]})]},t)})})]}),(0,k.jsx)("div",{className:"pt-4",children:(0,k.jsxs)("button",{onClick:he.enableVideoProctoring?Re:De,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,k.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),(0,k.jsx)("span",{children:"Resume Exam"})]})})]}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"Your progress has been saved"})})]})})}),"blocked"===e&&(0,k.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:(0,k.jsxs)("div",{className:"w-full max-w-lg mx-auto",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,k.jsx)("div",{className:"bg-red-50 dark:bg-red-900/10 px-6 py-8 border-b border-red-100 dark:border-red-900/20",children:(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Access Restricted"}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:Ee})]})]})}),(0,k.jsxs)("div",{className:"px-6 py-6 space-y-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null===we||void 0===we?void 0:we.name)||"User"}),","]}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Your access to this exam has been restricted due to violation of exam policies."})]}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-4 border-l-4 border-red-500",children:(0,k.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Reason:"})," Maximum allowed violations exceeded"]})}),y&&Object.entries(y).some(e=>{let[t,n]=e;return n>0})&&(0,k.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-3",children:"Exam Information"}),(0,k.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(y).map(e=>{let[t,n]=e;return n>0&&(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-md px-3 py-2",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:t.toLowerCase()}),(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[n," ",1===n?"Q":"Qs"]})]},t)})})]}),(0,k.jsxs)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-2",children:"Next Steps"}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please contact your administrator or exam coordinator for assistance."})]})]}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Need help?"}),(0,k.jsx)("a",{href:"mailto:support@algocore.com",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"support@algocore.com"})]})})]}),(0,k.jsx)("div",{className:"mt-6 text-center",children:(0,k.jsx)("button",{onClick:()=>window.location.href="/",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"\u2190 Back to Dashboard"})})]})}),"completed"===e&&(0,k.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:(0,k.jsxs)("div",{className:"w-full max-w-2xl mx-auto",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,k.jsx)("div",{className:"bg-green-50 dark:bg-green-900/10 px-6 py-8 border-b border-green-100 dark:border-green-900/20",children:(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Exam Completed"}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:Ee})]})]})}),(0,k.jsxs)("div",{className:"px-6 py-6 space-y-6",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:"text-gray-700 dark:text-gray-300",children:["Congratulations ",(0,k.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null===we||void 0===we?void 0:we.name)||"User"}),"!"]}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"You have successfully completed the exam. Your results are shown below."})]}),Fe?(0,k.jsxs)("div",{className:"py-8 text-center",children:[(0,k.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-green-500 border-r-transparent"}),(0,k.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Calculating your results..."})]}):Se?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-4",children:"Your Results"}),(0,k.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg px-4 py-3 text-center",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Score"}),(0,k.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Se.score,"%"]})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg px-4 py-3 text-center",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Correct"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:Se.correctCount})]}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-lg px-4 py-3 text-center",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Total"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Se.totalQuestions})]})]}),Se.questions&&Se.questions.length>0&&(0,k.jsxs)("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-3",children:"Question Breakdown"}),(0,k.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:Se.questions.map((e,t)=>(0,k.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Q",t+1]}),(0,k.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.type," \u2022 ",e.mark||0," pts"]})]}),(0,k.jsx)("span",{className:"ml-2 px-3 py-1 text-xs font-medium rounded-full ".concat(e.correct?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":e.mark>0?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"),children:e.correct?"\u2713":e.mark>0?"~":"\u2717"})]},t))})]})]}),y&&Object.entries(y).some(e=>{let[t,n]=e;return n>0})&&(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide font-medium mb-3",children:"Exam Summary"}),(0,k.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(y).map(e=>{let[t,n]=e;return n>0&&(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-md px-3 py-2",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:t.toLowerCase()}),(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[n," ",1===n?"Q":"Qs"]})]},t)})})]})]}):(0,k.jsx)("div",{className:"py-8 text-center",children:(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Unable to load results. Please check your dashboard later."})})]}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"View detailed results anytime in your dashboard"})})]}),(0,k.jsx)("div",{className:"mt-6 text-center",children:(0,k.jsx)("button",{onClick:()=>window.location.href="/",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"\u2190 Back to Dashboard"})})]})}),q&&(0,k.jsx)("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 bg-red-600 text-white px-6 py-3 rounded-lg shadow-2xl animate-bounce",children:V}),C&&(0,k.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-2 sm:p-4 overflow-y-auto",children:(0,k.jsxs)("div",{className:"w-full max-w-4xl bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden my-4 sm:my-8 max-h-[95vh] flex flex-col",children:[(0,k.jsxs)("div",{className:"px-4 sm:px-6 py-4 sm:py-5 bg-blue-600 dark:bg-blue-700 border-b border-blue-700 dark:border-blue-800 flex-shrink-0",children:[(0,k.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-white",children:"Device Verification & Screen Sharing"}),(0,k.jsx)("p",{className:"text-blue-100 text-xs sm:text-sm mt-1",children:"Verify your camera, microphone, AI model, and enable full screen sharing"})]}),(0,k.jsx)("div",{className:"px-4 sm:px-6 py-3 bg-orange-50 dark:bg-orange-900/20 border-b border-orange-200 dark:border-orange-800 flex-shrink-0",children:(0,k.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,k.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600 dark:text-orange-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsx)("p",{className:"text-xs sm:text-sm font-medium text-orange-800 dark:text-orange-300",children:"\u26a0\ufe0f IMPORTANT: Share ENTIRE SCREEN"}),(0,k.jsx)("p",{className:"text-[10px] sm:text-xs text-orange-700 dark:text-orange-400 mt-1",children:'Select "Entire Screen" or "Screen". Window/tab sharing will be rejected.'})]})]})}),(0,k.jsx)("div",{className:"px-3 sm:px-6 py-3 sm:py-4 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 flex-shrink-0 overflow-x-auto",children:(0,k.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:gap-4 min-w-max mx-auto",children:[(0,k.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,k.jsx)("div",{className:"w-6 h-6 sm:w-7 sm:h-7 rounded-full flex items-center justify-center text-[10px] sm:text-xs font-semibold ".concat(E?"bg-green-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:E?"\u2713":"1"}),(0,k.jsx)("span",{className:"text-[10px] sm:text-xs text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Camera"})]}),(0,k.jsx)("div",{className:"h-0.5 w-4 sm:w-8 ".concat(E?"bg-green-500":"bg-gray-300 dark:bg-gray-600")}),(0,k.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,k.jsx)("div",{className:"w-6 h-6 sm:w-7 sm:h-7 rounded-full flex items-center justify-center text-[10px] sm:text-xs font-semibold ".concat(S?"bg-green-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:S?"\u2713":"2"}),(0,k.jsx)("span",{className:"text-[10px] sm:text-xs text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Mic"})]}),(0,k.jsx)("div",{className:"h-0.5 w-4 sm:w-8 ".concat(ye?"bg-green-500":"bg-gray-300 dark:bg-gray-600")}),(0,k.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,k.jsx)("div",{className:"w-6 h-6 sm:w-7 sm:h-7 rounded-full flex items-center justify-center text-[10px] sm:text-xs font-semibold ".concat(ye?"bg-green-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:ye?"\u2713":"3"}),(0,k.jsx)("span",{className:"text-[10px] sm:text-xs text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"AI"})]}),(0,k.jsx)("div",{className:"h-0.5 w-4 sm:w-8 ".concat(ee?"bg-green-500":"bg-gray-300 dark:bg-gray-600")}),(0,k.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,k.jsx)("div",{className:"w-6 h-6 sm:w-7 sm:h-7 rounded-full flex items-center justify-center text-[10px] sm:text-xs font-semibold ".concat(ee?"bg-green-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:ee?"\u2713":"4"}),(0,k.jsx)("span",{className:"text-[10px] sm:text-xs text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Screen"})]})]})}),(0,k.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,k.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,k.jsx)("label",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-gray-100",children:"Camera"}),(0,k.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] sm:text-xs font-medium ".concat(E?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":!1===E?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"),children:E?"\u2713 Connected":!1===E?"\u2717 Blocked":"Checking..."})]}),ie.length>0&&(0,k.jsx)("select",{value:ce,onChange:e=>{Ae(e.target.value),setTimeout(Oe,100)},className:"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:ie.map((e,t)=>(0,k.jsx)("option",{value:e.deviceId,children:e.label||"Camera ".concat(t+1)},e.deviceId))}),(0,k.jsxs)("div",{className:"relative aspect-video w-full bg-gray-900 rounded-md overflow-hidden border border-gray-300 dark:border-gray-600",children:[(0,k.jsx)("video",{ref:P,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),T&&(0,k.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:(0,k.jsxs)("div",{className:"text-white text-center",children:[(0,k.jsx)("div",{className:"w-10 h-10 border-3 border-white border-t-transparent rounded-full animate-spin mx-auto mb-2"}),(0,k.jsx)("p",{className:"text-sm",children:"Initializing..."})]})})]})]}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,k.jsx)("label",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-gray-100",children:"Microphone"}),(0,k.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] sm:text-xs font-medium ".concat(S?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":!1===S?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"),children:S?"\u2713 Connected":!1===S?"\u2717 Blocked":"Checking..."})]}),ae.length>0&&(0,k.jsx)("select",{value:ue,onChange:e=>{de(e.target.value),setTimeout(Oe,100)},className:"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:ae.map((e,t)=>(0,k.jsx)("option",{value:e.deviceId,children:e.label||"Microphone ".concat(t+1)},e.deviceId))}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-md p-3 sm:p-4 border border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("p",{className:"text-[10px] sm:text-xs font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Audio Level"}),(0,k.jsx)("div",{className:"h-8 sm:h-10 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden relative",children:(0,k.jsx)("div",{className:"absolute inset-y-0 left-0 bg-green-500 transition-all duration-150",style:{width:"".concat(L,"%")}})}),(0,k.jsx)("p",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Speak to test microphone"})]}),(0,k.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md p-3 sm:p-4 border border-blue-200 dark:border-blue-800",children:[(0,k.jsx)("p",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"AI Proctoring Model"}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[pe&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin flex-shrink-0"}),(0,k.jsx)("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:"Loading model..."})]}),me&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,k.jsxs)("span",{className:"text-xs sm:text-sm text-red-600",children:["Error: ",me]})]}),ye&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,k.jsx)("span",{className:"text-xs sm:text-sm text-green-600 font-medium",children:"Model Ready"})]})]})]})]})]})]}),F&&(0,k.jsx)("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md text-red-700 dark:text-red-300",children:(0,k.jsx)("p",{className:"text-xs sm:text-sm",children:F})}),E&&S&&ye&&(0,k.jsx)("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:(0,k.jsx)("p",{className:"text-xs sm:text-sm font-medium text-green-800 dark:text-green-200",children:"\u2713 All devices ready"})})]})}),(0,k.jsxs)("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-3 flex-shrink-0",children:[(0,k.jsx)("button",{onClick:Oe,disabled:T,className:"w-full sm:w-auto px-4 py-2 text-xs sm:text-sm font-medium border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:T?"Testing...":"Retest"}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,k.jsx)("button",{onClick:()=>{B(!1),Pe()},className:"w-full sm:w-auto px-4 py-2 text-xs sm:text-sm font-medium bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,k.jsx)("button",{onClick:async()=>{if(he.enableVideoProctoring){if(!E||!S)return void I("Please allow both camera and microphone to continue");if(!ye)return void I("AI model is still loading. Please wait...")}if(X.current=Q.current,Z(Q.current),he.enableVideoProctoring){const t=await(async()=>{try{console.log("[ScreenShare] Requesting FULLSCREEN capture (entire monitor required)...");const t=await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"monitor",width:{ideal:1920,max:1920},height:{ideal:1080,max:1080},frameRate:{ideal:30,max:30}},audio:!1,preferCurrentTab:!1});console.log("[ScreenShare] Got screen stream with tracks:",t.getTracks().map(e=>"".concat(e.kind,":").concat(e.label)));const r=t.getVideoTracks()[0];if(r&&r.getSettings){const e=r.getSettings();console.log("[ScreenShare] Track settings:",e);const n=e.displaySurface;if(console.log("[ScreenShare] Display surface:",n),"window"===n||"browser"===n)return console.error("[ScreenShare] User shared window/tab instead of full screen. Rejecting..."),t.getTracks().forEach(e=>e.stop()),I('\u274c You must share your ENTIRE SCREEN (not just a window or tab). Please try again and select "Entire Screen" or "Screen".'),!1;"monitor"!==n&&console.warn('[ScreenShare] Display surface is not "monitor", but continuing:',n)}return $.current=t,te(t),t.getVideoTracks()[0].addEventListener("ended",()=>{console.log("[ScreenShare] User stopped screen sharing"),$.current=null,te(null),"exam"===e&&(K("\u26a0\ufe0f Screen sharing stopped! You must share your screen to continue the exam."),z(!0),setTimeout(()=>z(!1),5e3),n("warning"))}),console.log("[ScreenShare] \u2705 Fullscreen sharing validated and started"),!0}catch(t){return console.error("[ScreenShare] Error:",t),"NotAllowedError"===t.name?(console.log("[ScreenShare] User denied screen share permission"),I("\u274c Screen sharing is REQUIRED for this exam. Please grant permission to share your entire screen.")):"NotSupportedError"===t.name?I("\u274c Screen sharing is not supported in your browser. Please use Chrome, Edge, or Firefox."):(console.error("[ScreenShare] Screen share error:",t),I("\u274c Failed to start screen sharing. Please try again.")),!1}})();if(!t)return void I('\u274c You must share your ENTIRE SCREEN to proceed with this exam. Click "Start Permission Check" to try again.')}H(!0),B(!1);const t=e;try{if(await(async()=>{const e=b.current||document.documentElement;try{if(e.requestFullscreen)return await e.requestFullscreen();if(e.webkitRequestFullscreen)return await e.webkitRequestFullscreen();if(e.msRequestFullscreen)return await e.msRequestFullscreen()}catch(nf){console.error("Fullscreen request failed:",nf)}})(),!l){const e=(new Date).toISOString();h(e)}n("exam"),(async()=>{if("resume"===t||"warning"===t){if(await Te(!1));}else{var e;const t=(0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/Progress/").concat(we.uid)),r=await(0,u.Jt)(t);if(r.exists()){const e=r.val();if("completed"===(null===e||void 0===e?void 0:e.status)||!0===(null===e||void 0===e?void 0:e.completed))return void n("completed")}if(!r.exists()||null===(e=r.val())||void 0===e||!e.startTime){const e=l||(new Date).toISOString();await(0,u.hZ)((0,u.KR)(A.OO,"Exam/".concat(ve,"/Properties/Progress/").concat(we.uid)),{startTime:e,status:"started"}),l||h(e)}}})()}catch(r){console.error("Failed to enter fullscreen:",r)}},disabled:he.enableVideoProctoring&&(!E||!S||!ye),className:"w-full sm:w-auto px-5 py-2 text-xs sm:text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Start Exam"})]})]})]})})]})},jk=e=>{let{activeTab:t,setActiveTab:n}=e;return(0,k.jsx)("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex-shrink-0 h-full overflow-y-auto",children:(0,k.jsxs)("div",{className:"p-4",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Test Management"}),(0,k.jsx)("nav",{className:"space-y-2",children:[{id:"available-tests",label:"Available Tests",icon:"\ud83d\udcdd"},{id:"download-results",label:"Results",icon:"\ud83d\udcca"}].map(e=>{const r=t===e.id;return(0,k.jsxs)(uk.button,{onClick:()=>n(e.id),className:"w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ".concat(r?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),whileHover:{x:4},whileTap:{scale:.98},children:[(0,k.jsx)("span",{className:"mr-3 text-lg",children:e.icon}),e.label,r&&(0,k.jsx)(uk.span,{className:"ml-auto h-2 w-2 rounded-full bg-blue-500",layoutId:"activeTab",transition:{type:"spring",stiffness:500,damping:30}})]},e.id)})})]})})},Lk=e=>{var t,n;let{test:r,onStart:s}=e;console.log(r);const i=(null===r||void 0===r||null===(t=r.Properties)||void 0===t?void 0:t.status)||"Unknown";return(0,k.jsxs)("div",{className:"bg-white dark:bg-dark-secondary rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow duration-200 border border-gray-200 dark:border-dark-tertiary",children:[(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:r.name}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:["Duration: ",r.duration," minutes"]}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Questions: ",null!==r&&void 0!==r&&null!==(n=r.configure)&&void 0!==n&&n.questionsPerType?Object.values(r.configure.questionsPerType).reduce((e,t)=>e+t,0):0]}),(0,k.jsxs)("div",{className:"mt-4",children:["NotStarted"===i&&(0,k.jsx)("button",{className:"w-full bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 py-2 px-4 rounded-md cursor-not-allowed",disabled:!0,children:"Available Soon"}),"Started"===i&&(0,k.jsx)("button",{onClick:()=>s(r.id),className:"w-full bg-blue-600 dark:bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:"View"}),"Completed"===i&&(0,k.jsx)("button",{onClick:()=>s(r.id),className:"w-full bg-green-500 dark:bg-green-600 text-white py-2 px-4 rounded-md cursor-not-allowed",children:"Completed"})]})]})},Uk=()=>(0,k.jsx)("div",{className:"w-full max-w-sm p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"animate-pulse",children:[(0,k.jsx)("div",{className:"h-6 bg-gray-300 dark:bg-gray-600 rounded w-3/4 mb-4"}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded"}),(0,k.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-5/6"}),(0,k.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-4/6"})]}),(0,k.jsx)("div",{className:"mt-6 h-10 bg-gray-300 dark:bg-gray-600 rounded w-1/3"})]})}),Pk=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[o,a]=(0,t.useState)(!0),l=(0,s.Zp)(),{user:h}=(0,c.A)();(0,t.useEffect)(()=>{f()},[]);const f=async()=>{try{const e=(0,u.KR)(A.OO),t=await(0,u.Jt)((0,u.jf)(e,"Exam"));if(t.exists()){const e=t.val(),r=Object.values(e),s=Object.entries(e).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)});console.log(s),console.log(null===h||void 0===h?void 0:h.email);const o=s.filter(e=>{var t;return console.log("Checking test:",Object.values(e.Eligible||{})),Array.isArray(Object.values(e.Eligible||{}))&&Object.values(e.Eligible||{}).includes(null===h||void 0===h?void 0:h.email)&&"completed"!==(null===(t=e.Properties.status)||void 0===t?void 0:t.toLowerCase())});console.log(o),n(r),i(o)}else console.log("No data available")}catch(e){console.error("Error loading mock exams from Firebase:",e)}finally{a(!1)}},g=e=>{console.log("Start test with ID:",e),l("/examwindow/".concat(e))};return(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Uk,{}),(0,k.jsx)(Uk,{}),(0,k.jsx)(Uk,{})]}):r.length>0?r.map(e=>(0,k.jsx)(Lk,{test:e,onStart:g},e.id)):(0,k.jsx)("div",{className:"col-span-3 text-center py-12",children:(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No tests found. Create a new test to get started."})})})},Qk=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),o=(0,s.Zp)(),{user:a}=(0,c.A)();(0,t.useEffect)(()=>{l()},[]);const l=async()=>{try{const e=(0,u.KR)(A.OO),t=await(0,u.Jt)((0,u.jf)(e,"Exam"));if(t.exists()){const e=t.val(),r=Object.entries(e).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)});console.log("All exams:",r),console.log("User email:",null===a||void 0===a?void 0:a.email),console.log(r);const s=r.filter(e=>Array.isArray(Object.values(e.Eligible||{}))&&Object.values(e.Eligible||{}).includes(null===a||void 0===a?void 0:a.email)&&"Completed"===e.Properties.status);console.log("Eligible & Completed:",s),n(r),i(s)}else console.log("No data available")}catch(e){console.error("Error loading mock exams from Firebase:",e)}},h=e=>{console.log("Start test with ID:",e),o("/examwindow/".concat(e))};return(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(e=>(0,k.jsx)(Lk,{test:e,onStart:h},e.id)):(0,k.jsx)("div",{className:"col-span-3 text-center py-12",children:(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No tests found. Create a new test to get started."})})})},Ok=()=>{const[e,n]=(0,t.useState)(()=>localStorage.getItem("studentActiveTab")||"available-tests");return(0,t.useEffect)(()=>{localStorage.setItem("studentActiveTab",e)},[e]),(0,k.jsxs)("div",{className:"flex h-[calc(100vh)] bg-gray-50 dark:bg-dark-primary overflow-hidden",children:[(0,k.jsx)(jk,{activeTab:e,setActiveTab:n}),(0,k.jsxs)("main",{className:"flex-1 p-8 overflow-y-auto",children:[(0,k.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Tests"})}),"available-tests"===e&&(0,k.jsx)(Pk,{}),"download-results"===e&&(0,k.jsx)(Qk,{})]})]})},Rk=e=>{let{activeTab:t,setActiveTab:n}=e;return(0,k.jsx)("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex-shrink-0 h-full overflow-y-auto",children:(0,k.jsxs)("div",{className:"p-4",children:[(0,k.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Test Management"}),(0,k.jsx)("nav",{className:"space-y-2",children:[{id:"available-tests",label:"Available Tests",icon:"\ud83d\udcdd"},{id:"results",label:"Results",icon:"\ud83d\udcca"},{id:"edit-tests",label:"Edit Tests",icon:"\ud83d\udc65"},{id:"add-questions",label:"Add Questions",icon:"\u2795"}].map(e=>{const r=t===e.id;return(0,k.jsxs)(uk.button,{onClick:()=>n(e.id),className:"w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ".concat(r?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"),whileHover:{x:4},whileTap:{scale:.98},children:[(0,k.jsx)("span",{className:"mr-3 text-lg",children:e.icon}),e.label,r&&(0,k.jsx)(uk.span,{className:"ml-auto h-2 w-2 rounded-full bg-blue-500",layoutId:"activeTab",transition:{type:"spring",stiffness:500,damping:30}})]},e.id)})})]})})};function Dk(e){var t;let{test:n,startTest:r}=e;const i=(0,s.Zp)();return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 relative border border-gray-200 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-900",children:[(0,k.jsx)("div",{className:"absolute top-3 right-3",children:(0,k.jsx)("button",{onClick:e=>{e.stopPropagation(),i("/testedit/".concat(n.id))},className:"text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-gray-700",title:"Edit test",children:(0,k.jsx)(hk.SG1,{size:18})})}),(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white pr-6",children:n.name}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:["Created: ",new Date(n.createdAt).toLocaleDateString()]}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Status: ",(0,k.jsx)("span",{className:"capitalize",children:(null===(t=n.Properties)||void 0===t?void 0:t.status)||"draft"})]}),(0,k.jsx)("div",{className:"mt-4",children:(0,k.jsx)("button",{onClick:()=>r(n.id),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:"Start Test"})})]})}function Mk(e){var t;let{test:n,endTest:r}=e;const i=(0,s.Zp)();return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 relative border border-gray-200 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-900",children:[(0,k.jsx)("div",{className:"absolute top-3 right-3"}),(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white pr-6",children:n.name}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:["Created: ",new Date(n.createdAt).toLocaleDateString()]}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Status: ",(0,k.jsx)("span",{className:"capitalize",children:(null===(t=n.Properties)||void 0===t?void 0:t.status)||"draft"})]}),(0,k.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,k.jsx)("button",{onClick:()=>r(n.id),className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 text-xs",children:"End Test"}),(0,k.jsx)("button",{onClick:()=>i("/exammonitor/".concat(n.id)),className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 text-xs",children:"View Progress"})]})]})}function Hk(e){var n;let{test:r}=e;const i=(0,s.Zp)(),[o,a]=t.useState(!1),[l,c]=t.useState(!1);return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-all duration-200 relative border border-gray-200 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-900",children:[(0,k.jsx)("div",{className:"absolute top-3 right-3",children:(0,k.jsx)("button",{onClick:e=>{e.stopPropagation(),a(!0)},className:"text-gray-400 hover:text-red-600 dark:hover:text-red-400 p-1 rounded-full hover:bg-red-50 dark:hover:bg-gray-700",title:"Delete exam",children:(0,k.jsx)(hk.IXo,{size:18})})}),(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white pr-6",children:r.name}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:["Created: ",new Date(r.createdAt).toLocaleDateString()]}),(0,k.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Status: ",(0,k.jsx)("span",{className:"capitalize",children:(null===(n=r.Properties)||void 0===n?void 0:n.status)||"completed"})]}),(0,k.jsx)("div",{className:"mt-4",children:(0,k.jsx)("button",{onClick:()=>i("/adminresults/".concat(r.id)),className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:"Show Results"})}),o&&(0,k.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-sm",children:[(0,k.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Delete exam?"}),(0,k.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:["This action cannot be undone. Are you sure you want to delete `",r.name,"`?"]}),(0,k.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,k.jsx)("button",{onClick:()=>a(!1),className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",disabled:l,children:"Cancel"}),(0,k.jsx)("button",{onClick:async()=>{c(!0);try{await(0,u.TF)((0,u.KR)(A.OO,"Exam/".concat(r.id))),a(!1)}catch(e){console.error("Error deleting exam:",e)}finally{c(!1)}},className:"px-4 py-2 rounded-md bg-red-600 hover:bg-red-700 text-white disabled:opacity-60",disabled:l,children:l?"Deleting...":"Delete"})]})]})})]})}const Vk=["title","titleId"];function Kk(e,n){let{title:r,titleId:s}=e,i=h(e,Vk);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},i),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const qk=t.forwardRef(Kk),zk=e=>{let{isOpen:n,onClose:r,question:s,onAddQuestions:i}=e;const[a,l]=(0,t.useState)("create"),[c,h]=(0,t.useState)([]),[f,g]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[y,v]=(0,t.useState)(""),[w,x]=(0,t.useState)(!0),[b,C]=(0,t.useState)({questionname:"",question:"",difficulty:"Easy",type:"MCQ",options:["","","",""],correctAnswer:1,explanation:"",constraints:[],Example:[],testcases:[],solution:""}),B=!!s;(0,t.useEffect)(()=>{if(B){const e=s.type||"MCQ";C({questionname:s.questionname||"",question:s.question||"",difficulty:s.difficulty||"Easy",type:e,options:s.options||["","","",""],correctAnswer:s.correctAnswer||1,explanation:s.explanation||"",constraints:s.constraints||[],Example:s.Example||[],testcases:s.testcases||[],solution:s.solution||""}),l("create")}else C({questionname:"",question:"",difficulty:"Easy",type:"MCQ",options:["","","",""],correctAnswer:1,explanation:"",constraints:[],Example:[],testcases:[],solution:""})},[n,s,B]),(0,t.useEffect)(()=>{if(n){const e=async()=>{try{const e=(0,u.KR)(A.OO,"questions"),t=await(0,u.Jt)(e);if(t.exists()){const e=t.val(),n=Object.entries(e).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)});h(n),g(n)}}catch(e){console.error("Error loading questions:",e),o.Ay.error("Failed to load questions.")}finally{x(!1)}};e()}},[n]),(0,t.useEffect)(()=>{if(""===y.trim())g(c);else{const e=y.toLowerCase(),t=c.filter(t=>t.questionname&&t.questionname.toLowerCase().includes(e)||t.question&&t.question.toLowerCase().includes(e));g(t)}},[y,c]);const E=e=>{const{name:t,value:n}=e.target;C(e=>(0,d.A)((0,d.A)({},e),{},{[t]:n}))};return n?(0,k.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black/30",children:(0,k.jsx)("div",{className:"flex min-h-screen items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"relative w-full max-w-2xl rounded-lg bg-white p-6 shadow-xl",children:[(0,k.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",onClick:r,children:(0,k.jsx)(qk,{className:"h-6 w-6"})}),(0,k.jsx)("div",{className:"flex space-x-4 mb-6"}),"create"===a?(0,k.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!b.questionname||!b.question)return void o.Ay.error("Title and Description are required.");if("MCQ"===b.type){if(b.options.some(e=>!e.trim()))return void o.Ay.error("All MCQ options are required.");if(!b.explanation.trim())return void o.Ay.error("Explanation is required for MCQ questions.")}else if("Programming"===b.type){if(0===b.constraints.length)return void o.Ay.error("At least one constraint is required for Programming questions.");if(0===b.testcases.length)return void o.Ay.error("At least one test case is required for Programming questions.")}let t={questionname:b.questionname,question:b.question,difficulty:b.difficulty,type:b.type};"MCQ"===b.type?t=(0,d.A)((0,d.A)({},t),{},{options:b.options,correctAnswer:b.correctAnswer,explanation:b.explanation}):"Programming"===b.type&&(t=(0,d.A)((0,d.A)({},t),{},{constraints:b.constraints,Example:b.Example,testcases:b.testcases,solution:b.solution}));try{if(B){const e=(0,u.KR)(A.OO,"questions/".concat(s.id));await(0,u.yo)(e,t),o.Ay.success("Question updated successfully!")}else{const e=(0,u.KR)(A.OO,"questions/".concat(b.questionname));await(0,u.hZ)(e,t),o.Ay.success("Question added successfully!")}r()}catch(n){console.error("Error saving question:",n),o.Ay.error("Failed to save question.")}},className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Title"}),(0,k.jsx)("input",{type:"text",name:"questionname",value:b.questionname,onChange:E,className:"w-full p-2 border rounded-md mt-1",placeholder:"Enter question title"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Description"}),(0,k.jsx)("textarea",{name:"question",value:b.question,onChange:E,className:"w-full p-2 border rounded-md mt-1",rows:"4",placeholder:"Enter question description"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Difficulty"}),(0,k.jsxs)("select",{name:"difficulty",value:b.difficulty,onChange:E,className:"w-full p-2 border rounded-md mt-1",children:[(0,k.jsx)("option",{children:"Easy"}),(0,k.jsx)("option",{children:"Medium"}),(0,k.jsx)("option",{children:"Hard"})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Type"}),(0,k.jsxs)("select",{name:"type",value:b.type,onChange:E,className:"w-full p-2 border rounded-md mt-1",children:[(0,k.jsx)("option",{value:"MCQ",children:"MCQ"}),(0,k.jsx)("option",{value:"Programming",children:"Programming"})]})]})]}),"MCQ"===b.type&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Options"}),b.options.map((e,t)=>(0,k.jsx)("input",{type:"text",value:e,onChange:e=>{const n=[...b.options];n[t]=e.target.value,C(e=>(0,d.A)((0,d.A)({},e),{},{options:n}))},className:"w-full p-2 border rounded-md mt-1",placeholder:"Option ".concat(t+1)},t))]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Correct Answer"}),(0,k.jsx)("select",{value:b.correctAnswer,onChange:e=>C(t=>(0,d.A)((0,d.A)({},t),{},{correctAnswer:parseInt(e.target.value)})),className:"w-full p-2 border rounded-md mt-1",children:b.options.map((e,t)=>(0,k.jsxs)("option",{value:t+1,children:["Option ",t+1]},t))})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Explanation"}),(0,k.jsx)("textarea",{value:b.explanation,onChange:e=>C(t=>(0,d.A)((0,d.A)({},t),{},{explanation:e.target.value})),className:"w-full p-2 border rounded-md mt-1",rows:"3",placeholder:"Explain why this is the correct answer"})]})]}),"Programming"===b.type&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Constraints"}),b.constraints.map((e,t)=>(0,k.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,k.jsx)("input",{type:"text",value:e,onChange:e=>{const n=[...b.constraints];n[t]=e.target.value,C(e=>(0,d.A)((0,d.A)({},e),{},{constraints:n}))},className:"flex-1 p-2 border rounded-md",placeholder:"Constraint ".concat(t+1)}),(0,k.jsx)("button",{type:"button",onClick:()=>{const e=b.constraints.filter((e,n)=>n!==t);C(t=>(0,d.A)((0,d.A)({},t),{},{constraints:e}))},className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,k.jsx)("button",{type:"button",onClick:()=>C(e=>(0,d.A)((0,d.A)({},e),{},{constraints:[...e.constraints,""]})),className:"mt-2 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Add Constraint"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Examples"}),b.Example.map((e,t)=>(0,k.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,k.jsx)("textarea",{value:e,onChange:e=>{const n=[...b.Example];n[t]=e.target.value,C(e=>(0,d.A)((0,d.A)({},e),{},{Example:n}))},className:"flex-1 p-2 border rounded-md font-mono",rows:"3",placeholder:"Example ".concat(t+1)}),(0,k.jsx)("button",{type:"button",onClick:()=>{const e=b.Example.filter((e,n)=>n!==t);C(t=>(0,d.A)((0,d.A)({},t),{},{Example:e}))},className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,k.jsx)("button",{type:"button",onClick:()=>C(e=>(0,d.A)((0,d.A)({},e),{},{Example:[...e.Example,""]})),className:"mt-2 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Add Example"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Test Cases"}),b.testcases.map((e,t)=>(0,k.jsx)("div",{className:"border rounded-md p-3 mt-2",children:(0,k.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs font-medium text-gray-600",children:"Input"}),(0,k.jsx)("textarea",{value:e.input||"",onChange:e=>{const n=[...b.testcases];n[t]=(0,d.A)((0,d.A)({},n[t]),{},{input:e.target.value}),C(e=>(0,d.A)((0,d.A)({},e),{},{testcases:n}))},className:"w-full p-2 border rounded-md font-mono text-sm",rows:"2",placeholder:"Test case input"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-xs font-medium text-gray-600",children:"Expected Output"}),(0,k.jsx)("textarea",{value:e.expectedOutput||"",onChange:e=>{const n=[...b.testcases];n[t]=(0,d.A)((0,d.A)({},n[t]),{},{expectedOutput:e.target.value}),C(e=>(0,d.A)((0,d.A)({},e),{},{testcases:n}))},className:"w-full p-2 border rounded-md font-mono text-sm",rows:"2",placeholder:"Expected output"})]}),(0,k.jsx)("button",{type:"button",onClick:()=>{const e=b.testcases.filter((e,n)=>n!==t);C(t=>(0,d.A)((0,d.A)({},t),{},{testcases:e}))},className:"self-start px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 text-sm",children:"Remove Test Case"})]})},t)),(0,k.jsx)("button",{type:"button",onClick:()=>C(e=>(0,d.A)((0,d.A)({},e),{},{testcases:[...e.testcases,{input:"",expectedOutput:""}]})),className:"mt-2 px-3 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Add Test Case"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium",children:"Solution (Optional)"}),(0,k.jsx)("textarea",{value:b.solution,onChange:e=>C(t=>(0,d.A)((0,d.A)({},t),{},{solution:e.target.value})),className:"w-full p-2 border rounded-md mt-1 font-mono",rows:"6",placeholder:"Enter the solution code (optional)"})]})]}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,k.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium bg-gray-200 rounded-md hover:bg-gray-300",onClick:r,children:"Cancel"}),(0,k.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:B?"Save Changes":"Create Question"})]})]}):(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsx)("input",{type:"text",placeholder:"Search questions...",className:"w-full p-2 border rounded-md",value:y,onChange:e=>v(e.target.value)})}),(0,k.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-4",children:w?(0,k.jsx)("div",{children:"Loading questions..."}):0===f.length?(0,k.jsx)("p",{className:"text-center text-gray-500 py-4",children:y?"No questions match your search.":"No questions available."}):f.map(e=>(0,k.jsx)("div",{className:"p-4 rounded-lg border ".concat(p.includes(e.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),onClick:()=>{return t=e.id,void m(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:(0,k.jsxs)("div",{className:"flex items-start",children:[(0,k.jsx)("input",{type:"checkbox",checked:p.includes(e.id),onChange:()=>{},className:"mt-1 h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),(0,k.jsxs)("div",{className:"ml-3",children:[(0,k.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.questionname}),(0,k.jsx)("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:e.question||"No description available"})]})]})},e.id))}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,k.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50",onClick:r,children:"Cancel"}),(0,k.jsxs)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 ".concat(0===p.length?"opacity-50 cursor-not-allowed":""),onClick:()=>{if("function"===typeof i){const e=c.filter(e=>p.includes(e.id));i(e),r()}else o.Ay.error("Cannot add questions to test. Functionality not available.")},disabled:0===p.length,children:["Add Selected (",p.length,")"]})]})]})]})})}):null},Wk=["title","titleId"];function Gk(e,n){let{title:r,titleId:s}=e,i=h(e,Wk);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},i),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Jk=t.forwardRef(Gk),Xk=["title","titleId"];function Yk(e,n){let{title:r,titleId:s}=e,i=h(e,Xk);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},i),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Zk=t.forwardRef(Yk),$k=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(""),[a,l]=(0,t.useState)(!1),[c,h]=(0,t.useState)(null),[f,g]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=(0,u.KR)(A.OO,"questions"),t=(0,u.Zy)(e,e=>{if(e.exists()){const t=e.val(),r=Object.entries(t).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)});n(r),s(r)}else n([]),s([]);g(!1)});return()=>t()},[]),(0,t.useEffect)(()=>{if(""===i.trim())s(e);else{const t=i.toLowerCase(),n=e.filter(e=>e.questionname&&e.questionname.toLowerCase().includes(t)||e.question&&e.question.toLowerCase().includes(t));s(n)}},[i,e]);return(0,k.jsxs)("div",{className:"p-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold",children:"Manage Questions"}),(0,k.jsx)("button",{onClick:()=>{h(null),l(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add New Question"})]}),(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsx)("input",{type:"text",placeholder:"Search questions...",className:"w-full p-2 border rounded-md",value:i,onChange:e=>o(e.target.value)})}),f?(0,k.jsx)("div",{children:"Loading questions..."}):0===r.length?(0,k.jsx)("div",{className:"text-center py-4",children:i?"No questions match your search.":"No questions available."}):(0,k.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,k.jsx)("div",{className:"p-4 border rounded-md shadow-sm",children:(0,k.jsxs)("div",{className:"flex justify-between items-start",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"font-semibold",children:e.questionname}),(0,k.jsx)("p",{className:"text-gray-600 mt-1",children:e.question}),(0,k.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,k.jsx)("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.difficulty}),(0,k.jsx)("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:e.type})]})]}),(0,k.jsxs)("div",{className:"flex space-x-2",children:[(0,k.jsx)("button",{onClick:()=>(e=>{h(e),l(!0)})(e),className:"p-1 text-blue-600 hover:text-blue-800",children:(0,k.jsx)(Jk,{className:"h-5 w-5"})}),(0,k.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this question?"))try{await(0,u.TF)((0,u.KR)(A.OO,"questions/".concat(e)))}catch(t){console.error("Error deleting question:",t)}})(e.id),className:"p-1 text-red-600 hover:text-red-800",children:(0,k.jsx)(Zk,{className:"h-5 w-5"})})]})]})},e.id))}),(0,k.jsx)(zk,{isOpen:a,onClose:()=>l(!1),question:c})]})},eE=()=>{const e=(0,s.Zp)(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(()=>localStorage.getItem("adminActiveTab")||"available-tests"),[l,c]=(0,t.useState)(""),[h,f]=(0,t.useState)(!0),[g,p]=(0,t.useState)(!1),[m,y]=(0,t.useState)("date"),[v,w]=(0,t.useState)("desc");(0,t.useEffect)(()=>{const e=(0,u.C3)(),t=(0,u.KR)(e,"Exam"),n=(0,u.Zy)(t,e=>{const t=e.val();if(t){const e=Object.keys(t).map(e=>(0,d.A)({id:e},t[e]));r(e)}f(!1)});return()=>n()},[]),(0,t.useEffect)(()=>{localStorage.setItem("adminActiveTab",i)},[i]);const x=async e=>{try{await(0,u.yo)((0,u.KR)(A.OO,"Exam/".concat(e,"/Properties")),{status:"Started"}),o.Ay.success("Test started successfully")}catch(t){console.error("Error starting test:",t),o.Ay.error("Failed to start test")}},b=async e=>{try{await(0,u.yo)((0,u.KR)(A.OO,"Exam/".concat(e,"/Properties")),{status:"Completed"}),o.Ay.success("Test ended successfully")}catch(t){console.error("Error starting test:",t),o.Ay.error("Failed to start test")}},C=(0,t.useMemo)(()=>Array.isArray(n)?n.filter(e=>{var t,n;const r=(null===(t=e.Properties)||void 0===t?void 0:t.status)||"NotStarted",s=null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(l.toLowerCase());return"available-tests"===i?s&&"Started"===r:"results"===i?s&&"Completed"===r:"edit-tests"===i?s&&"NotStarted"===r:s}):[],[n,l,i]),B=(0,t.useMemo)(()=>[...C].sort((e,t)=>{if("name"===m){const n=(e.name||"").toLowerCase(),r=(t.name||"").toLowerCase(),s=n.localeCompare(r);return"asc"===v?s:-s}const n=new Date(e.completedAt||e.createdAt||0).getTime()-new Date(t.completedAt||t.createdAt||0).getTime();return"asc"===v?n:-n}),[C,m,v]);return(0,k.jsxs)("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[(0,k.jsx)(Rk,{activeTab:i,setActiveTab:a}),(0,k.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Tests"}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 justify-end",children:[(0,k.jsx)("input",{type:"text",placeholder:"Search tests...",className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:l,onChange:e=>c(e.target.value)}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("label",{htmlFor:"sortField",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sort"}),(0,k.jsxs)("select",{id:"sortField",value:m,onChange:e=>y(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,k.jsx)("option",{value:"date",children:"Date"}),(0,k.jsx)("option",{value:"name",children:"Name"})]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("label",{htmlFor:"sortOrder",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Order"}),(0,k.jsxs)("select",{id:"sortOrder",value:v,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,k.jsx)("option",{value:"desc",children:"Descending"}),(0,k.jsx)("option",{value:"asc",children:"Ascending"})]})]}),"edit-tests"===i&&(0,k.jsxs)("button",{onClick:async()=>{if(!g){p(!0);try{const t=(0,u.KR)(A.OO,"Exam"),n=(0,u.VC)(t);await(0,u.hZ)(n,{id:n.key,name:"Exam-".concat(n.key.slice(0,5)),createdAt:(new Date).toISOString(),questions:[],Eligible:{},duration:60,Properties:{status:"NotStarted"}}),e("/testedit/".concat(n.key))}catch(t){console.error("Error creating test:",t)}finally{p(!1)}}},disabled:g,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 disabled:opacity-50",children:[(0,k.jsx)(hk.GGD,{className:"mr-2"}),g?"Creating...":"Create Test"]})]})]}),h?(0,k.jsx)(Wd.A,{message:"Loading tests, please wait..."}):"add-questions"===i?(0,k.jsx)($k,{}):(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(e=>(0,k.jsxs)("div",{children:["edit-tests"===i&&(0,k.jsx)(Dk,{test:e,startTest:x}),"available-tests"===i&&(0,k.jsx)(Mk,{test:e,endTest:b}),"results"===i&&(0,k.jsx)(Hk,{test:e})]},e.id))})]})]})};var tE=n(816);const nE=["title","titleId"];function rE(e,n){let{title:r,titleId:s}=e,i=h(e,nE);return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},i),r?t.createElement("title",{id:s},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const sE=t.forwardRef(rE),iE=e=>{let{isOpen:n,onClose:r,onAddQuestions:s,questions:i=[],existingQuestionIds:o=[]}=e;const[a,l]=(0,t.useState)("select"),[c,d]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[g,p]=(0,t.useState)([]),[m,y]=(0,t.useState)(!0),[v,w]=(0,t.useState)(""),[x,b]=(0,t.useState)(1),[C]=(0,t.useState)(10),[B,E]=(0,t.useState)("all"),[N,S]=(0,t.useState)("title"),[_,F]=(0,t.useState)("asc");(0,t.useEffect)(()=>{let e=[...c];if("all"!==B&&(e=e.filter(e=>e.type&&e.type.toLowerCase()===B.toLowerCase())),""!==v.trim()){const t=v.toLowerCase();e=e.filter(e=>e.title&&e.title.toLowerCase().includes(t)||e.content&&e.content.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.type&&e.type.toLowerCase().includes(t))}e.sort((e,t)=>{let n,r;return"title"===N?(n=(e.title||"").toLowerCase(),r=(t.title||"").toLowerCase()):"type"===N&&(n=(e.type||"").toLowerCase(),r=(t.type||"").toLowerCase()),"asc"===_?n.localeCompare(r):r.localeCompare(n)}),f(e),b(1)},[v,c,B,N,_]);const{totalPages:I,indexOfFirstItem:T,indexOfLastItem:j,currentItems:L,pageNumbers:U,startPage:P,endPage:Q}=t.useMemo(()=>{const e=h.length,t=Math.max(1,Math.ceil(e/C)),n=Math.min(x*C,e),r=(x-1)*C,s=h.slice(r,n),i=[];let o=Math.max(1,x-Math.floor(2.5)),a=Math.min(t,o+5-1);a-o+1<5&&(o=Math.max(1,a-5+1));for(let l=o;l<=a;l++)i.push(l);return{totalPages:t,indexOfFirstItem:r,indexOfLastItem:n,currentItems:s,pageNumbers:i,startPage:o,endPage:a,showPagination:e>0}},[h,x,C]);(0,t.useEffect)(()=>{if(i.length>0)d(i),f(i),y(!1);else{const e=async()=>{try{const e=(0,u.KR)(A.OO,"questions"),t=await(0,u.Jt)(e);if(t.exists()){const e=Object.entries(t.val()).map(e=>{let[t,n]=e;return{id:t,title:n.questionname,description:n.question,difficulty:n.difficulty,type:n.type,examples:n.Example,constraints:n.constraints,testCases:n.testcases}});console.log(e),d(e),f(e)}}catch(e){console.error("Error loading questions:",e)}finally{y(!1)}};n&&e()}},[n,i]);return n?(0,k.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,k.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,k.jsx)("div",{className:"fixed inset-0 bg-black/30",onClick:r,"aria-hidden":"true"}),(0,k.jsxs)("div",{className:"relative w-full max-w-4xl rounded-lg bg-white dark:bg-gray-800 p-6 shadow-xl",children:[(0,k.jsx)("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-500",onClick:r,children:(0,k.jsx)(qk,{className:"h-6 w-6","aria-hidden":"true"})}),(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"select"===a?"Select Questions":"Create New Question"}),(0,k.jsx)("div",{className:"mt-4",children:"select"===a?(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"mb-4",children:(0,k.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,k.jsx)("input",{type:"text",className:"block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 dark:text-white bg-white dark:bg-gray-700 ring-1 ring-inset ring-gray-300 dark:ring-gray-600 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",placeholder:"Search by title, content, or type (MCQ, Programming, SQL)...",value:v,onChange:e=>w(e.target.value)}),(0,k.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,k.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,k.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Filter:"}),(0,k.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[(0,k.jsx)("button",{onClick:()=>E("all"),className:"px-3 py-1.5 text-xs font-medium rounded-l-md border ".concat("all"===B?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"All"}),(0,k.jsx)("button",{onClick:()=>E("mcq"),className:"px-3 py-1.5 text-xs font-medium border-t border-b ".concat("mcq"===B?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"MCQ"}),(0,k.jsx)("button",{onClick:()=>E("programming"),className:"px-3 py-1.5 text-xs font-medium border-t border-b ".concat("programming"===B?"bg-green-600 text-white border-green-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"Programming"}),(0,k.jsx)("button",{onClick:()=>E("sql"),className:"px-3 py-1.5 text-xs font-medium rounded-r-md border ".concat("sql"===B?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"),children:"SQL"})]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,k.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),(0,k.jsxs)("select",{value:N,onChange:e=>S(e.target.value),className:"text-xs px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-700 dark:text-white",children:[(0,k.jsx)("option",{value:"title",children:"Title"}),(0,k.jsx)("option",{value:"type",children:"Type"})]}),(0,k.jsx)("button",{onClick:()=>F(e=>"asc"===e?"desc":"asc"),className:"px-2 py-1.5 text-xs font-medium border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 bg-white dark:bg-gray-800 dark:text-white flex items-center gap-1",title:"asc"===_?"Ascending":"Descending",children:"asc"===_?"\u2191 A-Z":"\u2193 Z-A"})]})]}),h.length>0&&(0,k.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Showing ",h.length," question",1!==h.length?"s":"","all"!==B&&" (".concat(B.toUpperCase()," only)")]})]}),(0,k.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-4",children:m?(0,k.jsx)(Wd.A,{message:"Loading questions, please wait..."}):0===h.length?(0,k.jsx)("p",{className:"text-center text-gray-500 py-4",children:v||"all"!==B?"No questions match your filters.":"No questions available."}):L.map(e=>{const t=o.includes(e.id),n=g.includes(e.id);return(0,k.jsx)("div",{className:"p-4 rounded-lg border transition-all cursor-pointer relative ".concat(t?"border-green-400 bg-green-50 dark:bg-green-900/20 opacity-70":n?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-500"),onClick:()=>{return t=e.id,void p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:(0,k.jsxs)("div",{className:"flex items-start",children:[(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)("input",{type:"checkbox",checked:g.includes(e.id)||t,onChange:()=>{},disabled:t,className:"mt-1 h-4 w-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"}),t&&(0,k.jsx)("svg",{className:"absolute top-1 left-0 h-4 w-4 text-green-600 pointer-events-none",fill:"currentColor",viewBox:"0 0 20 20",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),(0,k.jsxs)("div",{className:"ml-3 flex-1",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title}),e.type&&(0,k.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ".concat("mcq"===e.type.toLowerCase()?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"programming"===e.type.toLowerCase()?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"sql"===e.type.toLowerCase()?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:e.type.toUpperCase()})]}),(0,k.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400 line-clamp-2",children:e.content||e.description||"No description available"})]})]})},e.id)})}),h.length>0&&(0,k.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,k.jsx)("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===x,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,k.jsx)("button",{onClick:()=>b(e=>Math.min(I,e+1)),disabled:x===I,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,k.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,k.jsx)("div",{children:(0,k.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",(0,k.jsx)("span",{className:"font-medium",children:T+1})," to"," ",(0,k.jsx)("span",{className:"font-medium",children:Math.min(j,h.length)})," ","of ",(0,k.jsx)("span",{className:"font-medium",children:h.length})," results"]})}),(0,k.jsx)("div",{children:(0,k.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,k.jsxs)("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===x,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,k.jsx)("span",{className:"sr-only",children:"Previous"}),(0,k.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),P>1&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("button",{onClick:()=>b(1),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium ".concat(1===x?"z-10 bg-indigo-50 dark:bg-indigo-900/50 border-indigo-500 text-indigo-600 dark:text-indigo-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:"1"}),P>2&&(0,k.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium text-gray-700 dark:text-gray-300",children:"..."})]}),U.map(e=>(0,k.jsx)("button",{onClick:()=>b(e),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(e===x?"z-10 bg-indigo-50 dark:bg-indigo-900/50 border-indigo-500 text-indigo-600 dark:text-indigo-300":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:e},e)),Q<I&&(0,k.jsxs)(k.Fragment,{children:[Q<I-1&&(0,k.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium text-gray-700 dark:text-gray-300",children:"..."}),(0,k.jsx)("button",{onClick:()=>b(I),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium ".concat(I===x?"z-10 bg-indigo-50 dark:bg-indigo-900/50 border-indigo-500 text-indigo-600 dark:text-indigo-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:I})]}),(0,k.jsxs)("button",{onClick:()=>b(e=>Math.min(I,e+1)),disabled:x===I,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 text-sm font-medium text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,k.jsx)("span",{className:"sr-only",children:"Next"}),(0,k.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,k.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}):(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Question Title"}),(0,k.jsx)("input",{type:"text",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter question title"})]}),(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),(0,k.jsx)("textarea",{rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter question description"})]})]})}),(0,k.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600",onClick:r,children:"Cancel"}),(0,k.jsx)("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ".concat("select"===a&&0===g.length?"opacity-50 cursor-not-allowed":""),onClick:"select"===a?()=>{const e=c.filter(e=>g.includes(e.id));s(e),r()}:()=>{},disabled:"select"===a&&0===g.length,children:"select"===a?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(sE,{className:"-ml-0.5 mr-1.5 h-5 w-5 inline"}),"Add Selected (",g.length,")"]}):"Create Question"})]})]})]})]})}):null},oE=e=>{let{test:n,setTest:r,testId:s}=e;const[i,a]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[p,m]=(0,t.useState)(""),[y,v]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(!s)return void a(!1);const e=(0,u.KR)(A.OO,"Exam/".concat(s,"/questions")),t=(0,u.Zy)(e,e=>{const t=e.val();if(t){const e=Array.isArray(t)?t.reduce((e,t)=>(0,d.A)((0,d.A)({},e),{},{[t]:"mcq"}),{}):t;r(t=>(0,d.A)((0,d.A)({},t),{},{questions:e}))}else r(e=>(0,d.A)((0,d.A)({},e),{},{questions:{}}));a(!1)});return()=>t()},[s,r]);const w=async e=>{try{if(!n||!n.questions)return;const t=(0,u.KR)(A.OO,"Exam/".concat(s,"/questions")),r=await(0,u.Jt)(t);let i=r.exists()?r.val():{};Array.isArray(i)&&(i=i.reduce((e,t)=>(0,d.A)((0,d.A)({},e),{},{[t]:"mcq"}),{}));const{[e]:a}=i,l=h(i,[e].map(tE.A));return await(0,u.hZ)(t,l),o.oR.success("Question deleted successfully"),l}catch(nf){o.oR.error("Failed to delete question"),console.error(nf)}},x=e=>{(async e=>{try{const t=(0,u.KR)(A.OO,"Exam/".concat(s,"/questions"));let n=(await(0,u.Jt)(t)).val()||{};Array.isArray(n)&&(n=n.reduce((e,t)=>(0,d.A)((0,d.A)({},e),{},{[t]:"mcq"}),{}));const r=Array.isArray(e)?e:[e],i=(0,d.A)({},n);return r.forEach(e=>{const t=e.name||e.title||e,n=e.type||"mcq";i[t]=n}),await(0,u.hZ)(t,i),o.oR.success("Added ".concat(r.length," question(s) successfully")),i}catch(nf){throw o.oR.error("Failed to add questions"),nf}})(e).then(e=>{e&&r(t=>(0,d.A)((0,d.A)({},t),{},{questions:e})),g(!1),c(null)}).catch(console.error)},b=(0,t.useCallback)(async e=>{if(n&&window.confirm("Are you sure you want to delete this question?"))try{v(!0);const t=await w(e);t&&r(e=>(0,d.A)((0,d.A)({},e),{},{questions:t})),o.oR.success("Question deleted successfully")}catch(t){console.error("Error deleting question:",t),o.oR.error("Failed to delete question")}finally{v(!1)}},[n,w]),C=(0,t.useMemo)(()=>{if(null===n||void 0===n||!n.questions)return[];const e=Object.entries(n.questions).map(e=>{let[t,n]=e;return{name:t,type:n}});if(!p)return e;const t=p.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(t)||e.type.toLowerCase().includes(t))},[null===n||void 0===n?void 0:n.questions,p]);return i?(0,k.jsx)(Wd.A,{message:"Loading questions, please wait..."}):(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[null!==n&&void 0!==n&&n.questions&&0!==Object.keys(n.questions).length?(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg",children:[(0,k.jsxs)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,k.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Test Questions"}),(0,k.jsxs)("button",{onClick:()=>{c(null),g(!0)},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)(hk.GGD,{className:"mr-1.5 h-4 w-4"}),"Add Question"]})]}),(0,k.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row gap-3",children:[(0,k.jsx)("div",{className:"flex-1",children:(0,k.jsx)("input",{type:"text",placeholder:"Search questions by title or description...",value:p,onChange:e=>m(e.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white p-2"})}),(0,k.jsxs)("button",{onClick:()=>{const e=C;o.oR.success("Found ".concat(e.length," matching questions"))},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]})]}),(0,k.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:C.length>0?(0,k.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,k.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Question"}),(0,k.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),(0,k.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,k.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:C.map((e,t)=>(0,k.jsxs)("tr",{className:t%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:String(e.type||"mcq").toUpperCase()}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,k.jsx)("button",{onClick:()=>b(e.name),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 mr-4",disabled:y,children:(0,k.jsx)(hk.IXo,{className:"h-5 w-5"})})})]},e.name))})]}):(0,k.jsx)("div",{className:"px-4 py-6 text-center text-gray-500 dark:text-gray-400",children:p?"No matching questions found":"No questions added yet"})})]}):(0,k.jsxs)("div",{className:"text-center py-8",children:[(0,k.jsx)("p",{className:"text-gray-500",children:"No questions found"}),(0,k.jsxs)("button",{onClick:()=>{c(null),g(!0)},className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[(0,k.jsx)(hk.GGD,{className:"mr-2"})," Add Question"]})]}),f&&(0,k.jsx)(iE,{isOpen:f,onClose:()=>{c(null),g(!1)},onAddQuestions:e=>{x(e)},questions:l?[l]:[],existingQuestionIds:null!==n&&void 0!==n&&n.questions?Object.keys(n.questions):[]})]})},aE=e=>{let{test:n,setTest:r,testId:s}=e;const[i,a]=(0,t.useState)(!0),[l,c]=(0,t.useState)({}),[h,f]=(0,t.useState)([]),[g,p]=(0,t.useState)({name:"",email:""}),[m,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[C,B]=(0,t.useState)(!1),[E,N]=(0,t.useState)([]),[S,_]=(0,t.useState)(!1),[F,I]=(0,t.useState)(new Set),[T,j]=(0,t.useState)(!1),[L,U]=(0,t.useState)(""),[P,Q]=(0,t.useState)("name"),[O,R]=(0,t.useState)("asc"),D=(0,t.useCallback)(async()=>{try{const e=(0,u.KR)(A.OO,"Exam/".concat(s,"/Eligible")),t=await(0,u.Jt)(e);if(!t.exists())return{eligibleStudents:{},enrolledStudents:[]};const n=t.val();let r={};return n&&"object"===typeof n&&!Array.isArray(n)?r=n:Array.isArray(n)?r=n.reduce((e,t)=>(e[t.name]=t.email,e),{}):n&&"object"===typeof n&&(r=Object.entries(n).reduce((e,t)=>{let[n,r]=t;return"string"===typeof r?e[n]=r:e[r.name]=r.email,e},{})),{eligibleStudents:r,enrolledStudents:Object.keys(r)}}catch(e){return console.error("Error fetching students:",e),{eligibleStudents:{},enrolledStudents:[]}}},[s]);(0,t.useEffect)(()=>{s&&(async()=>{const{eligibleStudents:e,enrolledStudents:t}=await D();c(e),f(t),a(!1)})()},[s,D]);const M=(0,t.useCallback)(async()=>{_(!0);try{const e=(0,u.KR)(A.OO,"Students"),t=await(0,u.Jt)(e);if(!t.exists())return void o.oR.error("No students found in database");const n=t.val();if(!Array.isArray(n))return void o.oR.error("Invalid students data format");const r=(0,u.KR)(A.OO,"users"),s=await(0,u.Jt)(r),i=s.exists()?s.val():{},a=[];for(const o of n){const e=Object.entries(i).find(e=>{let[t,n]=e;return n.email===o});a.push({email:o,name:e&&e[1].name||o,uid:e?e[0]:null})}N(a),j(!0)}catch(e){console.error("Error fetching all students:",e),o.oR.error("Failed to load students from database")}finally{_(!1)}},[]),H=(0,t.useCallback)(async()=>{if(0!==F.size){w(!0);try{const e=(0,u.KR)(A.OO,"Exam/".concat(s,"/Eligible")),t=await(0,u.Jt)(e),n=t.exists()?t.val():{};let r=0,i=0;const a=(0,d.A)({},n);F.forEach(e=>{const t=E.find(t=>t.email===e);t&&(n[t.name]||Object.values(n).includes(t.email)?i++:(a[t.name]=t.email,r++))}),r>0?(await(0,u.hZ)(e,a),c(a),f(Object.keys(a)),o.oR.success("Added ".concat(r," student(s)").concat(i>0?". Skipped ".concat(i," duplicate(s)."):""))):o.oR.warning("All selected students already exist"),I(new Set),j(!1),U(""),Q("name"),R("asc")}catch(e){console.error("Error adding students:",e),o.oR.error("Failed to add students")}finally{w(!1)}}else o.oR.error("Please select at least one student")},[F,E,s]),V=(0,t.useCallback)(async e=>{try{if(!e.email||!e.name)return void o.oR.error("Both email and name are required");w(!0);const t=(0,u.KR)(A.OO,"Exam/".concat(s,"/Eligible")),n=await(0,u.Jt)(t),r=n.exists()?n.val():{};if(r[e.name])return void o.oR.error("Student with this name already exists");if(Object.values(r).includes(e.email))return void o.oR.error("This email is already registered");await(0,u.yo)(t,{[e.name]:e.email}),c(t=>(0,d.A)((0,d.A)({},t),{},{[e.name]:e.email})),f(t=>[...t,e.name]),p({name:"",email:""}),o.oR.success("Student added successfully")}catch(nf){console.error("Add student error:",nf),o.oR.error("Failed to add student: ".concat(nf.message))}finally{w(!1)}},[s]),K=(0,t.useCallback)(async e=>{try{w(!0);const t={};t["Exam/".concat(s,"/Eligible/").concat(e)]=null,await(0,u.yo)((0,u.KR)(A.OO),t),c(t=>{const n=(0,d.A)({},t);return delete n[e],n}),f(t=>t.filter(t=>t!==e)),o.oR.success("Student deleted successfully")}catch(nf){o.oR.error("Failed to delete student"),console.error(nf)}finally{w(!1)}},[s]);return i?(0,k.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[(0,k.jsxs)("div",{className:"mb-4 flex flex-col sm:flex-row gap-3",children:[(0,k.jsx)("div",{className:"flex-1",children:(0,k.jsx)("input",{type:"text",placeholder:"Search students by name or email...",value:m,onChange:e=>y(e.target.value),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white p-2"})}),(0,k.jsxs)("button",{onClick:()=>{const e=Object.entries(l).filter(e=>{let[t,n]=e;return t.toLowerCase().includes(m.toLowerCase())||n.toLowerCase().includes(m.toLowerCase())});f(e.map(e=>{let[t]=e;return t})),o.oR.success("Found ".concat(e.length," matching students"))},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)(hk.pHD,{className:"mr-1.5 h-4 w-4"}),"Search"]})]}),(0,k.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md overflow-hidden mb-4",children:(0,k.jsx)("div",{className:"max-h-96 overflow-y-auto",children:h.length>0?(0,k.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h.map(e=>{const t=l[e];return t?(0,k.jsxs)("li",{className:"px-4 py-3 flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e}),(0,k.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]}),(0,k.jsx)("button",{onClick:()=>K(e),className:"text-red-600 hover:text-red-800 dark:hover:text-red-400",children:(0,k.jsx)(hk.IXo,{className:"h-5 w-5"})})]},e):null})}):(0,k.jsx)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No students found"})})}),(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Add Students"}),(0,k.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,k.jsxs)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[(0,k.jsx)(hk.vq3,{className:"mr-2 h-4 w-4"}),"Select from Student Database"]}),(0,k.jsxs)("div",{className:"flex gap-3",children:[(0,k.jsx)("button",{onClick:M,disabled:S,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:S?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Loading..."]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(hk.cfS,{className:"mr-2 h-4 w-4"}),"Browse Students"]})}),T&&(0,k.jsx)("button",{onClick:()=>{j(!1),I(new Set),U(""),Q("name"),R("asc")},className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"})]}),T&&(0,k.jsxs)("div",{className:"mt-4 border border-gray-200 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800",children:[(0,k.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,k.jsxs)("h6",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Select Students (",F.size," selected)"]}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)("button",{onClick:()=>{const e=new Set(E.filter(e=>e.name.toLowerCase().includes(L.toLowerCase())||e.email.toLowerCase().includes(L.toLowerCase())).sort((e,t)=>{const n=e[P].toLowerCase(),r=t[P].toLowerCase();return"asc"===O?n.localeCompare(r):r.localeCompare(n)}).map(e=>e.email));I(e)},className:"text-xs px-2 py-1 text-blue-600 dark:text-blue-400 hover:underline",children:"Select All"}),(0,k.jsx)("button",{onClick:()=>I(new Set),className:"text-xs px-2 py-1 text-gray-600 dark:text-gray-400 hover:underline",children:"Clear All"})]})]}),(0,k.jsxs)("div",{className:"relative mb-3",children:[(0,k.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:L,onChange:e=>U(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),L&&(0,k.jsx)("button",{onClick:()=>U(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,k.jsx)(hk.yGN,{className:"h-4 w-4"})})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sort by:"}),(0,k.jsxs)("select",{value:P,onChange:e=>Q(e.target.value),className:"text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,k.jsx)("option",{value:"name",children:"Name"}),(0,k.jsx)("option",{value:"email",children:"Email"})]}),(0,k.jsx)("button",{onClick:()=>R(e=>"asc"===e?"desc":"asc"),className:"text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white flex items-center gap-1",title:"asc"===O?"Ascending":"Descending",children:"asc"===O?"\u2191 A-Z":"\u2193 Z-A"})]})]}),(0,k.jsx)("div",{className:"max-h-64 overflow-y-auto",children:E.filter(e=>e.name.toLowerCase().includes(L.toLowerCase())||e.email.toLowerCase().includes(L.toLowerCase())).sort((e,t)=>{const n=e[P].toLowerCase(),r=t[P].toLowerCase();return"asc"===O?n.localeCompare(r):r.localeCompare(n)}).length>0?(0,k.jsx)("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:E.filter(e=>e.name.toLowerCase().includes(L.toLowerCase())||e.email.toLowerCase().includes(L.toLowerCase())).sort((e,t)=>{const n=e[P].toLowerCase(),r=t[P].toLowerCase();return"asc"===O?n.localeCompare(r):r.localeCompare(n)}).map(e=>(0,k.jsx)("li",{className:"p-3 hover:bg-gray-50 dark:hover:bg-gray-700",children:(0,k.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,k.jsx)("input",{type:"checkbox",checked:F.has(e.email),onChange:()=>{return t=e.email,void I(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,k.jsxs)("div",{className:"ml-3 flex-1",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]})]})},e.email))}):(0,k.jsx)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No students found"})}),F.size>0&&(0,k.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:(0,k.jsx)("button",{onClick:H,disabled:v,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:v?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Adding..."]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(hk.YrT,{className:"mr-2 h-4 w-4"}),"Add Selected Students"]})})})]})]}),(0,k.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,k.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Bulk Upload from CSV"}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-start",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("input",{type:"file",accept:".csv",onChange:e=>b(e.target.files[0]),className:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-gray-600 dark:file:text-gray-200"}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"CSV format: Name, Email (one student per line)"})]}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsxs)("button",{onClick:()=>{const e=new Blob(["Name,Email\nJohn Doe,john.doe@example.com\nJane Smith,jane.smith@example.com"],{type:"text/csv"}),t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="students_template.csv",document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t),o.oR.success("CSV template downloaded")},className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)(hk.a4x,{className:"mr-1.5 h-4 w-4"}),"Template"]}),(0,k.jsx)("button",{onClick:async()=>{if(x){B(!0);try{const e=(e=>{const t=e.split("\n").filter(e=>e.trim()),n=[];for(let r=t[0].toLowerCase().includes("name")||t[0].toLowerCase().includes("email")?1:0;r<t.length;r++){const e=t[r].trim();if(!e)continue;const[s,i]=e.split(",").map(e=>e.trim().replace(/"/g,""));s&&i&&i.includes("@")&&n.push({name:s,email:i})}return n})(await x.text());if(0===e.length)return void o.oR.error("No valid students found in CSV file");const t=(0,u.KR)(A.OO,"Exam/".concat(s,"/Eligible")),n=await(0,u.Jt)(t),r=n.exists()?n.val():{};let i=0,a=0;const l=(0,d.A)({},r);for(const s of e)r[s.name]||Object.values(r).includes(s.email)?a++:(l[s.name]=s.email,i++);i>0?(await(0,u.hZ)(t,l),console.log(l),console.log(l),console.log(a),c(l),f(Object.keys(l)),o.oR.success("Added ".concat(i," students successfully").concat(a>0?". Skipped ".concat(a," duplicates."):""))):o.oR.warning("All students in the CSV already exist"),b(null)}catch(e){console.error("CSV upload error:",e),o.oR.error("Failed to process CSV file")}finally{B(!1)}}else o.oR.error("Please select a CSV file")},disabled:!x||C,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:C?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-1.5"}),"Uploading..."]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(hk.B88,{className:"mr-1.5 h-4 w-4"}),"Upload CSV"]})})]})]})]}),(0,k.jsx)("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Add Individual Student"}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-3",children:[(0,k.jsx)("input",{type:"text",placeholder:"Name",value:g.name,onChange:e=>p((0,d.A)((0,d.A)({},g),{},{name:e.target.value})),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white p-2"}),(0,k.jsx)("input",{type:"email",placeholder:"Email",value:g.email,onChange:e=>p((0,d.A)((0,d.A)({},g),{},{email:e.target.value})),className:"shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white p-2"}),(0,k.jsxs)("button",{onClick:async()=>{if(g.name&&g.email)try{await V(g)}catch(nf){console.error(nf)}},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,k.jsx)(hk.vq3,{className:"mr-1.5 h-4 w-4"}),"Add Student"]})]})]})]})},lE=e=>{var n,r;let{test:s,testId:i,duration:a}=e;const[l,c]=(0,t.useState)([]),[h,f]=(0,t.useState)([]),[g,p]=(0,t.useState)(!0),[m,y]=(0,t.useState)(0),[v,w]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),C=t.useRef(null);if((0,t.useEffect)(()=>{(async()=>{if(null!==s&&void 0!==s&&s.questions)try{var e;const t=Object.keys(s.questions),n=[];for(const e of t){const t=(0,u.KR)(A.OO,"questions/".concat(e)),r=await(0,u.Jt)(t);r.exists()&&n.push((0,d.A)({id:e},r.val()))}const r=(null===s||void 0===s||null===(e=s.configure)||void 0===e?void 0:e.questionsPerType)||{},i=parseInt(r.mcq)||0,o=parseInt(r.programming)||0,a=parseInt(r.sql)||0,l=parseInt(r.other)||0,h={mcq:[],programming:[],sql:[],other:[]};n.forEach(e=>{var t;const n=(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())||"other";"mcq"===n?h.mcq.push(e):"programming"===n?h.programming.push(e):"sql"===n?h.sql.push(e):h.other.push(e)});const g=[],p=[],m=e=>{const t=[...e];for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t};if(i>0){const e=m(h.mcq).slice(0,i);g.push(...e),p.push(...e.map(e=>e.id))}if(o>0){const e=m(h.programming).slice(0,o);g.push(...e),p.push(...e.map(e=>e.id))}if(a>0){const e=m(h.sql).slice(0,a);g.push(...e),p.push(...e.map(e=>e.id))}if(l>0){const e=m(h.other).slice(0,l);g.push(...e),p.push(...e.map(e=>e.id))}0===g.length?(f(t),c(n)):(f(p),c(g))}catch(t){console.error("Error fetching preview questions:",t),o.oR.error("Failed to load preview")}finally{p(!1)}else p(!1)})()},[null===s||void 0===s?void 0:s.questions,null===s||void 0===s||null===(n=s.configure)||void 0===n?void 0:n.questionsPerType]),(0,t.useEffect)(()=>{const e=()=>{b(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),g)return(0,k.jsx)(Wd.A,{message:"Loading exam preview..."});if(0===l.length)return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-8 text-center",children:[(0,k.jsx)(hk.Vap,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,k.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-white",children:"No Questions Added"}),(0,k.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Add questions to this exam to see the preview."})]});return(0,k.jsx)("div",{ref:C,className:"h-screen bg-gray-50 dark:bg-gray-900",children:x?(0,k.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[(0,k.jsxs)("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center justify-between",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsx)("button",{onClick:()=>w(!v),className:"p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none",children:(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,k.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null===s||void 0===s?void 0:s.name)||"Exam Preview"}),(0,k.jsx)("span",{className:"px-3 py-1 text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full",children:"PREVIEW MODE"})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,k.jsx)("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,k.jsxs)("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-300",children:[a," min"]})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,k.jsxs)("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:[m+1," / ",l.length]}),(0,k.jsx)("div",{className:"w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,k.jsx)("div",{className:"h-full bg-blue-600 dark:bg-blue-500 transition-all duration-300",style:{width:"".concat((m+1)/l.length*100,"%")}})})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsxs)("button",{onClick:()=>{m>0&&y(m-1)},disabled:0===m,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-blue-500 hover:text-blue-600 transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:[(0,k.jsx)(hk.irw,{className:"w-4 h-4"}),(0,k.jsx)("span",{children:"Previous"})]}),(0,k.jsxs)("button",{onClick:()=>{m<l.length-1&&y(m+1)},disabled:m===l.length-1,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:border-blue-500 hover:text-blue-600 transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:[(0,k.jsx)("span",{children:"Next"}),(0,k.jsx)(hk.fOo,{className:"w-4 h-4"})]})]})]})]}),(0,k.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[v&&(0,k.jsxs)("div",{className:"w-64 bg-white dark:bg-gray-800 shadow-lg border-r border-gray-200 dark:border-gray-700 overflow-y-auto",children:[(0,k.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,k.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Questions"}),(0,k.jsx)("button",{onClick:()=>w(!1),className:"p-1 text-gray-400 hover:text-gray-500",children:(0,k.jsx)(hk.yGN,{size:20})})]}),(0,k.jsx)("div",{children:l.map((e,t)=>(0,k.jsx)("button",{onClick:()=>{(e=>{y(e)})(t),w(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ".concat(m===t?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300":"text-gray-700 dark:text-gray-300"),children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("span",{className:"w-6 h-6 flex items-center justify-center rounded-full mr-2 text-sm font-medium ".concat(m===t?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-200":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"),children:t+1}),(0,k.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,k.jsx)("span",{className:"truncate text-sm font-medium",children:e.title||"Question ".concat(t+1)}),(0,k.jsx)("span",{className:"text-[11px] uppercase tracking-wide font-semibold text-purple-600 dark:text-purple-300",children:e.type})]})]})},t))})]}),(0,k.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:(0,k.jsx)(Ck,{question:h[m]})})]})]}):(0,k.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,k.jsxs)("div",{className:"max-w-2xl mx-auto p-8 bg-white dark:bg-gray-800 rounded-xl shadow-2xl text-center",children:[(0,k.jsx)("div",{className:"mb-6",children:(0,k.jsx)(hk.Vap,{className:"mx-auto h-16 w-16 text-blue-600 dark:text-blue-400"})}),(0,k.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Exam Preview Mode"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Experience the exam exactly as students will see it. The preview will open in fullscreen mode to simulate the real exam environment."}),(0,k.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6",children:[(0,k.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Preview Details:"}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,k.jsxs)("div",{className:"text-left",children:[(0,k.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Exam:"})," ",(null===s||void 0===s?void 0:s.name)||"Loading..."]}),(0,k.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Total Questions:"})," ",l.length]})]}),(0,k.jsxs)("div",{className:"text-left",children:[(0,k.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Duration:"})," ",a," minutes"]}),(0,k.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:[(0,k.jsx)("span",{className:"font-medium",children:"Mode:"})," Read-only preview"]})]})]}),(null===s||void 0===s||null===(r=s.configure)||void 0===r?void 0:r.questionsPerType)&&(0,k.jsxs)("div",{className:"pt-2 border-t border-blue-200 dark:border-blue-700",children:[(0,k.jsx)("p",{className:"text-xs font-medium text-blue-700 dark:text-blue-300 mb-2",children:"Question Distribution:"}),(0,k.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[parseInt(s.configure.questionsPerType.mcq)>0&&(0,k.jsx)("div",{className:"bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded",children:(0,k.jsxs)("span",{className:"font-medium text-green-700 dark:text-green-300",children:["MCQ: ",s.configure.questionsPerType.mcq]})}),parseInt(s.configure.questionsPerType.programming)>0&&(0,k.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded",children:(0,k.jsxs)("span",{className:"font-medium text-purple-700 dark:text-purple-300",children:["Programming: ",s.configure.questionsPerType.programming]})}),parseInt(s.configure.questionsPerType.sql)>0&&(0,k.jsx)("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 px-2 py-1 rounded",children:(0,k.jsxs)("span",{className:"font-medium text-yellow-700 dark:text-yellow-300",children:["SQL: ",s.configure.questionsPerType.sql]})}),parseInt(s.configure.questionsPerType.other)>0&&(0,k.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:(0,k.jsxs)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:["Other: ",s.configure.questionsPerType.other]})})]})]})]})]}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("button",{onClick:async()=>{try{C.current&&(await C.current.requestFullscreen(),b(!0))}catch(e){console.error("Failed to enter fullscreen:",e),o.oR.error("Failed to enter fullscreen mode")}},className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all flex items-center justify-center gap-2",children:[(0,k.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),"Start Fullscreen Preview"]}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Press ESC to exit fullscreen at any time"})]})]})})})},cE=()=>{var e;const{testId:n}=(0,s.g)(),r=(0,s.Zp)(),[i,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),[g,p]=(0,t.useState)(()=>localStorage.getItem("testManageActiveTab")||"questions"),[m,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(""),[x,b]=(0,t.useState)(60),[C,B]=(0,t.useState)(!1),[E,N]=(0,t.useState)(!0),[S,_]=(0,t.useState)(!1),[F,I]=(0,t.useState)({mcq:0,programming:0,sql:0,other:0}),T=(0,t.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={mcq:{name:"MCQ",count:0,selected:0},programming:{name:"programming",count:0,selected:0},sql:{name:"SQL",count:0,selected:0},other:{name:"Other",count:0,selected:0}};if(!e||"object"!==typeof e)return t;if(Object.values(e).forEach(e=>{const n=String(e||"").toLowerCase();"mcq"===n?t.mcq.count++:"programming"===n||"programming"===n?t.programming.count++:"sql"===n?t.sql.count++:n&&t.other.count++}),null!==i&&void 0!==i&&i.selectedQuestions){const e=Object.values(i.selectedQuestions).map(e=>String(e.type||"").toLowerCase());e.forEach(e=>{"mcq"===e?t.mcq.selected++:"programming"===e||"programming"===e?t.programming.selected++:"sql"===e?t.sql.selected++:e&&t.other.selected++})}return t},[]),j=(0,t.useMemo)(()=>{if(null===i||void 0===i||!i.questions)return{total:0,categories:{}};const e=T(i.questions),t=Object.values(e).reduce((e,t)=>e+t.count,0);return{total:t,categories:e}},[null===i||void 0===i?void 0:i.questions,T]);(0,t.useEffect)(()=>{var e;if(null!==i&&void 0!==i&&null!==(e=i.configure)&&void 0!==e&&e.questionsPerType){const e=i.configure.questionsPerType;I({mcq:Number(e.mcq)||0,programming:Number(e.programming)||0,sql:Number(e.sql)||0,other:Number(e.other)||0})}else if(null!==i&&void 0!==i&&i.questions){const e={mcq:0,programming:0,sql:0,other:0};I(e);const t=async()=>{try{await(0,u.hZ)((0,u.KR)(A.OO,"Exam/".concat(n,"/configure")),{questionsPerType:e,updatedAt:Date.now()})}catch(h){console.error("Error saving default config:",h)}};t()}},[null===i||void 0===i?void 0:i.questions,null===i||void 0===i||null===(e=i.configure)||void 0===e?void 0:e.questionsPerType,n]),(0,t.useEffect)(()=>{n&&(async()=>{try{const e=(0,u.KR)(A.OO,"Exam/".concat(n)),t=await(0,u.Jt)(e);if(t.exists()){const e=t.val();a(e),e.name&&w(e.name);const r=T(e.questions);setQuestionStats(r),e.duration&&b(e.duration),e.proctorSettings&&(N(void 0===e.proctorSettings.enableVideoProctoring||e.proctorSettings.enableVideoProctoring),_(!0===e.proctorSettings.blockOnViolations));const s=(0,u.KR)(A.OO,"Exam/".concat(n,"/configure")),i=await(0,u.Jt)(s);if(i.exists()&&i.val().questionsPerType){const e=i.val().questionsPerType,t={mcq:Number(e.mcq)||0,programming:Number(e.programming)||0,sql:Number(e.sql)||0,other:Number(e.other)||0};I(t),a(e=>(0,d.A)((0,d.A)({},e),{},{configure:{questionsPerType:t,updatedAt:i.val().updatedAt||Date.now()}}))}}else console.error("Test not found"),a(null)}catch(h){console.error("Error fetching test data:",h)}finally{c(!1)}})()},[n,T]),(0,t.useEffect)(()=>{if(!n)return;const e=(0,u.KR)(A.OO,"Exam/".concat(n,"/proctorSettings")),t=(0,u.Zy)(e,e=>{if(e.exists()){const t=e.val();console.log("[TestManage] ProctorSettings from Firebase:",t),N(void 0===t.enableVideoProctoring||t.enableVideoProctoring),_(!0===t.blockOnViolations),a(e=>(0,d.A)((0,d.A)({},e),{},{proctorSettings:t}))}else console.log("[TestManage] No proctorSettings found in Firebase, using defaults"),N(!0),_(!1)});return()=>t()},[n]),(0,t.useEffect)(()=>{if(!n)return;const e=(0,u.KR)(A.OO,"Exam/".concat(n,"/duration")),t=(0,u.Zy)(e,e=>{if(e.exists()){const t=e.val();console.log("[TestManage] Duration from Firebase:",t),b(t),a(e=>(0,d.A)((0,d.A)({},e),{},{duration:t}))}else console.log("[TestManage] No duration found in Firebase, using default"),b(60)});return()=>t()},[n]),(0,t.useEffect)(()=>{if(!n)return;const e=(0,u.KR)(A.OO,"Exam/".concat(n,"/name")),t=(0,u.Zy)(e,e=>{if(e.exists()){const t=e.val();console.log("[TestManage] Test name from Firebase:",t),w(t),a(e=>(0,d.A)((0,d.A)({},e),{},{name:t}))}});return()=>t()},[n]),(0,t.useEffect)(()=>{localStorage.setItem("testManageActiveTab",g)},[g]);const L=async e=>{try{await(0,u.yo)((0,u.KR)(A.OO,"Exam/".concat(n)),e),o.oR.success("Test updated successfully")}catch(nf){throw o.oR.error("Failed to update test"),nf}},U=(0,t.useCallback)(async e=>{if(i)try{return B(!0),await L(e),o.oR.success("Test updated successfully"),!0}catch(h){return console.error("Error updating test:",h),o.oR.error("Failed to update test"),!1}finally{B(!1)}},[i,L]),P=(0,t.useCallback)(async()=>{if(!v.trim())return void o.oR.error("Test title cannot be empty");await U((0,d.A)((0,d.A)({},i),{},{name:v}))&&y(!1)},[i,v,U]),Q=(0,t.useCallback)(async()=>{if(!v.trim())return o.oR.error("Test title cannot be empty"),void w((null===i||void 0===i?void 0:i.name)||"");v!==(null===i||void 0===i?void 0:i.name)&&(await U({name:v}),a(e=>(0,d.A)((0,d.A)({},e),{},{name:v})))},[v,i,U]),O=(0,t.useCallback)(async(e,t,r)=>{const s=Math.min(parseInt(t)||0,r);I(t=>{const r=(0,d.A)((0,d.A)({},t),{},{[e]:s});return(async()=>{try{await(0,u.hZ)((0,u.KR)(A.OO,"Exam/".concat(n,"/configure")),{questionsPerType:r,updatedAt:Date.now()}),a(e=>(0,d.A)((0,d.A)({},e),{},{configure:(0,d.A)((0,d.A)({},null===e||void 0===e?void 0:e.configure),{},{questionsPerType:r,updatedAt:Date.now()})}))}catch(h){console.error("Error updating question configuration:",h),o.oR.error("Failed to update configuration"),I(t=>(0,d.A)((0,d.A)({},t),{},{[e]:t[e]}))}})(),r})},[n]);return l?(0,k.jsx)(Wd.A,{message:"Loading test, please wait..."}):i?(0,k.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm",children:(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,k.jsx)("div",{className:"flex items-center justify-between",children:(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsx)("button",{onClick:()=>r(-1),className:"p-1.5 rounded-full text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Back to tests",children:(0,k.jsx)(hk.irw,{className:"h-5 w-5"})}),(0,k.jsx)("div",{className:"flex items-center",children:m?(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,k.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),className:"text-xl font-semibold bg-transparent border-b border-blue-500 focus:outline-none focus:ring-0 px-1 py-0.5",autoFocus:!0}),(0,k.jsxs)("div",{className:"flex space-x-1",children:[(0,k.jsx)("button",{onClick:P,className:"p-1 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded",disabled:C,children:(0,k.jsx)(hk.YrT,{className:"h-4 w-4"})}),(0,k.jsx)("button",{onClick:()=>{y(!1),w(i.name||"")},className:"p-1 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",disabled:C,children:(0,k.jsx)(hk.yGN,{className:"h-4 w-4"})})]})]}):(0,k.jsxs)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[i.name,(0,k.jsx)("button",{onClick:()=>y(!0),className:"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Edit title",children:(0,k.jsx)(hk.WXf,{className:"h-4 w-4"})})]})}),(0,k.jsx)("div",{className:"hidden md:flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:(0,k.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200",children:[Object.keys((null===i||void 0===i?void 0:i.questions)||{}).length," Questions"]})})]})}),(0,k.jsx)("div",{className:"mt-4 border-b border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,k.jsx)("button",{onClick:()=>p("questions"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("questions"===g?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Questions"}),(0,k.jsx)("button",{onClick:()=>p("students"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("students"===g?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:"Manage Students"}),(0,k.jsxs)("button",{onClick:()=>p("preview"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("preview"===g?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:[(0,k.jsx)(hk.Vap,{className:"inline mr-1.5 h-4 w-4"}),"Preview"]}),(0,k.jsxs)("button",{onClick:()=>p("settings"),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ".concat("settings"===g?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500"),children:[(0,k.jsx)(hk.VSk,{className:"inline mr-1.5 h-4 w-4"}),"Settings"]})]})})]})}),(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:["questions"===g&&(0,k.jsx)(oE,{test:i,setTest:a,testId:n}),"students"===g&&(0,k.jsx)(aE,{test:i,testId:n}),"preview"===g&&(0,k.jsx)(lE,{test:i,testId:n,duration:x}),"settings"===g&&(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg",children:[(0,k.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,k.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Test Settings"}),(0,k.jsxs)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Configure the test settings and rules.",(0,k.jsx)("br",{}),"Future Updates"]})]}),(0,k.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-5 sm:p-6",children:[(0,k.jsxs)("div",{className:"mb-8",children:[(0,k.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Question Summary"}),(0,k.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[(0,k.jsx)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Questions"}),(0,k.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:Object.keys((null===i||void 0===i?void 0:i.questions)||{}).length})]}),Object.entries(j.categories).map(e=>{let[t,n]=e;return n.count>0&&(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:[n.name," Questions",n.selected>0&&(0,k.jsxs)("span",{className:"ml-2 px-2 py-0.5 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200",children:[n.selected," selected"]})]}),(0,k.jsxs)("div",{className:"mt-1",children:[(0,k.jsxs)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[n.count,(0,k.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-1",children:["(",(()=>{const e=Object.keys((null===i||void 0===i?void 0:i.questions)||{}).length||1,t=n.count/e*100;return Math.round(t)+"%"})(),")"]})]}),n.selected>0&&(0,k.jsxs)("div",{className:"mt-1",children:[(0,k.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-600",children:(0,k.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(n.selected/n.count*100,"%")}})}),(0,k.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[n.selected," of ",n.count," selected (",Math.round(n.selected/n.count*100),"%)"]})]})]})]},t)})]})})]}),(0,k.jsxs)("div",{className:"mb-8",children:[(0,k.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Question Configuration"}),(0,k.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,k.jsx)("div",{className:"space-y-4",children:Object.entries(j.categories).map(e=>{let[t,n]=e;return n.count>0&&(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[n.name," Questions",(0,k.jsxs)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:["(Max: ",n.count," available)"]})]}),n.selected>0&&(0,k.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n.selected," currently selected"]})]}),(0,k.jsx)("select",{value:F[t]||0,onChange:e=>O(t,e.target.value,n.count),className:"mt-1 block w-24 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:Array.from({length:n.count+1},(e,t)=>t).map(e=>(0,k.jsx)("option",{value:e,children:e},e))})]},t)})}),(0,k.jsx)("div",{className:"mt-4 flex justify-end",children:(0,k.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:C?(0,k.jsxs)("span",{className:"flex items-center",children:[(0,k.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,k.jsxs)("span",{className:"text-green-500",children:[(0,k.jsx)("svg",{className:"h-4 w-4 inline-block mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Changes saved"]})})})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{htmlFor:"test-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Test Name"}),(0,k.jsx)("div",{className:"mt-1",children:(0,k.jsx)("input",{type:"text",id:"test-name",value:v,onChange:e=>w(e.target.value),onBlur:Q,className:"flex-1 min-w-0 block w-full sm:text-sm border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white rounded-md p-2",placeholder:"Enter test name"})})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Duration (minutes)"}),(0,k.jsx)("div",{className:"mt-1",children:(0,k.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,k.jsx)("input",{type:"number",id:"duration",min:"1",value:x,onChange:e=>{const t=Math.max(1,parseInt(e.target.value)||0);b(t)},onBlur:()=>U({duration:x}),className:"focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white pr-16 p-2"}),(0,k.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,k.jsx)("span",{className:"text-gray-500 sm:text-sm",children:"minutes"})})]})})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Proctoring Settings"}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Video Proctoring"}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Enable AI-powered video monitoring to detect multiple persons or no person during the exam"})]}),(0,k.jsx)("button",{type:"button",onClick:async()=>{const e=!E;N(e),await U({proctorSettings:{enableVideoProctoring:e,enableFullscreen:!0,blockOnViolations:S}})},className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ".concat(E?"bg-indigo-600":"bg-gray-200 dark:bg-gray-600"),children:(0,k.jsx)("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(E?"translate-x-5":"translate-x-0")})})]}),(0,k.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Block on Excessive Violations"}),(0,k.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Automatically block students from continuing the exam when they exceed the violation threshold."})]}),(0,k.jsx)("button",{type:"button",onClick:async()=>{const e=!S;_(e),await U({proctorSettings:{enableVideoProctoring:E,enableFullscreen:!0,blockOnViolations:e}})},className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ".concat(S?"bg-indigo-600":"bg-gray-200 dark:bg-gray-600"),children:(0,k.jsx)("span",{className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(S?"translate-x-5":"translate-x-0")})})]})]})]})]}),(0,k.jsx)("div",{className:"mt-4 flex justify-end",children:(0,k.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center",children:C?(0,k.jsxs)("span",{className:"flex items-center",children:[(0,k.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,k.jsxs)("span",{className:"text-green-500",children:[(0,k.jsx)("svg",{className:"h-4 w-4 inline-block mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Changes saved"]})})})]})]})]})]}):(0,k.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,k.jsxs)("div",{className:"text-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,k.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Test not found"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"The requested test could not be found."}),(0,k.jsx)("button",{onClick:()=>r("/tests"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:"Back to Tests"})]})})},AE=e=>{let{testid:n,userId:r,userName:s,userEmail:i,globalViewMode:o}=e;const a=(0,t.useRef)(null),l=(0,t.useRef)(null),c=(0,t.useRef)(null),[h,f]=(0,t.useState)("new"),[g,p]=(0,t.useState)(!0),[m,y]=(0,t.useState)(null),[v,w]=(0,t.useState)({iceState:"new",gatheringState:"new",candidatesReceived:0,candidatesSent:0}),x=(0,t.useRef)([]),b=(0,t.useRef)([]),C=(0,t.useRef)(!1),B=(0,t.useRef)(!1),E=(0,t.useRef)(!1),[N,S]=(0,t.useState)(null),[_,F]=(0,t.useState)(!1),I=null!==N?N:o,T=(0,t.useRef)(!1),j=(0,t.useRef)(0),[L,U]=(0,t.useState)(!1),P=(0,t.useRef)(null),Q=(0,t.useRef)(null),O=(0,t.useRef)([]),R=(0,t.useRef)(!1),[D]=(0,t.useState)(()=>{const e="viewer_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));return console.log("[Viewer] Generated new viewer ID: ".concat(e," for user ").concat(r)),e}),M=(0,t.useRef)(D);(0,t.useEffect)(()=>{M.current=D},[D]);const H={iceServers:(()=>{const e=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"}],t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TURN_URL,n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TURN_USERNAME,r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_TURN_CREDENTIAL;if(t&&n&&r&&e.push({urls:t,username:n,credential:r}),"undefined"!==typeof window&&window.__TURN_CONFIG__){const t=window.__TURN_CONFIG__;t.urls&&e.push({urls:t.urls,username:t.username,credential:t.credential})}return e})(),iceCandidatePoolSize:10,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",iceTransportPolicy:"all",sdpSemantics:"unified-plan"},V=(0,t.useCallback)(()=>{if(console.log("[Viewer ".concat(M.current,"] Cleaning up")),E.current=!0,C.current=!1,B.current=!1,T.current=!1,j.current=0,a.current&&a.current.srcObject){a.current.srcObject.getTracks().forEach(e=>{e.stop(),console.log("[Viewer ".concat(M.current,"] Stopped track:"),e.kind)}),a.current.srcObject=null}if(l.current&&l.current.srcObject){l.current.srcObject.getTracks().forEach(e=>{e.stop(),console.log("[Viewer ".concat(M.current,"] Stopped screen track:"),e.kind)}),l.current.srcObject=null}if(c.current){try{c.current.ontrack=null,c.current.onicecandidate=null,c.current.oniceconnectionstatechange=null,c.current.onicegatheringstatechange=null,c.current.onconnectionstatechange=null,c.current.onsignalingstatechange=null,c.current.close()}catch(VE){console.error("[Viewer ".concat(M.current,"] Error closing peer connection:"),VE)}c.current=null}x.current.forEach(e=>{if("function"===typeof e)try{e()}catch(VE){console.error("[Viewer ".concat(M.current,"] Error unsubscribing:"),VE)}}),x.current=[],b.current=[],F(!1),f("closed"),(async()=>{try{await(0,u.TF)((0,u.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/viewers/").concat(M.current))),console.log("[Viewer ".concat(M.current,"] Viewer removed from Firebase")),await new Promise(e=>setTimeout(e,300)),E.current=!1,console.log("[Viewer ".concat(M.current,"] Cleanup complete"))}catch(VE){console.error("[Viewer ".concat(M.current,"] Error removing viewer:"),VE),E.current=!1}})()},[n,r]),K=(0,t.useCallback)(async()=>{if(E.current)return console.log("[Viewer ".concat(M.current,"] Cleanup in progress, waiting...")),void setTimeout(()=>K(),150);if(C.current)console.log("[Viewer ".concat(M.current,"] Already setting up"));else{C.current=!0,y(null),f("connecting");try{var e;console.log("[Viewer ".concat(M.current,"] Setting up connection for student:"),r);const t=(0,u.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r)),s=await(0,u.Jt)(t);if(!s.exists()||null===(e=s.val())||void 0===e||!e.active)return console.warn("[Viewer ".concat(M.current,"] Student is not streaming yet")),y("Student not streaming"),C.current=!1,void setTimeout(()=>K(),3e3);console.log("[Viewer ".concat(M.current,"] Student stream is active"));const i=new RTCPeerConnection(H);c.current=i,i.ontrack=e=>{if(console.log("[Viewer ".concat(M.current,"] ===== TRACK RECEIVED =====")),console.log("[Viewer ".concat(M.current,"] Track kind:"),e.track.kind),console.log("[Viewer ".concat(M.current,"] Track label:"),e.track.label),console.log("[Viewer ".concat(M.current,"] Track readyState:"),e.track.readyState),console.log("[Viewer ".concat(M.current,"] Track enabled:"),e.track.enabled),console.log("[Viewer ".concat(M.current,"] Track muted:"),e.track.muted),!e.streams||0===e.streams.length)return void console.error("[Viewer ".concat(M.current,"] No streams in track event"));const t=e.streams[0],n=t.getTracks();console.log("[Viewer ".concat(M.current,"] Stream ID:"),t.id),console.log("[Viewer ".concat(M.current,"] Stream tracks:"),n.map(e=>"".concat(e.kind,":").concat(e.readyState))),console.log("[Viewer ".concat(M.current,"] Stream active:"),t.active),console.log("[Viewer ".concat(M.current,"] Track label:"),e.track.label),console.log("[Viewer ".concat(M.current,"] Track ID:"),e.track.id);let r=!1;if("video"===e.track.kind){const n=j.current;j.current+=1,console.log("[Viewer ".concat(M.current,"] Video track #").concat(n+1));const s=e.track.label.toLowerCase(),i=s.includes("screen")||s.includes("window")||s.includes("monitor")||s.includes("display")||s.includes("web contents")||s.includes("chrome")||t.id.includes("screen"),o=e.track.getSettings&&void 0!==e.track.getSettings().displaySurface;r=n>=1||i||o,console.log("[Viewer ".concat(M.current,"] Detection - Count: ").concat(n,", Label: ").concat(i,", DisplaySurface: ").concat(o))}console.log("[Viewer ".concat(M.current,"] Stream type:"),r?"SCREEN SHARE":"CAMERA"),console.log("[Viewer ".concat(M.current,"] Track settings:"),e.track.getSettings?e.track.getSettings():"N/A"),e.track.enabled=!0,"audio"===e.track.kind&&(e.track.enabled=!0,console.log("[Viewer ".concat(M.current,"] \ud83d\udd0a AUDIO TRACK RECEIVED:")),console.log("  - Label: ".concat(e.track.label)),console.log("  - ID: ".concat(e.track.id)),console.log("  - Enabled: ".concat(e.track.enabled)),console.log("  - Muted: ".concat(e.track.muted)),console.log("  - ReadyState: ".concat(e.track.readyState)),console.log("  - Settings:",e.track.getSettings?e.track.getSettings():"N/A"),e.track.onended=()=>{console.warn("[Viewer ".concat(M.current,"] \u26a0\ufe0f Audio track ENDED"))},e.track.onmute=()=>{console.warn("[Viewer ".concat(M.current,"] \u26a0\ufe0f Audio track MUTED"))},e.track.onunmute=()=>{console.log("[Viewer ".concat(M.current,"] \u2705 Audio track UNMUTED"))});const s=r?l:a,i=r?T:B;if(r&&(F(!0),console.log("[Viewer ".concat(M.current,"] Screen share detected and available"))),s.current){const e=s.current.srcObject;e&&e.id===t.id?console.log("[Viewer ".concat(M.current,"] Stream already set, track will be added automatically")):(console.log("[Viewer ".concat(M.current,"] Setting new ").concat(r?"screen":"camera"," stream to video element")),e&&e.getTracks().forEach(e=>{e.stop(),console.log("[Viewer ".concat(M.current,"] Stopped old track:"),e.kind)}),s.current.srcObject=t,console.log("[Viewer ".concat(M.current,"] srcObject set to ").concat(r?"screen":"camera"," video element"))),s.current.playbackRate=1,s.current.volume=1,s.current.muted=g;const n=t.getAudioTracks();console.log("[Viewer ".concat(M.current,"] \ud83d\udd0a Found ").concat(n.length," audio track(s) in stream")),n.forEach((e,t)=>{e.enabled=!0,console.log("[Viewer ".concat(M.current,"] \u2705 Audio Track ").concat(t+1,":")),console.log("    - Label: ".concat(e.label)),console.log("    - ID: ".concat(e.id)),console.log("    - Enabled: ".concat(e.enabled)),console.log("    - Muted: ".concat(e.muted)),console.log("    - ReadyState: ".concat(e.readyState)),console.log("    - ContentHint: ".concat(e.contentHint)),"live"!==e.readyState||e.muted?console.warn("[Viewer ".concat(M.current,"] \u26a0\ufe0f Audio track issue - ReadyState: ").concat(e.readyState,", Muted: ").concat(e.muted)):console.log("[Viewer ".concat(M.current,"] \ud83c\udfb5 Audio track is LIVE and NOT MUTED - should have sound!"))}),console.log("[Viewer ".concat(M.current,"] Video element muted state:"),s.current.muted,"Volume:",s.current.volume),0===n.length&&console.error("[Viewer ".concat(M.current,"] \u274c NO AUDIO TRACKS IN STREAM! Student is not sending audio.")),void 0!==s.current.disablePictureInPicture&&(s.current.disablePictureInPicture=!0),setTimeout(async()=>{if(s.current&&!i.current)try{console.log("[Viewer ".concat(M.current,"] ").concat(r?"Screen":"Camera"," element readyState:"),s.current.readyState),console.log("[Viewer ".concat(M.current,"] ").concat(r?"Screen":"Camera"," element videoWidth:"),s.current.videoWidth),console.log("[Viewer ".concat(M.current,"] ").concat(r?"Screen":"Camera"," element videoHeight:"),s.current.videoHeight),i.current=!0,await s.current.play(),console.log("[Viewer ".concat(M.current,"] \u2705 ").concat(r?"Screen share":"Camera"," playback started successfully")),f("connected"),y(null),setTimeout(()=>{s.current&&(console.log("[Viewer ".concat(M.current,"] After play - videoWidth:"),s.current.videoWidth),console.log("[Viewer ".concat(M.current,"] After play - videoHeight:"),s.current.videoHeight),0!==s.current.videoWidth&&0!==s.current.videoHeight||console.error("[Viewer ".concat(M.current,"] \u26a0\ufe0f VIDEO HAS NO DIMENSIONS - BLACK SCREEN LIKELY")))},1e3)}catch(m){console.error("[Viewer ".concat(M.current,"] ").concat(r?"Screen":"Camera"," play error:"),m),i.current=!1,"NotAllowedError"===m.name?y("Autoplay blocked. Click retry to play."):"AbortError"!==m.name&&y("Failed to start video playback")}},300)}},i.onicecandidate=e=>{if(e.candidate){console.log("[Viewer ".concat(M.current,"] ICE candidate:"),e.candidate.type,e.candidate.candidate),w(e=>(0,d.A)((0,d.A)({},e),{},{candidatesSent:e.candidatesSent+1}));const t=(0,u.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/ice/").concat(M.current,"/viewer/").concat(Date.now()));(0,u.hZ)(t,e.candidate.toJSON()).catch(e=>{console.error("[Viewer ".concat(M.current,"] Error sending ICE candidate:"),e)})}else console.log("[Viewer ".concat(M.current,"] All ICE candidates sent (total: ").concat(v.candidatesSent,")"))};let o=!1;i.onconnectionstatechange=()=>{const e=i.connectionState;if(console.log("[Viewer ".concat(M.current,"] Connection state:"),e),f(e),"connected"===e)console.log("[Viewer ".concat(M.current,"] Connection established successfully")),y(null),o=!1;else if("failed"===e)if(console.error("[Viewer ".concat(M.current,"] Connection failed")),console.error("[Viewer ".concat(M.current,"] Diagnostics:"),{connectionState:e,iceState:i.iceConnectionState,gatheringState:i.iceGatheringState,signalingState:i.signalingState,candidatesSent:v.candidatesSent,candidatesReceived:v.candidatesReceived,localDescription:!!i.localDescription,remoteDescription:!!i.remoteDescription}),console.error("[Viewer ".concat(M.current,"] \ud83d\udd0d TROUBLESHOOTING TIPS:")),console.error("  1. Check if student has enabled camera/microphone"),console.error("  2. Verify network connectivity on both sides"),console.error("  3. If behind firewall/NAT, configure TURN server:"),console.error("     REACT_APP_TURN_URL, REACT_APP_TURN_USERNAME, REACT_APP_TURN_CREDENTIAL"),console.error("  4. ICE candidates - Sent: ".concat(v.candidatesSent,", Received: ").concat(v.candidatesReceived)),0===v.candidatesReceived&&console.error("     \u26a0\ufe0f No candidates received from student - student may not be streaming"),"failed"===i.iceConnectionState&&console.error("     \u26a0\ufe0f ICE connection failed - likely network/firewall issue"),o||"function"!==typeof i.restartIce)y("Connection failed, retrying..."),C.current=!1,V(),setTimeout(()=>K(),2e3);else{console.log("[Viewer ".concat(M.current,"] Attempting ICE restart")),o=!0;try{i.restartIce(),setTimeout(()=>{"failed"===i.connectionState&&(console.log("[Viewer ".concat(M.current,"] ICE restart failed, recreating connection")),y("Connection failed, retrying..."),C.current=!1,V(),setTimeout(()=>K(),2e3))},3e3)}catch(VE){console.error("[Viewer ".concat(M.current,"] ICE restart error:"),VE),y("Connection failed, retrying..."),C.current=!1,V(),setTimeout(()=>K(),2e3)}}else"disconnected"===e&&(console.warn("[Viewer ".concat(M.current,"] Connection disconnected, waiting for recovery...")),setTimeout(()=>{"disconnected"===i.connectionState&&(console.log("[Viewer ".concat(M.current,"] Still disconnected, attempting reconnection")),y("Reconnecting..."),C.current=!1,V(),setTimeout(()=>K(),1500))},5e3))},i.oniceconnectionstatechange=()=>{const e=i.iceConnectionState;console.log("[Viewer ".concat(M.current,"] ICE state:"),e),w(t=>(0,d.A)((0,d.A)({},t),{},{iceState:e})),"connected"===e||"completed"===e?console.log("[Viewer ".concat(M.current,"] ICE connection established")):"failed"===e&&(console.error("[Viewer ".concat(M.current,"] ICE connection failed - No route to peer. May need TURN server.")),y("ICE failed: Network issue (ICE: ".concat(e,", Sent: ").concat(v.candidatesSent,", Received: ").concat(v.candidatesReceived,")")))},i.onicegatheringstatechange=()=>{const e=i.iceGatheringState;console.log("[Viewer ".concat(M.current,"] ICE gathering:"),e),w(t=>(0,d.A)((0,d.A)({},t),{},{gatheringState:e})),"complete"===e&&console.log("[Viewer ".concat(M.current,"] ICE gathering complete. Total candidates sent: ").concat(v.candidatesSent))};const h=(0,u.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/viewers/").concat(M.current));await(0,u.hZ)(h,{connected:!0,timestamp:Date.now()}),(0,u.yX)(h).remove();const p=(0,u.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/offers/").concat(M.current)),k=(0,u.Zy)(p,async e=>{const t=e.val();if(t&&t.sdp)if(console.log("[Viewer ".concat(M.current,"] Received offer")),"stable"===i.signalingState)try{await i.setRemoteDescription(new RTCSessionDescription(t));for(const t of b.current)await i.addIceCandidate(new RTCIceCandidate(t));b.current=[];const e=await i.createAnswer(),s=e=>{try{var t;const n=e.split("\n"),r=n.findIndex(e=>e.startsWith("m=video"));if(-1===r)return e;const s=null===(t=n.filter(e=>e.startsWith("a=rtpmap:")).map(e=>{var t;return{pt:null===(t=e.match(/a=rtpmap:(\d+)/))||void 0===t?void 0:t[1],codec:e.toLowerCase()}}).find(e=>e.codec.includes("h264")))||void 0===t?void 0:t.pt;if(!s)return e;const i=n[r].split(" "),o=i.slice(0,3),a=i.slice(3).filter(Boolean),l=[s,...a.filter(e=>e!==s)];return n[r]=[...o,...l].join(" "),n.join("\n")}catch(Wf){return e}},o=(0,d.A)((0,d.A)({},e),{},{sdp:s(e.sdp)});await i.setLocalDescription(o),console.log("[Viewer ".concat(M.current,"] Sending answer")),await(0,u.hZ)((0,u.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/answers/").concat(M.current)),{sdp:o.sdp,type:o.type,timestamp:Date.now()})}catch(m){console.error("[Viewer ".concat(M.current,"] Error handling offer:"),m),y("Failed to establish connection"),C.current=!1}else console.log("[Viewer ".concat(M.current,"] Skipping offer, wrong signaling state:"),i.signalingState)});x.current.push(k);const E=(0,u.KR)(A.OO,"LiveStreams/".concat(n,"/").concat(r,"/ice/").concat(M.current,"/student")),N=(0,u.Zy)(E,e=>{const t=e.val();t&&Object.entries(t).forEach(e=>{let[t,n]=e;w(e=>(0,d.A)((0,d.A)({},e),{},{candidatesReceived:e.candidatesReceived+1})),i.remoteDescription?i.addIceCandidate(new RTCIceCandidate(n)).then(()=>{console.log("[Viewer ".concat(M.current,"] Added ICE candidate successfully (total: ").concat(v.candidatesReceived,")"))}).catch(e=>{"connected"!==i.connectionState&&"completed"!==i.connectionState&&console.error("[Viewer ".concat(M.current,"] Error adding ICE candidate:"),e)}):(console.log("[Viewer ".concat(M.current,"] Queueing ICE candidate (queued: ").concat(b.current.length,")")),b.current.push(n))})});x.current.push(N)}catch(m){console.error("[Viewer ".concat(M.current,"] Setup error:"),m),y("Failed to initialize"),C.current=!1}}},[n,r]);(0,t.useEffect)(()=>{console.log("[Viewer ".concat(M.current,"] Component mounted for user ").concat(r)),C.current=!1,B.current=!1,E.current=!1,T.current=!1,j.current=0,F(!1);const e=setTimeout(()=>{K()},500);return()=>{console.log("[Viewer ".concat(M.current,"] Component unmounting for user ").concat(r)),clearTimeout(e),V()}},[r,n,K,V]);const q=(0,t.useCallback)(()=>{if(console.log("[Admin Audio ".concat(M.current,"] Cleaning up admin audio")),P.current&&(P.current.getTracks().forEach(e=>{e.stop(),console.log("[Admin Audio ".concat(M.current,"] Stopped admin audio track"))}),P.current=null),Q.current){try{Q.current.onicecandidate=null,Q.current.oniceconnectionstatechange=null,Q.current.onconnectionstatechange=null,Q.current.close()}catch(VE){console.error("[Admin Audio ".concat(M.current,"] Error closing admin peer connection:"),VE)}Q.current=null}O.current.forEach(e=>{if("function"===typeof e)try{e()}catch(VE){console.error("[Admin Audio ".concat(M.current,"] Error unsubscribing:"),VE)}}),O.current=[],(async()=>{try{await(0,u.TF)((0,u.KR)(A.OO,"AdminAudio/".concat(n,"/").concat(r,"/admin/").concat(M.current))),console.log("[Admin Audio ".concat(M.current,"] Admin audio removed from Firebase")),await(0,u.TF)((0,u.KR)(A.OO,"AdminAudio/".concat(n,"/").concat(r,"/offers/").concat(M.current))),await(0,u.TF)((0,u.KR)(A.OO,"AdminAudio/".concat(n,"/").concat(r,"/answers/").concat(M.current))),await(0,u.TF)((0,u.KR)(A.OO,"AdminAudio/".concat(n,"/").concat(r,"/ice/").concat(M.current))),console.log("[Admin Audio ".concat(M.current,"] Cleaned up Firebase signaling data"))}catch(VE){console.error("[Admin Audio ".concat(M.current,"] Error removing admin audio:"),VE)}})(),R.current=!1},[n,r]);(0,t.useEffect)(()=>()=>{L&&q()},[q,L]);return(0,k.jsxs)("div",{id:"stream-".concat(r),className:"relative bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-lg border border-gray-200 dark:border-gray-700 transition-colors scroll-mt-4",children:[(0,k.jsxs)("div",{className:"relative aspect-video bg-gray-100 dark:bg-black transition-colors",children:[(0,k.jsx)("video",{ref:a,autoPlay:!0,playsInline:!0,muted:g,preload:"auto",className:"w-full h-full object-cover transition-opacity duration-300 ".concat("camera"===I?"opacity-100":"opacity-0 absolute inset-0 pointer-events-none"),style:{backgroundColor:"#000",willChange:"transform",transform:"translateZ(0)",minWidth:"100%",minHeight:"100%"},onLoadedMetadata:e=>{console.log("[Viewer ".concat(M.current,"] Camera metadata loaded")),e.target&&(e.target.playbackRate=1,e.target.volume=1,console.log("[Viewer ".concat(M.current,"] Camera volume set to:"),e.target.volume),console.log("[Viewer ".concat(M.current,"] Camera muted:"),e.target.muted))},onCanPlay:()=>{console.log("[Viewer ".concat(M.current,"] Camera can play")),a.current&&!B.current&&(a.current.volume=1)},onVolumeChange:()=>{a.current&&console.log("[Viewer ".concat(M.current,"] Camera volume changed to:"),a.current.volume,"Muted:",a.current.muted)},onPlaying:()=>{console.log("[Viewer ".concat(M.current,"] Camera is playing")),B.current=!1},onError:e=>{console.error("[Viewer ".concat(M.current,"] Camera error:"),e),"camera"===I&&y("Camera playback error")},onStalled:()=>{console.warn("[Viewer ".concat(M.current,"] Camera stalled, attempting recovery...")),a.current&&a.current.readyState<3&&!B.current&&(B.current=!0,setTimeout(()=>{a.current&&(a.current.load(),a.current.play().catch(e=>{console.error("[Viewer ".concat(M.current,"] Camera recovery play failed:"),e),B.current=!1}))},500))},onWaiting:()=>{console.log("[Viewer ".concat(M.current,"] Camera buffering..."))},onSuspend:()=>{console.log("[Viewer ".concat(M.current,"] Camera suspended"))}}),(0,k.jsx)("video",{ref:l,autoPlay:!0,playsInline:!0,muted:g,preload:"auto",className:"w-full h-full object-contain transition-opacity duration-300 ".concat("screen"===I?"opacity-100":"opacity-0 absolute inset-0 pointer-events-none"),style:{backgroundColor:"#000",willChange:"transform",transform:"translateZ(0)",minWidth:"100%",minHeight:"100%"},onLoadedMetadata:e=>{console.log("[Viewer ".concat(M.current,"] Screen metadata loaded")),e.target&&(e.target.playbackRate=1,e.target.volume=1,console.log("[Viewer ".concat(M.current,"] Screen volume set to:"),e.target.volume))},onCanPlay:()=>{console.log("[Viewer ".concat(M.current,"] Screen can play")),l.current&&!T.current&&(l.current.volume=1)},onPlaying:()=>{console.log("[Viewer ".concat(M.current,"] Screen is playing")),T.current=!1},onError:e=>{console.error("[Viewer ".concat(M.current,"] Screen error:"),e),"screen"===I&&y("Screen share playback error")}}),"connected"!==h&&(0,k.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-800 bg-opacity-95 transition-colors",children:(0,k.jsxs)("div",{className:"flex flex-col items-center",children:[(0,k.jsx)("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mb-3 transition-colors",children:(0,k.jsx)(hk.JXP,{className:"text-gray-400 dark:text-gray-500 text-2xl"})}),m?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(hk.q4P,{className:"text-red-400 text-3xl mb-2"}),(0,k.jsx)("p",{className:"text-red-400 text-sm mb-2",children:m}),v&&(0,k.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3 font-mono",children:[(0,k.jsxs)("div",{children:["ICE: ",v.iceState," | Gathering: ",v.gatheringState]}),(0,k.jsxs)("div",{children:["Sent: ",v.candidatesSent," | Received: ",v.candidatesReceived]})]}),(0,k.jsxs)("button",{onClick:()=>{y(null),a.current&&a.current.srcObject?a.current.play().then(()=>{console.log("[Viewer ".concat(M.current,"] Manual playback started")),f("connected")}).catch(e=>{console.error("[Viewer ".concat(M.current,"] Manual play failed:"),e),V(),setTimeout(()=>{K()},1e3)}):(V(),setTimeout(()=>{K()},1e3))},className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm transition-colors",children:[(0,k.jsx)(hk.jTZ,{size:14}),"Retry"]})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-3"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:(()=>{switch(h){case"connected":return"Connected";case"connecting":return"Connecting...";case"failed":return"Failed";case"closed":return"Closed";default:return"Initializing..."}})()})]})]})}),(0,k.jsx)("div",{className:"absolute top-3 right-3 w-3 h-3 rounded-full ".concat((()=>{switch(h){case"connected":return"bg-green-500";case"connecting":return"bg-yellow-500 animate-pulse";case"failed":case"closed":return"bg-red-500";default:return"bg-gray-500"}})())}),_&&"connected"===h&&(0,k.jsxs)("div",{className:"absolute top-3 left-3 bg-green-500 bg-opacity-90 text-white px-2 py-1 rounded-md flex items-center gap-1.5 text-xs font-medium",children:[(0,k.jsx)(hk.ufi,{size:12}),(0,k.jsx)("span",{children:"Screen Available"})]}),"connected"===h&&(0,k.jsx)("div",{className:"absolute bottom-3 left-3 px-3 py-1.5 rounded-md flex items-center gap-2 text-sm font-medium ".concat(g?"bg-red-500 bg-opacity-90 text-white animate-pulse":"bg-green-500 bg-opacity-90 text-white"),children:g?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(hk.cKW,{size:16}),(0,k.jsx)("span",{children:"\ud83d\udd07 MUTED - Click unmute button"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(hk.o77,{size:16}),(0,k.jsx)("span",{children:"\ud83d\udd0a Audio ON"})]})})]}),(0,k.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 transition-colors",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsx)("p",{className:"text-gray-900 dark:text-white font-medium text-sm truncate",children:s}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-xs truncate",children:i})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,k.jsx)("button",{onClick:async()=>{if(L)U(!1),q();else try{console.log("[Admin Audio ".concat(M.current,"] Starting admin audio to student ").concat(r)),g&&(console.warn("[Admin Audio ".concat(M.current,"] \u26a0\ufe0f WARNING: Student is MUTED! Admin won't hear student's response. Click unmute button first.")),alert("\u26a0\ufe0f REMINDER: Student audio is MUTED!\n\nYou are speaking to the student, but you won't hear their response.\n\nClick the UNMUTE button (\ud83d\udd07) to hear the student."));const e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});P.current=e,console.log("[Admin Audio ".concat(M.current,"] Admin microphone captured"));const t=new RTCPeerConnection(H);Q.current=t,e.getTracks().forEach(n=>{t.addTrack(n,e),console.log("[Admin Audio ".concat(M.current,"] Added admin audio track to peer connection"))}),t.onicecandidate=e=>{if(e.candidate){console.log("[Admin Audio ".concat(M.current,"] Admin ICE candidate:"),e.candidate.type);const t=(0,u.KR)(A.OO,"AdminAudio/".concat(n,"/").concat(r,"/ice/").concat(M.current,"/admin/").concat(Date.now()));(0,u.hZ)(t,e.candidate.toJSON()).catch(e=>{console.error("[Admin Audio ".concat(M.current,"] Error sending admin ICE candidate:"),e)})}},t.onconnectionstatechange=()=>{const e=t.connectionState;console.log("[Admin Audio ".concat(M.current,"] Admin audio connection state:"),e),"failed"!==e&&"disconnected"!==e||(console.error("[Admin Audio ".concat(M.current,"] Admin audio connection ").concat(e)),U(!1),q())};const s=(0,u.KR)(A.OO,"AdminAudio/".concat(n,"/").concat(r,"/admin/").concat(M.current));await(0,u.hZ)(s,{active:!0,timestamp:Date.now()}),(0,u.yX)(s).remove();const i=await t.createOffer();await t.setLocalDescription(i),console.log("[Admin Audio ".concat(M.current,"] Sending admin audio offer")),await(0,u.hZ)((0,u.KR)(A.OO,"AdminAudio/".concat(n,"/").concat(r,"/offers/").concat(M.current)),{sdp:i.sdp,type:i.type,timestamp:Date.now()});const o=(0,u.KR)(A.OO,"AdminAudio/".concat(n,"/").concat(r,"/answers/").concat(M.current)),a=(0,u.Zy)(o,async e=>{const n=e.val();if(n&&n.sdp)if(console.log("[Admin Audio ".concat(M.current,"] Received answer from student")),"have-local-offer"===t.signalingState)try{await t.setRemoteDescription(new RTCSessionDescription(n)),console.log("[Admin Audio ".concat(M.current,"] Admin audio connection established"))}catch(m){console.error("[Admin Audio ".concat(M.current,"] Error handling answer:"),m)}else console.log("[Admin Audio ".concat(M.current,"] Skipping answer, wrong signaling state:"),t.signalingState)});O.current.push(a);const l=(0,u.KR)(A.OO,"AdminAudio/".concat(n,"/").concat(r,"/ice/").concat(M.current,"/student")),c=(0,u.Zy)(l,e=>{const n=e.val();n&&Object.entries(n).forEach(async e=>{let[n,r]=e;try{await t.addIceCandidate(new RTCIceCandidate(r)),console.log("[Admin Audio ".concat(M.current,"] Added student ICE candidate for admin audio"))}catch(m){console.error("[Admin Audio ".concat(M.current,"] Error adding student ICE candidate:"),m)}})});O.current.push(c),U(!0),R.current=!0}catch(m){console.error("[Admin Audio ".concat(M.current,"] Error setting up admin audio:"),m),alert("Failed to access microphone. Please grant microphone permission and try again."),q()}},className:"p-2 rounded-md transition-colors ".concat(L?"bg-red-500 hover:bg-red-600 text-white animate-pulse":"bg-blue-600 hover:bg-blue-700 text-white"),title:L?"Stop speaking to student":"Speak to student",children:L?(0,k.jsx)(hk.Qnk,{size:16}):(0,k.jsx)(hk.Rrl,{size:16})}),(0,k.jsx)("button",{onClick:()=>{const e=!g;if(p(e),a.current&&(a.current.muted=e,a.current.volume=e?0:1,a.current.srcObject)){const t=a.current.srcObject.getAudioTracks();console.log("[Viewer ".concat(M.current,"] ").concat(e?"Muting":"Unmuting"," camera ").concat(t.length," audio track(s)")),t.forEach(t=>{t.enabled=!e,console.log("[Viewer ".concat(M.current,"] Camera track ").concat(t.label," enabled:"),t.enabled)})}if(l.current&&(l.current.muted=e,l.current.volume=e?0:1,l.current.srcObject)){const t=l.current.srcObject.getAudioTracks();console.log("[Viewer ".concat(M.current,"] ").concat(e?"Muting":"Unmuting"," screen ").concat(t.length," audio track(s)")),t.forEach(t=>{t.enabled=!e,console.log("[Viewer ".concat(M.current,"] Screen track ").concat(t.label," enabled:"),t.enabled)})}console.log("[Viewer ".concat(M.current,"] \u2705 Student audio ").concat(e?"MUTED":"UNMUTED"))},className:"p-2 rounded-md transition-colors ".concat(g?"bg-red-500 hover:bg-red-600 text-white animate-pulse":"bg-green-500 hover:bg-green-600 text-white"),title:g?"\ud83d\udd07 Click to UNMUTE student audio":"\ud83d\udd0a Click to mute student audio",children:g?(0,k.jsx)(hk.cKW,{size:16}):(0,k.jsx)(hk.o77,{size:16})}),(0,k.jsx)("button",{onClick:()=>{a.current&&a.current.requestFullscreen&&a.current.requestFullscreen()},className:"p-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-white rounded-md transition-colors",title:"Fullscreen",children:(0,k.jsx)(hk.mkN,{size:16})})]})]}),_&&(0,k.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"View:"}),(0,k.jsxs)("div",{className:"flex items-center gap-1 bg-gray-200 dark:bg-gray-900 p-1 rounded-md",children:[(0,k.jsxs)("button",{onClick:()=>S("camera"),className:"flex items-center gap-1.5 px-3 py-1 rounded text-xs font-medium transition-colors ".concat("camera"===I?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),title:"Show camera",children:[(0,k.jsx)(hk.pVQ,{size:14}),"Camera"]}),(0,k.jsxs)("button",{onClick:()=>S("screen"),className:"flex items-center gap-1.5 px-3 py-1 rounded text-xs font-medium transition-colors ".concat("screen"===I?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),title:"Show screen share",children:[(0,k.jsx)(hk.ufi,{size:14}),"Screen"]})]}),null!==N&&(0,k.jsx)("button",{onClick:()=>S(null),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",title:"Reset to follow global toggle",children:"Reset"})]})]})]})},uE=e=>{let{testid:n}=e;const[r,s]=(0,t.useState)([]),[i,o]=(0,t.useState)({}),[a,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(""),[h,f]=(0,t.useState)("name"),[g,p]=(0,t.useState)("grid"),[m,y]=(0,t.useState)("camera");(0,t.useEffect)(()=>{if(!n)return;const e=(0,u.KR)(A.OO,"LiveStreams/".concat(n)),t=(0,u.Zy)(e,e=>{const t=e.val();if(t){const e=Object.keys(t).filter(e=>{var n;return!0===(null===(n=t[e])||void 0===n?void 0:n.active)});s(e),console.log("[LiveStreamViewer] Active streams:",e)}else s([]);l(!1)}),r=(0,u.KR)(A.OO,"users"),i=(0,u.Zy)(r,e=>{const t=e.val();t&&o(t)});return()=>{t(),i()}},[n]);const v=(0,t.useMemo)(()=>{let e=r.filter(e=>{var t,n;const r=i[e];if(!r)return!1;const s=c.toLowerCase(),o=null===(t=r.name)||void 0===t?void 0:t.toLowerCase().includes(s),a=null===(n=r.email)||void 0===n?void 0:n.toLowerCase().includes(s);return o||a});return e.sort((e,t)=>{const n=i[e],r=i[t];if(!n||!r)return 0;switch(h){case"name":return(n.name||"").localeCompare(r.name||"");case"email":return(n.email||"").localeCompare(r.email||"");default:return 0}}),e},[r,i,c,h]);return a?(0,k.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,k.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):0===r.length?(0,k.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 transition-colors",children:[(0,k.jsx)(hk.q4P,{className:"text-gray-400 dark:text-gray-500 text-5xl mx-auto mb-4"}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-400 text-lg font-medium",children:"No active livestreams"}),(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:"Students will appear here when they start their exam"})]}):(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 transition-colors",children:[(0,k.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),(0,k.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Live Camera Feeds"})]}),(0,k.jsxs)("span",{className:"px-2.5 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-full",children:[v.length," / ",r.length]})]}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[(0,k.jsxs)("div",{className:"relative flex-1 sm:w-64",children:[(0,k.jsx)(hk.CKj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:16}),(0,k.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-9 pr-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 transition-colors"})]}),(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)(hk.K7R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",size:16}),(0,k.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"pl-9 pr-8 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 appearance-none cursor-pointer transition-colors",children:[(0,k.jsx)("option",{value:"name",children:"Sort by Name"}),(0,k.jsx)("option",{value:"email",children:"Sort by Email"})]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-900 p-1 rounded-lg border border-gray-300 dark:border-gray-600",children:[(0,k.jsxs)("button",{onClick:()=>y("camera"),className:"flex items-center gap-1.5 px-3 py-1.5 rounded transition-colors ".concat("camera"===m?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),title:"Show all cameras",children:[(0,k.jsx)(hk.pVQ,{size:16}),(0,k.jsx)("span",{className:"text-xs font-medium hidden sm:inline",children:"All Cameras"})]}),(0,k.jsxs)("button",{onClick:()=>y("screen"),className:"flex items-center gap-1.5 px-3 py-1.5 rounded transition-colors ".concat("screen"===m?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),title:"Show all screen shares",children:[(0,k.jsx)(hk.ufi,{size:16}),(0,k.jsx)("span",{className:"text-xs font-medium hidden sm:inline",children:"All Screens"})]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-900 p-1 rounded-lg border border-gray-300 dark:border-gray-600",children:[(0,k.jsx)("button",{onClick:()=>p("grid"),className:"p-2 rounded transition-colors ".concat("grid"===g?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),title:"Grid View",children:(0,k.jsx)(hk.QPV,{size:16})}),(0,k.jsx)("button",{onClick:()=>p("list"),className:"p-2 rounded transition-colors ".concat("list"===g?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),title:"List View",children:(0,k.jsx)(hk.Wm,{size:16})})]})]})]}),c&&(0,k.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:0===v.length?(0,k.jsxs)("span",{children:['No students found matching "',(0,k.jsx)("span",{className:"font-medium",children:c}),'"']}):(0,k.jsxs)("span",{children:["Showing ",v.length," of ",r.length," students"]})})})]}),0===v.length?(0,k.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,k.jsx)(hk.CKj,{className:"text-gray-400 dark:text-gray-500 text-5xl mx-auto mb-4"}),(0,k.jsx)("p",{className:"text-gray-700 dark:text-gray-400 text-lg font-medium",children:"No students found"}),(0,k.jsx)("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:"Try adjusting your search query"})]}):"grid"===g?(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:v.map(e=>{const t=i[e];return(0,k.jsx)(AE,{testid:n,userId:e,userName:(null===t||void 0===t?void 0:t.name)||"Unknown Student",userEmail:(null===t||void 0===t?void 0:t.email)||"No email",globalViewMode:m},"".concat(n,"-").concat(e))})}):(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden transition-colors",children:(0,k.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:v.map((e,t)=>{const n=i[e];return(0,k.jsx)("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300 rounded-full flex items-center justify-center font-semibold text-sm",children:t+1}),(0,k.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,k.jsx)(hk.JXP,{className:"text-gray-400 dark:text-gray-500",size:14}),(0,k.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(null===n||void 0===n?void 0:n.name)||"Unknown Student"})]}),(0,k.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:(null===n||void 0===n?void 0:n.email)||"No email"})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-green-100 dark:bg-green-900 rounded-full",children:[(0,k.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),(0,k.jsx)("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Live"})]}),(0,k.jsx)("button",{onClick:()=>{p("grid"),setTimeout(()=>{const t=document.getElementById("stream-".concat(e));t&&t.scrollIntoView({behavior:"smooth",block:"center"})},100)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded transition-colors",children:"View Stream"})]})]})},e)})})})]})},dE=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(""),[a,l]=(0,t.useState)(!0),[c,h]=(0,t.useState)(null),[f,g]=(0,t.useState)({}),[p,m]=(0,t.useState)({}),[y,v]=(0,t.useState)({}),[w,x]=(0,t.useState)({}),[b,C]=(0,t.useState)({}),[B,E]=(0,t.useState)({}),[N,S]=(0,t.useState)({}),[_,F]=(0,t.useState)([]),[I,T]=(0,t.useState)({}),[j,L]=(0,t.useState)("status"),{testid:U}=(0,s.g)(),P=(0,s.Zp)(),Q=async e=>{const t=f[e];t||await(async e=>{if(!p[e]){v(t=>(0,d.A)((0,d.A)({},t),{},{[e]:!0}));try{const t=(0,u.KR)(A.OO,"Exam/".concat(U,"/Violations/").concat(e)),n=await(0,u.Jt)(t);if(n.exists()){const t=n.val(),r=Object.entries(t).map(e=>{let[t,n]=e;return(0,d.A)({id:t},n)}).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp));m(t=>(0,d.A)((0,d.A)({},t),{},{[e]:r}))}else m(t=>(0,d.A)((0,d.A)({},t),{},{[e]:[]}))}catch(c){console.error("Error fetching violation details:",c),o.Ay.error("Failed to load violation details."),m(t=>(0,d.A)((0,d.A)({},t),{},{[e]:[]}))}finally{v(t=>(0,d.A)((0,d.A)({},t),{},{[e]:!1}))}}})(e),g(n=>(0,d.A)((0,d.A)({},n),{},{[e]:!t}))},O=async e=>{if(!b[e]){E(t=>(0,d.A)((0,d.A)({},t),{},{[e]:!0}));try{const t=(0,u.KR)(A.OO,"Exam/".concat(U,"/myquestions/").concat(e)),n=(0,u.KR)(A.OO,"questions"),[r,s]=await Promise.all([(0,u.Jt)(t),(0,u.Jt)(n)]);if(r.exists()&&s.exists()){const t=r.val(),n=s.val(),i=Object.entries(t).map(e=>{let[t,r]=e;const s=n[r];return{order:parseInt(t),id:r,title:(null===s||void 0===s?void 0:s.questionname)||"Unknown Question",type:(null===s||void 0===s?void 0:s.type)||"N/A",difficulty:(null===s||void 0===s?void 0:s.difficulty)||"N/A"}}).sort((e,t)=>e.order-t.order);C(t=>(0,d.A)((0,d.A)({},t),{},{[e]:i}))}else C(t=>(0,d.A)((0,d.A)({},t),{},{[e]:[]}))}catch(c){console.error("Error fetching question details:",c),o.Ay.error("Failed to load question details."),C(t=>(0,d.A)((0,d.A)({},t),{},{[e]:[]}))}finally{E(t=>(0,d.A)((0,d.A)({},t),{},{[e]:!1}))}}},R=()=>{S({})},D=e=>({fullscreen_exit:"Exited Fullscreen",window_blur:"Window Lost Focus",tab_switch:"Tab Switch / Page Hidden",mouse_leave:"Mouse Left Screen"}[e]||e);if((0,t.useEffect)(()=>{if(!U)return h("No Test ID provided in the URL."),void l(!1);const e=(0,u.KR)(A.OO,"Exam/".concat(U)),t=(0,u.Zy)(e,async e=>{try{var t,r;const a=e.val();if(!a)return h("The specified test does not exist."),n([]),void l(!1);console.log(a);const c=a.name||"Untitled Test";i(c),T({name:c,duration:a.duration||"N/A",totalQuestions:a.questions?Object.keys(a.questions).length:0});const f=a.questions?Object.keys(a.questions):[];if(f.length>0){const e=(0,u.KR)(A.OO,"questions"),t=await(0,u.Jt)(e);if(t.exists()){const e=t.val(),n=f.map(t=>{const n=e[t];return{id:t,title:(null===n||void 0===n?void 0:n.questionname)||"Unknown Question",type:(null===n||void 0===n?void 0:n.type)||"N/A",difficulty:(null===n||void 0===n?void 0:n.difficulty)||"N/A"}});F(n)}}const g=Object.values(a.Eligible||{}),p=(0,u.KR)(A.OO,"users"),m=(await(0,u.Jt)(p)).val()||{},y={};Object.entries(m).forEach(e=>{let[t,n]=e;n.email&&(y[n.email]=(0,d.A)({uid:t},n))});const v=[],w=(null===(t=a.Properties)||void 0===t?void 0:t.Progress)||{},x=(null===(r=a.Properties2)||void 0===r?void 0:r.Progress)||{},b=a.myquestions||{};for(const e of g){var s,o;const t=y[e];if(!t)continue;const n=t.uid,r=w[n],i=null!==(s=x[n])&&void 0!==s?s:0,l=b[n]?Object.keys(b[n]).length:0;if("started"===(null===r||void 0===r||null===(o=r.status)||void 0===o?void 0:o.toLowerCase())){const e=new Date((null===r||void 0===r?void 0:r.startTime)||""),t=(new Date-e)/6e4;if(t>a.duration){console.log("More than ".concat(a.duration," minutes have passed.")),r.status="completed";const e=(0,u.KR)(A.OO,"Exam/".concat(U,"/Properties/Progress/").concat(n,"/status"));await(0,u.hZ)(e,"completed")}else console.log("Less than or equal to 60 minutes have passed.");console.log("Difference (minutes):",t)}v.push({id:"".concat(U,"-").concat(n),userId:n,userName:t.name||"Unknown User",email:e,status:(null===r||void 0===r?void 0:r.status)||"not_started",startTime:(null===r||void 0===r?void 0:r.startTime)||null,violations:i,allocatedQuestions:l})}v.sort((e,t)=>{switch(j){case"name":return e.userName.localeCompare(t.userName);case"email":return e.email.localeCompare(t.email);case"blocked_first":return"blocked"===e.status&&"blocked"!==t.status?-1:"blocked"!==e.status&&"blocked"===t.status?1:e.userName.localeCompare(t.userName);case"completed_first":return"completed"===e.status&&"completed"!==t.status?-1:"completed"!==e.status&&"completed"===t.status?1:e.userName.localeCompare(t.userName);default:const n={started:1,blocked:2,completed:3,not_started:4},r=n[e.status]||5,s=n[t.status]||5;return r!==s?r-s:e.userName.localeCompare(t.userName)}}),n(v)}catch(nf){console.error("Error processing exam data:",nf),h("Failed to load and process exam data.")}finally{l(!1)}},e=>{console.error("Firebase onValue error:",e),h("Failed to connect to the database."),l(!1)});return()=>t()},[U,j]),a)return(0,k.jsx)(Wd.A,{message:"Loading Exam Data, please wait..."});if(c)return(0,k.jsxs)("div",{className:"text-center text-red-500 mt-10",children:["Error: ",c]});const M=e=>{const t={started:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",completed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",blocked:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",not_started:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return t[e]||t.not_started},H=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,k.jsxs)("div",{className:"container mx-auto p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("h1",{className:"text-3xl font-bold mb-2 text-gray-900 dark:text-white",children:"Real-Time Exam Monitor"}),(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,k.jsx)("div",{className:"flex items-center gap-2",children:(0,k.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:I.name})}),(0,k.jsxs)("div",{className:"flex items-center gap-1",children:[(0,k.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,k.jsxs)("span",{children:["Duration: ",I.duration," min"]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-1",children:[(0,k.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,k.jsxs)("span",{children:["Total Questions: ",I.totalQuestions]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-1",children:[(0,k.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,k.jsxs)("span",{children:["Total Students: ",e.length]})]}),(0,k.jsxs)("div",{className:"flex items-center gap-1",children:[(0,k.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",href:"/testedit/",onClick:()=>P("/testedit/".concat(U)),children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,k.jsx)("span",{children:"Edit Test"})]})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"In Progress"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.filter(e=>"started"===e.status).length})]}),(0,k.jsx)("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-full",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Completed"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:e.filter(e=>"completed"===e.status).length})]}),(0,k.jsx)("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-full",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Blocked"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e.filter(e=>"blocked"===e.status).length})]}),(0,k.jsx)("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-full",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})})]})}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Not Started"}),(0,k.jsx)("p",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:e.filter(e=>"not_started"===e.status).length})]}),(0,k.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-full",children:(0,k.jsx)("svg",{className:"w-6 h-6 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),(0,k.jsxs)("div",{className:"mb-4 flex items-center justify-between bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("div",{className:"flex items-center gap-4",children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sort by:"}),(0,k.jsxs)("select",{value:j,onChange:e=>L(e.target.value),className:"text-sm px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[(0,k.jsx)("option",{value:"status",children:"Status (Priority)"}),(0,k.jsx)("option",{value:"name",children:"Student Name (A-Z)"}),(0,k.jsx)("option",{value:"email",children:"Student Email (A-Z)"}),(0,k.jsx)("option",{value:"blocked_first",children:"Blocked Students First"}),(0,k.jsx)("option",{value:"completed_first",children:"Completed Students First"})]})]})}),(0,k.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.length," students total"]})]}),(0,k.jsx)("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 shadow-md rounded-lg border border-gray-200 dark:border-gray-700",children:(0,k.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,k.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"#"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Start Time"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Questions"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Violations"}),(0,k.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,k.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.length>0?e.map((e,n)=>{var r,s,i;return(0,k.jsxs)(t.Fragment,{children:[(0,k.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:n+1}),(0,k.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,k.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.userName}),(0,k.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,k.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(M(e.status)),children:(i=e.status,{started:"In Progress",completed:"Completed",blocked:"Blocked",not_started:"Not Started"}[i]||i)})}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:H(e.startTime)}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"font-medium",children:e.allocatedQuestions})," / ",I.totalQuestions,e.allocatedQuestions>0&&(0,k.jsx)("button",{onClick:()=>(async e=>{const t=w[e];t||await O(e),x(n=>(0,d.A)((0,d.A)({},n),{},{[e]:!t}))})(e.userId),className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 text-xs underline",children:w[e.userId]?"Hide":"View"})]})}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)("span",{className:"font-bold ".concat(e.violations>=2?"text-red-600 dark:text-red-400":e.violations>0?"text-orange-600 dark:text-orange-400":"text-gray-700 dark:text-gray-300"),children:e.violations}),e.violations>0&&(0,k.jsx)("button",{onClick:()=>Q(e.userId),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-xs underline",children:f[e.userId]?"Hide":"View"})]})}),(0,k.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:"blocked"===e.status&&(0,k.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to unblock this user and reset their violations to 0?"))try{const t=(0,u.KR)(A.OO,"Exam/".concat(U,"/Properties/Progress/").concat(e)),n=(0,u.KR)(A.OO,"Exam/".concat(U,"/Properties2/Progress/").concat(e));await(0,u.yo)(t,{status:"started"}),await(0,u.hZ)(n,0),o.Ay.success("User has been unblocked.")}catch(c){console.error("Error unblocking user:",c),o.Ay.error("Failed to unblock user.")}})(e.userId),className:"px-3 py-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md transition-colors duration-200 text-xs",children:"Unblock"})})]}),w[e.userId]&&(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"7",className:"px-6 py-4 bg-blue-50 dark:bg-blue-900/10",children:B[e.userId]?(0,k.jsx)("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"Loading questions..."}):(null===(r=b[e.userId])||void 0===r?void 0:r.length)>0?(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Allocated Questions (",b[e.userId].length," total)"]}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:b[e.userId].map((t,n)=>(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,k.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,k.jsxs)("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:["Q",n+1]}),(0,k.jsxs)("div",{className:"flex gap-1",children:[(0,k.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded ".concat("mcq"===t.type.toLowerCase()?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"programming"===t.type.toLowerCase()?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"sql"===t.type.toLowerCase()?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:t.type}),(0,k.jsx)("span",{className:"px-2 py-0.5 text-xs font-semibold rounded ".concat("easy"===t.difficulty.toLowerCase()?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":"medium"===t.difficulty.toLowerCase()?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"hard"===t.difficulty.toLowerCase()?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:t.difficulty})]})]}),(0,k.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2",children:t.title}),(0,k.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 font-mono truncate",children:["ID: ",t.id]}),N.userId===e.userId&&N.questionOrder===t.order?(0,k.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,k.jsxs)("select",{className:"w-full text-xs px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500",onChange:n=>(async(e,t,n)=>{try{const r=(0,u.KR)(A.OO,"Exam/".concat(U,"/myquestions/").concat(e,"/").concat(t));await(0,u.hZ)(r,n),o.Ay.success("Question changed successfully!"),C(t=>(0,d.A)((0,d.A)({},t),{},{[e]:null})),await O(e),S({})}catch(c){console.error("Error changing question:",c),o.Ay.error("Failed to change question.")}})(e.userId,t.order,n.target.value),defaultValue:"",children:[(0,k.jsx)("option",{value:"",disabled:!0,children:"Select new question..."}),_.filter(n=>{var r;const s=n.type.toLowerCase()===t.type.toLowerCase(),i=null===(r=b[e.userId])||void 0===r?void 0:r.some(e=>e.id===n.id);return s&&!i}).map(e=>(0,k.jsxs)("option",{value:e.id,children:[e.title," (",e.difficulty,")"]},e.id)),0===_.filter(n=>{var r;const s=n.type.toLowerCase()===t.type.toLowerCase(),i=null===(r=b[e.userId])||void 0===r?void 0:r.some(e=>e.id===n.id);return s&&!i}).length&&(0,k.jsx)("option",{value:"",disabled:!0,children:"No available questions of same type"})]}),(0,k.jsx)("button",{onClick:R,className:"w-full text-xs px-2 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Cancel"})]}):(()=>{const n=_.filter(n=>{var r;const s=n.type.toLowerCase()===t.type.toLowerCase(),i=null===(r=b[e.userId])||void 0===r?void 0:r.some(e=>e.id===n.id);return s&&!i}),r=n.length>0;return(0,k.jsx)("button",{onClick:()=>{return r&&(n=e.userId,s=t.order,void S({userId:n,questionOrder:s}));var n,s},disabled:!r,className:"mt-2 text-[10px] px-2 py-0.5 rounded transition-colors inline-flex items-center gap-1 ".concat(r?"bg-indigo-500 hover:bg-indigo-600 text-white cursor-pointer":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"),title:r?"".concat(n.length," replacement(s) available"):"No available replacements of same type",children:r?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Change (",n.length,")"]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),"None"]})})})()]},t.id))})]}):(0,k.jsx)("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No questions allocated."})})}),f[e.userId]&&(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"7",className:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50",children:y[e.userId]?(0,k.jsx)("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"Loading violations..."}):(null===(s=p[e.userId])||void 0===s?void 0:s.length)>0?(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsxs)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Violation History (",p[e.userId].length," total)"]}),(0,k.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:p[e.userId].map((e,t)=>{var n,r,s,i;return(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,k.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 text-xs font-mono",children:["#",t+1]}),(0,k.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded ".concat((i=e.reason,{fullscreen_exit:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",window_blur:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",tab_switch:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",mouse_leave:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}[i]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300")),children:D(e.reason)})]}),(0,k.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(s=e.timestamp,new Date(s).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}))})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs mt-2",children:[(null===(n=e.details)||void 0===n?void 0:n.duration)&&(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Duration: "}),(0,k.jsx)("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:e.details.duration})]}),(null===(r=e.details)||void 0===r?void 0:r.gracePeriod)&&(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Grace Period: "}),(0,k.jsx)("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:e.details.gracePeriod})]}),e.windowSize&&(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Window: "}),(0,k.jsx)("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:e.windowSize})]}),e.screenSize&&(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Screen: "}),(0,k.jsx)("span",{className:"font-mono text-gray-700 dark:text-gray-300",children:e.screenSize})]})]}),e.userAgent&&(0,k.jsxs)("div",{className:"mt-2 text-xs",children:[(0,k.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Browser: "}),(0,k.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 font-mono text-[10px]",children:[e.userAgent.substring(0,80),"..."]})]})]},e.id)})})]}):(0,k.jsx)("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No violation details found."})})})]},e.id)}):(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No students found for this exam."})})})]})}),(0,k.jsx)("div",{className:"mt-8",children:(0,k.jsx)(uE,{testid:U})})]})};var hE=n(1129);const fE=()=>{const e=(0,s.Zp)();return(0,k.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 text-center px-4",children:(0,k.jsxs)("div",{className:"w-full max-w-md",children:[(0,k.jsx)("div",{className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-red-100 dark:bg-red-900/30",children:(0,k.jsx)(hk.F5$,{className:"h-12 w-12 text-red-600 dark:text-red-400"})}),(0,k.jsx)("h1",{className:"mt-6 text-3xl font-bold text-gray-900 dark:text-white",children:"Access Denied"}),(0,k.jsx)("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-400",children:"You do not have the necessary permissions to view this page."}),(0,k.jsx)("div",{className:"mt-8",children:(0,k.jsx)("button",{onClick:()=>e("/"),className:"bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300 shadow-md",children:"Go to Home"})})]})})},gE=e=>{let{children:n,requireAdmin:r=!1,requireUser:s=!1}=e;const[i,o]=(0,t.useState)("loading"),{user:a}=(0,c.A)();return(0,t.useEffect)(()=>{const e=(0,_.hg)(A.j2,async e=>{if(e)try{const t=(0,u.KR)(A.OO,"Admins/".concat(e.uid)),n=await(0,u.Jt)(t);let s=!1;n.exists()&&(s=!0),r&&!s?(o("unauthorized"),console.log("meow1")):o("authenticated");const i=await(0,u.Jt)((0,u.KR)(A.OO,"Students"));i.exists()&&(-1!==i.val().indexOf(e.email)||s||o("unauthorized"))}catch(t){console.error("Error fetching user data:",t),o("unauthorized")}else o("unauthenticated")});return()=>e()},[r,s,a]),"loading"===i?(0,k.jsx)(Wd.A,{message:"Loading page, please wait..."}):"unauthenticated"===i?(0,k.jsx)(hE.A,{}):"unauthorized"===i?(0,k.jsx)(fE,{}):n},pE=()=>{const{theme:e}=(0,l.D)(),[n,r]=(0,t.useState)(""),[s,i]=(0,t.useState)({stdout:"Your output will appear here.",stderr:null,time:null,memory:null}),[o,a]=(0,t.useState)("cpp"),[c,A]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=localStorage.getItem("compiler-code"),t=localStorage.getItem("compiler-language");r(e||H.cpp),t&&a(t)},[]),(0,t.useEffect)(()=>{n&&localStorage.setItem("compiler-code",n)},[n]),(0,t.useEffect)(()=>{localStorage.setItem("compiler-language",o)},[o]);return(0,k.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 p-4 md:p-6 bg-gray-100 dark:bg-gray-900 h-[calc(100vh-4rem)] overflow-hidden",children:[(0,k.jsxs)("div",{className:"flex flex-col w-full md:w-3/5 h-full bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[(0,k.jsx)("h2",{className:"text-gray-800 dark:text-white font-semibold",children:"Code Editor"}),(0,k.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,k.jsxs)("select",{value:o,onChange:e=>{const t=e.target.value;a(t)},className:"bg-white dark:bg-gray-700 text-sm rounded-md px-2 py-1 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white",children:[(0,k.jsx)("option",{value:"cpp",children:"C++"}),(0,k.jsx)("option",{value:"javascript",children:"JavaScript"}),(0,k.jsx)("option",{value:"python",children:"Python"}),(0,k.jsx)("option",{value:"java",children:"Java"})]}),(0,k.jsx)("button",{onClick:()=>{r(H[o])},className:"text-xs bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 px-2 py-1 rounded transition",title:"Reset to template",children:"Reset"})]})]}),(0,k.jsx)("div",{className:"flex-grow overflow-hidden",style:{height:"100%"},children:(0,k.jsx)(T.Ay,{height:"100%",language:o,theme:"dark"===e?"vs-dark":"light",value:n,onChange:e=>r(e||""),options:{fontSize:14,wordWrap:"on",automaticLayout:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,overviewRulerLanes:0,hideCursorInOverviewRuler:!0,overviewRulerBorder:!1}})}),(0,k.jsx)("div",{className:"flex justify-end px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:(0,k.jsx)("button",{onClick:async()=>{A(!0),i({stdout:"Executing...",stderr:null,time:null,memory:null});try{const e=await yn(o,n,"");i({stdout:e.run.stdout||"",stderr:e.run.stderr||"",time:"".concat(e.run.cpuTime," ms"),memory:"".concat(e.run.memory," KB")})}catch(e){i({stdout:"",stderr:e.message||"Execution failed.",time:null,memory:null})}A(!1)},className:"bg-[#4285F4] hover:bg-[#357ae8] text-white px-4 py-2 rounded-md font-medium transition disabled:bg-gray-400",disabled:c,children:c?"Running...":"Run Code"})})]}),(0,k.jsxs)("div",{className:"flex flex-col w-full md:w-2/5 h-full bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[(0,k.jsx)("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("h2",{className:"text-gray-800 dark:text-white font-semibold",children:"Output"})}),(0,k.jsx)("div",{className:"flex-grow overflow-auto px-4 py-4",children:s.stderr?(0,k.jsx)("pre",{className:"text-red-500 font-mono whitespace-pre-wrap",children:s.stderr}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("pre",{className:"text-gray-800 dark:text-gray-100 font-mono whitespace-pre-wrap",children:s.stdout})})})]})]})};function mE(e){const t=e.replace(/_/g,":").replace(/:(\d{3})Z$/,".$1Z"),n=new Date(t),r=n.getDate(),s=function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(r),i=n.toLocaleString("en-US",{month:"long"}),o=n.getFullYear(),a=n.toLocaleTimeString("en-US",{hour12:!0});return"".concat(r).concat(s," ").concat(i,", ").concat(o," ").concat(a)}const yE=()=>{var e;const[n,r]=(0,t.useState)({}),[s,i]=(0,t.useState)({}),[o,a]=(0,t.useState)({}),[l,c]=(0,t.useState)({}),[h,f]=(0,t.useState)({}),[g,p]=(0,t.useState)(!0),[m,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[C,B]=(0,t.useState)([]),[E,N]=(0,t.useState)({submissions:!0,userProgress:!0,users:!0,courses:!0,activityTime:!0,students:!0}),[S,_]=(0,t.useState)({search:"",sortBy:"name",sortOrder:"asc"}),F=(0,t.useCallback)(async()=>{try{const[e,t,n,s,o,l]=await Promise.all([(0,u.Jt)((0,u.KR)(A.OO,"Submissions")),(0,u.Jt)((0,u.KR)(A.OO,"userprogress")),(0,u.Jt)((0,u.KR)(A.OO,"users")),(0,u.Jt)((0,u.KR)(A.OO,"AlgoCore")),(0,u.Jt)((0,u.KR)(A.OO,"Students")),(0,u.Jt)((0,u.KR)(A.OO,"Activitytime"))]);r(e.val()||{}),i(t.val()||{}),a(n.val()||{}),c(s.val()||{}),B(o.val()||[]),f(l.val()||{}),N({submissions:!1,userProgress:!1,users:!1,courses:!1,students:!1,activityTime:!1}),y(!1)}catch(e){console.error("Error fetching data:",e),p(!1),y(!1)}},[]);(0,t.useEffect)(()=>{F()},[]),(0,t.useEffect)(()=>{Object.values(E).every(e=>!1===e)&&p(!1)},[E]);const I=e=>{if(!l||!l[e]||!l[e].lessons)return 0;let t=0;const n=l[e].lessons;return n&&"object"===typeof n&&Object.values(n).forEach(e=>{e&&e.questions&&Array.isArray(e.questions)&&(t+=e.questions.length)}),t},T=t.useMemo(()=>{if(!o||0===Object.keys(o).length)return{users:[],courses:[]};const e={},t=new Set,r=new Set(C);l&&Object.keys(l).forEach(e=>{var n;null!==(n=l[e])&&void 0!==n&&n.lessons&&t.add(e)});const i={};return t.forEach(e=>{i[e]=I(e)}),Object.entries(o).forEach(n=>{let[s,o]=n;r.has(o.email)&&(e[s]={id:s,name:o.name||"Anonymous",email:o.email||"No email",photo:o.profilePhoto||"",submissions:{},stats:{attempted:0},courseProgress:{},overallProgress:{completed:0,total:0,percentage:"0.0"},lastActivity:null,activeTime:h[s]||0},t.forEach(t=>{e[s].courseProgress[t]={completed:0,total:i[t],percentage:"0.0"}}))}),Object.entries(n).forEach(n=>{let[r,s]=n;e[r]&&Object.entries(s).forEach(n=>{let[s,o]=n;t.add(s),e[r].submissions[s]||(e[r].submissions[s]={},e[r].courseProgress[s]||(e[r].courseProgress[s]={completed:0,total:i[s]||I(s),percentage:"0.0"})),Object.entries(o).forEach(t=>{let[n,i]=t;e[r].submissions[s][n]||(e[r].submissions[s][n]={}),Object.entries(i).forEach(t=>{let[i,o]=t;const a=Object.entries(o).map(e=>{let[t,n]=e;return(0,d.A)((0,d.A)({timestamp:t},n),{},{question:i,type:"code"})});e[r].submissions[s][n][i]=a;const l=a[a.length-1];e[r].stats.attempted++;const c=new Date(l.timestamp.replace(/_/g,":").replace(/:(\d{3})Z$/,".$1Z"));(!e[r].lastActivity||c>e[r].lastActivity)&&(e[r].lastActivity=c)})})})}),Object.entries(s).forEach(t=>{let[n,r]=t;e[n]&&Object.entries(r).forEach(t=>{let[r,s]=t;s&&"object"===typeof s&&Object.entries(s).forEach(t=>{let[s,i]=t;i&&"object"===typeof i&&Object.entries(i).forEach(t=>{let[i,o]=t;e[n].submissions[r]||(e[n].submissions[r]={}),e[n].submissions[r][s]||(e[n].submissions[r][s]={}),e[n].submissions[r][s][i]||(e[n].submissions[r][s][i]=[{timestamp:"mcq-entry",status:!0===o?"correct":!1===o?"wrong":"not-started",question:i,type:"mcq",code:null}],!0!==o&&!1!==o||e[n].stats.attempted++)})})})}),Object.entries(s).forEach(t=>{let[n,r]=t;if(e[n]){Object.entries(r).forEach(t=>{let[r,s]=t;const i=I(r);let o=0;s&&"object"===typeof s&&Object.values(s).forEach(e=>{e&&"object"===typeof e&&Object.values(e).forEach(e=>{!0===e&&o++})}),e[n].courseProgress[r]=i>0?{completed:o,total:i,percentage:(o/i*100).toFixed(1)}:{completed:0,total:0,percentage:"0.0"}});let t=0,s=0;Object.values(e[n].courseProgress).forEach(e=>{e&&"object"===typeof e&&(t+=e.completed||0,s+=e.total||0)}),e[n].overallProgress=s>0?{completed:t,total:s,percentage:(t/s*100).toFixed(1)}:{completed:0,total:0,percentage:"0.0"}}}),{users:Object.values(e),courses:Array.from(t)}},[n,s,o,l,h]),j=e=>{const t=Number(e);return isNaN(t)||!isFinite(t)?"0.0%":t.toFixed(1)+"%"},L=(0,t.useCallback)(e=>[...e].sort((e,t)=>{let n=0;switch(S.sortBy){case"name":n=e.name.localeCompare(t.name);break;case"attempted":n=e.stats.attempted-t.stats.attempted;break;case"overall":n=parseFloat(e.overallProgress.percentage)-parseFloat(t.overallProgress.percentage);break;case"activity":n=(e.lastActivity?new Date(e.lastActivity).getTime():0)-(t.lastActivity?new Date(t.lastActivity).getTime():0);break;case"activeTime":n=(e.activeTime||0)-(t.activeTime||0);break;default:if(S.sortBy.startsWith("course_")){var r,s;const i=S.sortBy.replace("course_",""),o=(null===(r=e.courseProgress[i])||void 0===r?void 0:r.percentage)||"0.0",a=(null===(s=t.courseProgress[i])||void 0===s?void 0:s.percentage)||"0.0";n=parseFloat(o)-parseFloat(a)}}return"asc"===S.sortOrder?n:-n}),[S.sortBy,S.sortOrder]),U=t.useMemo(()=>{if(!T.users||0===T.users.length)return[];const e=S.search.toLowerCase(),t=e?T.users.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)):T.users;return L(t)},[T.users,S.search,L]),P=t.useMemo(()=>[...T.courses].sort(),[T.courses]),Q=e=>{const t=[];return Object.entries(e.submissions).forEach(e=>{let[n,r]=e;Object.entries(r).forEach(e=>{let[r,s]=e;Object.entries(s).forEach(e=>{let[s,i]=e;i.forEach(e=>{t.push((0,d.A)((0,d.A)({},e),{},{course:n,subcourse:r,question:e.question||s}))})})})}),t.sort((e,t)=>"mcq-entry"===e.timestamp&&"mcq-entry"===t.timestamp?0:"mcq-entry"===e.timestamp?1:"mcq-entry"===t.timestamp?-1:new Date(t.timestamp)-new Date(e.timestamp))},O=Object.values(E).filter(e=>!e).length,R=Object.keys(E).length,D=Math.round(O/R*100),M=(null===(e=Object.entries(E).find(e=>{let[t,n]=e;return n}))||void 0===e?void 0:e[0])||"Complete";return(0,k.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(g||m)&&(0,k.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-50 group",children:[(0,k.jsxs)("div",{className:"h-1 bg-gray-200 dark:bg-gray-700 relative overflow-hidden",children:[(0,k.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 transition-all duration-300 ease-out relative",style:{width:"".concat(D,"%")},children:(0,k.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-shimmer"})}),(0,k.jsxs)("div",{className:"absolute top-0 h-full flex items-center text-[10px] font-bold text-white transition-all duration-300 px-1",style:{left:"".concat(Math.max(2,Math.min(95,D)),"%")},children:[D,"%"]})]}),(0,k.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-gray-900 text-white text-xs px-3 py-1 text-center",children:D<100?"Loading ".concat(M.replace(/([A-Z])/g," $1").trim(),"..."):"Complete"})]}),(0,k.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,k.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-zinc-300",children:"Admin Dashboard"}),(0,k.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Track student submissions and progress"})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,k.jsxs)("button",{onClick:async()=>{y(!0),await F()},disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors",children:[(0,k.jsx)(hk.jTZ,{className:"".concat(m?"animate-spin":"")}),m?"Refreshing...":"Refresh Data"]}),(0,k.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/30 px-4 py-2 rounded-lg",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(hk.cfS,{className:"mr-2 text-blue-600 dark:text-blue-400"}),(0,k.jsxs)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-300",children:[U.length," Students"]})]})})]})]})})}),(0,k.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,k.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)(hk.K7R,{className:"mr-2 text-gray-600 dark:text-zinc-400"}),(0,k.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-zinc-300",children:"Filters & Sort"})]})}),(0,k.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-zinc-300",children:"Search"}),(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)(hk.CKj,{className:"absolute left-3 top-3 text-gray-400"}),(0,k.jsx)("input",{type:"text",placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",value:S.search,onChange:e=>_((0,d.A)((0,d.A)({},S),{},{search:e.target.value}))})]})]}),(0,k.jsxs)("div",{className:"flex space-x-4",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-zinc-300",children:"Sort By"}),(0,k.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:S.sortBy,onChange:e=>_((0,d.A)((0,d.A)({},S),{},{sortBy:e.target.value})),children:[(0,k.jsx)("option",{value:"name",children:"Name"}),(0,k.jsx)("option",{value:"attempted",children:"Total Attempted"}),(0,k.jsx)("option",{value:"overall",children:"Overall Progress"}),(0,k.jsx)("option",{value:"activity",children:"Last Activity"}),(0,k.jsx)("option",{value:"activeTime",children:"Time Spent"}),T.courses.map(e=>(0,k.jsxs)("option",{value:"course_".concat(e),children:[e," Progress"]},e))]})]}),(0,k.jsxs)("div",{className:"flex-none",children:[(0,k.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-zinc-300",children:"Order"}),(0,k.jsx)("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300",onClick:()=>_(e=>(0,d.A)((0,d.A)({},e),{},{sortOrder:"asc"===e.sortOrder?"desc":"asc"})),children:"asc"===S.sortOrder?"\u2191 Ascending":"\u2193 Descending"})]})]})]})]}),(0,k.jsx)(uk.div,{layout:!0,className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 ".concat(g?"opacity-50 pointer-events-none":""),children:(0,k.jsx)(mm,{children:g&&0===U.length?Array.from({length:6}).map((e,t)=>(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 animate-pulse",children:[(0,k.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("div",{className:"w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-full"}),(0,k.jsxs)("div",{className:"ml-3",children:[(0,k.jsx)("div",{className:"h-4 w-32 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),(0,k.jsx)("div",{className:"h-3 w-48 bg-gray-200 dark:bg-gray-700 rounded"})]})]})}),(0,k.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:Array.from({length:3}).map((e,t)=>(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"h-8 w-12 bg-gray-300 dark:bg-gray-600 rounded mx-auto mb-2"}),(0,k.jsx)("div",{className:"h-3 w-16 bg-gray-200 dark:bg-gray-700 rounded mx-auto"})]},t))}),(0,k.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full mb-4"}),(0,k.jsxs)("div",{className:"space-y-2",children:[(0,k.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"}),(0,k.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded"})]})]},"skeleton-".concat(t))):U.map(e=>(0,k.jsx)(uk.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:(0,k.jsxs)("div",{className:"p-6",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,k.jsxs)("div",{className:"flex items-center",children:[(0,k.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center overflow-hidden",children:null!==e&&void 0!==e&&e.photo?(0,k.jsx)("img",{src:e.photo,alt:e.name||"User",className:"w-full h-full object-cover"}):(0,k.jsx)(hk.JXP,{className:"text-blue-600"})}),(0,k.jsxs)("div",{className:"ml-3",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-zinc-300",children:e.name}),(0,k.jsx)("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:e.email})]})]}),(0,k.jsx)("button",{onClick:()=>w(e),className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:(0,k.jsx)(hk.Vap,{size:20})})]}),(0,k.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.stats.attempted}),(0,k.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Attempted"})]}),(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"text-base font-semibold text-blue-600 dark:text-blue-400",children:e.lastActivity?(0,k.jsxs)("div",{className:"flex flex-col items-center",children:[(0,k.jsx)(hk.z1n,{className:"text-blue-600 dark:text-blue-400 mb-1",size:18}),(0,k.jsx)("span",{className:"text-[10px]",children:new Date(e.lastActivity).toLocaleDateString()}),(0,k.jsx)("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:new Date(e.lastActivity).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):(0,k.jsx)("span",{className:"text-xs text-gray-400",children:"No activity"})}),(0,k.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:"Last Active"})]}),(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"text-base font-semibold text-green-600 dark:text-green-400",children:e.activeTime>0?(0,k.jsxs)("div",{className:"flex flex-col items-center",children:[(0,k.jsx)(hk.Ohp,{className:"text-green-600 dark:text-green-400 mb-1",size:18}),(0,k.jsxs)("span",{className:"text-xs font-bold",children:[Math.floor(e.activeTime/36e5),"h ",Math.floor(e.activeTime%36e5/6e4),"m"]})]}):(0,k.jsx)("span",{className:"text-xs text-gray-400",children:"0h 0m"})}),(0,k.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300 mt-1",children:"Time Spent"})]})]}),(0,k.jsxs)("div",{className:"mt-4 mb-6",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,k.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Progress"}),(0,k.jsx)("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:e.overallProgress?j(e.overallProgress.percentage):"0.0%"})]}),(0,k.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,k.jsx)("div",{className:"bg-blue-600 dark:bg-blue-500 h-3 rounded-full transition-all duration-300",style:{width:"".concat(e.overallProgress?Math.min(100,Math.max(0,parseFloat(e.overallProgress.percentage)||0)):0,"%")}})})]}),(0,k.jsx)("div",{className:"space-y-2",children:P.map(t=>{const n=e.courseProgress&&e.courseProgress[t]?e.courseProgress[t]:{percentage:"0.0",completed:0,total:0};return(0,k.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,k.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:t}),(0,k.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:j(n.percentage)})]},t)})})]})},e.id))})})]}),v&&(0,k.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,k.jsx)("div",{className:"sticky top-0 bg-white border-b px-6 py-4",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[v.name," - Submissions"]}),(0,k.jsx)("button",{onClick:()=>w(null),className:"text-gray-400 hover:text-gray-600",children:(0,k.jsx)(hk.q_G,{size:24})})]})}),(0,k.jsx)("div",{className:"p-6",children:(0,k.jsx)("div",{className:"space-y-4",children:Q(v).length>0?Q(v).map((e,t)=>(0,k.jsx)("div",{className:"border rounded-lg p-4",children:(0,k.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,k.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,k.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("correct"===e.status?"bg-green-500":"wrong"===e.status?"bg-red-500":"bg-gray-400")}),(0,k.jsxs)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:[e.course," - ",e.subcourse," - ",e.question]}),(0,k.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("mcq"===e.type?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"),children:"mcq"===e.type?"MCQ":e.language||"CODE"})]}),(0,k.jsxs)("div",{className:"flex items-center space-x-2",children:["mcq-entry"!==e.timestamp&&(0,k.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:mE(e.timestamp)}),"mcq"!==e.type&&e.code&&(0,k.jsx)("button",{onClick:()=>b(e),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:(0,k.jsx)(hk.PjK,{})}),"mcq"===e.type&&(0,k.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"MCQ Answer"})]})]})},t)):(0,k.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No submissions or progress found for this user."})})})]})}),x&&"mcq"!==x.type&&x.code&&(0,k.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,k.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,k.jsx)("div",{className:"sticky top-0 bg-white border-b px-6 py-4",children:(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:x.question}),(0,k.jsxs)("p",{className:"text-sm text-gray-600",children:[x.language," - ",x.status]})]}),(0,k.jsx)("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:(0,k.jsx)(hk.q_G,{size:24})})]})}),(0,k.jsx)("div",{className:"p-6",children:(0,k.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:(0,k.jsx)("pre",{className:"text-green-400 text-sm font-mono whitespace-pre-wrap",children:x.code})})})]})})]})},vE=w("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),wE=w("camera-off",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),xE=w("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),bE=w("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),CE=w("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),BE=w("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),kE=w("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),EE=e=>{let{alerts:t,personCount:n}=e;const r=()=>0===n?"text-red-500":n>1?"text-orange-500":"text-green-500";return(0,k.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,k.jsx)("div",{className:r(),children:0===n?(0,k.jsx)(CE,{className:"w-6 h-6"}):n>1?(0,k.jsx)(BE,{className:"w-6 h-6"}):(0,k.jsx)(dh,{className:"w-6 h-6"})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h3",{className:"font-semibold text-gray-800",children:"Detection Status"}),(0,k.jsx)("p",{className:"text-sm font-medium ".concat(r()),children:0===n?"No person detected":n>1?"".concat(n," persons detected"):"Single person detected"})]})]}),(0,k.jsxs)("div",{className:"space-y-3",children:[(0,k.jsx)("h4",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:"Recent Alerts"}),(0,k.jsxs)("div",{className:"max-h-48 overflow-y-auto space-y-2",children:[t.slice(-5).map((e,t)=>(0,k.jsx)("div",{className:"p-3 rounded-lg border-l-4 ".concat("error"===e.type?"bg-red-50 border-red-400 text-red-800":"warning"===e.type?"bg-orange-50 border-orange-400 text-orange-800":"bg-green-50 border-green-400 text-green-800"),children:(0,k.jsxs)("div",{className:"flex items-start gap-2",children:[(0,k.jsx)(kE,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsx)("p",{className:"text-sm font-medium",children:e.message}),(0,k.jsx)("p",{className:"text-xs mt-1 opacity-75",children:new Date(e.timestamp).toLocaleTimeString()})]})]})},t)),0===t.length&&(0,k.jsx)("p",{className:"text-gray-500 text-sm text-center py-4",children:"No alerts yet"})]})]})]})},NE=w("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),SE=e=>{let{status:t}=e;const n=[{label:"Session Duration",value:(()=>{const e=new Date,n=new Date(t.sessionStartTime),r=e.getTime()-n.getTime(),s=Math.floor(r/6e4),i=Math.floor(r%6e4/1e3);return"".concat(s,":").concat(i.toString().padStart(2,"0"))})(),icon:Zd,color:"text-blue-600 bg-blue-100"},{label:"Total Violations",value:t.violations.total,icon:kE,color:t.violations.total>0?"text-red-600 bg-red-100":"text-green-600 bg-green-100"},{label:"Multiple Person",value:t.violations.multiplePerson,icon:BE,color:"text-orange-600 bg-orange-100"},{label:"No Person",value:t.violations.noPerson,icon:NE,color:"text-purple-600 bg-purple-100"}];return(0,k.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,k.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Session Statistics"}),(0,k.jsx)("div",{className:"grid grid-cols-2 gap-4",children:n.map((e,t)=>(0,k.jsxs)("div",{className:"text-center",children:[(0,k.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full ".concat(e.color," mb-2"),children:(0,k.jsx)(e.icon,{className:"w-6 h-6"})}),(0,k.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:e.value}),(0,k.jsx)("p",{className:"text-sm text-gray-600",children:e.label})]},t))})]})},_E=()=>{const e=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useRef)(null),{detectPersons:s,isLoading:i,error:o,modelReady:a}=kk(),[l,c]=(0,t.useState)(!1),[A,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)([]),[g,p]=(0,t.useState)([]),[m,y]=(0,t.useState)({personCount:0,violations:{multiplePerson:0,noPerson:0,total:0},sessionStartTime:new Date,isActive:!1}),v=(0,t.useCallback)((e,t)=>{const n={type:e,message:t,timestamp:new Date};p(e=>[...e,n])},[]),w=()=>{n.current&&(n.current.getTracks().forEach(e=>e.stop()),n.current=null),e.current&&(e.current.srcObject=null),c(!1),u(!1),v("warning","Camera stopped")},x=(0,t.useCallback)(async()=>{if(!e.current||!A)return;const t=await s(e.current);f(t);const n=t.length;y(e=>{const t=(0,d.A)({},e.violations);let r=!1;return 0===n&&0!==e.personCount?(t.noPerson++,t.total++,v("error","No person detected in frame"),r=!0):n>1&&e.personCount<=1?(t.multiplePerson++,t.total++,v("warning","Multiple persons detected (".concat(n,")")),r=!0):1!==n||1===e.personCount||r||v("success","Single person detected - compliant"),(0,d.A)((0,d.A)({},e),{},{personCount:n,violations:t})})},[s,A,v]);return(0,t.useEffect)(()=>(A?r.current=setInterval(x,1e3):r.current&&clearInterval(r.current),()=>{r.current&&clearInterval(r.current)}),[A,x]),(0,t.useEffect)(()=>()=>{w()},[]),(0,k.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:(0,k.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,k.jsxs)("div",{className:"text-center mb-8",children:[(0,k.jsx)("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Video Proctoring System"}),(0,k.jsx)("p",{className:"text-slate-600",children:"Advanced person detection for secure online examinations"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,k.jsx)("div",{className:"lg:col-span-2",children:(0,k.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,k.jsx)("h2",{className:"text-xl font-semibold text-slate-800",children:"Live Feed"}),(0,k.jsxs)("div",{className:"flex gap-2",children:[l?(0,k.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,k.jsx)(wE,{className:"w-4 h-4"}),"Stop Camera"]}):(0,k.jsxs)("button",{onClick:async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});e.current&&(e.current.srcObject=t,n.current=t,c(!0),v("success","Camera started successfully"))}catch(nf){console.error("Camera access error:",nf),v("error","Failed to access camera")}},disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,k.jsx)(vE,{className:"w-4 h-4"}),"Start Camera"]}),l&&(0,k.jsxs)(k.Fragment,{children:[A?(0,k.jsxs)("button",{onClick:()=>{u(!1),y(e=>(0,d.A)((0,d.A)({},e),{},{isActive:!1})),r.current&&clearInterval(r.current),v("warning","Proctoring session stopped")},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[(0,k.jsx)(bE,{className:"w-4 h-4"}),"Stop Proctoring"]}):(0,k.jsxs)("button",{onClick:()=>{l&&a&&(u(!0),y(e=>(0,d.A)((0,d.A)({},e),{},{isActive:!0,sessionStartTime:new Date})),v("success","Proctoring session started"))},disabled:!a,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,k.jsx)(xE,{className:"w-4 h-4"}),"Start Proctoring"]}),(0,k.jsxs)("button",{onClick:()=>{p([]),f([]),y({personCount:0,violations:{multiplePerson:0,noPerson:0,total:0},sessionStartTime:new Date,isActive:A}),v("success","Session data reset")},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:[(0,k.jsx)(th,{className:"w-4 h-4"}),"Reset"]})]})]})]}),(0,k.jsxs)("div",{className:"relative bg-slate-900 rounded-lg overflow-hidden aspect-video",children:[(0,k.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),(0,k.jsx)(dk,{videoRef:e,detections:h,isActive:A}),(i||!l)&&(0,k.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 bg-opacity-75",children:(0,k.jsx)("div",{className:"text-center text-white",children:i?(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,k.jsx)("p",{children:"Loading AI model..."})]}):l?null:(0,k.jsx)("p",{children:"Camera not active"})})}),A&&(0,k.jsxs)("div",{className:"absolute top-4 left-4 flex items-center gap-2 bg-red-600 text-white px-3 py-1 rounded-full text-sm",children:[(0,k.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"MONITORING"]})]}),o&&(0,k.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:o})]})}),(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsx)(SE,{status:m}),(0,k.jsx)(EE,{alerts:g,personCount:m.personCount})]})]})]})})};function FE(e){let{children:n,desktopBreakpoint:r=1024}=e;const[s,i]=(0,t.useState)(()=>"undefined"!==typeof window&&window.innerWidth<r),[o,a]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{function e(){i(window.innerWidth<r)}return window.addEventListener("resize",e,{passive:!0}),()=>window.removeEventListener("resize",e)},[r]),!s||o?(0,k.jsx)("div",{className:"min-h-screen bg-gray-50",children:n}):(0,k.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-gray-100 to-white px-6",children:(0,k.jsxs)("div",{className:"max-w-xl text-center",children:[(0,k.jsx)("div",{className:"mx-auto w-52 h-52 mb-6",children:(0,k.jsxs)("svg",{viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[(0,k.jsx)("defs",{children:(0,k.jsxs)("linearGradient",{id:"g",x1:"0",x2:"1",children:[(0,k.jsx)("stop",{offset:"0%",stopColor:"#60A5FA"}),(0,k.jsx)("stop",{offset:"100%",stopColor:"#A78BFA"})]})}),(0,k.jsx)("rect",{x:"25",y:"20",rx:"10",ry:"10",width:"150",height:"160",fill:"#F8FAFC",stroke:"#E6EEF8",strokeWidth:"3"}),(0,k.jsx)("rect",{x:"40",y:"40",width:"120",height:"100",rx:"6",fill:"#FFF",stroke:"#E6EEF8"}),(0,k.jsxs)("g",{transform:"translate(60,60)",children:[(0,k.jsx)("circle",{cx:"0",cy:"0",r:"6",fill:"url(#g)"}),(0,k.jsx)("text",{x:"18",y:"6",fontSize:"12",fill:"#334155",fontFamily:"Inter, system-ui",children:"Mobile"})]}),(0,k.jsxs)("g",{transform:"translate(50,150)",children:[(0,k.jsx)("rect",{x:"0",y:"-24",width:"100",height:"18",rx:"2",fill:"url(#g)"}),(0,k.jsx)("rect",{x:"30",y:"-6",width:"40",height:"6",rx:"1",fill:"#E2E8F0"}),(0,k.jsx)("path",{d:"M40 0 L60 0 L55 6 L45 6 Z",fill:"#CBD5E1"})]})]})}),(0,k.jsx)("h1",{className:"text-2xl font-semibold text-slate-800 mb-2",children:"This page is designed for desktop"}),(0,k.jsx)("p",{className:"text-slate-600 mb-6",children:"For the best experience, open this page on a laptop or desktop. Some features may not work correctly on phones."}),(0,k.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,k.jsx)("button",{onClick:()=>a(!0),className:"px-5 py-2 rounded-xl bg-gradient-to-r from-sky-500 to-indigo-500 text-white font-medium shadow hover:scale-[1.01] transition-transform","aria-label":"View desktop version anyway",children:"View desktop version"}),(0,k.jsx)("a",{href:"#",onClick:e=>{e.preventDefault()},className:"px-5 py-2 rounded-xl border border-slate-200 text-slate-700 bg-white hover:bg-slate-50 transition","aria-label":"How to open on desktop",children:"How to open on desktop"})]}),(0,k.jsx)("p",{className:"mt-5 text-sm text-slate-500",children:"You can also rotate your device or use a tablet. Or copy the link and open it on a desktop machine."})]})})}const IE=(0,t.lazy)(()=>Promise.all([n.e(58),n.e(547)]).then(n.bind(n,547))),TE=(0,t.lazy)(()=>n.e(409).then(n.bind(n,4409))),jE=(0,t.lazy)(()=>Promise.all([n.e(304),n.e(389)]).then(n.bind(n,8389))),LE=(0,t.lazy)(()=>Promise.all([n.e(355),n.e(50)]).then(n.bind(n,2050))),UE=(0,t.lazy)(()=>n.e(495).then(n.bind(n,495))),PE=(0,t.lazy)(()=>n.e(599).then(n.bind(n,9599))),QE=(0,t.lazy)(()=>n.e(256).then(n.bind(n,5256))),OE=(0,t.lazy)(()=>n.e(31).then(n.bind(n,7031))),RE=(0,t.lazy)(()=>n.e(103).then(n.bind(n,3103))),DE=()=>{const{pathname:e}=(0,s.zy)();return(0,t.useEffect)(()=>{if(/^\/(admin(|monitor|results)|testedit|exammonitor|adminresults)(\/|$)/i.test(e))return;const t=e=>e.preventDefault();return document.addEventListener("contextmenu",t),document.addEventListener("copy",t),document.addEventListener("cut",t),document.addEventListener("paste",t),document.addEventListener("selectstart",t),document.addEventListener("dragstart",t),()=>{document.removeEventListener("contextmenu",t),document.removeEventListener("copy",t),document.removeEventListener("cut",t),document.removeEventListener("paste",t),document.removeEventListener("selectstart",t),document.removeEventListener("dragstart",t)}},[e]),null};const ME=function(){return(0,k.jsx)(i.Kd,{basename:"/",children:(0,k.jsxs)(I,{children:[" ",(0,k.jsx)(o.l$,{position:"top-center",reverseOrder:!1}),(0,k.jsxs)(S,{children:[(0,k.jsx)(DE,{}),(0,k.jsx)(t.Suspense,{fallback:(0,k.jsx)(Wd.A,{message:"Loading page, please wait..."}),children:(0,k.jsxs)(s.BV,{children:[(0,k.jsx)(s.qh,{path:"/",element:(0,k.jsx)(IE,{})}),(0,k.jsx)(s.qh,{path:"/admin",element:(0,k.jsx)(gE,{requireAdmin:!0,children:(0,k.jsx)(eE,{})})}),(0,k.jsx)(s.qh,{path:"/adminmonitor",element:(0,k.jsx)(gE,{requireAdmin:!0,children:(0,k.jsx)(yE,{})})}),(0,k.jsx)(s.qh,{path:"/testedit/:testId",element:(0,k.jsx)(gE,{requireAdmin:!0,children:(0,k.jsx)(cE,{})})}),(0,k.jsx)(s.qh,{path:"/problem/:course/:subcourse/:questionId",element:(0,k.jsxs)(gE,{children:[" ",(0,k.jsx)(kh,{})]})}),(0,k.jsx)(s.qh,{path:"/profile",element:(0,k.jsx)(jE,{})}),(0,k.jsx)(s.qh,{path:"/compiler",element:(0,k.jsx)(pE,{})}),(0,k.jsx)(s.qh,{path:"/courses",element:(0,k.jsx)(LE,{})}),(0,k.jsx)(s.qh,{path:"/course/:course",element:(0,k.jsx)(UE,{})}),(0,k.jsx)(s.qh,{path:"/ml-course",element:(0,k.jsx)(RE,{})}),(0,k.jsx)(s.qh,{path:"/ml-course/:questionId",element:(0,k.jsx)(RE,{})}),(0,k.jsx)(s.qh,{path:"/about",element:(0,k.jsx)(PE,{})}),(0,k.jsx)(s.qh,{path:"/contact",element:(0,k.jsx)(QE,{})}),(0,k.jsx)(s.qh,{path:"/login",element:(0,k.jsx)(OE,{})}),(0,k.jsx)(s.qh,{path:"*",element:(0,k.jsx)(TE,{})}),(0,k.jsx)(s.qh,{path:"/proctoring",element:(0,k.jsx)(_E,{})}),(0,k.jsx)(s.qh,{path:"/test",element:(0,k.jsxs)(FE,{children:["  ",(0,k.jsx)(gE,{requireUser:!0,children:(0,k.jsx)(Ok,{})}),"     "]})}),(0,k.jsx)(s.qh,{path:"/examwindow/:testid",element:(0,k.jsxs)(FE,{children:[" ",(0,k.jsx)(gE,{requireUser:!0,children:(0,k.jsx)(Tk,{})})," "]})}),(0,k.jsx)(s.qh,{path:"/exammonitor/:testid",element:(0,k.jsx)(gE,{requireAdmin:!0,children:(0,k.jsx)(dE,{})})}),(0,k.jsx)(s.qh,{path:"/adminresults/:testid",element:(0,k.jsx)(gE,{requireAdmin:!0,children:(0,k.jsx)(tm,{})})}),(0,k.jsx)(s.qh,{path:"/studentresults/:testid",element:(0,k.jsx)(gE,{requireUser:!0,children:(0,k.jsx)(Kp,{})})})]})})]})]})})};window.__REACT_DEVTOOLS_GLOBAL_HOOK__={isDisabled:!0,supportsFiber:!0,inject:()=>{},onCommitFiberRoot:()=>{},onCommitFiberUnmount:()=>{}};const HE=e=>{let{children:t}=e;const{loading:n}=(0,c.A)();return n?(0,k.jsx)(LoadingPage,{message:"Loading page, please wait..."}):t};console.log=()=>{},console.warn=()=>{},console.error=()=>{};r.createRoot(document.getElementById("root")).render((0,k.jsx)(t.StrictMode,{children:(0,k.jsx)(l.N,{children:(0,k.jsx)(c.O,{children:(0,k.jsx)(HE,{children:(0,k.jsx)(ME,{})})})})}))})()})();
//# sourceMappingURL=main.5c15ad0b.js.map